(function(){"use strict";function sf(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ho={exports:{}},hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf;function Lb(){if(lf)return hs;lf=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var y in d)y!=="key"&&(h[y]=d[y])}else h=d;return d=h.ref,{$$typeof:a,type:o,key:f,ref:d!==void 0?d:null,props:h}}return hs.Fragment=i,hs.jsx=r,hs.jsxs=r,hs}var rf;function Ub(){return rf||(rf=1,ho.exports=Lb()),ho.exports}var l=Ub(),mo={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of;function Vb(){if(of)return _e;of=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),w=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function R(b,O,Q){this.props=b,this.context=O,this.refs=C,this.updater=Q||N}R.prototype.isReactComponent={},R.prototype.setState=function(b,O){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,O,"setState")},R.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function q(){}q.prototype=R.prototype;function z(b,O,Q){this.props=b,this.context=O,this.refs=C,this.updater=Q||N}var J=z.prototype=new q;J.constructor=z,A(J,R.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function M(){}var Y={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function $(b,O,Q){var E=Q.ref;return{$$typeof:a,type:b,key:O,ref:E!==void 0?E:null,props:Q}}function ie(b,O){return $(b.type,O,b.props)}function oe(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function ye(b){var O={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Q){return O[Q]})}var se=/\/+/g;function pe(b,O){return typeof b=="object"&&b!==null&&b.key!=null?ye(""+b.key):O.toString(36)}function fe(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(M,M):(b.status="pending",b.then(function(O){b.status==="pending"&&(b.status="fulfilled",b.value=O)},function(O){b.status==="pending"&&(b.status="rejected",b.reason=O)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function U(b,O,Q,E,F){var Z=typeof b;(Z==="undefined"||Z==="boolean")&&(b=null);var ae=!1;if(b===null)ae=!0;else switch(Z){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(b.$$typeof){case a:case i:ae=!0;break;case x:return ae=b._init,U(ae(b._payload),O,Q,E,F)}}if(ae)return F=F(b),ae=E===""?"."+pe(b,0):E,ee(F)?(Q="",ae!=null&&(Q=ae.replace(se,"$&/")+"/"),U(F,O,Q,"",function(Me){return Me})):F!=null&&(oe(F)&&(F=ie(F,Q+(F.key==null||b&&b.key===F.key?"":(""+F.key).replace(se,"$&/")+"/")+ae)),O.push(F)),1;ae=0;var de=E===""?".":E+":";if(ee(b))for(var he=0;he<b.length;he++)E=b[he],Z=de+pe(E,he),ae+=U(E,O,Q,Z,F);else if(he=_(b),typeof he=="function")for(b=he.call(b),he=0;!(E=b.next()).done;)E=E.value,Z=de+pe(E,he++),ae+=U(E,O,Q,Z,F);else if(Z==="object"){if(typeof b.then=="function")return U(fe(b),O,Q,E,F);throw O=String(b),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ae}function X(b,O,Q){if(b==null)return b;var E=[],F=0;return U(b,E,"","",function(Z){return O.call(Q,Z,F++)}),E}function K(b){if(b._status===-1){var O=b._result;O=O(),O.then(function(Q){(b._status===0||b._status===-1)&&(b._status=1,b._result=Q)},function(Q){(b._status===0||b._status===-1)&&(b._status=2,b._result=Q)}),b._status===-1&&(b._status=0,b._result=O)}if(b._status===1)return b._result.default;throw b._result}var ue=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},D={map:X,forEach:function(b,O,Q){X(b,function(){O.apply(this,arguments)},Q)},count:function(b){var O=0;return X(b,function(){O++}),O},toArray:function(b){return X(b,function(O){return O})||[]},only:function(b){if(!oe(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return _e.Activity=j,_e.Children=D,_e.Component=R,_e.Fragment=r,_e.Profiler=d,_e.PureComponent=z,_e.StrictMode=o,_e.Suspense=m,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,_e.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Y.H.useMemoCache(b)}},_e.cache=function(b){return function(){return b.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(b,O,Q){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var E=A({},b.props),F=b.key;if(O!=null)for(Z in O.key!==void 0&&(F=""+O.key),O)!W.call(O,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&O.ref===void 0||(E[Z]=O[Z]);var Z=arguments.length-2;if(Z===1)E.children=Q;else if(1<Z){for(var ae=Array(Z),de=0;de<Z;de++)ae[de]=arguments[de+2];E.children=ae}return $(b.type,F,E)},_e.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:h,_context:b},b},_e.createElement=function(b,O,Q){var E,F={},Z=null;if(O!=null)for(E in O.key!==void 0&&(Z=""+O.key),O)W.call(O,E)&&E!=="key"&&E!=="__self"&&E!=="__source"&&(F[E]=O[E]);var ae=arguments.length-2;if(ae===1)F.children=Q;else if(1<ae){for(var de=Array(ae),he=0;he<ae;he++)de[he]=arguments[he+2];F.children=de}if(b&&b.defaultProps)for(E in ae=b.defaultProps,ae)F[E]===void 0&&(F[E]=ae[E]);return $(b,Z,F)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(b){return{$$typeof:y,render:b}},_e.isValidElement=oe,_e.lazy=function(b){return{$$typeof:x,_payload:{_status:-1,_result:b},_init:K}},_e.memo=function(b,O){return{$$typeof:g,type:b,compare:O===void 0?null:O}},_e.startTransition=function(b){var O=Y.T,Q={};Y.T=Q;try{var E=b(),F=Y.S;F!==null&&F(Q,E),typeof E=="object"&&E!==null&&typeof E.then=="function"&&E.then(M,ue)}catch(Z){ue(Z)}finally{O!==null&&Q.types!==null&&(O.types=Q.types),Y.T=O}},_e.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},_e.use=function(b){return Y.H.use(b)},_e.useActionState=function(b,O,Q){return Y.H.useActionState(b,O,Q)},_e.useCallback=function(b,O){return Y.H.useCallback(b,O)},_e.useContext=function(b){return Y.H.useContext(b)},_e.useDebugValue=function(){},_e.useDeferredValue=function(b,O){return Y.H.useDeferredValue(b,O)},_e.useEffect=function(b,O){return Y.H.useEffect(b,O)},_e.useEffectEvent=function(b){return Y.H.useEffectEvent(b)},_e.useId=function(){return Y.H.useId()},_e.useImperativeHandle=function(b,O,Q){return Y.H.useImperativeHandle(b,O,Q)},_e.useInsertionEffect=function(b,O){return Y.H.useInsertionEffect(b,O)},_e.useLayoutEffect=function(b,O){return Y.H.useLayoutEffect(b,O)},_e.useMemo=function(b,O){return Y.H.useMemo(b,O)},_e.useOptimistic=function(b,O){return Y.H.useOptimistic(b,O)},_e.useReducer=function(b,O,Q){return Y.H.useReducer(b,O,Q)},_e.useRef=function(b){return Y.H.useRef(b)},_e.useState=function(b){return Y.H.useState(b)},_e.useSyncExternalStore=function(b,O,Q){return Y.H.useSyncExternalStore(b,O,Q)},_e.useTransition=function(){return Y.H.useTransition()},_e.version="19.2.0",_e}var cf;function po(){return cf||(cf=1,mo.exports=Vb()),mo.exports}var S=po();const Ln=sf(S);var go={exports:{}},ms={},yo={exports:{}},xo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function Bb(){return uf||(uf=1,(function(a){function i(U,X){var K=U.length;U.push(X);e:for(;0<K;){var ue=K-1>>>1,D=U[ue];if(0<d(D,X))U[ue]=X,U[K]=D,K=ue;else break e}}function r(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var X=U[0],K=U.pop();if(K!==X){U[0]=K;e:for(var ue=0,D=U.length,b=D>>>1;ue<b;){var O=2*(ue+1)-1,Q=U[O],E=O+1,F=U[E];if(0>d(Q,K))E<D&&0>d(F,Q)?(U[ue]=F,U[E]=K,ue=E):(U[ue]=Q,U[O]=K,ue=O);else if(E<D&&0>d(F,K))U[ue]=F,U[E]=K,ue=E;else break e}}return X}function d(U,X){var K=U.sortIndex-X.sortIndex;return K!==0?K:U.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,y=f.now();a.unstable_now=function(){return f.now()-y}}var m=[],g=[],x=1,j=null,w=3,_=!1,N=!1,A=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function J(U){for(var X=r(g);X!==null;){if(X.callback===null)o(g);else if(X.startTime<=U)o(g),X.sortIndex=X.expirationTime,i(m,X);else break;X=r(g)}}function ee(U){if(A=!1,J(U),!N)if(r(m)!==null)N=!0,M||(M=!0,ye());else{var X=r(g);X!==null&&fe(ee,X.startTime-U)}}var M=!1,Y=-1,W=5,$=-1;function ie(){return C?!0:!(a.unstable_now()-$<W)}function oe(){if(C=!1,M){var U=a.unstable_now();$=U;var X=!0;try{e:{N=!1,A&&(A=!1,q(Y),Y=-1),_=!0;var K=w;try{t:{for(J(U),j=r(m);j!==null&&!(j.expirationTime>U&&ie());){var ue=j.callback;if(typeof ue=="function"){j.callback=null,w=j.priorityLevel;var D=ue(j.expirationTime<=U);if(U=a.unstable_now(),typeof D=="function"){j.callback=D,J(U),X=!0;break t}j===r(m)&&o(m),J(U)}else o(m);j=r(m)}if(j!==null)X=!0;else{var b=r(g);b!==null&&fe(ee,b.startTime-U),X=!1}}break e}finally{j=null,w=K,_=!1}X=void 0}}finally{X?ye():M=!1}}}var ye;if(typeof z=="function")ye=function(){z(oe)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,pe=se.port2;se.port1.onmessage=oe,ye=function(){pe.postMessage(null)}}else ye=function(){R(oe,0)};function fe(U,X){Y=R(function(){U(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(U){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var K=w;w=X;try{return U()}finally{w=K}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=w;w=U;try{return X()}finally{w=K}},a.unstable_scheduleCallback=function(U,X,K){var ue=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,U){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,U={id:x++,callback:X,priorityLevel:U,startTime:K,expirationTime:D,sortIndex:-1},K>ue?(U.sortIndex=K,i(g,U),r(m)===null&&U===r(g)&&(A?(q(Y),Y=-1):A=!0,fe(ee,K-ue))):(U.sortIndex=D,i(m,U),N||_||(N=!0,M||(M=!0,ye()))),U},a.unstable_shouldYield=ie,a.unstable_wrapCallback=function(U){var X=w;return function(){var K=w;w=X;try{return U.apply(this,arguments)}finally{w=K}}}})(xo)),xo}var df;function Hb(){return df||(df=1,yo.exports=Bb()),yo.exports}var bo={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff;function qb(){if(ff)return Vt;ff=1;var a=po();function i(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(m,g,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:j==null?null:""+j,children:m,containerInfo:g,implementation:x}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Vt.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return h(m,g,null,x)},Vt.flushSync=function(m){var g=f.T,x=o.p;try{if(f.T=null,o.p=2,m)return m()}finally{f.T=g,o.p=x,o.d.f()}},Vt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},Vt.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},Vt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,j=y(x,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:j,integrity:w,fetchPriority:_}):x==="script"&&o.d.X(m,{crossOrigin:j,integrity:w,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=y(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},Vt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,j=y(x,g.crossOrigin);o.d.L(m,x,{crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vt.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=y(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},Vt.requestFormReset=function(m){o.d.r(m)},Vt.unstable_batchedUpdates=function(m,g){return m(g)},Vt.useFormState=function(m,g,x){return f.H.useFormState(m,g,x)},Vt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Vt.version="19.2.0",Vt}var hf;function Yb(){if(hf)return bo.exports;hf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),bo.exports=qb(),bo.exports}var mf;function Gb(){if(mf)return ms;mf=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=Hb(),i=po(),r=Yb();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(s=c.return,s!==null){n=s;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return m(c),e;if(u===s)return m(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==s.return)n=c,s=u;else{for(var p=!1,v=c.child;v;){if(v===n){p=!0,n=c,s=u;break}if(v===s){p=!0,s=c,n=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===n){p=!0,n=u,s=c;break}if(v===s){p=!0,s=u,n=c;break}v=v.sibling}if(!p)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),z=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case ee:return"Suspense";case M:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case z:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}var fe=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ue=[],D=-1;function b(e){return{current:e}}function O(e){0>D||(e.current=ue[D],ue[D]=null,D--)}function Q(e,t){D++,ue[D]=e.current,e.current=t}var E=b(null),F=b(null),Z=b(null),ae=b(null);function de(e,t){switch(Q(Z,t),Q(F,e),Q(E,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sb(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sb(t),e=lb(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(E),Q(E,e)}function he(){O(E),O(F),O(Z)}function Me(e){e.memoizedState!==null&&Q(ae,e);var t=E.current,n=lb(t,e.type);t!==n&&(Q(F,e),Q(E,n))}function Ae(e){F.current===e&&(O(E),O(F)),ae.current===e&&(O(ae),vl._currentValue=K)}var Le,Je;function me(e){if(Le===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||"",Je=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+e+Je}var We=!1;function rt(e,t){if(!e||We)return"";We=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var H=G}Reflect.construct(e,[],te)}else{try{te.call()}catch(G){H=G}e.call(te.prototype)}}else{try{throw Error()}catch(G){H=G}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),p=u[0],v=u[1];if(p&&v){var T=p.split(`
`),B=v.split(`
`);for(c=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(s===T.length||c===B.length)for(s=T.length-1,c=B.length-1;1<=s&&0<=c&&T[s]!==B[c];)c--;for(;1<=s&&0<=c;s--,c--)if(T[s]!==B[c]){if(s!==1||c!==1)do if(s--,c--,0>c||T[s]!==B[c]){var P=`
`+T[s].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=s&&0<=c);break}}}finally{We=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?me(n):""}function gt(e,t){switch(e.tag){case 26:case 27:case 5:return me(e.type);case 16:return me("Lazy");case 13:return e.child!==t&&t!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return me("Activity");default:return""}}function Ge(e){try{var t="",n=null;do t+=gt(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Tt=Object.prototype.hasOwnProperty,yt=a.unstable_scheduleCallback,Jt=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,le=a.unstable_requestPaint,Se=a.unstable_now,Ue=a.unstable_getCurrentPriorityLevel,He=a.unstable_ImmediatePriority,Ct=a.unstable_UserBlockingPriority,ne=a.unstable_NormalPriority,je=a.unstable_LowPriority,Qe=a.unstable_IdlePriority,xt=a.log,ot=a.unstable_setDisableYieldValue,At=null,Ye=null;function Nt(e){if(typeof xt=="function"&&ot(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(At,e)}catch{}}var bt=Math.clz32?Math.clz32:Rs,ca=Math.log,ua=Math.LN2;function Rs(e){return e>>>=0,e===0?32:31-(ca(e)/ua|0)|0}var da=256,Ni=262144,_i=4194304;function Mn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?c=Mn(s):(p&=v,p!==0?c=Mn(p):n||(n=v&~e,n!==0&&(c=Mn(n))))):(v=s&~u,v!==0?c=Mn(v):p!==0?c=Mn(p):n||(n=s&~e,n!==0&&(c=Mn(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function Ga(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(){var e=_i;return _i<<=1,(_i&62914560)===0&&(_i=4194304),e}function ve(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ft(e,t,n,s,c,u){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,B=e.hiddenUpdates;for(n=p&~n;0<n;){var P=31-bt(n),te=1<<P;v[P]=0,T[P]=-1;var H=B[P];if(H!==null)for(B[P]=null,P=0;P<H.length;P++){var G=H[P];G!==null&&(G.lane&=-536870913)}n&=~te}s!==0&&qt(e,s,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function qt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-bt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function fa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-bt(n),c=1<<s;c&t|e[s]&t&&(e[s]|=t),n&=~c}}function Ci(e,t){var n=t&-t;return n=(n&42)!==0?1:Os(n),(n&(e.suspendedLanes|t))!==0?0:n}function Os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ai(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Eb(e.type))}function Wl(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var fn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+fn,Kt="__reactProps$"+fn,Ei="__reactContainer$"+fn,Pc="__reactEvents$"+fn,AN="__reactListeners$"+fn,EN="__reactHandles$"+fn,Xp="__reactResources$"+fn,zs="__reactMarker$"+fn;function $c(e){delete e[Rt],delete e[Kt],delete e[Pc],delete e[AN],delete e[EN]}function ki(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ei]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hb(e);e!==null;){if(n=e[Rt])return n;e=hb(e)}return t}e=n,n=e.parentNode}return null}function Mi(e){if(e=e[Rt]||e[Ei]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Di(e){var t=e[Xp];return t||(t=e[Xp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[zs]=!0}var Qp=new Set,Zp={};function Ka(e,t){Ri(e,t),Ri(e+"Capture",t)}function Ri(e,t){for(Zp[e]=t,e=0;e<t.length;e++)Qp.add(t[e])}var kN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pp={},$p={};function MN(e){return Tt.call($p,e)?!0:Tt.call(Pp,e)?!1:kN.test(e)?$p[e]=!0:(Pp[e]=!0,!1)}function er(e,t,n){if(MN(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function tr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Hn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DN(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ic(e){if(!e._valueTracker){var t=Ip(e)?"checked":"value";e._valueTracker=DN(e,t,""+e[t])}}function Jp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ip(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var RN=/[\n"\\]/g;function mn(e){return e.replace(RN,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jc(e,t,n,s,c,u,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+hn(t)):e.value!==""+hn(t)&&(e.value=""+hn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Wc(e,p,hn(t)):n!=null?Wc(e,p,hn(n)):s!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+hn(v):e.removeAttribute("name")}function Wp(e,t,n,s,c,u,p,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ic(e);return}n=n!=null?""+hn(n):"",t=t!=null?""+hn(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ic(e)}function Wc(e,t,n){t==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Oi(e,t,n,s){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&s&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function eg(e,t,n){if(t!=null&&(t=""+hn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+hn(n):""}function tg(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(o(92));if(fe(s)){if(1<s.length)throw Error(o(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=hn(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Ic(e)}function zi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ON=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ng(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||ON.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ag(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&n[c]!==s&&ng(e,c,s)}else for(var u in t)t.hasOwnProperty(u)&&ng(e,u,t[u])}function eu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(e){return LN.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var tu=null;function nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Li=null,Ui=null;function ig(e){var t=Mi(e);if(t&&(e=t.stateNode)){var n=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var c=s[Kt]||null;if(!c)throw Error(o(90));Jc(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Jp(s)}break e;case"textarea":eg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Oi(e,!!n.multiple,t,!1)}}}var au=!1;function sg(e,t,n){if(au)return e(t,n);au=!0;try{var s=e(t);return s}finally{if(au=!1,(Li!==null||Ui!==null)&&(Fr(),Li&&(t=Li,e=Ui,Ui=Li=null,ig(t),e)))for(t=0;t<e.length;t++)ig(e[t])}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Kt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=!1;if(Yn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{iu=!1}var ha=null,su=null,ir=null;function lg(){if(ir)return ir;var e,t=su,n=t.length,s,c="value"in ha?ha.value:ha.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(s=1;s<=p&&t[n-s]===c[u-s];s++);return ir=c.slice(e,1<s?1-s:void 0)}function sr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lr(){return!0}function rg(){return!1}function Xt(e){function t(n,s,c,u,p){this._reactName=n,this._targetInst=c,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?lr:rg,this.isPropagationStopped=rg,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),t}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Xt(Xa),Bs=j({},Xa,{view:0,detail:0}),UN=Xt(Bs),lu,ru,Hs,or=j({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(lu=e.screenX-Hs.screenX,ru=e.screenY-Hs.screenY):ru=lu=0,Hs=e),lu)},movementY:function(e){return"movementY"in e?e.movementY:ru}}),og=Xt(or),VN=j({},or,{dataTransfer:0}),BN=Xt(VN),HN=j({},Bs,{relatedTarget:0}),ou=Xt(HN),qN=j({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),YN=Xt(qN),GN=j({},Xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FN=Xt(GN),KN=j({},Xa,{data:0}),cg=Xt(KN),XN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZN[e])?!!t[e]:!1}function cu(){return PN}var $N=j({},Bs,{key:function(e){if(e.key){var t=XN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cu,charCode:function(e){return e.type==="keypress"?sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IN=Xt($N),JN=j({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ug=Xt(JN),WN=j({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cu}),e_=Xt(WN),t_=j({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),n_=Xt(t_),a_=j({},or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i_=Xt(a_),s_=j({},Xa,{newState:0,oldState:0}),l_=Xt(s_),r_=[9,13,27,32],uu=Yn&&"CompositionEvent"in window,qs=null;Yn&&"documentMode"in document&&(qs=document.documentMode);var o_=Yn&&"TextEvent"in window&&!qs,dg=Yn&&(!uu||qs&&8<qs&&11>=qs),fg=" ",hg=!1;function mg(e,t){switch(e){case"keyup":return r_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function c_(e,t){switch(e){case"compositionend":return pg(t);case"keypress":return t.which!==32?null:(hg=!0,fg);case"textInput":return e=t.data,e===fg&&hg?null:e;default:return null}}function u_(e,t){if(Vi)return e==="compositionend"||!uu&&mg(e,t)?(e=lg(),ir=su=ha=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dg&&t.locale!=="ko"?null:t.data;default:return null}}var d_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d_[e.type]:t==="textarea"}function yg(e,t,n,s){Li?Ui?Ui.push(s):Ui=[s]:Li=s,t=Ir(t,"onChange"),0<t.length&&(n=new rr("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ys=null,Gs=null;function f_(e){Wx(e,0)}function cr(e){var t=Ls(e);if(Jp(t))return e}function xg(e,t){if(e==="change")return t}var bg=!1;if(Yn){var du;if(Yn){var fu="oninput"in document;if(!fu){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),fu=typeof vg.oninput=="function"}du=fu}else du=!1;bg=du&&(!document.documentMode||9<document.documentMode)}function jg(){Ys&&(Ys.detachEvent("onpropertychange",Sg),Gs=Ys=null)}function Sg(e){if(e.propertyName==="value"&&cr(Gs)){var t=[];yg(t,Gs,e,nu(e)),sg(f_,t)}}function h_(e,t,n){e==="focusin"?(jg(),Ys=t,Gs=n,Ys.attachEvent("onpropertychange",Sg)):e==="focusout"&&jg()}function m_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cr(Gs)}function p_(e,t){if(e==="click")return cr(t)}function g_(e,t){if(e==="input"||e==="change")return cr(t)}function y_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:y_;function Fs(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var c=n[s];if(!Tt.call(t,c)||!Wt(e[c],t[c]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,t){var n=wg(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wg(n)}}function _g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nr(e.document)}return t}function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var x_=Yn&&"documentMode"in document&&11>=document.documentMode,Bi=null,mu=null,Ks=null,pu=!1;function Cg(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pu||Bi==null||Bi!==nr(s)||(s=Bi,"selectionStart"in s&&hu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ks&&Fs(Ks,s)||(Ks=s,s=Ir(mu,"onSelect"),0<s.length&&(t=new rr("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Bi)))}function Qa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hi={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},gu={},Ag={};Yn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Za(e){if(gu[e])return gu[e];if(!Hi[e])return e;var t=Hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ag)return gu[e]=t[n];return e}var Eg=Za("animationend"),kg=Za("animationiteration"),Mg=Za("animationstart"),b_=Za("transitionrun"),v_=Za("transitionstart"),j_=Za("transitioncancel"),Dg=Za("transitionend"),Rg=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function Nn(e,t){Rg.set(e,t),Ka(t,[e])}var ur=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pn=[],qi=0,xu=0;function dr(){for(var e=qi,t=xu=qi=0;t<e;){var n=pn[t];pn[t++]=null;var s=pn[t];pn[t++]=null;var c=pn[t];pn[t++]=null;var u=pn[t];if(pn[t++]=null,s!==null&&c!==null){var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}u!==0&&Og(n,c,u)}}function fr(e,t,n,s){pn[qi++]=e,pn[qi++]=t,pn[qi++]=n,pn[qi++]=s,xu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function bu(e,t,n,s){return fr(e,t,n,s),hr(e)}function Pa(e,t){return fr(e,null,null,t),hr(e)}function Og(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-bt(n),e=u.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=n|536870912),u):null}function hr(e){if(50<hl)throw hl=0,Ad=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yi={};function S_(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,s){return new S_(e,t,n,s)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gn(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mr(e,t,n,s,c,u){var p=0;if(s=e,typeof e=="function")vu(e)&&(p=1);else if(typeof e=="string")p=CT(e,n,E.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=en(31,n,t,c),e.elementType=$,e.lanes=u,e;case A:return $a(n.children,c,u,t);case C:p=8,c|=24;break;case R:return e=en(12,n,t,c|2),e.elementType=R,e.lanes=u,e;case ee:return e=en(13,n,t,c),e.elementType=ee,e.lanes=u,e;case M:return e=en(19,n,t,c),e.elementType=M,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:p=10;break e;case q:p=9;break e;case J:p=11;break e;case Y:p=14;break e;case W:p=16,s=null;break e}p=29,n=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=en(p,n,t,c),t.elementType=e,t.type=s,t.lanes=u,t}function $a(e,t,n,s){return e=en(7,e,s,t),e.lanes=n,e}function ju(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function Lg(e){var t=en(18,null,null,0);return t.stateNode=e,t}function Su(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ug=new WeakMap;function gn(e,t){if(typeof e=="object"&&e!==null){var n=Ug.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ge(t)},Ug.set(e,t),t)}return{value:e,source:t,stack:Ge(t)}}var Gi=[],Fi=0,pr=null,Xs=0,yn=[],xn=0,ma=null,Dn=1,Rn="";function Fn(e,t){Gi[Fi++]=Xs,Gi[Fi++]=pr,pr=e,Xs=t}function Vg(e,t,n){yn[xn++]=Dn,yn[xn++]=Rn,yn[xn++]=ma,ma=e;var s=Dn;e=Rn;var c=32-bt(s)-1;s&=~(1<<c),n+=1;var u=32-bt(t)+c;if(30<u){var p=c-c%5;u=(s&(1<<p)-1).toString(32),s>>=p,c-=p,Dn=1<<32-bt(t)+c|n<<c|s,Rn=u+e}else Dn=1<<u|n<<c|s,Rn=e}function wu(e){e.return!==null&&(Fn(e,1),Vg(e,1,0))}function Nu(e){for(;e===pr;)pr=Gi[--Fi],Gi[Fi]=null,Xs=Gi[--Fi],Gi[Fi]=null;for(;e===ma;)ma=yn[--xn],yn[xn]=null,Rn=yn[--xn],yn[xn]=null,Dn=yn[--xn],yn[xn]=null}function Bg(e,t){yn[xn++]=Dn,yn[xn++]=Rn,yn[xn++]=ma,Dn=t.id,Rn=t.overflow,ma=e}var Ot=null,et=null,ze=!1,pa=null,bn=!1,_u=Error(o(519));function ga(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qs(gn(t,e)),_u}function Hg(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Rt]=e,t[Kt]=s,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<pl.length;n++)ke(pl[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Wp(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),tg(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||ab(t.textContent,n)?(s.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),s.onScroll!=null&&ke("scroll",t),s.onScrollEnd!=null&&ke("scrollend",t),s.onClick!=null&&(t.onclick=qn),t=!0):t=!1,t||ga(e,!0)}function qg(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:Ot=Ot.return}}function Ki(e){if(e!==Ot)return!1;if(!ze)return qg(e),ze=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gd(e.type,e.memoizedProps)),n=!n),n&&et&&ga(e),qg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));et=fb(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));et=fb(e)}else t===27?(t=et,ka(e.type)?(e=Zd,Zd=null,et=e):et=t):et=Ot?jn(e.stateNode.nextSibling):null;return!0}function Ia(){et=Ot=null,ze=!1}function Tu(){var e=pa;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),pa=null),e}function Qs(e){pa===null?pa=[e]:pa.push(e)}var Cu=b(null),Ja=null,Kn=null;function ya(e,t,n){Q(Cu,t._currentValue),t._currentValue=n}function Xn(e){e._currentValue=Cu.current,O(Cu)}function Au(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Eu(e,t,n,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var p=c.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=c;for(var T=0;T<t.length;T++)if(v.context===t[T]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),Au(u.return,n,e),s||(p=null);break e}u=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=n,u=p.alternate,u!==null&&(u.lanes|=n),Au(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Xi(e,t,n,s){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var v=c.type;Wt(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===ae.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}c=c.return}e!==null&&Eu(t,e,n,s),t.flags|=262144}function gr(e){for(e=e.firstContext;e!==null;){if(!Wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wa(e){Ja=e,Kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zt(e){return Yg(Ja,e)}function yr(e,t){return Ja===null&&Wa(e),Yg(e,t)}function Yg(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Kn===null){if(e===null)throw Error(o(308));Kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kn=Kn.next=t;return n}var w_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},N_=a.unstable_scheduleCallback,__=a.unstable_NormalPriority,vt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ku(){return{controller:new w_,data:new Map,refCount:0}}function Zs(e){e.refCount--,e.refCount===0&&N_(__,function(){e.controller.abort()})}var Ps=null,Mu=0,Qi=0,Zi=null;function T_(e,t){if(Ps===null){var n=Ps=[];Mu=0,Qi=Od(),Zi={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Mu++,t.then(Gg,Gg),t}function Gg(){if(--Mu===0&&Ps!==null){Zi!==null&&(Zi.status="fulfilled");var e=Ps;Ps=null,Qi=0,Zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function C_(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),s}var Fg=U.S;U.S=function(e,t){Cx=Se(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&T_(e,t),Fg!==null&&Fg(e,t)};var ei=b(null);function Du(){var e=ei.current;return e!==null?e:Ie.pooledCache}function xr(e,t){t===null?Q(ei,ei.current):Q(ei,t.pool)}function Kg(){var e=Du();return e===null?null:{parent:vt._currentValue,pool:e}}var Pi=Error(o(460)),Ru=Error(o(474)),br=Error(o(542)),vr={then:function(){}};function Xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(qn,qn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pg(e),e;default:if(typeof t.status=="string")t.then(qn,qn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Pg(e),e}throw ni=t,Pi}}function ti(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ni=n,Pi):n}}var ni=null;function Zg(){if(ni===null)throw Error(o(459));var e=ni;return ni=null,e}function Pg(e){if(e===Pi||e===br)throw Error(o(483))}var $i=null,$s=0;function jr(e){var t=$s;return $s+=1,$i===null&&($i=[]),Qg($i,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sr(e,t){throw t.$$typeof===w?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $g(e){function t(L,k){if(e){var V=L.deletions;V===null?(L.deletions=[k],L.flags|=16):V.push(k)}}function n(L,k){if(!e)return null;for(;k!==null;)t(L,k),k=k.sibling;return null}function s(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function c(L,k){return L=Gn(L,k),L.index=0,L.sibling=null,L}function u(L,k,V){return L.index=V,e?(V=L.alternate,V!==null?(V=V.index,V<k?(L.flags|=67108866,k):V):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function v(L,k,V,I){return k===null||k.tag!==6?(k=ju(V,L.mode,I),k.return=L,k):(k=c(k,V),k.return=L,k)}function T(L,k,V,I){var be=V.type;return be===A?P(L,k,V.props.children,I,V.key):k!==null&&(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===W&&ti(be)===k.type)?(k=c(k,V.props),Is(k,V),k.return=L,k):(k=mr(V.type,V.key,V.props,null,L.mode,I),Is(k,V),k.return=L,k)}function B(L,k,V,I){return k===null||k.tag!==4||k.stateNode.containerInfo!==V.containerInfo||k.stateNode.implementation!==V.implementation?(k=Su(V,L.mode,I),k.return=L,k):(k=c(k,V.children||[]),k.return=L,k)}function P(L,k,V,I,be){return k===null||k.tag!==7?(k=$a(V,L.mode,I,be),k.return=L,k):(k=c(k,V),k.return=L,k)}function te(L,k,V){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ju(""+k,L.mode,V),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return V=mr(k.type,k.key,k.props,null,L.mode,V),Is(V,k),V.return=L,V;case N:return k=Su(k,L.mode,V),k.return=L,k;case W:return k=ti(k),te(L,k,V)}if(fe(k)||ye(k))return k=$a(k,L.mode,V,null),k.return=L,k;if(typeof k.then=="function")return te(L,jr(k),V);if(k.$$typeof===z)return te(L,yr(L,k),V);Sr(L,k)}return null}function H(L,k,V,I){var be=k!==null?k.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return be!==null?null:v(L,k,""+V,I);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===be?T(L,k,V,I):null;case N:return V.key===be?B(L,k,V,I):null;case W:return V=ti(V),H(L,k,V,I)}if(fe(V)||ye(V))return be!==null?null:P(L,k,V,I,null);if(typeof V.then=="function")return H(L,k,jr(V),I);if(V.$$typeof===z)return H(L,k,yr(L,V),I);Sr(L,V)}return null}function G(L,k,V,I,be){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return L=L.get(V)||null,v(k,L,""+I,be);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return L=L.get(I.key===null?V:I.key)||null,T(k,L,I,be);case N:return L=L.get(I.key===null?V:I.key)||null,B(k,L,I,be);case W:return I=ti(I),G(L,k,V,I,be)}if(fe(I)||ye(I))return L=L.get(V)||null,P(k,L,I,be,null);if(typeof I.then=="function")return G(L,k,V,jr(I),be);if(I.$$typeof===z)return G(L,k,V,yr(k,I),be);Sr(k,I)}return null}function ge(L,k,V,I){for(var be=null,Ve=null,xe=k,Ce=k=0,Re=null;xe!==null&&Ce<V.length;Ce++){xe.index>Ce?(Re=xe,xe=null):Re=xe.sibling;var Be=H(L,xe,V[Ce],I);if(Be===null){xe===null&&(xe=Re);break}e&&xe&&Be.alternate===null&&t(L,xe),k=u(Be,k,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be,xe=Re}if(Ce===V.length)return n(L,xe),ze&&Fn(L,Ce),be;if(xe===null){for(;Ce<V.length;Ce++)xe=te(L,V[Ce],I),xe!==null&&(k=u(xe,k,Ce),Ve===null?be=xe:Ve.sibling=xe,Ve=xe);return ze&&Fn(L,Ce),be}for(xe=s(xe);Ce<V.length;Ce++)Re=G(xe,L,Ce,V[Ce],I),Re!==null&&(e&&Re.alternate!==null&&xe.delete(Re.key===null?Ce:Re.key),k=u(Re,k,Ce),Ve===null?be=Re:Ve.sibling=Re,Ve=Re);return e&&xe.forEach(function(za){return t(L,za)}),ze&&Fn(L,Ce),be}function we(L,k,V,I){if(V==null)throw Error(o(151));for(var be=null,Ve=null,xe=k,Ce=k=0,Re=null,Be=V.next();xe!==null&&!Be.done;Ce++,Be=V.next()){xe.index>Ce?(Re=xe,xe=null):Re=xe.sibling;var za=H(L,xe,Be.value,I);if(za===null){xe===null&&(xe=Re);break}e&&xe&&za.alternate===null&&t(L,xe),k=u(za,k,Ce),Ve===null?be=za:Ve.sibling=za,Ve=za,xe=Re}if(Be.done)return n(L,xe),ze&&Fn(L,Ce),be;if(xe===null){for(;!Be.done;Ce++,Be=V.next())Be=te(L,Be.value,I),Be!==null&&(k=u(Be,k,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return ze&&Fn(L,Ce),be}for(xe=s(xe);!Be.done;Ce++,Be=V.next())Be=G(xe,L,Ce,Be.value,I),Be!==null&&(e&&Be.alternate!==null&&xe.delete(Be.key===null?Ce:Be.key),k=u(Be,k,Ce),Ve===null?be=Be:Ve.sibling=Be,Ve=Be);return e&&xe.forEach(function(VT){return t(L,VT)}),ze&&Fn(L,Ce),be}function $e(L,k,V,I){if(typeof V=="object"&&V!==null&&V.type===A&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var be=V.key;k!==null;){if(k.key===be){if(be=V.type,be===A){if(k.tag===7){n(L,k.sibling),I=c(k,V.props.children),I.return=L,L=I;break e}}else if(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===W&&ti(be)===k.type){n(L,k.sibling),I=c(k,V.props),Is(I,V),I.return=L,L=I;break e}n(L,k);break}else t(L,k);k=k.sibling}V.type===A?(I=$a(V.props.children,L.mode,I,V.key),I.return=L,L=I):(I=mr(V.type,V.key,V.props,null,L.mode,I),Is(I,V),I.return=L,L=I)}return p(L);case N:e:{for(be=V.key;k!==null;){if(k.key===be)if(k.tag===4&&k.stateNode.containerInfo===V.containerInfo&&k.stateNode.implementation===V.implementation){n(L,k.sibling),I=c(k,V.children||[]),I.return=L,L=I;break e}else{n(L,k);break}else t(L,k);k=k.sibling}I=Su(V,L.mode,I),I.return=L,L=I}return p(L);case W:return V=ti(V),$e(L,k,V,I)}if(fe(V))return ge(L,k,V,I);if(ye(V)){if(be=ye(V),typeof be!="function")throw Error(o(150));return V=be.call(V),we(L,k,V,I)}if(typeof V.then=="function")return $e(L,k,jr(V),I);if(V.$$typeof===z)return $e(L,k,yr(L,V),I);Sr(L,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,k!==null&&k.tag===6?(n(L,k.sibling),I=c(k,V),I.return=L,L=I):(n(L,k),I=ju(V,L.mode,I),I.return=L,L=I),p(L)):n(L,k)}return function(L,k,V,I){try{$s=0;var be=$e(L,k,V,I);return $i=null,be}catch(xe){if(xe===Pi||xe===br)throw xe;var Ve=en(29,xe,null,L.mode);return Ve.lanes=I,Ve.return=L,Ve}finally{}}}var ai=$g(!0),Ig=$g(!1),xa=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function va(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(qe&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=hr(e),Og(e,null,n),t}return fr(e,s,t,n),hr(e)}function Js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,fa(e,n)}}function Lu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Uu=!1;function Ws(){if(Uu){var e=Zi;if(e!==null)throw e}}function el(e,t,n,s){Uu=!1;var c=e.updateQueue;xa=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var T=v,B=T.next;T.next=null,p===null?u=B:p.next=B,p=T;var P=e.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==p&&(v===null?P.firstBaseUpdate=B:v.next=B,P.lastBaseUpdate=T))}if(u!==null){var te=c.baseState;p=0,P=B=T=null,v=u;do{var H=v.lane&-536870913,G=H!==v.lane;if(G?(De&H)===H:(s&H)===H){H!==0&&H===Qi&&(Uu=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ge=e,we=v;H=t;var $e=n;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){te=ge.call($e,te,H);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,H=typeof ge=="function"?ge.call($e,te,H):ge,H==null)break e;te=j({},te,H);break e;case 2:xa=!0}}H=v.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=c.callbacks,G===null?c.callbacks=[H]:G.push(H))}else G={lane:H,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(B=P=G,T=te):P=P.next=G,p|=H;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;G=v,v=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);P===null&&(T=te),c.baseState=T,c.firstBaseUpdate=B,c.lastBaseUpdate=P,u===null&&(c.shared.lanes=0),_a|=p,e.lanes=p,e.memoizedState=te}}function Jg(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Wg(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Jg(n[e],t)}var Ii=b(null),wr=b(0);function ey(e,t){e=ta,Q(wr,e),Q(Ii,t),ta=e|t.baseLanes}function Vu(){Q(wr,ta),Q(Ii,Ii.current)}function Bu(){ta=wr.current,O(Ii),O(wr)}var tn=b(null),vn=null;function ja(e){var t=e.alternate;Q(ht,ht.current&1),Q(tn,e),vn===null&&(t===null||Ii.current!==null||t.memoizedState!==null)&&(vn=e)}function Hu(e){Q(ht,ht.current),Q(tn,e),vn===null&&(vn=e)}function ty(e){e.tag===22?(Q(ht,ht.current),Q(tn,e),vn===null&&(vn=e)):Sa()}function Sa(){Q(ht,ht.current),Q(tn,tn.current)}function nn(e){O(tn),vn===e&&(vn=null),O(ht)}var ht=b(0);function Nr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Xd(n)||Qd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qn=0,Te=null,Ze=null,jt=null,_r=!1,Ji=!1,ii=!1,Tr=0,tl=0,Wi=null,A_=0;function ct(){throw Error(o(321))}function qu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Yu(e,t,n,s,c,u){return Qn=u,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Vy:ad,ii=!1,u=n(s,c),ii=!1,Ji&&(u=ay(t,n,s,c)),ny(e),u}function ny(e){U.H=il;var t=Ze!==null&&Ze.next!==null;if(Qn=0,jt=Ze=Te=null,_r=!1,tl=0,Wi=null,t)throw Error(o(300));e===null||St||(e=e.dependencies,e!==null&&gr(e)&&(St=!0))}function ay(e,t,n,s){Te=e;var c=0;do{if(Ji&&(Wi=null),tl=0,Ji=!1,25<=c)throw Error(o(301));if(c+=1,jt=Ze=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}U.H=By,u=t(n,s)}while(Ji);return u}function E_(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?nl(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Te.flags|=1024),t}function Gu(){var e=Tr!==0;return Tr=0,e}function Fu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ku(e){if(_r){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_r=!1}Qn=0,jt=Ze=Te=null,Ji=!1,tl=Tr=0,Wi=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Te.memoizedState=jt=e:jt=jt.next=e,jt}function mt(){if(Ze===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=jt===null?Te.memoizedState:jt.next;if(t!==null)jt=t,Ze=e;else{if(e===null)throw Te.alternate===null?Error(o(467)):Error(o(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},jt===null?Te.memoizedState=jt=e:jt=jt.next=e}return jt}function Cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var t=tl;return tl+=1,Wi===null&&(Wi=[]),e=Qg(Wi,e,t),t=Te,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Vy:ad),e}function Ar(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===z)return zt(e)}throw Error(o(438,String(e)))}function Xu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Cr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=ie;return t.index++,n}function Zn(e,t){return typeof t=="function"?t(e):t}function Er(e){var t=mt();return Qu(t,Ze,e)}function Qu(e,t,n){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var c=e.baseQueue,u=s.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}t.baseQueue=c=u,s.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var v=p=null,T=null,B=t,P=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(De&te)===te:(Qn&te)===te){var H=B.revertLane;if(H===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===Qi&&(P=!0);else if((Qn&H)===H){B=B.next,H===Qi&&(P=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},T===null?(v=T=te,p=u):T=T.next=te,Te.lanes|=H,_a|=H;te=B.action,ii&&n(u,te),u=B.hasEagerState?B.eagerState:n(u,te)}else H={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},T===null?(v=T=H,p=u):T=T.next=H,Te.lanes|=te,_a|=te;B=B.next}while(B!==null&&B!==t);if(T===null?p=u:T.next=v,!Wt(u,e.memoizedState)&&(St=!0,P&&(n=Zi,n!==null)))throw n;e.memoizedState=u,e.baseState=p,e.baseQueue=T,s.lastRenderedState=u}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Zu(e){var t=mt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do u=e(u,p.action),p=p.next;while(p!==c);Wt(u,t.memoizedState)||(St=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function iy(e,t,n){var s=Te,c=mt(),u=ze;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var p=!Wt((Ze||c).memoizedState,n);if(p&&(c.memoizedState=n,St=!0),c=c.queue,Iu(ry.bind(null,s,c,e),[e]),c.getSnapshot!==t||p||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,es(9,{destroy:void 0},ly.bind(null,s,c,n,t),null),Ie===null)throw Error(o(349));u||(Qn&127)!==0||sy(s,t,n)}return n}function sy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Cr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ly(e,t,n,s){t.value=n,t.getSnapshot=s,oy(t)&&cy(e)}function ry(e,t,n){return n(function(){oy(t)&&cy(e)})}function oy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function cy(e){var t=Pa(e,2);t!==null&&It(t,e,2)}function Pu(e){var t=Yt();if(typeof e=="function"){var n=e;if(e=n(),ii){Nt(!0);try{n()}finally{Nt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t}function uy(e,t,n,s){return e.baseState=n,Qu(e,Ze,typeof s=="function"?s:Zn)}function k_(e,t,n,s,c){if(Dr(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};U.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,dy(t,u)):(u.next=n.next,t.pending=n.next=u)}}function dy(e,t){var n=t.action,s=t.payload,c=e.state;if(t.isTransition){var u=U.T,p={};U.T=p;try{var v=n(c,s),T=U.S;T!==null&&T(p,v),fy(e,t,v)}catch(B){$u(e,t,B)}finally{u!==null&&p.types!==null&&(u.types=p.types),U.T=u}}else try{u=n(c,s),fy(e,t,u)}catch(B){$u(e,t,B)}}function fy(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){hy(e,t,s)},function(s){return $u(e,t,s)}):hy(e,t,n)}function hy(e,t,n){t.status="fulfilled",t.value=n,my(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,dy(e,n)))}function $u(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,my(t),t=t.next;while(t!==s)}e.action=null}function my(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function py(e,t){return t}function gy(e,t){if(ze){var n=Ie.formState;if(n!==null){e:{var s=Te;if(ze){if(et){t:{for(var c=et,u=bn;c.nodeType!==8;){if(!u){c=null;break t}if(c=jn(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){et=jn(c.nextSibling),s=c.data==="F!";break e}}ga(s)}s=!1}s&&(t=n[0])}}return n=Yt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:t},n.queue=s,n=zy.bind(null,Te,s),s.dispatch=n,s=Pu(!1),u=nd.bind(null,Te,!1,s.queue),s=Yt(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,n=k_.bind(null,Te,c,u,n),c.dispatch=n,s.memoizedState=e,[t,n,!1]}function yy(e){var t=mt();return xy(t,Ze,e)}function xy(e,t,n){if(t=Qu(e,t,py)[0],e=Er(Zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=nl(t)}catch(p){throw p===Pi?br:p}else s=t;t=mt();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,es(9,{destroy:void 0},M_.bind(null,c,n),null)),[s,u,e]}function M_(e,t){e.action=t}function by(e){var t=mt(),n=Ze;if(n!==null)return xy(t,n,e);mt(),t=t.memoizedState,n=mt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function es(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Cr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function vy(){return mt().memoizedState}function kr(e,t,n,s){var c=Yt();Te.flags|=e,c.memoizedState=es(1|t,{destroy:void 0},n,s===void 0?null:s)}function Mr(e,t,n,s){var c=mt();s=s===void 0?null:s;var u=c.memoizedState.inst;Ze!==null&&s!==null&&qu(s,Ze.memoizedState.deps)?c.memoizedState=es(t,u,n,s):(Te.flags|=e,c.memoizedState=es(1|t,u,n,s))}function jy(e,t){kr(8390656,8,e,t)}function Iu(e,t){Mr(2048,8,e,t)}function D_(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Cr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Sy(e){var t=mt().memoizedState;return D_({ref:t,nextImpl:e}),function(){if((qe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function wy(e,t){return Mr(4,2,e,t)}function Ny(e,t){return Mr(4,4,e,t)}function _y(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ty(e,t,n){n=n!=null?n.concat([e]):null,Mr(4,4,_y.bind(null,t,e),n)}function Ju(){}function Cy(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&qu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ay(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&qu(t,s[1]))return s[0];if(s=e(),ii){Nt(!0);try{e()}finally{Nt(!1)}}return n.memoizedState=[s,t],s}function Wu(e,t,n){return n===void 0||(Qn&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Ex(),Te.lanes|=e,_a|=e,n)}function Ey(e,t,n,s){return Wt(n,t)?n:Ii.current!==null?(e=Wu(e,n,s),Wt(e,t)||(St=!0),e):(Qn&42)===0||(Qn&1073741824)!==0&&(De&261930)===0?(St=!0,e.memoizedState=n):(e=Ex(),Te.lanes|=e,_a|=e,t)}function ky(e,t,n,s,c){var u=X.p;X.p=u!==0&&8>u?u:8;var p=U.T,v={};U.T=v,nd(e,!1,t,n);try{var T=c(),B=U.S;if(B!==null&&B(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var P=C_(T,s);al(e,t,P,ln(e))}else al(e,t,s,ln(e))}catch(te){al(e,t,{then:function(){},status:"rejected",reason:te},ln())}finally{X.p=u,p!==null&&v.types!==null&&(p.types=v.types),U.T=p}}function R_(){}function ed(e,t,n,s){if(e.tag!==5)throw Error(o(476));var c=My(e).queue;ky(e,c,t,K,n===null?R_:function(){return Dy(e),n(s)})}function My(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:K},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dy(e){var t=My(e);t.next===null&&(t=e.alternate.memoizedState),al(e,t.next.queue,{},ln())}function td(){return zt(vl)}function Ry(){return mt().memoizedState}function Oy(){return mt().memoizedState}function O_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ln();e=ba(n);var s=va(t,e,n);s!==null&&(It(s,t,n),Js(s,t,n)),t={cache:ku()},e.payload=t;return}t=t.return}}function z_(e,t,n){var s=ln();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Dr(e)?Ly(t,n):(n=bu(e,t,n,s),n!==null&&(It(n,e,s),Uy(n,t,s)))}function zy(e,t,n){var s=ln();al(e,t,n,s)}function al(e,t,n,s){var c={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dr(e))Ly(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,v=u(p,n);if(c.hasEagerState=!0,c.eagerState=v,Wt(v,p))return fr(e,t,c,0),Ie===null&&dr(),!1}catch{}finally{}if(n=bu(e,t,c,s),n!==null)return It(n,e,s),Uy(n,t,s),!0}return!1}function nd(e,t,n,s){if(s={lane:2,revertLane:Od(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Dr(e)){if(t)throw Error(o(479))}else t=bu(e,n,s,2),t!==null&&It(t,e,2)}function Dr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Ly(e,t){Ji=_r=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Uy(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,fa(e,n)}}var il={readContext:zt,use:Ar,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};il.useEffectEvent=ct;var Vy={readContext:zt,use:Ar,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:jy,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,kr(4194308,4,_y.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){kr(4,2,e,t)},useMemo:function(e,t){var n=Yt();t=t===void 0?null:t;var s=e();if(ii){Nt(!0);try{e()}finally{Nt(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Yt();if(n!==void 0){var c=n(t);if(ii){Nt(!0);try{n(t)}finally{Nt(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=z_.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Pu(e);var t=e.queue,n=zy.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ju,useDeferredValue:function(e,t){var n=Yt();return Wu(n,e,t)},useTransition:function(){var e=Pu(!1);return e=ky.bind(null,Te,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Te,c=Yt();if(ze){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ie===null)throw Error(o(349));(De&127)!==0||sy(s,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,jy(ry.bind(null,s,u,e),[e]),s.flags|=2048,es(9,{destroy:void 0},ly.bind(null,s,u,n,t),null),n},useId:function(){var e=Yt(),t=Ie.identifierPrefix;if(ze){var n=Rn,s=Dn;n=(s&~(1<<32-bt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Tr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=A_++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:td,useFormState:gy,useActionState:gy,useOptimistic:function(e){var t=Yt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nd.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Xu,useCacheRefresh:function(){return Yt().memoizedState=O_.bind(null,Te)},useEffectEvent:function(e){var t=Yt(),n={impl:e};return t.memoizedState=n,function(){if((qe&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ad={readContext:zt,use:Ar,useCallback:Cy,useContext:zt,useEffect:Iu,useImperativeHandle:Ty,useInsertionEffect:wy,useLayoutEffect:Ny,useMemo:Ay,useReducer:Er,useRef:vy,useState:function(){return Er(Zn)},useDebugValue:Ju,useDeferredValue:function(e,t){var n=mt();return Ey(n,Ze.memoizedState,e,t)},useTransition:function(){var e=Er(Zn)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:iy,useId:Ry,useHostTransitionStatus:td,useFormState:yy,useActionState:yy,useOptimistic:function(e,t){var n=mt();return uy(n,Ze,e,t)},useMemoCache:Xu,useCacheRefresh:Oy};ad.useEffectEvent=Sy;var By={readContext:zt,use:Ar,useCallback:Cy,useContext:zt,useEffect:Iu,useImperativeHandle:Ty,useInsertionEffect:wy,useLayoutEffect:Ny,useMemo:Ay,useReducer:Zu,useRef:vy,useState:function(){return Zu(Zn)},useDebugValue:Ju,useDeferredValue:function(e,t){var n=mt();return Ze===null?Wu(n,e,t):Ey(n,Ze.memoizedState,e,t)},useTransition:function(){var e=Zu(Zn)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:iy,useId:Ry,useHostTransitionStatus:td,useFormState:by,useActionState:by,useOptimistic:function(e,t){var n=mt();return Ze!==null?uy(n,Ze,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:Oy};By.useEffectEvent=Sy;function id(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:j({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sd={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ln(),c=ba(s);c.payload=t,n!=null&&(c.callback=n),t=va(e,c,s),t!==null&&(It(t,e,s),Js(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ln(),c=ba(s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=va(e,c,s),t!==null&&(It(t,e,s),Js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),s=ba(n);s.tag=2,t!=null&&(s.callback=t),t=va(e,s,n),t!==null&&(It(t,e,n),Js(t,e,n))}};function Hy(e,t,n,s,c,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!Fs(n,s)||!Fs(c,u):!0}function qy(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function si(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=j({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Yy(e){ur(e)}function Gy(e){console.error(e)}function Fy(e){ur(e)}function Rr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Ky(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ld(e,t,n){return n=ba(n),n.tag=3,n.payload={element:null},n.callback=function(){Rr(e,t)},n}function Xy(e){return e=ba(e),e.tag=3,e}function Qy(e,t,n,s){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=s.value;e.payload=function(){return c(u)},e.callback=function(){Ky(t,n,s)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Ky(t,n,s),typeof c!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function L_(e,t,n,s,c){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Xi(t,n,c,!0),n=tn.current,n!==null){switch(n.tag){case 31:case 13:return vn===null?Kr():n.alternate===null&&ut===0&&(ut=3),n.flags&=-257,n.flags|=65536,n.lanes=c,s===vr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Md(e,s,c)),!1;case 22:return n.flags|=65536,s===vr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Md(e,s,c)),!1}throw Error(o(435,n.tag))}return Md(e,s,c),Kr(),!1}if(ze)return t=tn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==_u&&(e=Error(o(422),{cause:s}),Qs(gn(e,n)))):(s!==_u&&(t=Error(o(423),{cause:s}),Qs(gn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=gn(s,n),c=ld(e.stateNode,s,c),Lu(e,c),ut!==4&&(ut=2)),!1;var u=Error(o(520),{cause:s});if(u=gn(u,n),fl===null?fl=[u]:fl.push(u),ut!==4&&(ut=2),t===null)return!0;s=gn(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=ld(n.stateNode,s,e),Lu(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ta===null||!Ta.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Xy(c),Qy(c,e,n,s),Lu(n,c),!1}n=n.return}while(n!==null);return!1}var rd=Error(o(461)),St=!1;function Lt(e,t,n,s){t.child=e===null?Ig(t,null,n,s):ai(t,e.child,n,s)}function Zy(e,t,n,s,c){n=n.render;var u=t.ref;if("ref"in s){var p={};for(var v in s)v!=="ref"&&(p[v]=s[v])}else p=s;return Wa(t),s=Yu(e,t,n,p,u,c),v=Gu(),e!==null&&!St?(Fu(e,t,c),Pn(e,t,c)):(ze&&v&&wu(t),t.flags|=1,Lt(e,t,s,c),t.child)}function Py(e,t,n,s,c){if(e===null){var u=n.type;return typeof u=="function"&&!vu(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,$y(e,t,u,s,c)):(e=mr(n.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!pd(e,c)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:Fs,n(p,s)&&e.ref===t.ref)return Pn(e,t,c)}return t.flags|=1,e=Gn(u,s),e.ref=t.ref,e.return=t,t.child=e}function $y(e,t,n,s,c){if(e!==null){var u=e.memoizedProps;if(Fs(u,s)&&e.ref===t.ref)if(St=!1,t.pendingProps=s=u,pd(e,c))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,Pn(e,t,c)}return od(e,t,n,s,c)}function Iy(e,t,n,s){var c=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~u}else s=0,t.child=null;return Jy(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xr(t,u!==null?u.cachePool:null),u!==null?ey(t,u):Vu(),ty(t);else return s=t.lanes=536870912,Jy(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(xr(t,u.cachePool),ey(t,u),Sa(),t.memoizedState=null):(e!==null&&xr(t,null),Vu(),Sa());return Lt(e,t,c,n),t.child}function sl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jy(e,t,n,s,c){var u=Du();return u=u===null?null:{parent:vt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&xr(t,null),Vu(),ty(t),e!==null&&Xi(e,t,s,!0),t.childLanes=c,null}function Or(e,t){return t=Lr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wy(e,t,n){return ai(t,e.child,null,n),e=Or(t,t.pendingProps),e.flags|=2,nn(t),t.memoizedState=null,e}function U_(e,t,n){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(s.mode==="hidden")return e=Or(t,s),t.lanes=536870912,sl(null,e);if(Hu(t),(e=et)?(e=db(e,bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:Dn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},n=Lg(e),n.return=t,t.child=n,Ot=t,et=null)):e=null,e===null)throw ga(t);return t.lanes=536870912,null}return Or(t,s)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(Hu(t),c)if(t.flags&256)t.flags&=-257,t=Wy(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(St||Xi(e,t,n,!1),c=(n&e.childLanes)!==0,St||c){if(s=Ie,s!==null&&(p=Ci(s,n),p!==0&&p!==u.retryLane))throw u.retryLane=p,Pa(e,p),It(s,e,p),rd;Kr(),t=Wy(e,t,n)}else e=u.treeContext,et=jn(p.nextSibling),Ot=t,ze=!0,pa=null,bn=!1,e!==null&&Bg(t,e),t=Or(t,s),t.flags|=4096;return t}return e=Gn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function zr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function od(e,t,n,s,c){return Wa(t),n=Yu(e,t,n,s,void 0,c),s=Gu(),e!==null&&!St?(Fu(e,t,c),Pn(e,t,c)):(ze&&s&&wu(t),t.flags|=1,Lt(e,t,n,c),t.child)}function ex(e,t,n,s,c,u){return Wa(t),t.updateQueue=null,n=ay(t,s,n,c),ny(e),s=Gu(),e!==null&&!St?(Fu(e,t,u),Pn(e,t,u)):(ze&&s&&wu(t),t.flags|=1,Lt(e,t,n,u),t.child)}function tx(e,t,n,s,c){if(Wa(t),t.stateNode===null){var u=Yi,p=n.contextType;typeof p=="object"&&p!==null&&(u=zt(p)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=sd,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Ou(t),p=n.contextType,u.context=typeof p=="object"&&p!==null?zt(p):Yi,u.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(id(t,n,p,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&sd.enqueueReplaceState(u,u.state,null),el(t,s,u,c),Ws(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,T=si(n,v);u.props=T;var B=u.context,P=n.contextType;p=Yi,typeof P=="object"&&P!==null&&(p=zt(P));var te=n.getDerivedStateFromProps;P=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,P||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||B!==p)&&qy(t,u,s,p),xa=!1;var H=t.memoizedState;u.state=H,el(t,s,u,c),Ws(),B=t.memoizedState,v||H!==B||xa?(typeof te=="function"&&(id(t,n,te,s),B=t.memoizedState),(T=xa||Hy(t,n,T,s,H,B,p))?(P||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=B),u.props=s,u.state=B,u.context=p,s=T):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,zu(e,t),p=t.memoizedProps,P=si(n,p),u.props=P,te=t.pendingProps,H=u.context,B=n.contextType,T=Yi,typeof B=="object"&&B!==null&&(T=zt(B)),v=n.getDerivedStateFromProps,(B=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==te||H!==T)&&qy(t,u,s,T),xa=!1,H=t.memoizedState,u.state=H,el(t,s,u,c),Ws();var G=t.memoizedState;p!==te||H!==G||xa||e!==null&&e.dependencies!==null&&gr(e.dependencies)?(typeof v=="function"&&(id(t,n,v,s),G=t.memoizedState),(P=xa||Hy(t,n,P,s,H,G,T)||e!==null&&e.dependencies!==null&&gr(e.dependencies))?(B||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,G,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,G,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=G),u.props=s,u.state=G,u.context=T,s=P):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,zr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=ai(t,e.child,null,c),t.child=ai(t,null,n,c)):Lt(e,t,n,c),t.memoizedState=u.state,e=t.child):e=Pn(e,t,c),e}function nx(e,t,n,s){return Ia(),t.flags|=256,Lt(e,t,n,s),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(e){return{baseLanes:e,cachePool:Kg()}}function dd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=sn),e}function ax(e,t,n){var s=t.pendingProps,c=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(c?ja(t):Sa(),(e=et)?(e=db(e,bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:Dn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},n=Lg(e),n.return=t,t.child=n,Ot=t,et=null)):e=null,e===null)throw ga(t);return Qd(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,c?(Sa(),c=t.mode,v=Lr({mode:"hidden",children:v},c),s=$a(s,c,n,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=ud(n),s.childLanes=dd(e,p,n),t.memoizedState=cd,sl(null,s)):(ja(t),fd(t,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(u)t.flags&256?(ja(t),t.flags&=-257,t=hd(e,t,n)):t.memoizedState!==null?(Sa(),t.child=e.child,t.flags|=128,t=null):(Sa(),v=s.fallback,c=t.mode,s=Lr({mode:"visible",children:s.children},c),v=$a(v,c,n,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,ai(t,e.child,null,n),s=t.child,s.memoizedState=ud(n),s.childLanes=dd(e,p,n),t.memoizedState=cd,t=sl(null,s));else if(ja(t),Qd(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var B=p.dgst;p=B,s=Error(o(419)),s.stack="",s.digest=p,Qs({value:s,source:null,stack:null}),t=hd(e,t,n)}else if(St||Xi(e,t,n,!1),p=(n&e.childLanes)!==0,St||p){if(p=Ie,p!==null&&(s=Ci(p,n),s!==0&&s!==T.retryLane))throw T.retryLane=s,Pa(e,s),It(p,e,s),rd;Xd(v)||Kr(),t=hd(e,t,n)}else Xd(v)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,et=jn(v.nextSibling),Ot=t,ze=!0,pa=null,bn=!1,e!==null&&Bg(t,e),t=fd(t,s.children),t.flags|=4096);return t}return c?(Sa(),v=s.fallback,c=t.mode,T=e.child,B=T.sibling,s=Gn(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&65011712,B!==null?v=Gn(B,v):(v=$a(v,c,n,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,sl(null,s),s=t.child,v=e.child.memoizedState,v===null?v=ud(n):(c=v.cachePool,c!==null?(T=vt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=Kg(),v={baseLanes:v.baseLanes|n,cachePool:c}),s.memoizedState=v,s.childLanes=dd(e,p,n),t.memoizedState=cd,sl(e.child,s)):(ja(t),n=e.child,e=n.sibling,n=Gn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function fd(e,t){return t=Lr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Lr(e,t){return e=en(22,e,null,t),e.lanes=0,e}function hd(e,t,n){return ai(t,e.child,null,n),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ix(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Au(e.return,t,n)}function md(e,t,n,s,c,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:c,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=n,p.tailMode=c,p.treeForkCount=u)}function sx(e,t,n){var s=t.pendingProps,c=s.revealOrder,u=s.tail;s=s.children;var p=ht.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,Q(ht,p),Lt(e,t,s,n),s=ze?Xs:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ix(e,n,t);else if(e.tag===19)ix(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Nr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),md(t,!1,c,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Nr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}md(t,!0,n,null,u,s);break;case"together":md(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_a|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Xi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gr(e)))}function V_(e,t,n){switch(t.tag){case 3:de(t,t.stateNode.containerInfo),ya(t,vt,e.memoizedState.cache),Ia();break;case 27:case 5:Me(t);break;case 4:de(t,t.stateNode.containerInfo);break;case 10:ya(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Hu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ja(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ax(e,t,n):(ja(t),e=Pn(e,t,n),e!==null?e.sibling:null);ja(t);break;case 19:var c=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Xi(e,t,n,!1),s=(n&t.childLanes)!==0),c){if(s)return sx(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Q(ht,ht.current),s)break;return null;case 22:return t.lanes=0,Iy(e,t,n,t.pendingProps);case 24:ya(t,vt,e.memoizedState.cache)}return Pn(e,t,n)}function lx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!pd(e,n)&&(t.flags&128)===0)return St=!1,V_(e,t,n);St=(e.flags&131072)!==0}else St=!1,ze&&(t.flags&1048576)!==0&&Vg(t,Xs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ti(t.elementType),t.type=e,typeof e=="function")vu(e)?(s=si(e,s),t.tag=1,t=tx(null,t,e,s,n)):(t.tag=0,t=od(null,t,e,s,n));else{if(e!=null){var c=e.$$typeof;if(c===J){t.tag=11,t=Zy(null,t,e,s,n);break e}else if(c===Y){t.tag=14,t=Py(null,t,e,s,n);break e}}throw t=pe(e)||e,Error(o(306,t,""))}}return t;case 0:return od(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,c=si(s,t.pendingProps),tx(e,t,s,c,n);case 3:e:{if(de(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var u=t.memoizedState;c=u.element,zu(e,t),el(t,s,null,n);var p=t.memoizedState;if(s=p.cache,ya(t,vt,s),s!==u.cache&&Eu(t,[vt],n,!0),Ws(),s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=nx(e,t,s,n);break e}else if(s!==c){c=gn(Error(o(424)),t),Qs(c),t=nx(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=jn(e.firstChild),Ot=t,ze=!0,pa=null,bn=!0,n=Ig(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ia(),s===c){t=Pn(e,t,n);break e}Lt(e,t,s,n)}t=t.child}return t;case 26:return zr(e,t),e===null?(n=yb(t.type,null,t.pendingProps,null))?t.memoizedState=n:ze||(n=t.type,e=t.pendingProps,s=Jr(Z.current).createElement(n),s[Rt]=t,s[Kt]=e,Ut(s,n,e),Et(s),t.stateNode=s):t.memoizedState=yb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Me(t),e===null&&ze&&(s=t.stateNode=mb(t.type,t.pendingProps,Z.current),Ot=t,bn=!0,c=et,ka(t.type)?(Zd=c,et=jn(s.firstChild)):et=c),Lt(e,t,t.pendingProps.children,n),zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((c=s=et)&&(s=mT(s,t.type,t.pendingProps,bn),s!==null?(t.stateNode=s,Ot=t,et=jn(s.firstChild),bn=!1,c=!0):c=!1),c||ga(t)),Me(t),c=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,s=u.children,Gd(c,u)?s=null:p!==null&&Gd(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Yu(e,t,E_,null,null,n),vl._currentValue=c),zr(e,t),Lt(e,t,s,n),t.child;case 6:return e===null&&ze&&((e=n=et)&&(n=pT(n,t.pendingProps,bn),n!==null?(t.stateNode=n,Ot=t,et=null,e=!0):e=!1),e||ga(t)),null;case 13:return ax(e,t,n);case 4:return de(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ai(t,null,s,n):Lt(e,t,s,n),t.child;case 11:return Zy(e,t,t.type,t.pendingProps,n);case 7:return Lt(e,t,t.pendingProps,n),t.child;case 8:return Lt(e,t,t.pendingProps.children,n),t.child;case 12:return Lt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,ya(t,t.type,s.value),Lt(e,t,s.children,n),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,Wa(t),c=zt(c),s=s(c),t.flags|=1,Lt(e,t,s,n),t.child;case 14:return Py(e,t,t.type,t.pendingProps,n);case 15:return $y(e,t,t.type,t.pendingProps,n);case 19:return sx(e,t,n);case 31:return U_(e,t,n);case 22:return Iy(e,t,n,t.pendingProps);case 24:return Wa(t),s=zt(vt),e===null?(c=Du(),c===null&&(c=Ie,u=ku(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:s,cache:c},Ou(t),ya(t,vt,c)):((e.lanes&n)!==0&&(zu(e,t),el(t,null,null,n),Ws()),c=e.memoizedState,u=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ya(t,vt,s)):(s=u.cache,ya(t,vt,s),s!==c.cache&&Eu(t,[vt],n,!0))),Lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function $n(e){e.flags|=4}function gd(e,t,n,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Rx())e.flags|=8192;else throw ni=vr,Ru}else e.flags&=-16777217}function rx(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sb(t))if(Rx())e.flags|=8192;else throw ni=vr,Ru}function Ur(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?re():536870912,e.lanes|=t,is|=t)}function ll(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function B_(e,t,n){var s=t.pendingProps;switch(Nu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Xn(vt),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ki(t)?$n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tu())),tt(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?($n(t),u!==null?(tt(t),rx(t,u)):(tt(t),gd(t,c,null,s,n))):u?u!==e.memoizedState?($n(t),tt(t),rx(t,u)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&$n(t),tt(t),gd(t,c,e,s,n)),null;case 27:if(Ae(t),n=Z.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return tt(t),null}e=E.current,Ki(t)?Hg(t):(e=mb(c,s,n),t.stateNode=e,$n(t))}return tt(t),null;case 5:if(Ae(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return tt(t),null}if(u=E.current,Ki(t))Hg(t);else{var p=Jr(Z.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?p.createElement(c,{is:s.is}):p.createElement(c)}}u[Rt]=t,u[Kt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(Ut(u,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$n(t)}}return tt(t),gd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=Z.current,Ki(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,c=Ot,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||ab(e.nodeValue,n)),e||ga(t,!0)}else e=Jr(e).createTextNode(s),e[Rt]=t,t.stateNode=e}return tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ki(t),n!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Rt]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else n=Tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(nn(t),t):(nn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return tt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ki(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Rt]=t}else Ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),c=!1}else c=Tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(nn(t),t):(nn(t),null)}return nn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==c&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ur(t,t.updateQueue),tt(t),null);case 4:return he(),e===null&&Vd(t.stateNode.containerInfo),tt(t),null;case 10:return Xn(t.type),tt(t),null;case 19:if(O(ht),s=t.memoizedState,s===null)return tt(t),null;if(c=(t.flags&128)!==0,u=s.rendering,u===null)if(c)ll(s,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Nr(e),u!==null){for(t.flags|=128,ll(s,!1),e=u.updateQueue,t.updateQueue=e,Ur(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zg(n,e),n=n.sibling;return Q(ht,ht.current&1|2),ze&&Fn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Se()>Yr&&(t.flags|=128,c=!0,ll(s,!1),t.lanes=4194304)}else{if(!c)if(e=Nr(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ur(t,e),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!ze)return tt(t),null}else 2*Se()-s.renderingStartTime>Yr&&n!==536870912&&(t.flags|=128,c=!0,ll(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Se(),e.sibling=null,n=ht.current,Q(ht,c?n&1|2:n&1),ze&&Fn(t,s.treeForkCount),e):(tt(t),null);case 22:case 23:return nn(t),Bu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),n=t.updateQueue,n!==null&&Ur(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&O(ei),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Xn(vt),tt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function H_(e,t){switch(Nu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(vt),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ae(t),null;case 31:if(t.memoizedState!==null){if(nn(t),t.alternate===null)throw Error(o(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(ht),null;case 4:return he(),null;case 10:return Xn(t.type),null;case 22:case 23:return nn(t),Bu(),e!==null&&O(ei),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xn(vt),null;case 25:return null;default:return null}}function ox(e,t){switch(Nu(t),t.tag){case 3:Xn(vt),he();break;case 26:case 27:case 5:Ae(t);break;case 4:he();break;case 31:t.memoizedState!==null&&nn(t);break;case 13:nn(t);break;case 19:O(ht);break;case 10:Xn(t.type);break;case 22:case 23:nn(t),Bu(),e!==null&&O(ei);break;case 24:Xn(vt)}}function rl(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var c=s.next;n=c;do{if((n.tag&e)===e){s=void 0;var u=n.create,p=n.inst;s=u(),p.destroy=s}n=n.next}while(n!==c)}}catch(v){Ke(t,t.return,v)}}function wa(e,t,n){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var u=c.next;s=u;do{if((s.tag&e)===e){var p=s.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=t;var T=n,B=v;try{B()}catch(P){Ke(c,T,P)}}}s=s.next}while(s!==u)}}catch(P){Ke(t,t.return,P)}}function cx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Wg(t,n)}catch(s){Ke(e,e.return,s)}}}function ux(e,t,n){n.props=si(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ke(e,t,s)}}function ol(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(c){Ke(e,t,c)}}function On(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(c){Ke(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ke(e,t,c)}else n.current=null}function dx(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(c){Ke(e,e.return,c)}}function yd(e,t,n){try{var s=e.stateNode;oT(s,e.type,n,t),s[Kt]=t}catch(c){Ke(e,e.return,c)}}function fx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ka(e.type)||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qn));else if(s!==4&&(s===27&&ka(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bd(e,t,n),e=e.sibling;e!==null;)bd(e,t,n),e=e.sibling}function Vr(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&ka(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vr(e,t,n),e=e.sibling;e!==null;)Vr(e,t,n),e=e.sibling}function hx(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Ut(t,s,n),t[Rt]=e,t[Kt]=n}catch(u){Ke(e,e.return,u)}}var In=!1,wt=!1,vd=!1,mx=typeof WeakSet=="function"?WeakSet:Set,kt=null;function q_(e,t){if(e=e.containerInfo,qd=so,e=Tg(e),hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var c=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,v=-1,T=-1,B=0,P=0,te=e,H=null;t:for(;;){for(var G;te!==n||c!==0&&te.nodeType!==3||(v=p+c),te!==u||s!==0&&te.nodeType!==3||(T=p+s),te.nodeType===3&&(p+=te.nodeValue.length),(G=te.firstChild)!==null;)H=te,te=G;for(;;){if(te===e)break t;if(H===n&&++B===c&&(v=p),H===u&&++P===s&&(T=p),(G=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=G}n=v===-1||T===-1?null:{start:v,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yd={focusedElem:e,selectionRange:n},so=!1,kt=t;kt!==null;)if(t=kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,kt=e;else for(;kt!==null;){switch(t=kt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var ge=si(n.type,c);e=s.getSnapshotBeforeUpdate(ge,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){Ke(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Kd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,kt=e;break}kt=t.return}}function px(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n),s&4&&rl(5,n);break;case 1:if(Wn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Ke(n,n.return,p)}else{var c=si(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ke(n,n.return,p)}}s&64&&cx(n),s&512&&ol(n,n.return);break;case 3:if(Wn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Wg(e,t)}catch(p){Ke(n,n.return,p)}}break;case 27:t===null&&s&4&&hx(n);case 26:case 5:Wn(e,n),t===null&&s&4&&dx(n),s&512&&ol(n,n.return);break;case 12:Wn(e,n);break;case 31:Wn(e,n),s&4&&xx(e,n);break;case 13:Wn(e,n),s&4&&bx(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$_.bind(null,n),gT(e,n))));break;case 22:if(s=n.memoizedState!==null||In,!s){t=t!==null&&t.memoizedState!==null||wt,c=In;var u=wt;In=s,(wt=t)&&!u?ea(e,n,(n.subtreeFlags&8772)!==0):Wn(e,n),In=c,wt=u}break;case 30:break;default:Wn(e,n)}}function gx(e){var t=e.alternate;t!==null&&(e.alternate=null,gx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$c(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,Qt=!1;function Jn(e,t,n){for(n=n.child;n!==null;)yx(e,t,n),n=n.sibling}function yx(e,t,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(At,n)}catch{}switch(n.tag){case 26:wt||On(n,t),Jn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||On(n,t);var s=at,c=Qt;ka(n.type)&&(at=n.stateNode,Qt=!1),Jn(e,t,n),yl(n.stateNode),at=s,Qt=c;break;case 5:wt||On(n,t);case 6:if(s=at,c=Qt,at=null,Jn(e,t,n),at=s,Qt=c,at!==null)if(Qt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(n.stateNode)}catch(u){Ke(n,t,u)}else try{at.removeChild(n.stateNode)}catch(u){Ke(n,t,u)}break;case 18:at!==null&&(Qt?(e=at,cb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fs(e)):cb(at,n.stateNode));break;case 4:s=at,c=Qt,at=n.stateNode.containerInfo,Qt=!0,Jn(e,t,n),at=s,Qt=c;break;case 0:case 11:case 14:case 15:wa(2,n,t),wt||wa(4,n,t),Jn(e,t,n);break;case 1:wt||(On(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&ux(n,t,s)),Jn(e,t,n);break;case 21:Jn(e,t,n);break;case 22:wt=(s=wt)||n.memoizedState!==null,Jn(e,t,n),wt=s;break;default:Jn(e,t,n)}}function xx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fs(e)}catch(n){Ke(t,t.return,n)}}}function bx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fs(e)}catch(n){Ke(t,t.return,n)}}function Y_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mx),t;default:throw Error(o(435,e.tag))}}function Br(e,t){var n=Y_(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var c=I_.bind(null,e,s);s.then(c,c)}})}function Zt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var c=n[s],u=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(ka(v.type)){at=v.stateNode,Qt=!1;break e}break;case 5:at=v.stateNode,Qt=!1;break e;case 3:case 4:at=v.stateNode.containerInfo,Qt=!0;break e}v=v.return}if(at===null)throw Error(o(160));yx(u,p,c),at=null,Qt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vx(t,e),t=t.sibling}var _n=null;function vx(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),Pt(e),s&4&&(wa(3,e,e.return),rl(3,e),wa(5,e,e.return));break;case 1:Zt(t,e),Pt(e),s&512&&(wt||n===null||On(n,n.return)),s&64&&In&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var c=_n;if(Zt(t,e),Pt(e),s&512&&(wt||n===null||On(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":u=c.getElementsByTagName("title")[0],(!u||u[zs]||u[Rt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(s),c.head.insertBefore(u,c.querySelector("head > title"))),Ut(u,s,n),u[Rt]=e,Et(u),s=u;break e;case"link":var p=vb("link","href",c).get(s+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(u=p[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}u=c.createElement(s),Ut(u,s,n),c.head.appendChild(u);break;case"meta":if(p=vb("meta","content",c).get(s+(n.content||""))){for(v=0;v<p.length;v++)if(u=p[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}u=c.createElement(s),Ut(u,s,n),c.head.appendChild(u);break;default:throw Error(o(468,s))}u[Rt]=e,Et(u),s=u}e.stateNode=s}else jb(c,e.type,e.stateNode);else e.stateNode=bb(c,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?jb(c,e.type,e.stateNode):bb(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&yd(e,e.memoizedProps,n.memoizedProps)}break;case 27:Zt(t,e),Pt(e),s&512&&(wt||n===null||On(n,n.return)),n!==null&&s&4&&yd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Zt(t,e),Pt(e),s&512&&(wt||n===null||On(n,n.return)),e.flags&32){c=e.stateNode;try{zi(c,"")}catch(ge){Ke(e,e.return,ge)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,yd(e,c,n!==null?n.memoizedProps:c)),s&1024&&(vd=!0);break;case 6:if(Zt(t,e),Pt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(ge){Ke(e,e.return,ge)}}break;case 3:if(to=null,c=_n,_n=Wr(t.containerInfo),Zt(t,e),_n=c,Pt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(ge){Ke(e,e.return,ge)}vd&&(vd=!1,jx(e));break;case 4:s=_n,_n=Wr(e.stateNode.containerInfo),Zt(t,e),Pt(e),_n=s;break;case 12:Zt(t,e),Pt(e);break;case 31:Zt(t,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Br(e,s)));break;case 13:Zt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(qr=Se()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Br(e,s)));break;case 22:c=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,B=In,P=wt;if(In=B||c,wt=P||T,Zt(t,e),wt=P,In=B,Pt(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||T||In||wt||li(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(u=T.stateNode,c)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=T.stateNode;var te=T.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;v.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ge){Ke(T,T.return,ge)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(ge){Ke(T,T.return,ge)}}}else if(t.tag===18){if(n===null){T=t;try{var G=T.stateNode;c?ub(G,!0):ub(T.stateNode,!1)}catch(ge){Ke(T,T.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Br(e,n))));break;case 19:Zt(t,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Br(e,s)));break;case 30:break;case 21:break;default:Zt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(fx(s)){n=s;break}s=s.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=xd(e);Vr(e,u,c);break;case 5:var p=n.stateNode;n.flags&32&&(zi(p,""),n.flags&=-33);var v=xd(e);Vr(e,v,p);break;case 3:case 4:var T=n.stateNode.containerInfo,B=xd(e);bd(e,B,T);break;default:throw Error(o(161))}}catch(P){Ke(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Wn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)px(e,t.alternate,t),t=t.sibling}function li(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),li(t);break;case 1:On(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ux(t,t.return,n),li(t);break;case 27:yl(t.stateNode);case 26:case 5:On(t,t.return),li(t);break;case 22:t.memoizedState===null&&li(t);break;case 30:li(t);break;default:li(t)}e=e.sibling}}function ea(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:ea(c,u,n),rl(4,u);break;case 1:if(ea(c,u,n),s=u,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ke(s,s.return,B)}if(s=u,c=s.updateQueue,c!==null){var v=s.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)Jg(T[c],v)}catch(B){Ke(s,s.return,B)}}n&&p&64&&cx(u),ol(u,u.return);break;case 27:hx(u);case 26:case 5:ea(c,u,n),n&&s===null&&p&4&&dx(u),ol(u,u.return);break;case 12:ea(c,u,n);break;case 31:ea(c,u,n),n&&p&4&&xx(c,u);break;case 13:ea(c,u,n),n&&p&4&&bx(c,u);break;case 22:u.memoizedState===null&&ea(c,u,n),ol(u,u.return);break;case 30:break;default:ea(c,u,n)}t=t.sibling}}function jd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Zs(n))}function Sd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zs(e))}function Tn(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sx(e,t,n,s),t=t.sibling}function Sx(e,t,n,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Tn(e,t,n,s),c&2048&&rl(9,t);break;case 1:Tn(e,t,n,s);break;case 3:Tn(e,t,n,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zs(e)));break;case 12:if(c&2048){Tn(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,v=u.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ke(t,t.return,T)}}else Tn(e,t,n,s);break;case 31:Tn(e,t,n,s);break;case 13:Tn(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?Tn(e,t,n,s):cl(e,t):u._visibility&2?Tn(e,t,n,s):(u._visibility|=2,ts(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&jd(p,t);break;case 24:Tn(e,t,n,s),c&2048&&Sd(t.alternate,t);break;default:Tn(e,t,n,s)}}function ts(e,t,n,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,v=n,T=s,B=p.flags;switch(p.tag){case 0:case 11:case 15:ts(u,p,v,T,c),rl(8,p);break;case 23:break;case 22:var P=p.stateNode;p.memoizedState!==null?P._visibility&2?ts(u,p,v,T,c):cl(u,p):(P._visibility|=2,ts(u,p,v,T,c)),c&&B&2048&&jd(p.alternate,p);break;case 24:ts(u,p,v,T,c),c&&B&2048&&Sd(p.alternate,p);break;default:ts(u,p,v,T,c)}t=t.sibling}}function cl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,c=s.flags;switch(s.tag){case 22:cl(n,s),c&2048&&jd(s.alternate,s);break;case 24:cl(n,s),c&2048&&Sd(s.alternate,s);break;default:cl(n,s)}t=t.sibling}}var ul=8192;function ns(e,t,n){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)wx(e,t,n),e=e.sibling}function wx(e,t,n){switch(e.tag){case 26:ns(e,t,n),e.flags&ul&&e.memoizedState!==null&&AT(n,_n,e.memoizedState,e.memoizedProps);break;case 5:ns(e,t,n);break;case 3:case 4:var s=_n;_n=Wr(e.stateNode.containerInfo),ns(e,t,n),_n=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ul,ul=16777216,ns(e,t,n),ul=s):ns(e,t,n));break;default:ns(e,t,n)}}function Nx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];kt=s,Tx(s,e)}Nx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_x(e),e=e.sibling}function _x(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&wa(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hr(e)):dl(e);break;default:dl(e)}}function Hr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];kt=s,Tx(s,e)}Nx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),Hr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hr(t));break;default:Hr(t)}e=e.sibling}}function Tx(e,t){for(;kt!==null;){var n=kt;switch(n.tag){case 0:case 11:case 15:wa(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Zs(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,kt=s;else e:for(n=e;kt!==null;){s=kt;var c=s.sibling,u=s.return;if(gx(s),s===n){kt=null;break e}if(c!==null){c.return=u,kt=c;break e}kt=u}}}var G_={getCacheForType:function(e){var t=zt(vt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return zt(vt).controller.signal}},F_=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ie=null,Ee=null,De=0,Fe=0,an=null,Na=!1,as=!1,wd=!1,ta=0,ut=0,_a=0,ri=0,Nd=0,sn=0,is=0,fl=null,$t=null,_d=!1,qr=0,Cx=0,Yr=1/0,Gr=null,Ta=null,_t=0,Ca=null,ss=null,na=0,Td=0,Cd=null,Ax=null,hl=0,Ad=null;function ln(){return(qe&2)!==0&&De!==0?De&-De:U.T!==null?Od():Ai()}function Ex(){if(sn===0)if((De&536870912)===0||ze){var e=Ni;Ni<<=1,(Ni&3932160)===0&&(Ni=262144),sn=e}else sn=536870912;return e=tn.current,e!==null&&(e.flags|=32),sn}function It(e,t,n){(e===Ie&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Aa(e,De,sn,!1)),Oe(e,n),((qe&2)===0||e!==Ie)&&(e===Ie&&((qe&2)===0&&(ri|=n),ut===4&&Aa(e,De,sn,!1)),zn(e))}function kx(e,t,n){if((qe&6)!==0)throw Error(o(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ga(e,t),c=s?Q_(e,t):kd(e,t,!0),u=s;do{if(c===0){as&&!s&&Aa(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!K_(n)){c=kd(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;c=fl;var T=v.current.memoizedState.isDehydrated;if(T&&(ls(v,p).flags|=256),p=kd(v,p,!1),p!==2){if(wd&&!T){v.errorRecoveryDisabledLanes|=u,ri|=u,c=4;break e}u=$t,$t=c,u!==null&&($t===null?$t=u:$t.push.apply($t,u))}c=p}if(u=!1,c!==2)continue}}if(c===1){ls(e,0),Aa(e,t,0,!0);break}e:{switch(s=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Aa(s,t,sn,!Na);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=qr+300-Se(),10<c)){if(Aa(s,t,sn,!Na),Ti(s,0,!0)!==0)break e;na=t,s.timeoutHandle=rb(Mx.bind(null,s,n,$t,Gr,_d,t,sn,ri,is,Na,u,"Throttled",-0,0),c);break e}Mx(s,n,$t,Gr,_d,t,sn,ri,is,Na,u,null,-0,0)}}break}while(!0);zn(e)}function Mx(e,t,n,s,c,u,p,v,T,B,P,te,H,G){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},wx(t,u,te);var ge=(u&62914560)===u?qr-Se():(u&4194048)===u?Cx-Se():0;if(ge=ET(te,ge),ge!==null){na=u,e.cancelPendingCommit=ge(Bx.bind(null,e,t,u,n,s,c,p,v,T,P,te,null,H,G)),Aa(e,u,p,!B);return}}Bx(e,t,u,n,s,c,p,v,T)}function K_(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var c=n[s],u=c.getSnapshot;c=c.value;try{if(!Wt(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Aa(e,t,n,s){t&=~Nd,t&=~ri,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var u=31-bt(c),p=1<<u;s[u]=-1,c&=~p}n!==0&&qt(e,n,t)}function Fr(){return(qe&6)===0?(ml(0),!1):!0}function Ed(){if(Ee!==null){if(Fe===0)var e=Ee.return;else e=Ee,Kn=Ja=null,Ku(e),$i=null,$s=0,e=Ee;for(;e!==null;)ox(e.alternate,e),e=e.return;Ee=null}}function ls(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,dT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),na=0,Ed(),Ie=e,Ee=n=Gn(e.current,null),De=t,Fe=0,an=null,Na=!1,as=Ga(e,t),wd=!1,is=sn=Nd=ri=_a=ut=0,$t=fl=null,_d=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-bt(s),u=1<<c;t|=e[c],s&=~u}return ta=t,dr(),n}function Dx(e,t){Te=null,U.H=il,t===Pi||t===br?(t=Zg(),Fe=3):t===Ru?(t=Zg(),Fe=4):Fe=t===rd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,an=t,Ee===null&&(ut=1,Rr(e,gn(t,e.current)))}function Rx(){var e=tn.current;return e===null?!0:(De&4194048)===De?vn===null:(De&62914560)===De||(De&536870912)!==0?e===vn:!1}function Ox(){var e=U.H;return U.H=il,e===null?il:e}function zx(){var e=U.A;return U.A=G_,e}function Kr(){ut=4,Na||(De&4194048)!==De&&tn.current!==null||(as=!0),(_a&134217727)===0&&(ri&134217727)===0||Ie===null||Aa(Ie,De,sn,!1)}function kd(e,t,n){var s=qe;qe|=2;var c=Ox(),u=zx();(Ie!==e||De!==t)&&(Gr=null,ls(e,t)),t=!1;var p=ut;e:do try{if(Fe!==0&&Ee!==null){var v=Ee,T=an;switch(Fe){case 8:Ed(),p=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(t=!0);var B=Fe;if(Fe=0,an=null,rs(e,v,T,B),n&&as){p=0;break e}break;default:B=Fe,Fe=0,an=null,rs(e,v,T,B)}}X_(),p=ut;break}catch(P){Dx(e,P)}while(!0);return t&&e.shellSuspendCounter++,Kn=Ja=null,qe=s,U.H=c,U.A=u,Ee===null&&(Ie=null,De=0,dr()),p}function X_(){for(;Ee!==null;)Lx(Ee)}function Q_(e,t){var n=qe;qe|=2;var s=Ox(),c=zx();Ie!==e||De!==t?(Gr=null,Yr=Se()+500,ls(e,t)):as=Ga(e,t);e:do try{if(Fe!==0&&Ee!==null){t=Ee;var u=an;t:switch(Fe){case 1:Fe=0,an=null,rs(e,t,u,1);break;case 2:case 9:if(Xg(u)){Fe=0,an=null,Ux(t);break}t=function(){Fe!==2&&Fe!==9||Ie!==e||(Fe=7),zn(e)},u.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Xg(u)?(Fe=0,an=null,Ux(t)):(Fe=0,an=null,rs(e,t,u,7));break;case 5:var p=null;switch(Ee.tag){case 26:p=Ee.memoizedState;case 5:case 27:var v=Ee;if(p?Sb(p):v.stateNode.complete){Fe=0,an=null;var T=v.sibling;if(T!==null)Ee=T;else{var B=v.return;B!==null?(Ee=B,Xr(B)):Ee=null}break t}}Fe=0,an=null,rs(e,t,u,5);break;case 6:Fe=0,an=null,rs(e,t,u,6);break;case 8:Ed(),ut=6;break e;default:throw Error(o(462))}}Z_();break}catch(P){Dx(e,P)}while(!0);return Kn=Ja=null,U.H=s,U.A=c,qe=n,Ee!==null?0:(Ie=null,De=0,dr(),ut)}function Z_(){for(;Ee!==null&&!Xe();)Lx(Ee)}function Lx(e){var t=lx(e.alternate,e,ta);e.memoizedProps=e.pendingProps,t===null?Xr(e):Ee=t}function Ux(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ex(n,t,t.pendingProps,t.type,void 0,De);break;case 11:t=ex(n,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Ku(t);default:ox(n,t),t=Ee=zg(t,ta),t=lx(n,t,ta)}e.memoizedProps=e.pendingProps,t===null?Xr(e):Ee=t}function rs(e,t,n,s){Kn=Ja=null,Ku(t),$i=null,$s=0;var c=t.return;try{if(L_(e,c,t,n,De)){ut=1,Rr(e,gn(n,e.current)),Ee=null;return}}catch(u){if(c!==null)throw Ee=c,u;ut=1,Rr(e,gn(n,e.current)),Ee=null;return}t.flags&32768?(ze||s===1?e=!0:as||(De&536870912)!==0?e=!1:(Na=e=!0,(s===2||s===9||s===3||s===6)&&(s=tn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Vx(t,e)):Xr(t)}function Xr(e){var t=e;do{if((t.flags&32768)!==0){Vx(t,Na);return}e=t.return;var n=B_(t.alternate,t,ta);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);ut===0&&(ut=5)}function Vx(e,t){do{var n=H_(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);ut=6,Ee=null}function Bx(e,t,n,s,c,u,p,v,T){e.cancelPendingCommit=null;do Qr();while(_t!==0);if((qe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=xu,ft(e,n,u,p,v,T),e===Ie&&(Ee=Ie=null,De=0),ss=t,Ca=e,na=n,Td=u,Cd=c,Ax=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,J_(ne,function(){return Fx(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=U.T,U.T=null,c=X.p,X.p=2,p=qe,qe|=4;try{q_(e,t,n)}finally{qe=p,X.p=c,U.T=s}}_t=1,Hx(),qx(),Yx()}}function Hx(){if(_t===1){_t=0;var e=Ca,t=ss,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null;var s=X.p;X.p=2;var c=qe;qe|=4;try{vx(t,e);var u=Yd,p=Tg(e.containerInfo),v=u.focusedElem,T=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&_g(v.ownerDocument.documentElement,v)){if(T!==null&&hu(v)){var B=T.start,P=T.end;if(P===void 0&&(P=B),"selectionStart"in v)v.selectionStart=B,v.selectionEnd=Math.min(P,v.value.length);else{var te=v.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var G=H.getSelection(),ge=v.textContent.length,we=Math.min(T.start,ge),$e=T.end===void 0?we:Math.min(T.end,ge);!G.extend&&we>$e&&(p=$e,$e=we,we=p);var L=Ng(v,we),k=Ng(v,$e);if(L&&k&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var V=te.createRange();V.setStart(L.node,L.offset),G.removeAllRanges(),we>$e?(G.addRange(V),G.extend(k.node,k.offset)):(V.setEnd(k.node,k.offset),G.addRange(V))}}}}for(te=[],G=v;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<te.length;v++){var I=te[v];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}so=!!qd,Yd=qd=null}finally{qe=c,X.p=s,U.T=n}}e.current=t,_t=2}}function qx(){if(_t===2){_t=0;var e=Ca,t=ss,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=U.T,U.T=null;var s=X.p;X.p=2;var c=qe;qe|=4;try{px(e,t.alternate,t)}finally{qe=c,X.p=s,U.T=n}}_t=3}}function Yx(){if(_t===4||_t===3){_t=0,le();var e=Ca,t=ss,n=na,s=Ax;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?_t=5:(_t=0,ss=Ca=null,Gx(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ta=null),Fa(n),t=t.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(At,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=U.T,c=X.p,X.p=2,U.T=null;try{for(var u=e.onRecoverableError,p=0;p<s.length;p++){var v=s[p];u(v.value,{componentStack:v.stack})}}finally{U.T=t,X.p=c}}(na&3)!==0&&Qr(),zn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Ad?hl++:(hl=0,Ad=e):hl=0,ml(0)}}function Gx(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zs(t)))}function Qr(){return Hx(),qx(),Yx(),Fx()}function Fx(){if(_t!==5)return!1;var e=Ca,t=Td;Td=0;var n=Fa(na),s=U.T,c=X.p;try{X.p=32>n?32:n,U.T=null,n=Cd,Cd=null;var u=Ca,p=na;if(_t=0,ss=Ca=null,na=0,(qe&6)!==0)throw Error(o(331));var v=qe;if(qe|=4,_x(u.current),Sx(u,u.current,p,n),qe=v,ml(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(At,u)}catch{}return!0}finally{X.p=c,U.T=s,Gx(e,t)}}function Kx(e,t,n){t=gn(n,t),t=ld(e.stateNode,t,2),e=va(e,t,2),e!==null&&(Oe(e,2),zn(e))}function Ke(e,t,n){if(e.tag===3)Kx(e,e,n);else for(;t!==null;){if(t.tag===3){Kx(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ta===null||!Ta.has(s))){e=gn(n,e),n=Xy(2),s=va(t,n,2),s!==null&&(Qy(n,s,t,e),Oe(s,2),zn(s));break}}t=t.return}}function Md(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new F_;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(n)||(wd=!0,c.add(n),e=P_.bind(null,e,t,n),t.then(e,e))}function P_(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(De&n)===n&&(ut===4||ut===3&&(De&62914560)===De&&300>Se()-qr?(qe&2)===0&&ls(e,0):Nd|=n,is===De&&(is=0)),zn(e)}function Xx(e,t){t===0&&(t=re()),e=Pa(e,t),e!==null&&(Oe(e,t),zn(e))}function $_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xx(e,n)}function I_(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),Xx(e,n)}function J_(e,t){return yt(e,t)}var Zr=null,os=null,Dd=!1,Pr=!1,Rd=!1,Ea=0;function zn(e){e!==os&&e.next===null&&(os===null?Zr=os=e:os=os.next=e),Pr=!0,Dd||(Dd=!0,eT())}function ml(e,t){if(!Rd&&Pr){Rd=!0;do for(var n=!1,s=Zr;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var u=0;else{var p=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-bt(42|e)+1)-1,u&=c&~(p&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,$x(s,u))}else u=De,u=Ti(s,s===Ie?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Ga(s,u)||(n=!0,$x(s,u));s=s.next}while(n);Rd=!1}}function W_(){Qx()}function Qx(){Pr=Dd=!1;var e=0;Ea!==0&&uT()&&(e=Ea);for(var t=Se(),n=null,s=Zr;s!==null;){var c=s.next,u=Zx(s,t);u===0?(s.next=null,n===null?Zr=c:n.next=c,c===null&&(os=n)):(n=s,(e!==0||(u&3)!==0)&&(Pr=!0)),s=c}_t!==0&&_t!==5||ml(e),Ea!==0&&(Ea=0)}function Zx(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-bt(u),v=1<<p,T=c[p];T===-1?((v&n)===0||(v&s)!==0)&&(c[p]=ce(v,t)):T<=t&&(e.expiredLanes|=v),u&=~v}if(t=Ie,n=De,n=Ti(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Jt(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ga(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Jt(s),Fa(n)){case 2:case 8:n=Ct;break;case 32:n=ne;break;case 268435456:n=Qe;break;default:n=ne}return s=Px.bind(null,e),n=yt(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Jt(s),e.callbackPriority=2,e.callbackNode=null,2}function Px(e,t){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qr()&&e.callbackNode!==n)return null;var s=De;return s=Ti(e,e===Ie?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(kx(e,s,t),Zx(e,Se()),e.callbackNode!=null&&e.callbackNode===n?Px.bind(null,e):null)}function $x(e,t){if(Qr())return null;kx(e,t,!0)}function eT(){fT(function(){(qe&6)!==0?yt(He,W_):Qx()})}function Od(){if(Ea===0){var e=Qi;e===0&&(e=da,da<<=1,(da&261888)===0&&(da=256)),Ea=e}return Ea}function Ix(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ar(""+e)}function Jx(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function tT(e,t,n,s,c){if(t==="submit"&&n&&n.stateNode===c){var u=Ix((c[Kt]||null).action),p=s.submitter;p&&(t=(t=p[Kt]||null)?Ix(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var v=new rr("action","action",null,s,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ea!==0){var T=p?Jx(c,p):new FormData(c);ed(n,{pending:!0,data:T,method:c.method,action:u},null,T)}}else typeof u=="function"&&(v.preventDefault(),T=p?Jx(c,p):new FormData(c),ed(n,{pending:!0,data:T,method:c.method,action:u},u,T))},currentTarget:c}]})}}for(var zd=0;zd<yu.length;zd++){var Ld=yu[zd],nT=Ld.toLowerCase(),aT=Ld[0].toUpperCase()+Ld.slice(1);Nn(nT,"on"+aT)}Nn(Eg,"onAnimationEnd"),Nn(kg,"onAnimationIteration"),Nn(Mg,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(b_,"onTransitionRun"),Nn(v_,"onTransitionStart"),Nn(j_,"onTransitionCancel"),Nn(Dg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Wx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],c=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],T=v.instance,B=v.currentTarget;if(v=v.listener,T!==u&&c.isPropagationStopped())break e;u=v,c.currentTarget=B;try{u(c)}catch(P){ur(P)}c.currentTarget=null,u=T}else for(p=0;p<s.length;p++){if(v=s[p],T=v.instance,B=v.currentTarget,v=v.listener,T!==u&&c.isPropagationStopped())break e;u=v,c.currentTarget=B;try{u(c)}catch(P){ur(P)}c.currentTarget=null,u=T}}}}function ke(e,t){var n=t[Pc];n===void 0&&(n=t[Pc]=new Set);var s=e+"__bubble";n.has(s)||(eb(t,e,2,!1),n.add(s))}function Ud(e,t,n){var s=0;t&&(s|=4),eb(n,e,s,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[$r]){e[$r]=!0,Qp.forEach(function(n){n!=="selectionchange"&&(iT.has(n)||Ud(n,!1,e),Ud(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$r]||(t[$r]=!0,Ud("selectionchange",!1,t))}}function eb(e,t,n,s){switch(Eb(t)){case 2:var c=DT;break;case 8:c=RT;break;default:c=Wd}n=c.bind(null,t,n,e),c=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Bd(e,t,n,s,c){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=s.return;p!==null;){var T=p.tag;if((T===3||T===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=ki(v),p===null)return;if(T=p.tag,T===5||T===6||T===26||T===27){s=u=p;continue e}v=v.parentNode}}s=s.return}sg(function(){var B=u,P=nu(n),te=[];e:{var H=Rg.get(e);if(H!==void 0){var G=rr,ge=e;switch(e){case"keypress":if(sr(n)===0)break e;case"keydown":case"keyup":G=IN;break;case"focusin":ge="focus",G=ou;break;case"focusout":ge="blur",G=ou;break;case"beforeblur":case"afterblur":G=ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=BN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=e_;break;case Eg:case kg:case Mg:G=YN;break;case Dg:G=n_;break;case"scroll":case"scrollend":G=UN;break;case"wheel":G=i_;break;case"copy":case"cut":case"paste":G=FN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ug;break;case"toggle":case"beforetoggle":G=l_}var we=(t&4)!==0,$e=!we&&(e==="scroll"||e==="scrollend"),L=we?H!==null?H+"Capture":null:H;we=[];for(var k=B,V;k!==null;){var I=k;if(V=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||V===null||L===null||(I=Us(k,L),I!=null&&we.push(gl(k,I,V))),$e)break;k=k.return}0<we.length&&(H=new G(H,ge,null,n,P),te.push({event:H,listeners:we}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&n!==tu&&(ge=n.relatedTarget||n.fromElement)&&(ki(ge)||ge[Ei]))break e;if((G||H)&&(H=P.window===P?P:(H=P.ownerDocument)?H.defaultView||H.parentWindow:window,G?(ge=n.relatedTarget||n.toElement,G=B,ge=ge?ki(ge):null,ge!==null&&($e=h(ge),we=ge.tag,ge!==$e||we!==5&&we!==27&&we!==6)&&(ge=null)):(G=null,ge=B),G!==ge)){if(we=og,I="onMouseLeave",L="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(we=ug,I="onPointerLeave",L="onPointerEnter",k="pointer"),$e=G==null?H:Ls(G),V=ge==null?H:Ls(ge),H=new we(I,k+"leave",G,n,P),H.target=$e,H.relatedTarget=V,I=null,ki(P)===B&&(we=new we(L,k+"enter",ge,n,P),we.target=V,we.relatedTarget=$e,I=we),$e=I,G&&ge)t:{for(we=sT,L=G,k=ge,V=0,I=L;I;I=we(I))V++;I=0;for(var be=k;be;be=we(be))I++;for(;0<V-I;)L=we(L),V--;for(;0<I-V;)k=we(k),I--;for(;V--;){if(L===k||k!==null&&L===k.alternate){we=L;break t}L=we(L),k=we(k)}we=null}else we=null;G!==null&&tb(te,H,G,we,!1),ge!==null&&$e!==null&&tb(te,$e,ge,we,!0)}}e:{if(H=B?Ls(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var Ve=xg;else if(gg(H))if(bg)Ve=g_;else{Ve=m_;var xe=h_}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&eu(B.elementType)&&(Ve=xg):Ve=p_;if(Ve&&(Ve=Ve(e,B))){yg(te,Ve,n,P);break e}xe&&xe(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Wc(H,"number",H.value)}switch(xe=B?Ls(B):window,e){case"focusin":(gg(xe)||xe.contentEditable==="true")&&(Bi=xe,mu=B,Ks=null);break;case"focusout":Ks=mu=Bi=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Cg(te,n,P);break;case"selectionchange":if(x_)break;case"keydown":case"keyup":Cg(te,n,P)}var Ce;if(uu)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Vi?mg(e,n)&&(Re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Re="onCompositionStart");Re&&(dg&&n.locale!=="ko"&&(Vi||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Vi&&(Ce=lg()):(ha=P,su="value"in ha?ha.value:ha.textContent,Vi=!0)),xe=Ir(B,Re),0<xe.length&&(Re=new cg(Re,e,null,n,P),te.push({event:Re,listeners:xe}),Ce?Re.data=Ce:(Ce=pg(n),Ce!==null&&(Re.data=Ce)))),(Ce=o_?c_(e,n):u_(e,n))&&(Re=Ir(B,"onBeforeInput"),0<Re.length&&(xe=new cg("onBeforeInput","beforeinput",null,n,P),te.push({event:xe,listeners:Re}),xe.data=Ce)),tT(te,e,B,n,P)}Wx(te,t)})}function gl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",s=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Us(e,n),c!=null&&s.unshift(gl(e,c,u)),c=Us(e,t),c!=null&&s.push(gl(e,c,u))),e.tag===3)return s;e=e.return}return[]}function sT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tb(e,t,n,s,c){for(var u=t._reactName,p=[];n!==null&&n!==s;){var v=n,T=v.alternate,B=v.stateNode;if(v=v.tag,T!==null&&T===s)break;v!==5&&v!==26&&v!==27||B===null||(T=B,c?(B=Us(n,u),B!=null&&p.unshift(gl(n,B,T))):c||(B=Us(n,u),B!=null&&p.push(gl(n,B,T)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var lT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function nb(e){return(typeof e=="string"?e:""+e).replace(lT,`
`).replace(rT,"")}function ab(e,t){return t=nb(t),nb(e)===t}function Pe(e,t,n,s,c,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||zi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&zi(e,""+s);break;case"className":tr(e,"class",s);break;case"tabIndex":tr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(e,n,s);break;case"style":ag(e,s,u);break;case"data":if(t!=="object"){tr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ar(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Pe(e,t,"name",c.name,c,null),Pe(e,t,"formEncType",c.formEncType,c,null),Pe(e,t,"formMethod",c.formMethod,c,null),Pe(e,t,"formTarget",c.formTarget,c,null)):(Pe(e,t,"encType",c.encType,c,null),Pe(e,t,"method",c.method,c,null),Pe(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ar(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=qn);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=ar(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ke("beforetoggle",e),ke("toggle",e),er(e,"popover",s);break;case"xlinkActuate":Hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Hn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Hn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Hn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Hn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":er(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zN.get(n)||n,er(e,n,s))}}function Hd(e,t,n,s,c,u){switch(n){case"style":ag(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof s=="string"?zi(e,s):(typeof s=="number"||typeof s=="bigint")&&zi(e,""+s);break;case"onScroll":s!=null&&ke("scroll",e);break;case"onScrollEnd":s!=null&&ke("scrollend",e);break;case"onClick":s!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zp.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[Kt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,c);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):er(e,n,s)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var s=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var p=n[u];if(p!=null)switch(u){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Pe(e,t,u,p,n,null)}}c&&Pe(e,t,"srcSet",n.srcSet,n,null),s&&Pe(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var v=u=p=c=null,T=null,B=null;for(s in n)if(n.hasOwnProperty(s)){var P=n[s];if(P!=null)switch(s){case"name":c=P;break;case"type":p=P;break;case"checked":T=P;break;case"defaultChecked":B=P;break;case"value":u=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,t));break;default:Pe(e,t,s,P,n,null)}}Wp(e,u,v,T,B,p,c,!1);return;case"select":ke("invalid",e),s=p=u=null;for(c in n)if(n.hasOwnProperty(c)&&(v=n[c],v!=null))switch(c){case"value":u=v;break;case"defaultValue":p=v;break;case"multiple":s=v;default:Pe(e,t,c,v,n,null)}t=u,n=p,e.multiple=!!s,t!=null?Oi(e,!!s,t,!1):n!=null&&Oi(e,!!s,n,!0);return;case"textarea":ke("invalid",e),u=c=s=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":s=v;break;case"defaultValue":c=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:Pe(e,t,p,v,n,null)}tg(e,s,c,u);return;case"option":for(T in n)if(n.hasOwnProperty(T)&&(s=n[T],s!=null))switch(T){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Pe(e,t,T,s,n,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(s=0;s<pl.length;s++)ke(pl[s],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in n)if(n.hasOwnProperty(B)&&(s=n[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Pe(e,t,B,s,n,null)}return;default:if(eu(t)){for(P in n)n.hasOwnProperty(P)&&(s=n[P],s!==void 0&&Hd(e,t,P,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&Pe(e,t,v,s,n,null))}function oT(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,p=null,v=null,T=null,B=null,P=null;for(G in n){var te=n[G];if(n.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":T=te;default:s.hasOwnProperty(G)||Pe(e,t,G,null,s,te)}}for(var H in s){var G=s[H];if(te=n[H],s.hasOwnProperty(H)&&(G!=null||te!=null))switch(H){case"type":u=G;break;case"name":c=G;break;case"checked":B=G;break;case"defaultChecked":P=G;break;case"value":p=G;break;case"defaultValue":v=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:G!==te&&Pe(e,t,H,G,s,te)}}Jc(e,p,v,T,B,P,u,c);return;case"select":G=p=v=H=null;for(u in n)if(T=n[u],n.hasOwnProperty(u)&&T!=null)switch(u){case"value":break;case"multiple":G=T;default:s.hasOwnProperty(u)||Pe(e,t,u,null,s,T)}for(c in s)if(u=s[c],T=n[c],s.hasOwnProperty(c)&&(u!=null||T!=null))switch(c){case"value":H=u;break;case"defaultValue":v=u;break;case"multiple":p=u;default:u!==T&&Pe(e,t,c,u,s,T)}t=v,n=p,s=G,H!=null?Oi(e,!!n,H,!1):!!s!=!!n&&(t!=null?Oi(e,!!n,t,!0):Oi(e,!!n,n?[]:"",!1));return;case"textarea":G=H=null;for(v in n)if(c=n[v],n.hasOwnProperty(v)&&c!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Pe(e,t,v,null,s,c)}for(p in s)if(c=s[p],u=n[p],s.hasOwnProperty(p)&&(c!=null||u!=null))switch(p){case"value":H=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&Pe(e,t,p,c,s,u)}eg(e,H,G);return;case"option":for(var ge in n)if(H=n[ge],n.hasOwnProperty(ge)&&H!=null&&!s.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Pe(e,t,ge,null,s,H)}for(T in s)if(H=s[T],G=n[T],s.hasOwnProperty(T)&&H!==G&&(H!=null||G!=null))switch(T){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Pe(e,t,T,H,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)H=n[we],n.hasOwnProperty(we)&&H!=null&&!s.hasOwnProperty(we)&&Pe(e,t,we,null,s,H);for(B in s)if(H=s[B],G=n[B],s.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:Pe(e,t,B,H,s,G)}return;default:if(eu(t)){for(var $e in n)H=n[$e],n.hasOwnProperty($e)&&H!==void 0&&!s.hasOwnProperty($e)&&Hd(e,t,$e,void 0,s,H);for(P in s)H=s[P],G=n[P],!s.hasOwnProperty(P)||H===G||H===void 0&&G===void 0||Hd(e,t,P,H,s,G);return}}for(var L in n)H=n[L],n.hasOwnProperty(L)&&H!=null&&!s.hasOwnProperty(L)&&Pe(e,t,L,null,s,H);for(te in s)H=s[te],G=n[te],!s.hasOwnProperty(te)||H===G||H==null&&G==null||Pe(e,t,te,H,s,G)}function ib(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var c=n[s],u=c.transferSize,p=c.initiatorType,v=c.duration;if(u&&v&&ib(p)){for(p=0,v=c.responseEnd,s+=1;s<n.length;s++){var T=n[s],B=T.startTime;if(B>v)break;var P=T.transferSize,te=T.initiatorType;P&&ib(te)&&(T=T.responseEnd,p+=P*(T<v?1:(v-B)/(T-B)))}if(--s,t+=8*(u+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qd=null,Yd=null;function Jr(e){return e.nodeType===9?e:e.ownerDocument}function sb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lb(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fd=null;function uT(){var e=window.event;return e&&e.type==="popstate"?e===Fd?!1:(Fd=e,!0):(Fd=null,!1)}var rb=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(e){return ob.resolve(null).then(e).catch(hT)}:rb;function hT(e){setTimeout(function(){throw e})}function ka(e){return e==="head"}function cb(e,t){var n=t,s=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(c),fs(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")yl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,yl(n);for(var u=n.firstChild;u;){var p=u.nextSibling,v=u.nodeName;u[zs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=p}}else n==="body"&&yl(e.ownerDocument.body);n=c}while(n);fs(t)}function ub(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Kd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kd(n),$c(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function mT(e,t,n,s){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[zs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function pT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function db(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jn(e.nextSibling),e===null))return null;return e}function Xd(e){return e.data==="$?"||e.data==="$~"}function Qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zd=null;function fb(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return jn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function hb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function mb(e,t,n){switch(t=Jr(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$c(e)}var Sn=new Map,pb=new Set;function Wr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var aa=X.d;X.d={f:yT,r:xT,D:bT,C:vT,L:jT,m:ST,X:NT,S:wT,M:_T};function yT(){var e=aa.f(),t=Fr();return e||t}function xT(e){var t=Mi(e);t!==null&&t.tag===5&&t.type==="form"?Dy(t):aa.r(e)}var cs=typeof document>"u"?null:document;function gb(e,t,n){var s=cs;if(s&&typeof t=="string"&&t){var c=mn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),pb.has(c)||(pb.add(c),e={rel:e,crossOrigin:n,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),Ut(t,"link",e),Et(t),s.head.appendChild(t)))}}function bT(e){aa.D(e),gb("dns-prefetch",e,null)}function vT(e,t){aa.C(e,t),gb("preconnect",e,t)}function jT(e,t,n){aa.L(e,t,n);var s=cs;if(s&&e&&t){var c='link[rel="preload"][as="'+mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+mn(n.imageSizes)+'"]')):c+='[href="'+mn(e)+'"]';var u=c;switch(t){case"style":u=us(e);break;case"script":u=ds(e)}Sn.has(u)||(e=j({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Sn.set(u,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(xl(u))||t==="script"&&s.querySelector(bl(u))||(t=s.createElement("link"),Ut(t,"link",e),Et(t),s.head.appendChild(t)))}}function ST(e,t){aa.m(e,t);var n=cs;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+mn(s)+'"][href="'+mn(e)+'"]',u=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ds(e)}if(!Sn.has(u)&&(e=j({rel:"modulepreload",href:e},t),Sn.set(u,e),n.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bl(u)))return}s=n.createElement("link"),Ut(s,"link",e),Et(s),n.head.appendChild(s)}}}function wT(e,t,n){aa.S(e,t,n);var s=cs;if(s&&e){var c=Di(s).hoistableStyles,u=us(e);t=t||"default";var p=c.get(u);if(!p){var v={loading:0,preload:null};if(p=s.querySelector(xl(u)))v.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sn.get(u))&&Pd(e,n);var T=p=s.createElement("link");Et(T),Ut(T,"link",e),T._p=new Promise(function(B,P){T.onload=B,T.onerror=P}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,eo(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(u,p)}}}function NT(e,t){aa.X(e,t);var n=cs;if(n&&e){var s=Di(n).hoistableScripts,c=ds(e),u=s.get(c);u||(u=n.querySelector(bl(c)),u||(e=j({src:e,async:!0},t),(t=Sn.get(c))&&$d(e,t),u=n.createElement("script"),Et(u),Ut(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(c,u))}}function _T(e,t){aa.M(e,t);var n=cs;if(n&&e){var s=Di(n).hoistableScripts,c=ds(e),u=s.get(c);u||(u=n.querySelector(bl(c)),u||(e=j({src:e,async:!0,type:"module"},t),(t=Sn.get(c))&&$d(e,t),u=n.createElement("script"),Et(u),Ut(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(c,u))}}function yb(e,t,n,s){var c=(c=Z.current)?Wr(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=us(n.href),n=Di(c).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=us(n.href);var u=Di(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(xl(e)))&&!u._p&&(p.instance=u,p.state.loading=5),Sn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sn.set(e,n),u||TT(c,e,n,p.state))),t&&s===null)throw Error(o(528,""));return p}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ds(n),n=Di(c).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function us(e){return'href="'+mn(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function xb(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function TT(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ut(t,"link",n),Et(t),e.head.appendChild(t))}function ds(e){return'[src="'+mn(e)+'"]'}function bl(e){return"script[async]"+e}function bb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+mn(n.href)+'"]');if(s)return t.instance=s,Et(s),s;var c=j({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Et(s),Ut(s,"style",c),eo(s,n.precedence,e),t.instance=s;case"stylesheet":c=us(n.href);var u=e.querySelector(xl(c));if(u)return t.state.loading|=4,t.instance=u,Et(u),u;s=xb(n),(c=Sn.get(c))&&Pd(s,c),u=(e.ownerDocument||e).createElement("link"),Et(u);var p=u;return p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),Ut(u,"link",s),t.state.loading|=4,eo(u,n.precedence,e),t.instance=u;case"script":return u=ds(n.src),(c=e.querySelector(bl(u)))?(t.instance=c,Et(c),c):(s=n,(c=Sn.get(u))&&(s=j({},n),$d(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),Et(c),Ut(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,eo(s,n.precedence,e));return t.instance}function eo(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,u=c,p=0;p<s.length;p++){var v=s[p];if(v.dataset.precedence===t)u=v;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $d(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var to=null;function vb(e,t,n){if(to===null){var s=new Map,c=to=new Map;c.set(n,s)}else c=to,s=c.get(n),s||(s=new Map,c.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[zs]||u[Rt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var v=s.get(p);v?v.push(u):s.set(p,[u])}}return s}function jb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function CT(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sb(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function AT(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=us(s.href),u=t.querySelector(xl(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=no.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Et(u);return}u=t.ownerDocument||t,s=xb(s),(c=Sn.get(c))&&Pd(s,c),u=u.createElement("link"),Et(u);var p=u;p._p=new Promise(function(v,T){p.onload=v,p.onerror=T}),Ut(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=no.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Id=0;function ET(e,t){return e.stylesheets&&e.count===0&&io(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&io(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Id===0&&(Id=62500*cT());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&io(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Id?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function no(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)io(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ao=null;function io(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ao=new Map,t.forEach(kT,e),ao=null,no.call(e))}function kT(e,t){if(!(t.state.loading&4)){var n=ao.get(e);if(n)var s=n.get(null);else{n=new Map,ao.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var p=c[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),s=p)}s&&n.set(null,s)}c=t.instance,p=c.getAttribute("data-precedence"),u=n.get(p)||s,u===s&&n.set(null,c),n.set(p,c),this.count++,s=no.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var vl={$$typeof:z,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function MT(e,t,n,s,c,u,p,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.hiddenUpdates=ve(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function wb(e,t,n,s,c,u,p,v,T,B,P,te){return e=new MT(e,t,n,p,T,B,P,te,v),t=1,u===!0&&(t|=24),u=en(3,null,null,t),e.current=u,u.stateNode=e,t=ku(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},Ou(u),e}function Nb(e){return e?(e=Yi,e):Yi}function _b(e,t,n,s,c,u){c=Nb(c),s.context===null?s.context=c:s.pendingContext=c,s=ba(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=va(e,s,t),n!==null&&(It(n,e,t),Js(n,e,t))}function Tb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jd(e,t){Tb(e,t),(e=e.alternate)&&Tb(e,t)}function Cb(e){if(e.tag===13||e.tag===31){var t=Pa(e,67108864);t!==null&&It(t,e,67108864),Jd(e,67108864)}}function Ab(e){if(e.tag===13||e.tag===31){var t=ln();t=Os(t);var n=Pa(e,t);n!==null&&It(n,e,t),Jd(e,t)}}var so=!0;function DT(e,t,n,s){var c=U.T;U.T=null;var u=X.p;try{X.p=2,Wd(e,t,n,s)}finally{X.p=u,U.T=c}}function RT(e,t,n,s){var c=U.T;U.T=null;var u=X.p;try{X.p=8,Wd(e,t,n,s)}finally{X.p=u,U.T=c}}function Wd(e,t,n,s){if(so){var c=ef(s);if(c===null)Bd(e,t,s,lo,n),kb(e,s);else if(zT(c,e,t,n,s))s.stopPropagation();else if(kb(e,s),t&4&&-1<OT.indexOf(e)){for(;c!==null;){var u=Mi(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=Mn(u.pendingLanes);if(p!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var T=1<<31-bt(p);v.entanglements[1]|=T,p&=~T}zn(u),(qe&6)===0&&(Yr=Se()+500,ml(0))}}break;case 31:case 13:v=Pa(u,2),v!==null&&It(v,u,2),Fr(),Jd(u,2)}if(u=ef(s),u===null&&Bd(e,t,s,lo,n),u===c)break;c=u}c!==null&&s.stopPropagation()}else Bd(e,t,s,null,n)}}function ef(e){return e=nu(e),tf(e)}var lo=null;function tf(e){if(lo=null,e=ki(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lo=e,null}function Eb(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case He:return 2;case Ct:return 8;case ne:case je:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var nf=!1,Ma=null,Da=null,Ra=null,jl=new Map,Sl=new Map,Oa=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kb(e,t){switch(e){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(t.pointerId)}}function wl(e,t,n,s,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Mi(t),t!==null&&Cb(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function zT(e,t,n,s,c){switch(t){case"focusin":return Ma=wl(Ma,e,t,n,s,c),!0;case"dragenter":return Da=wl(Da,e,t,n,s,c),!0;case"mouseover":return Ra=wl(Ra,e,t,n,s,c),!0;case"pointerover":var u=c.pointerId;return jl.set(u,wl(jl.get(u)||null,e,t,n,s,c)),!0;case"gotpointercapture":return u=c.pointerId,Sl.set(u,wl(Sl.get(u)||null,e,t,n,s,c)),!0}return!1}function Mb(e){var t=ki(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Wl(e.priority,function(){Ab(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Wl(e.priority,function(){Ab(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ro(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ef(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);tu=s,n.target.dispatchEvent(s),tu=null}else return t=Mi(n),t!==null&&Cb(t),e.blockedOn=n,!1;t.shift()}return!0}function Db(e,t,n){ro(e)&&n.delete(t)}function LT(){nf=!1,Ma!==null&&ro(Ma)&&(Ma=null),Da!==null&&ro(Da)&&(Da=null),Ra!==null&&ro(Ra)&&(Ra=null),jl.forEach(Db),Sl.forEach(Db)}function oo(e,t){e.blockedOn===t&&(e.blockedOn=null,nf||(nf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,LT)))}var co=null;function Rb(e){co!==e&&(co=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){co===e&&(co=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(tf(s||n)===null)continue;break}var u=Mi(n);u!==null&&(e.splice(t,3),t-=3,ed(u,{pending:!0,data:c,method:n.method,action:s},s,c))}}))}function fs(e){function t(T){return oo(T,e)}Ma!==null&&oo(Ma,e),Da!==null&&oo(Da,e),Ra!==null&&oo(Ra,e),jl.forEach(t),Sl.forEach(t);for(var n=0;n<Oa.length;n++){var s=Oa[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Oa.length&&(n=Oa[0],n.blockedOn===null);)Mb(n),n.blockedOn===null&&Oa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var c=n[s],u=n[s+1],p=c[Kt]||null;if(typeof u=="function")p||Rb(n);else if(p){var v=null;if(u&&u.hasAttribute("formAction")){if(c=u,p=u[Kt]||null)v=p.formAction;else if(tf(c)!==null)continue}else v=p.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),Rb(n)}}}function Ob(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function af(e){this._internalRoot=e}uo.prototype.render=af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,s=ln();_b(n,s,e,t,null,null)},uo.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_b(e.current,2,null,e,null,null),Fr(),t[Ei]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ai();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oa.length&&t!==0&&t<Oa[n].priority;n++);Oa.splice(n,0,e),n===0&&Mb(e)}};var zb=i.version;if(zb!=="19.2.0")throw Error(o(527,zb,"19.2.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var UT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{At=fo.inject(UT),Ye=fo}catch{}}return ms.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,s="",c=Yy,u=Gy,p=Fy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=wb(e,1,!1,null,null,n,s,null,c,u,p,Ob),e[Ei]=t.current,Vd(e),new af(t)},ms.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var s=!1,c="",u=Yy,p=Gy,v=Fy,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(T=n.formState)),t=wb(e,1,!0,t,n??null,s,c,T,u,p,v,Ob),t.context=Nb(null),n=t.current,s=ln(),s=Os(s),c=ba(s),c.callback=null,va(n,c,s),n=s,t.current.lanes=n,Oe(t,n),zn(t),e[Ei]=t.current,Vd(e),new uo(t)},ms.version="19.2.0",ms}var pf;function Fb(){if(pf)return go.exports;pf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),go.exports=Gb(),go.exports}var Kb=Fb();const Xb=sf(Kb);var vo={};(function a(i,r,o,d){var h=!!(i.Worker&&i.Blob&&i.Promise&&i.OffscreenCanvas&&i.OffscreenCanvasRenderingContext2D&&i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype.transferControlToOffscreen&&i.URL&&i.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",y=(function(){if(!i.OffscreenCanvas)return!1;var D=new OffscreenCanvas(1,1),b=D.getContext("2d");b.fillRect(0,0,1,1);var O=D.transferToImageBitmap();try{b.createPattern(O,"no-repeat")}catch{return!1}return!0})();function m(){}function g(D){var b=r.exports.Promise,O=b!==void 0?b:i.Promise;return typeof O=="function"?new O(D):(D(m,m),null)}var x=(function(D,b){return{transform:function(O){if(D)return O;if(b.has(O))return b.get(O);var Q=new OffscreenCanvas(O.width,O.height),E=Q.getContext("2d");return E.drawImage(O,0,0),b.set(O,Q),Q},clear:function(){b.clear()}}})(y,new Map),j=(function(){var D=Math.floor(16.666666666666668),b,O,Q={},E=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(b=function(F){var Z=Math.random();return Q[Z]=requestAnimationFrame(function ae(de){E===de||E+D-1<de?(E=de,delete Q[Z],F()):Q[Z]=requestAnimationFrame(ae)}),Z},O=function(F){Q[F]&&cancelAnimationFrame(Q[F])}):(b=function(F){return setTimeout(F,D)},O=function(F){return clearTimeout(F)}),{frame:b,cancel:O}})(),w=(function(){var D,b,O={};function Q(E){function F(Z,ae){E.postMessage({options:Z||{},callback:ae})}E.init=function(ae){var de=ae.transferControlToOffscreen();E.postMessage({canvas:de},[de])},E.fire=function(ae,de,he){if(b)return F(ae,null),b;var Me=Math.random().toString(36).slice(2);return b=g(function(Ae){function Le(Je){Je.data.callback===Me&&(delete O[Me],E.removeEventListener("message",Le),b=null,x.clear(),he(),Ae())}E.addEventListener("message",Le),F(ae,Me),O[Me]=Le.bind(null,{data:{callback:Me}})}),b},E.reset=function(){E.postMessage({reset:!0});for(var ae in O)O[ae](),delete O[ae]}}return function(){if(D)return D;if(!o&&h){var E=["var CONFETTI, SIZE = {}, module = {};","("+a.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{D=new Worker(URL.createObjectURL(new Blob([E])))}catch(F){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",F),null}Q(D)}return D}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(D,b){return b?b(D):D}function A(D){return D!=null}function C(D,b,O){return N(D&&A(D[b])?D[b]:_[b],O)}function R(D){return D<0?0:Math.floor(D)}function q(D,b){return Math.floor(Math.random()*(b-D))+D}function z(D){return parseInt(D,16)}function J(D){return D.map(ee)}function ee(D){var b=String(D).replace(/[^0-9a-f]/gi,"");return b.length<6&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),{r:z(b.substring(0,2)),g:z(b.substring(2,4)),b:z(b.substring(4,6))}}function M(D){var b=C(D,"origin",Object);return b.x=C(b,"x",Number),b.y=C(b,"y",Number),b}function Y(D){D.width=document.documentElement.clientWidth,D.height=document.documentElement.clientHeight}function W(D){var b=D.getBoundingClientRect();D.width=b.width,D.height=b.height}function $(D){var b=document.createElement("canvas");return b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.pointerEvents="none",b.style.zIndex=D,b}function ie(D,b,O,Q,E,F,Z,ae,de){D.save(),D.translate(b,O),D.rotate(F),D.scale(Q,E),D.arc(0,0,1,Z,ae,de),D.restore()}function oe(D){var b=D.angle*(Math.PI/180),O=D.spread*(Math.PI/180);return{x:D.x,y:D.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:D.startVelocity*.5+Math.random()*D.startVelocity,angle2D:-b+(.5*O-Math.random()*O),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:D.color,shape:D.shape,tick:0,totalTicks:D.ticks,decay:D.decay,drift:D.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:D.gravity*3,ovalScalar:.6,scalar:D.scalar,flat:D.flat}}function ye(D,b){b.x+=Math.cos(b.angle2D)*b.velocity+b.drift,b.y+=Math.sin(b.angle2D)*b.velocity+b.gravity,b.velocity*=b.decay,b.flat?(b.wobble=0,b.wobbleX=b.x+10*b.scalar,b.wobbleY=b.y+10*b.scalar,b.tiltSin=0,b.tiltCos=0,b.random=1):(b.wobble+=b.wobbleSpeed,b.wobbleX=b.x+10*b.scalar*Math.cos(b.wobble),b.wobbleY=b.y+10*b.scalar*Math.sin(b.wobble),b.tiltAngle+=.1,b.tiltSin=Math.sin(b.tiltAngle),b.tiltCos=Math.cos(b.tiltAngle),b.random=Math.random()+2);var O=b.tick++/b.totalTicks,Q=b.x+b.random*b.tiltCos,E=b.y+b.random*b.tiltSin,F=b.wobbleX+b.random*b.tiltCos,Z=b.wobbleY+b.random*b.tiltSin;if(D.fillStyle="rgba("+b.color.r+", "+b.color.g+", "+b.color.b+", "+(1-O)+")",D.beginPath(),f&&b.shape.type==="path"&&typeof b.shape.path=="string"&&Array.isArray(b.shape.matrix))D.fill(X(b.shape.path,b.shape.matrix,b.x,b.y,Math.abs(F-Q)*.1,Math.abs(Z-E)*.1,Math.PI/10*b.wobble));else if(b.shape.type==="bitmap"){var ae=Math.PI/10*b.wobble,de=Math.abs(F-Q)*.1,he=Math.abs(Z-E)*.1,Me=b.shape.bitmap.width*b.scalar,Ae=b.shape.bitmap.height*b.scalar,Le=new DOMMatrix([Math.cos(ae)*de,Math.sin(ae)*de,-Math.sin(ae)*he,Math.cos(ae)*he,b.x,b.y]);Le.multiplySelf(new DOMMatrix(b.shape.matrix));var Je=D.createPattern(x.transform(b.shape.bitmap),"no-repeat");Je.setTransform(Le),D.globalAlpha=1-O,D.fillStyle=Je,D.fillRect(b.x-Me/2,b.y-Ae/2,Me,Ae),D.globalAlpha=1}else if(b.shape==="circle")D.ellipse?D.ellipse(b.x,b.y,Math.abs(F-Q)*b.ovalScalar,Math.abs(Z-E)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI):ie(D,b.x,b.y,Math.abs(F-Q)*b.ovalScalar,Math.abs(Z-E)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI);else if(b.shape==="star")for(var me=Math.PI/2*3,We=4*b.scalar,rt=8*b.scalar,gt=b.x,Ge=b.y,Tt=5,yt=Math.PI/Tt;Tt--;)gt=b.x+Math.cos(me)*rt,Ge=b.y+Math.sin(me)*rt,D.lineTo(gt,Ge),me+=yt,gt=b.x+Math.cos(me)*We,Ge=b.y+Math.sin(me)*We,D.lineTo(gt,Ge),me+=yt;else D.moveTo(Math.floor(b.x),Math.floor(b.y)),D.lineTo(Math.floor(b.wobbleX),Math.floor(E)),D.lineTo(Math.floor(F),Math.floor(Z)),D.lineTo(Math.floor(Q),Math.floor(b.wobbleY));return D.closePath(),D.fill(),b.tick<b.totalTicks}function se(D,b,O,Q,E){var F=b.slice(),Z=D.getContext("2d"),ae,de,he=g(function(Me){function Ae(){ae=de=null,Z.clearRect(0,0,Q.width,Q.height),x.clear(),E(),Me()}function Le(){o&&!(Q.width===d.width&&Q.height===d.height)&&(Q.width=D.width=d.width,Q.height=D.height=d.height),!Q.width&&!Q.height&&(O(D),Q.width=D.width,Q.height=D.height),Z.clearRect(0,0,Q.width,Q.height),F=F.filter(function(Je){return ye(Z,Je)}),F.length?ae=j.frame(Le):Ae()}ae=j.frame(Le),de=Ae});return{addFettis:function(Me){return F=F.concat(Me),he},canvas:D,promise:he,reset:function(){ae&&j.cancel(ae),de&&de()}}}function pe(D,b){var O=!D,Q=!!C(b||{},"resize"),E=!1,F=C(b,"disableForReducedMotion",Boolean),Z=h&&!!C(b||{},"useWorker"),ae=Z?w():null,de=O?Y:W,he=D&&ae?!!D.__confetti_initialized:!1,Me=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ae;function Le(me,We,rt){for(var gt=C(me,"particleCount",R),Ge=C(me,"angle",Number),Tt=C(me,"spread",Number),yt=C(me,"startVelocity",Number),Jt=C(me,"decay",Number),Xe=C(me,"gravity",Number),le=C(me,"drift",Number),Se=C(me,"colors",J),Ue=C(me,"ticks",Number),He=C(me,"shapes"),Ct=C(me,"scalar"),ne=!!C(me,"flat"),je=M(me),Qe=gt,xt=[],ot=D.width*je.x,At=D.height*je.y;Qe--;)xt.push(oe({x:ot,y:At,angle:Ge,spread:Tt,startVelocity:yt,color:Se[Qe%Se.length],shape:He[q(0,He.length)],ticks:Ue,decay:Jt,gravity:Xe,drift:le,scalar:Ct,flat:ne}));return Ae?Ae.addFettis(xt):(Ae=se(D,xt,de,We,rt),Ae.promise)}function Je(me){var We=F||C(me,"disableForReducedMotion",Boolean),rt=C(me,"zIndex",Number);if(We&&Me)return g(function(yt){yt()});O&&Ae?D=Ae.canvas:O&&!D&&(D=$(rt),document.body.appendChild(D)),Q&&!he&&de(D);var gt={width:D.width,height:D.height};ae&&!he&&ae.init(D),he=!0,ae&&(D.__confetti_initialized=!0);function Ge(){if(ae){var yt={getBoundingClientRect:function(){if(!O)return D.getBoundingClientRect()}};de(yt),ae.postMessage({resize:{width:yt.width,height:yt.height}});return}gt.width=gt.height=null}function Tt(){Ae=null,Q&&(E=!1,i.removeEventListener("resize",Ge)),O&&D&&(document.body.contains(D)&&document.body.removeChild(D),D=null,he=!1)}return Q&&!E&&(E=!0,i.addEventListener("resize",Ge,!1)),ae?ae.fire(me,gt,Tt):Le(me,gt,Tt)}return Je.reset=function(){ae&&ae.reset(),Ae&&Ae.reset()},Je}var fe;function U(){return fe||(fe=pe(null,{useWorker:!0,resize:!0})),fe}function X(D,b,O,Q,E,F,Z){var ae=new Path2D(D),de=new Path2D;de.addPath(ae,new DOMMatrix(b));var he=new Path2D;return he.addPath(de,new DOMMatrix([Math.cos(Z)*E,Math.sin(Z)*E,-Math.sin(Z)*F,Math.cos(Z)*F,O,Q])),he}function K(D){if(!f)throw new Error("path confetti are not supported in this browser");var b,O;typeof D=="string"?b=D:(b=D.path,O=D.matrix);var Q=new Path2D(b),E=document.createElement("canvas"),F=E.getContext("2d");if(!O){for(var Z=1e3,ae=Z,de=Z,he=0,Me=0,Ae,Le,Je=0;Je<Z;Je+=2)for(var me=0;me<Z;me+=2)F.isPointInPath(Q,Je,me,"nonzero")&&(ae=Math.min(ae,Je),de=Math.min(de,me),he=Math.max(he,Je),Me=Math.max(Me,me));Ae=he-ae,Le=Me-de;var We=10,rt=Math.min(We/Ae,We/Le);O=[rt,0,0,rt,-Math.round(Ae/2+ae)*rt,-Math.round(Le/2+de)*rt]}return{type:"path",path:b,matrix:O}}function ue(D){var b,O=1,Q="#000000",E='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof D=="string"?b=D:(b=D.text,O="scalar"in D?D.scalar:O,E="fontFamily"in D?D.fontFamily:E,Q="color"in D?D.color:Q);var F=10*O,Z=""+F+"px "+E,ae=new OffscreenCanvas(F,F),de=ae.getContext("2d");de.font=Z;var he=de.measureText(b),Me=Math.ceil(he.actualBoundingBoxRight+he.actualBoundingBoxLeft),Ae=Math.ceil(he.actualBoundingBoxAscent+he.actualBoundingBoxDescent),Le=2,Je=he.actualBoundingBoxLeft+Le,me=he.actualBoundingBoxAscent+Le;Me+=Le+Le,Ae+=Le+Le,ae=new OffscreenCanvas(Me,Ae),de=ae.getContext("2d"),de.font=Z,de.fillStyle=Q,de.fillText(b,Je,me);var We=1/O;return{type:"bitmap",bitmap:ae.transferToImageBitmap(),matrix:[We,0,0,We,-Me*We/2,-Ae*We/2]}}r.exports=function(){return U().apply(this,arguments)},r.exports.reset=function(){U().reset()},r.exports.create=pe,r.exports.shapeFromPath=K,r.exports.shapeFromText=ue})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),vo,!1);const jo=vo.exports;vo.exports.create;const gf={reliability:3,values:3,safety:3,reciprocity:2,chemistry:2,interaction:2,logistics:2,activity:1},yf=.45,So={reliability:null,values:null,safety:null,reciprocity:null,chemistry:null,interaction:null,logistics:null,activity:null,arch_confidante:null,arch_anchor:null,arch_adventurer:null,arch_communicator:null,arch_connector:null,arch_coach:null,arch_collaborator:null,arch_caregiver:null,sig_asks:null,sig_on_time:null,sig_makes_plan:null,sig_includes:null,sig_boundaries:null,sig_energy:null},xf=[{id:"sig_asks",round:"Signals Round",emoji:"",title:"Asks & listens",hint:"They ask follow-ups and actually listen."},{id:"sig_on_time",round:"Signals Round",emoji:"",title:"On-time / responsive",hint:"Shows up on time; replies in ~24h."},{id:"sig_makes_plan",round:"Signals Round",emoji:"",title:"Plan energy",hint:"Suggests a next hang or picks a spot."},{id:"sig_includes",round:"Signals Round",emoji:"",title:"Inclusive kindness",hint:"Kind to staff; brings people in."},{id:"sig_boundaries",round:"Signals Round",emoji:"",title:"Boundary respect",hint:"Honors pace/topics when you hint."},{id:"sig_energy",round:"Signals Round",emoji:"",title:"Energy match",hint:"Pace & humor feel aligned."},{id:"chemistry",round:"Vibes Round",emoji:"",title:"Chemistry / Fun",hint:"Do we laugh easily & want to hang?",weightKey:"chemistry"},{id:"interaction",round:"Vibes Round",emoji:"",title:"Interaction Fit",hint:"Texting style, frequency, conflict vibes match?",weightKey:"interaction"},{id:"reliability",round:"Adulting Round",emoji:"",title:"Reliability",hint:"They keep plans & follow through",weightKey:"reliability"},{id:"reciprocity",round:"Adulting Round",emoji:"",title:"Reciprocity",hint:"Effort & invites are mutual",weightKey:"reciprocity"},{id:"logistics",round:"Adulting Round",emoji:"",title:"Logistics Fit",hint:"Proximity + time overlap works",weightKey:"logistics"},{id:"values",round:"Values Round",emoji:"",title:"Values Match",hint:"Top-3 traits line up",weightKey:"values"},{id:"safety",round:"Values Round",emoji:"",title:"Emotional Safety",hint:"I feel seen, respected, not judged",weightKey:"safety"},{id:"activity",round:"Values Round",emoji:"",title:"Activity Overlap",hint:"We have 1 regular thing to do",weightKey:"activity"},{id:"arch_confidante",round:"Archetype Round",emoji:"",title:"Confidante energy",hint:"Shares honestly, listens, keeps confidence."},{id:"arch_anchor",round:"Archetype Round",emoji:"",title:"Anchor energy",hint:"Shows up on time, loves routines & traditions."},{id:"arch_adventurer",round:"Archetype Round",emoji:"",title:"Adventurer energy",hint:"Suggests new spots, down for novelty."},{id:"arch_communicator",round:"Archetype Round",emoji:"",title:"Communicator energy",hint:"Smooth plans, repairs bumps fast."},{id:"arch_connector",round:"Archetype Round",emoji:"",title:"Connector energy",hint:"Introduces people, builds group hangs."},{id:"arch_coach",round:"Archetype Round",emoji:"",title:"Coach energy",hint:"Accountability, hype, thoughtful feedback."},{id:"arch_collaborator",round:"Archetype Round",emoji:"",title:"Collaborator energy",hint:"Loves making/learning together."},{id:"arch_caregiver",round:"Archetype Round",emoji:"",title:"Caregiver energy",hint:"Warm check-ins, supportive, brings soup vibes."}],La=["Signals Round","Vibes Round","Adulting Round","Values Round","Archetype Round"],Qb=[{id:"flake",label:"Chronic flakiness",emoji:""},{id:"mean",label:"Put-downs / disrespect",emoji:""},{id:"gossip",label:"Gossip as a bonding strategy",emoji:""},{id:"trust",label:"Breaches confidence",emoji:""},{id:"boundary",label:"Ignores boundaries (after told)",emoji:""}];function Zb(a,i){return i.direct<.35?{name:"Provisional  Low Evidence",color:"bg-gray-400",emoji:""}:a>=85?{name:"Bestie Material",color:"bg-green-500",emoji:""}:a>=70?{name:"Strong Contender",color:"bg-emerald-400",emoji:""}:a>=50?{name:"Potential Pal",color:"bg-yellow-400",emoji:""}:{name:"Acquaintance Energy",color:"bg-gray-400",emoji:""}}const Pb={Confidante:{desc:"deep talks, safe space, honesty",emoji:""},Anchor:{desc:"routines, consistency, show-up energy",emoji:""},Adventurer:{desc:"fun missions, novelty, momentum",emoji:""},Communicator:{desc:"matched pace, smooth plans & repair",emoji:""},Connector:{desc:"brings people together, social bridge",emoji:""},Coach:{desc:"accountability + growth buddy",emoji:""},Collaborator:{desc:"make/learn things together",emoji:""},Caregiver:{desc:"empathy, caretaking, steady support",emoji:""}},Gt=a=>(a??3)-3,bf=(a,i,r)=>Math.max(i,Math.min(r,a));function Mt(a,i){let r=0;switch(a){case"reliability":r=.6*Gt(i.sig_on_time)+.2*Gt(i.sig_makes_plan);break;case"values":r=.4*Gt(i.sig_includes)+.3*Gt(i.sig_asks)+.3*Gt(i.sig_boundaries);break;case"safety":r=.6*Gt(i.sig_boundaries)+.3*Gt(i.sig_asks);break;case"reciprocity":r=.6*Gt(i.sig_makes_plan)+.3*Gt(i.sig_asks);break;case"chemistry":r=.8*Gt(i.sig_energy);break;case"interaction":r=.5*Gt(i.sig_on_time)+.4*Gt(i.sig_energy);break;case"logistics":r=.8*Gt(i.sig_on_time);break;case"activity":r=.8*Gt(i.sig_makes_plan);break;default:r=0}const o=3+bf(r/2,-1,1);return bf(o,1,5)}const ia=a=>(a??3)-3;function $b(a){const i={Confidante:(a.values??Mt("values",a))+(a.safety??Mt("safety",a)),Anchor:(a.reliability??Mt("reliability",a))+(a.logistics??Mt("logistics",a)),Adventurer:(a.chemistry??Mt("chemistry",a))+(a.activity??Mt("activity",a)),Communicator:(a.interaction??Mt("interaction",a))+(a.reciprocity??Mt("reciprocity",a)),Connector:(a.interaction??Mt("interaction",a))+(a.activity??Mt("activity",a)),Coach:(a.values??Mt("values",a))+(a.reciprocity??Mt("reciprocity",a)),Collaborator:(a.activity??Mt("activity",a))+(a.values??Mt("values",a)),Caregiver:(a.safety??Mt("safety",a))+(a.reciprocity??Mt("reciprocity",a))};return{Confidante:i.Confidante+ia(a.arch_confidante),Anchor:i.Anchor+ia(a.arch_anchor),Adventurer:i.Adventurer+ia(a.arch_adventurer),Communicator:i.Communicator+ia(a.arch_communicator),Connector:i.Connector+ia(a.arch_connector),Coach:i.Coach+ia(a.arch_coach),Collaborator:i.Collaborator+ia(a.arch_collaborator),Caregiver:i.Caregiver+ia(a.arch_caregiver)}}function Ib(a){const i=$b(a);return Object.entries(i).sort((r,o)=>o[1]-r[1]).map(([r,o])=>({name:r,score:o,...Pb[r]}))}function Jb(a,i,r){const o=Object.keys(i);let d=0,h=0,f=0;for(const y of o){const m=i[y];f+=m,a[y]!=null?d+=m:h+=m*r}return{direct:f?d/f:0,proxy:f?h/f:0,total:f?(d+h)/f:0,directW:d,proxyW:h,totalW:f}}function Wb(a,i){const r={reliability:"Set a small plan with a time window; see if they confirm & show on time.",values:"Ask: Whats something youre trying to get better at this season?",safety:"Share a medium-vulnerable story; notice curiosity & non-judgment.",reciprocity:"Ask them to pick the spot/time for the next hang.",chemistry:"Do a 30min game/creative mini-activity and notice ease & laughs.",interaction:"Try voice notes / set texting expectations for a day and see the flow.",logistics:"Offer two realistic time slots next week; see if scheduling is smooth.",activity:"Propose a repeating anchor (Thu walk / Sun coffee)."};return Object.entries(i).filter(([d])=>a[d]==null).sort(([,d],[,h])=>h-d).map(([d])=>({k:d,tip:r[d]})).slice(0,3)}function ev(a={}){const{onSave:i}=a,[r,o]=S.useState({...gf}),[d,h]=S.useState(yf),[f]=S.useState(()=>typeof window<"u"&&new URLSearchParams(window.location.search).has("admin")),[y,m]=S.useState(!1),[g,x]=S.useState(""),[j,w]=S.useState(""),[_,N]=S.useState({...So}),[A,C]=S.useState(0),[R,q]=S.useState({}),[z,J]=S.useState([]),[ee,M]=S.useState(!1),[Y,W]=S.useState(""),[$,ie]=S.useState(!1),[oe,ye]=S.useState(null),se=S.useRef(null),pe=S.useRef(null),fe=S.useRef(null),[U,X]=S.useState(!1);S.useEffect(()=>{try{const ne=JSON.parse(localStorage.getItem("bestie_config")||"null");ne&&(ne.weights&&o(Qe=>({...Qe,...ne.weights})),typeof ne.proxyFraction=="number"&&h(ne.proxyFraction));const je=JSON.parse(localStorage.getItem("bestie_quiz_draft")||"null");je&&(x(je.candidateName||""),w(je.friendEmail||""),N({...So,...je.answers||{}}),q(je.flags||{}),C(je.roundIndex||0),ye(je.pictureData||null))}catch{}},[]),S.useEffect(()=>{try{localStorage.setItem("bestie_config",JSON.stringify({weights:r,proxyFraction:d}))}catch{}},[r,d]),S.useEffect(()=>{try{localStorage.setItem("bestie_quiz_draft",JSON.stringify({candidateName:g,friendEmail:j,answers:_,flags:R,roundIndex:A,pictureData:oe,ts:Date.now()}))}catch{}},[g,j,_,R,A,oe]),S.useEffect(()=>{try{const ne=localStorage.getItem("bestie_saved");if(ne){const je=JSON.parse(ne);Array.isArray(je)&&J(je)}}catch{}},[]),S.useEffect(()=>{try{localStorage.setItem("bestie_saved",JSON.stringify(z))}catch{}},[z]);const K=S.useCallback((ne={})=>{try{jo({disableForReducedMotion:!1,useWorker:!1,...ne})}catch(je){console.warn("Confetti launch failed",je)}},[]),ue=S.useMemo(()=>Jb(_,r,d),[_,r,d]),D=S.useMemo(()=>{let ne=0,je=0;for(const[xt,ot]of Object.entries(r)){const At=_[xt]!=null,Ye=At?1:d,Nt=At?_[xt]:Mt(xt,_);ne+=(Nt||0)*ot*Ye,je+=5*ot*Ye}if(je===0)return 0;const Qe=Math.round(ne/je*100);return Math.min(100,Math.max(0,Qe))},[_,r,d]),b=S.useMemo(()=>Object.values(R).filter(Boolean).length,[R]),O=Zb(D,ue),Q=S.useMemo(()=>Ib(_),[_]),E=Q[0],F=Q[1];xf.filter(ne=>ne.round===La[A]);const Z=A===La.length-1,ae=S.useMemo(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]),de=(ne,je)=>N(Qe=>({...Qe,[ne]:je})),he=ne=>{const je=ne.target.files&&ne.target.files[0];if(!je)return;const Qe=new FileReader;Qe.onload=xt=>ye(String(xt.target?.result||"")),Qe.readAsDataURL(je),ne.target.value=""},Me=()=>{N({...So}),q({}),C(0),x(""),w("")},Ae=()=>ie(!1),Le=()=>{typeof window<"u"&&window.location.assign("/dashboard")},Je=async()=>{const ne=g.trim()||`Player ${z.length+1}`,je=typeof window<"u"&&(window.__friendId||document.getElementById("bestie-quiz-root")?.dataset?.friendId)?String(window.__friendId||document.getElementById("bestie-quiz-root")?.dataset?.friendId):null,Qe={name:ne,email:j.trim()||null,archetype_primary:E?.name,archetype_secondary:F?.name,score:D,evidence_direct:ue.direct,evidence_proxy:ue.proxy,flags_count:b,red_flags:Object.entries(R).filter(([,ot])=>ot).map(([ot])=>ot),snapshot:{..._},signals:Object.fromEntries(Object.entries(_).filter(([ot])=>ot.startsWith("sig_"))),picture:oe,tier:O?.name||"General",channel_pref:"mixed",effort_capacity:"medium",id:je||void 0};M(!0),W("");try{if(typeof i=="function")await i(Qe);else if(typeof window<"u"&&typeof window.__bestie_onSave=="function")await window.__bestie_onSave(Qe);else if(typeof fetch=="function"){const At=je?`/api/friends?id=${encodeURIComponent(je)}`:"/api/friends",Ye={"Content-Type":"application/json"},Nt=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null,bt=Nt?Nt.getAttribute("content"):null;bt&&(Ye["X-CSRF-Token"]=bt);const ca=await fetch(At,{method:"POST",headers:Ye,credentials:"include",body:JSON.stringify(Qe)});if(ca.status===401){const Rs=`/login?returnTo=${encodeURIComponent("/friend-quiz")}`;W("Please log in to save."),window.location.assign(Rs);return}if(!ca.ok)throw new Error(`HTTP ${ca.status}`)}W("Saved to friends "),D>=60&&b<2&&(K({particleCount:140,spread:80,origin:{y:.6}}),K({particleCount:80,angle:60,spread:55,origin:{x:0}}),K({particleCount:80,angle:120,spread:55,origin:{x:1}}))}catch(ot){console.error("BestieVibes: save failed",ot),W("Saved locally (API error)")}finally{M(!1)}const xt={id:Date.now(),name:ne,score:D,tier:O.name,emoji:O.emoji,arch:E?.name,archEmoji:E?.emoji,flags:b,snapshot:{..._},evidence:ue};J(ot=>[xt,...ot].slice(0,8)),Me(),ie(!0),setTimeout(()=>W(""),2e3)},me=()=>C(ne=>Math.min(ne+1,La.length-1)),We=()=>C(ne=>Math.max(ne-1,0)),rt=()=>{A>=La.length-1||(X(!0),me())},gt=()=>{A<=0||(X(!0),We())},[Ge,Tt]=S.useState(()=>typeof window>"u"?!1:window.innerWidth>=1024);S.useEffect(()=>{if(typeof window>"u")return;const ne=()=>Tt(window.innerWidth>=1024);return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const yt=()=>{if(Z){Ge&&X(!0);return}rt()};S.useEffect(()=>{if(!U)return;const ne=fe.current;if(!ne){X(!1);return}const je=ae?"auto":"smooth";ne.scrollIntoView({block:"start",behavior:je}),typeof ne.focus=="function"&&ne.focus({preventScroll:!0}),X(!1)},[A,U,ae]);const Jt=S.useMemo(()=>{const ne=["Coffee walk + meme swap this week? Tue 6p or Sat 11a ","Try a new thing together: bouldering/paint night/arcade?  Sun 3p?","Low-key hang & debrief life? Thu 7p tea or Sun 10a park bench ","Volunteering shift + tacos after? Sat 12p "];return ne[Math.floor(Math.random()*ne.length)]},[D,E?.name]),Xe=S.useMemo(()=>Wb(_,r),[_,r]),le=l.jsxs("aside",{className:"order-2 lg:order-1 lg:col-start-2 lg:row-start-2 lg:sticky lg:top-28 space-y-4",children:[l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("h2",{className:"text-lg font-bold text-[#455a7c]",children:"Friend Snapshot"}),l.jsxs("div",{className:"mt-3 grid gap-3",children:[l.jsx("input",{value:g,onChange:ne=>x(ne.target.value),placeholder:"Potential/Current Friend name",className:"w-full px-3 py-2 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#455a7c]"}),l.jsx("input",{type:"email",value:j,onChange:ne=>w(ne.target.value),placeholder:"Friend email & KAI can contact them for you",className:"w-full px-3 py-2 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#455a7c]"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("label",{className:"px-3 py-2 rounded-xl border bg-white cursor-pointer hover:bg-[#455a7c]/5 text-sm",children:[l.jsx("input",{ref:se,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:he})," Camera"]}),l.jsxs("label",{className:"px-3 py-2 rounded-xl border bg-white cursor-pointer hover:bg-[#455a7c]/5 text-sm",children:[l.jsx("input",{ref:pe,type:"file",accept:"image/*",className:"hidden",onChange:he})," Upload"]}),oe&&l.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-slate-50 px-3 py-2",children:[l.jsx("img",{src:oe,alt:"preview",className:"h-10 w-10 rounded-xl object-cover border"}),l.jsx("button",{onClick:()=>ye(null),className:"px-2 py-1 rounded-lg border bg-white hover:bg-[#455a7c]/5 text-xs",children:"Clear"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsx("button",{onClick:Je,disabled:ee,className:`px-4 py-2 rounded-2xl text-white font-medium shadow active:translate-y-px ${ee?"bg-[#455a7c]/40 cursor-not-allowed":"bg-[#455a7c] hover:shadow-md"}`,children:ee?"Saving":"Save"}),l.jsx("span",{className:"text-xs text-[#455a7c]",children:Y})]})]})]}),l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Friendship Score"}),l.jsxs("div",{className:"mt-1 flex items-end gap-3",children:[l.jsx("div",{className:"text-4xl md:text-5xl font-extrabold",children:b>=2?"":D}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"w-full h-3 rounded-full bg-slate-200 overflow-hidden",children:l.jsx("div",{className:`h-full ${b>=2?"bg-red-400":"bg-[#455a7c]"}`,style:{width:`${b>=2?100:D}%`}})}),l.jsx("div",{className:"text-xs text-[#455a7c] mt-1",children:b>=2?"2+ red flags = autopass":O.name})]})]})]}),l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Evidence"}),l.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Direct"}),l.jsxs("span",{className:"font-semibold",children:[Math.round(ue.direct*100),"%"]})]}),l.jsx("div",{className:"w-full h-2 rounded-full bg-slate-200 overflow-hidden",children:l.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${ue.direct*100}%`}})}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("span",{children:"Proxy"}),l.jsxs("span",{className:"font-semibold",children:[Math.round(ue.proxy*100),"%"]})]}),l.jsx("div",{className:"w-full h-2 rounded-full bg-slate-200 overflow-hidden",children:l.jsx("div",{className:"h-full bg-indigo-400",style:{width:`${ue.proxy*100}%`}})})]}),l.jsx("div",{className:"text-xs text-[#455a7c] mt-2",children:"More direct answers = higher confidence and stronger tiers."})]}),l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Friend Type"}),l.jsxs("div",{className:"mt-1 text-2xl font-bold",children:[E?.emoji," ",E?.name]}),l.jsx("div",{className:"text-sm text-[#455a7c]",children:E?.desc}),l.jsxs("div",{className:"text-xs text-[#455a7c] mt-2",children:["Secondary: ",l.jsxs("span",{className:"font-medium",children:[F?.emoji," ",F?.name]})]})]}),l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Next Move"}),l.jsx("div",{className:"mt-1 text-[#455a7c]",children:Jt}),l.jsx("div",{className:"text-xs text-[#455a7c] mt-2",children:"Top tests to run:"}),l.jsx("ul",{className:"text-xs text-[#455a7c] list-disc list-inside mt-1 space-y-1",children:Xe.map(ne=>l.jsxs("li",{children:[l.jsx("b",{children:ne.k}),": ",ne.tip]},ne.k))})]}),l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"MicroChallenges "}),l.jsxs("ul",{className:"list-disc list-inside text-[#455a7c] mt-2 space-y-1 text-sm",children:[l.jsxs("li",{children:[l.jsx("b",{children:"Signal reliability:"})," set a plan in 2 taps; follow up next day with a meme or link."]}),l.jsxs("li",{children:[l.jsx("b",{children:"Safety check:"})," share a mediumvulnerable story; notice how they handle it."]}),l.jsxs("li",{children:[l.jsx("b",{children:"Overlap test:"})," propose a repeating anchor (Thu walk / Sun coffee)."]})]})]}),l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Invite Scripts "}),l.jsxs("div",{className:"text-[#455a7c] mt-2 space-y-2 text-sm",children:[l.jsx("p",{children:" This week: coffee walk & catchup? Tue 6p or Sat 11a "}),l.jsx("p",{children:" Paint night / bouldering / arcade runfeel like trying one?  Sun 3p?"}),l.jsx("p",{children:" Thu minitradition: 30min walk & life debriefdown?"})]})]})]}),Se=()=>l.jsxs("section",{className:"order-1 lg:order-1 lg:col-start-1 space-y-6",children:[f&&l.jsx("div",{className:"flex items-center justify-end",children:l.jsx("button",{onClick:()=>m(ne=>!ne),className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:" Scoring"})}),f&&y&&l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"font-semibold",children:"Scoring Controls"}),l.jsx("button",{onClick:()=>{o({...gf}),h(yf)},className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:"Reset defaults"})]}),l.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3 mt-3",children:Object.entries(r).map(([ne,je])=>l.jsxs("label",{className:"text-sm",children:[l.jsx("div",{className:"font-medium capitalize",children:ne}),l.jsx("input",{type:"range",min:0,max:5,step:1,value:je,onChange:Qe=>o(xt=>({...xt,[ne]:Number(Qe.target.value)})),className:"w-full"}),l.jsxs("div",{className:"text-xs text-slate-600",children:["Weight: ",je]})]},ne))}),l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"font-medium text-sm",children:"Proxy fraction"}),l.jsx("input",{type:"range",min:0,max:1,step:.05,value:d,onChange:ne=>h(Number(ne.target.value)),className:"w-full"}),l.jsxs("div",{className:"text-xs text-slate-600",children:[Math.round(d*100),"% credit when using firstmeet signals as proxies"]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"p-4 rounded-2xl bg-rose-50 border border-rose-200",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("h2",{className:"font-semibold text-rose-700",children:"1. RedFlag Bingo: select concerns with this person you have"}),l.jsxs("div",{className:"text-sm text-rose-700 whitespace-nowrap",children:[b," / 2 triggers autopass"]})]}),l.jsx("div",{className:"grid sm:grid-cols-5 gap-2 mt-3",children:Qb.map(ne=>l.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border ${R[ne.id]?"bg-rose-100 border-rose-300":"bg-white"} cursor-pointer`,children:[l.jsx("input",{type:"checkbox",className:"accent-rose-500",checked:!!R[ne.id],onChange:je=>q(Qe=>({...Qe,[ne.id]:je.target.checked}))}),l.jsxs("span",{children:[ne.emoji," ",ne.label]})]},ne.id))}),b>=2&&l.jsx("div",{className:"mt-3 text-sm text-rose-700",children:"Good to notice early. Lower investment; keep it casual."})]}),l.jsxs("div",{ref:fe,id:"round-top",tabIndex:-1,className:"text-sm text-[#455a7c] font-bold scroll-mt-28",children:["2. ",La[A]," ",A+1,"/",La.length,": Answer all of these to assess this persons friend type and fit for you"]}),l.jsx("div",{className:"space-y-6",children:xf.filter(ne=>ne.round===La[A]).map(ne=>l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm uppercase tracking-wide text-slate-500",children:ne.round}),l.jsxs("div",{className:"text-xl font-bold text-[#455a7c]",children:[ne.emoji," ",ne.title]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm text-slate-500",children:["Current: ",l.jsx("span",{className:"font-semibold",children:_[ne.id]??""})]}),l.jsx("span",{className:"text-xs text-[#455a7c]",children:r[ne.weightKey]?`${r[ne.weightKey]}`:ne.id.startsWith("sig_")?"signal":"archetype"})]})]}),l.jsx("div",{className:"text-sm text-[#455a7c] mt-1",children:ne.hint}),l.jsxs("div",{className:"mt-3 flex justify-between text-xs text-[#455a7c]",children:[l.jsx("span",{children:"Low"}),l.jsx("span",{children:"High"})]}),l.jsxs("div",{className:"mt-1 grid grid-cols-6 gap-2",children:[[1,2,3,4,5].map(je=>l.jsx("button",{onClick:()=>de(ne.id,je),className:`h-12 inline-flex items-center justify-center rounded-xl border text-sm font-medium transition ${_[ne.id]===je?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5"}`,children:je},je)),l.jsx("button",{onClick:()=>de(ne.id,null),className:`h-12 inline-flex items-center justify-center rounded-xl border text-sm font-medium transition whitespace-nowrap col-span-6 sm:col-span-3 ${_[ne.id]==null?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5"}`,children:" Not sure yet"})]})]},ne.id))}),l.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2",children:[l.jsx("button",{onClick:gt,className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:" Previous"}),l.jsx("button",{onClick:yt,className:"inline-flex px-4 py-2 rounded-xl border border-[#ff5656] bg-[#ff5656] hover:bg-[#ff5656]/90 text-white text-base",children:"Next "})]})]})]}),Ue=()=>l.jsx("section",{className:"order-5 lg:order-3 lg:col-start-1",children:l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Scoreboard "}),l.jsx("button",{onClick:()=>J([]),className:"text-sm text-[#455a7c] hover:underline",children:"Clear"})]}),z.length===0?l.jsx("div",{className:"text-[#455a7c] text-sm mt-2",children:"Save a few players to compare tiers."}):l.jsx("div",{className:"mt-3 grid gap-2",children:z.map(ne=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-2 h-8 rounded ${ne.flags>=2?"bg-rose-400":"bg-[#455a7c]"}`}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-semibold",children:[ne.emoji," ",ne.name,"  ",ne.score]}),l.jsxs("div",{className:"text-xs text-[#455a7c]",children:[ne.tier,"  ",ne.archEmoji," ",ne.arch,"  Direct ",Math.round((ne.evidence?.direct||0)*100),"% / Proxy ",Math.round((ne.evidence?.proxy||0)*100),"%"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[ne.flags>=2&&l.jsxs("span",{className:"text-xs text-rose-600",children:[ne.flags," autopass"]}),l.jsx("button",{onClick:()=>J(je=>je.filter(Qe=>Qe.id!==ne.id)),className:"px-2 py-1 rounded-lg border bg-white hover:bg-[#455a7c]/5 text-sm",children:"Remove"})]})]},ne.id))})]})}),He=()=>l.jsx("section",{className:"order-6 lg:order-2 lg:col-start-1 lg:-mt-4",children:l.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[l.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Friendship Types  Do you have them all? Which is most important to you?"}),l.jsxs("p",{className:"text-sm text-[#455a7c] mt-2",children:["This main types of friends are: ",l.jsx("b",{children:"Depth"})," (Confidante, Caregiver), ",l.jsx("b",{children:"Stability"})," (Anchor), ",l.jsx("b",{children:"Novelty"})," (Adventurer), ",l.jsx("b",{children:"Coordination"})," (Communicator, Connector), and ",l.jsx("b",{children:"Growth"})," (Coach, Collaborator). Most close friends blend 23. Use the cards below to spot strengths, watchouts, and best microplans."]}),l.jsx("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[{key:"Confidante",emoji:"",title:"Confidante",strengths:"Listening, honesty, vulnerability, confidentiality.",plans:["Tea walks","latenight talks","journal/reading circle"],watch:"Can tilt heavy; avoid turning every hang into therapy.",invest:"Steady checkins, gentle truthtelling, celebrate their wins too."},{key:"Anchor",emoji:"",title:"Anchor",strengths:"Reliability, routines, punctuality, calm.",plans:["Weekly run","coworking block","errand + lunch"],watch:"Ruts and sameness; add tiny novelty.",invest:"Honor time blocks, be on time, set traditions."},{key:"Adventurer",emoji:"",title:"Adventurer",strengths:"Novelty, momentum, courage to try stuff.",plans:["New restaurant","day hike","class dropin"],watch:"Overscheduling or flaking; add posthang debrief.",invest:"Prebook dates, keep a shared ideas list."},{key:"Communicator",emoji:"",title:"Communicator",strengths:"Smooth plans, conflict repair, vibe calibration.",plans:["Voicenote catchups","planjam session"],watch:"Overplanning; keep space for spontaneity.",invest:"Share norms (text speed, cancel rules), say thanks for logistics labor."},{key:"Connector",emoji:"",title:"Connector",strengths:"Introductions, group glue, community builder.",plans:["Bringafriend brunch","boardgame night"],watch:"Surfacelevel time only; protect 1:1s.",invest:"Cohost, help with invites, prioritize dedicated time."},{key:"Coach",emoji:"",title:"Coach",strengths:"Accountability, feedback, goals, hype.",plans:["Gym/accountability checkins","skill swaps"],watch:"Unsolicited advice; ask consent.",invest:"Define goals, celebrate wins, rotate whose goals get focus."},{key:"Collaborator",emoji:"",title:"Collaborator",strengths:"Make/learn things together; flow state.",plans:["Build/record/paint session","hack day"],watch:"Project drift causing friction.",invest:"Set scope & roles, do small showcases."},{key:"Caregiver",emoji:"",title:"Caregiver",strengths:"Empathy, caretaking, steadying presence.",plans:["Soup + movie","soft errands","quiet cotime"],watch:"Burnout or unequal caretaking.",invest:"Reciprocate support, ask what helps, give them light, fun time too."}].map(ne=>l.jsxs("div",{className:"p-3 rounded-xl border bg-white",children:[l.jsxs("div",{className:"font-semibold",children:[ne.emoji," ",ne.title]}),l.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[l.jsx("b",{children:"Strengths:"})," ",ne.strengths]}),l.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[l.jsx("b",{children:"Best microplans:"})," ",ne.plans.join(", "),"."]}),l.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[l.jsx("b",{children:"Watchouts:"})," ",ne.watch]}),l.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[l.jsx("b",{children:"Invest to thrive:"})," ",ne.invest]})]},ne.key))})]})}),Ct=()=>l.jsx("section",{className:"order-7 lg:order-4 lg:col-start-1 space-y-6",children:l.jsx("footer",{className:"text-center text-xs text-[#455a7c]",children:"Not a diagnosisjust a vibe compass. Thin-slice wisely: upgrade proxies to direct evidence over 23 microhangs. "})});return l.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-violet-50 to-white text-[#455a7c] p-6",children:[l.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6 lg:grid lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)] lg:gap-6",children:[l.jsxs("section",{className:"order-0 lg:order-0 lg:col-span-2 bg-white/80 backdrop-blur-sm border border-slate-200/70 rounded-3xl shadow-sm p-6",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Friendship Fit Quiz "}),l.jsx("p",{className:"text-[#455a7c] mt-1",children:"Complete a quiz for each person you want to be better friends with, and KAI gives you a fun Friend Arc to get closer to that person faster."}),l.jsxs("ul",{className:"text-[#455a7c] mt-1 list-disc list-inside space-y-1 text-sm",children:[l.jsx("li",{children:"In the 1st section of the quiz more then 2 Red Flags means they are not friend material."}),l.jsx("li",{children:"The 2nd section has 4 rounds of questions that determines your VIBES as friends."}),l.jsx("li",{children:"Press save Button after the quiz is completed."}),l.jsx("li",{children:"Saved friends and their scores are below, and can be found in your profile. "}),l.jsx("li",{children:"After the quiz speak with KAI, or check out your Friend Arc!"})]})]}),l.jsx(Se,{}),le,l.jsx(He,{}),l.jsx(Ue,{}),l.jsx(Ct,{})]}),$&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Congrats! You have completed a Friend Quiz!"}),l.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Would you like to see your new Friend Arc?"}),l.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[l.jsx("button",{type:"button",onClick:Ae,className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Do Another Quiz"}),l.jsx("button",{type:"button",onClick:Le,className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"Go to Friend Arc"})]})]})})]})}function tv({route:a,children:i,...r}){const o=(a||"#/events").split("?")[0],d=o.startsWith("#/events/")?"#/events":o,h=Ln.Children.toArray(i),f=h.find(y=>y.props.path===d);if(!f){const y=h.find(m=>m.props.path==="#/events");return y?Ln.cloneElement(y,r):null}return Ln.cloneElement(f,r)}function nv({open:a,onClose:i,children:r}){return l.jsxs(l.Fragment,{children:[a&&l.jsx("div",{className:"events-drawer-backdrop",onClick:i}),l.jsx("aside",{className:`events-drawer${a?" open":""}`,"aria-hidden":!a,children:r}),l.jsx("style",{children:`
        .events-drawer {
          position: fixed;
          top: 0;
          right: -480px;
          width: 480px;
          max-width: 100%;
          height: 100vh;
          background: #ffffff;
          box-shadow: -2px 0 24px rgba(0, 0, 0, 0.12);
          transition: right 0.25s ease;
          z-index: 1040;
          padding: 24px;
          overflow-y: auto;
        }
        .events-drawer.open {
          right: 0;
        }
        .events-drawer-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.25);
          z-index: 1030;
        }
      `})]})}function vf(a){const i=(a||"#/events").split("?")[0];return i.startsWith("#/events/")?"#/events":i}function av({route:a}){const[i,r]=S.useState(vf(a));S.useEffect(()=>{r(vf(a))},[a]);const o=[{href:"#/events",label:"Events"},{href:"#/create",label:"Create"},{href:"#/my",label:"My Events"},{href:"#/invites",label:"Invites"}];return l.jsxs("nav",{className:"events-tabs",role:"tablist","aria-label":"Events navigation",children:[o.map(d=>l.jsx("a",{href:d.href,className:`tab-link${i===d.href?" active":""}`,"aria-current":i===d.href?"page":void 0,children:d.label},d.href)),l.jsx("style",{children:`
        .events-tabs {
          display:flex;
          gap:36px;
          align-items:center;
          border:1px solid #d6deeb;
          border-radius:18px;
          padding:18px 32px;
          background:#fff;
          margin:12px 0 20px;
          flex-wrap:wrap;
          box-shadow:0 12px 30px rgba(15,23,42,0.08);
        }
        .tab-link {
          font-weight:700;
          font-size:1.2rem;
          color:#455a7c;
          text-decoration:none;
        }
        .tab-link.active {
          color:#20304d;
        }
        .tab-link:hover {
          text-decoration:underline;
        }
      `})]})}async function iv(a,i={}){const r=await fetch(`/api/events/${encodeURIComponent(a)}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)}),o=await r.json().catch(()=>({}));if(!r.ok||!o?.ok){const d=o?.error||"Unable to verify attendee";throw new Error(d)}return o}async function sv(a,{signal:i}={}){const r=await fetch(`/api/events/${encodeURIComponent(a)}/roster`,{signal:i,credentials:"include"}),o=await r.json().catch(()=>({}));if(!r.ok||!o?.ok){const d=o?.error||"Unable to load roster";throw new Error(d)}return Array.isArray(o?.data)?o.data:[]}async function lv({limit:a=20,communityTag:i,causeTag:r,signal:o}={}){const d=new URLSearchParams;d.set("limit",String(a)),i&&d.set("community_tag",i),r&&d.set("cause_tag",r);const h=await fetch(`/api/events?${d.toString()}`,{signal:o,credentials:"include"}),f=await h.json().catch(()=>({}));if(!h.ok||!f?.ok){const y=f?.error||"Failed to load events";throw new Error(y)}return Array.isArray(f?.data)?f.data:[]}function rv({feed:a=[],setFeed:i,pagination:r}){const[o,d]=S.useState(""),[h,f]=S.useState("");S.useEffect(()=>{if(typeof fetch!="function")return;let m=!0;const g=new AbortController,x=r?.limit||20,j=setTimeout(()=>{lv({limit:x,communityTag:o,causeTag:h,signal:g.signal}).then(w=>{!m||!i||i(w)}).catch(w=>{w?.name})},300);return()=>{m=!1,clearTimeout(j),g.abort()}},[o,h,r?.limit,i]);const y=Array.isArray(a)&&a.length>0;return l.jsxs("section",{className:"events-feed",children:[l.jsxs("header",{className:"feed-head",children:[l.jsx("input",{className:"search",placeholder:"Search events, people, places"}),l.jsxs("div",{className:"pills",children:[l.jsxs("label",{className:"pill-input",children:["Community tag",l.jsx("input",{type:"text",value:o,onChange:m=>d(m.target.value),placeholder:"e.g., vancouver"})]}),l.jsxs("label",{className:"pill-input",children:["Cause tag",l.jsx("input",{type:"text",value:h,onChange:m=>f(m.target.value),placeholder:"e.g., Environment"})]}),l.jsx("button",{type:"button",className:"pill clear",onClick:()=>{d(""),f("")},disabled:!o&&!h,children:"Clear filters"}),l.jsxs("span",{className:"muted",style:{marginLeft:"auto"},children:["Sort: ",r?.sort||"relevance"," "]})]}),l.jsx("div",{className:"helper-text",children:"Filters apply within your current community. Clear to see all."})]}),l.jsxs("div",{className:"cards",children:[y&&a.map(m=>{const g=!!m.cover_url,x=m.org_name||"Independent organizer",j=m.community_tag||"",w=Array.isArray(m.cause_tags)?m.cause_tags.filter(Boolean):[],_=w.slice(0,3),N=w.length-_.length,A=typeof m.requirements=="string"?m.requirements.trim():"",C=A.length>90?`${A.slice(0,90)}`:A,R=cv(m.verification_method),q=Number.isFinite(Number(m.impact_credits_base))?Number(m.impact_credits_base):25,ee=`Capacity: ${m.capacity!==null&&m.capacity!==void 0?m.capacity:""}`,M=typeof m?.rsvp_counts?.accepted=="number"?m.rsvp_counts.accepted:null,Y=M!==null&&Number.isFinite(Number(m.capacity))&&Number(m.capacity)>0?`Filled: ${M}/${m.capacity}`:"",W=typeof m.viewer_rsvp_status=="string"?m.viewer_rsvp_status:"",$=W==="accepted"||W==="interested"?"View":W==="declined"?"Reconsider":"View & Sign Up";return l.jsxs("article",{className:"card",children:[l.jsx("div",{className:`cover${g?" has-image":""}`,"aria-hidden":!0,style:g?{backgroundImage:`url(${m.cover_url})`}:void 0}),l.jsxs("div",{className:"meta",children:[l.jsx("div",{className:"title",children:m.title||"Untitled Event"}),l.jsxs("div",{className:"org-row",children:[l.jsx("span",{className:"org-name",children:x}),j&&l.jsx("span",{className:"community-pill",children:j})]}),l.jsxs("div",{className:"sub",children:[ov(m.start_at,m.end_at,m.tz),"  ",m.location_text||"Location TBD"]}),(ee||Y)&&l.jsxs("div",{className:"capacity-row",children:[ee&&l.jsx("span",{children:ee}),Y&&l.jsx("span",{children:Y})]}),_.length>0&&l.jsxs("div",{className:"tag-row",children:[_.map(ie=>l.jsx("span",{className:"tag",children:ie},ie)),N>0&&l.jsxs("span",{className:"tag",children:["+",N]})]}),C&&l.jsx("div",{className:"requirements",children:C}),l.jsxs("div",{className:"meta-row",children:[l.jsx("span",{className:"meta-pill",children:R}),l.jsxs("span",{className:"meta-pill",children:["Earn: ",q," Impact Credits"]})]})]}),l.jsxs("div",{className:"actions",children:[l.jsx("button",{className:"btn",type:"button",onClick:()=>window.location.hash=`#/events/${m.id}`,children:$}),l.jsx("button",{className:"btn secondary",type:"button",children:"Save"})]})]},m.id)}),!y&&l.jsx("div",{className:"muted",children:"No events yet."})]}),l.jsx("style",{children:uv})]})}function ov(a,i,r){if(!a)return"When  ?";try{const o=new Date(a),d=i?new Date(i):null,h=o.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:r||"UTC"});if(d&&!Number.isNaN(d.getTime())){const f=d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZone:r||"UTC"});return`When  ${h}${f}`}return`When  ${h}`}catch{return`When  ${a}`}}function cv(a){switch(a){case"host_attest":return"Host attestation";case"qr_stub":return"QR check-in (stub)";case"social_proof":return"Social proof";default:return"Host attestation"}}const uv=`
  .feed-head{margin-bottom:12px}
  .search{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:12px}
  .pills{display:flex;gap:12px;align-items:center;margin:12px 0;flex-wrap:wrap}
  .pill{background:#f3f4f6;border:1px solid #e5e7eb;padding:6px 12px;border-radius:16px;font-size:12px}
  .pill.clear{background:#fff}
  .pill-input{display:flex;align-items:center;gap:8px;background:#f3f4f6;border:1px solid #e5e7eb;padding:6px 12px;border-radius:16px;font-size:12px}
  .pill-input input{border:none;background:transparent;min-width:120px;outline:none}
  .helper-text{font-size:12px;color:#6b7280;margin-top:-4px}
  .muted{color:#6b7280;font-size:12px}
  .cards{display:flex;flex-direction:column;gap:16px}
  .card{display:grid;grid-template-columns:180px 1fr 220px;gap:16px;align-items:center;border:1px solid #e5e7eb;border-radius:16px;padding:16px;background:#fff}
  @media (max-width: 991px){.card{grid-template-columns:1fr}}
  .cover{height:120px;background:#e5e7eb;border:1px solid #e5e7eb;border-radius:12px}
  .cover.has-image{background-size:cover;background-position:center;border:none}
  .title{font-weight:700;font-size:18px}
  .sub{color:#6b7280;font-size:13px}
  .org-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-top:4px}
  .org-name{font-weight:600;color:#1f2937}
  .community-pill{background:#fff;border:1px solid #e5e7eb;border-radius:999px;padding:3px 10px;font-size:11px;color:#1f2937}
  .tag-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
  .tag{background:#f3f4f6;border:1px solid #e5e7eb;border-radius:999px;padding:3px 10px;font-size:11px;color:#374151}
  .requirements{color:#4b5563;font-size:12px;margin-top:6px}
  .meta-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
  .meta-pill{background:#fff;border:1px dashed #d1d5db;border-radius:999px;padding:3px 10px;font-size:11px;color:#4b5563}
  .capacity-row{display:flex;gap:10px;font-size:12px;color:#6b7280;margin-top:4px}
  .actions{display:flex;gap:8px;justify-content:flex-end}
  .btn{background:#ff5656;border:none;color:#fff;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.secondary{background:#fff;border:1px solid #e5e7eb;color:#1f2937}
`,dv={primary:"#ff5656",ink:"#455a7c"},fv=[{value:"public",label:"Public"},{value:"fof",label:"Friends-of-friends"},{value:"private",label:"Private link"}],hv=[{value:"host_code",label:"Host Code",always:!0},{value:"social_proof",label:"Social Proof",always:!0},{value:"geo",label:"Geo Check-in",requiresGeo:!0}],mv=2*1024*1024,pv=/^[a-z0-9][a-z0-9_-]{0,63}$/;function wo(){if(typeof window>"u")return null;const a=window.location.hash||"",[,i=""]=a.split("?");return i?new URLSearchParams(i).get("edit"):null}function gv(a,i){if(!a)return"";try{const o=new Intl.DateTimeFormat("en-CA",{timeZone:i||"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(new Date(a)),d=o.find(y=>y.type==="year")?.value,h=o.find(y=>y.type==="month")?.value,f=o.find(y=>y.type==="day")?.value;return d&&h&&f?`${d}-${h}-${f}`:a.slice(0,10)}catch{return a.slice(0,10)}}function yv(a,i,r){if(!a||!i)return"";try{const o=new Intl.DateTimeFormat("en-GB",{timeZone:r||"UTC",hour12:!1,hour:"2-digit",minute:"2-digit"}),d=o.format(new Date(a)),h=o.format(new Date(i));return`${d}${h}`}catch{return""}}function xv(a){if(Array.isArray(a)&&a.length)return a;if(typeof a=="string")try{const i=JSON.parse(a);if(Array.isArray(i)&&i.length)return i}catch{}return a&&Array.isArray(a)?a:["host_code","social_proof"]}function bv(a){return Array.isArray(a)?a.map(i=>typeof i=="string"?i.trim():"").filter(Boolean):typeof a=="string"?a.split(",").map(i=>i.trim()).filter(Boolean):[]}function jf(a){return["host_attest","qr_stub","social_proof"].includes(a)?a:"host_attest"}function vv(a={}){const i=Array.isArray(a.cause_tags)?a.cause_tags:[];return{title:a.title||"",category:a.category||"",date:gv(a.start_at,a.tz||a.timezone||"UTC"),time:yv(a.start_at,a.end_at,a.tz||a.timezone||"UTC"),tz:a.tz||"America/Vancouver",location_text:a.location_text||"",visibility:a.visibility||"public",capacity:a.capacity===null||a.capacity===void 0?"":String(a.capacity),waitlist_enabled:a.waitlist_enabled!==!1,cover_url:a.cover_url||"",description:a.description||"",org_name:a.org_name||"",community_tag:a.community_tag||"",cause_tags:i.join(", "),requirements:a.requirements||"",verification_method:jf(a.verification_method),impact_credits_base:a.impact_credits_base===null||a.impact_credits_base===void 0?"25":String(a.impact_credits_base),reliability_weight:a.reliability_weight===null||a.reliability_weight===void 0?"1":String(a.reliability_weight),reward_pool_kind:a.reward_pool_kind===null||a.reward_pool_kind===void 0?0:Number(a.reward_pool_kind),funding_pool_slug:(a.funding_pool_slug||"general").toLowerCase(),attendance_methods:xv(a.attendance_methods),safety_notes:a.safety_notes||""}}const Sf={title:"",category:"",date:"",time:"",tz:"America/Vancouver",location_text:"",visibility:"public",capacity:"",waitlist_enabled:!0,cover_url:"",description:"",org_name:"",community_tag:"",cause_tags:"",requirements:"",verification_method:"host_attest",impact_credits_base:"25",reliability_weight:"1",reward_pool_kind:0,funding_pool_slug:"general",attendance_methods:["host_code","social_proof"],safety_notes:""};function jv({brand:a=dv,geoCheckinEnabled:i=!1}){const[r,o]=S.useState(Sf),[d,h]=S.useState({}),[f,y]=S.useState(!1),[m,g]=S.useState(null),[x,j]=S.useState(null),[w,_]=S.useState(""),[N,A]=S.useState(null),C=S.useRef(null),[R,q]=S.useState(()=>typeof window>"u"?null:wo()),[z,J]=S.useState(null),[ee,M]=S.useState(()=>typeof window>"u"?!1:!!wo()),[Y,W]=S.useState(null),[$,ie]=S.useState(0),[oe,ye]=S.useState(!1),[se,pe]=S.useState(!1),[fe,U]=S.useState(null),X=S.useMemo(()=>wf(r,{strict:!0}),[r]),K=!!R,ue=z?.status||(K?"draft":null),D=f||ee||Object.keys(X).length>0,b=f||ee,O=K&&ue==="published",Q=O?"Save Changes":"Save Draft",E=O?"Update & Publish":"Publish",F=O?"Updating":"Publishing",Z=K&&ue==="draft"&&!ee&&!Y;S.useEffect(()=>{if(!m)return;const le=setTimeout(()=>g(null),4e3);return()=>clearTimeout(le)},[m]),S.useEffect(()=>{_(r.cover_url||"")},[r.cover_url]),S.useEffect(()=>{Z||(ye(!1),U(null),pe(!1))},[Z]),S.useEffect(()=>{if(typeof window>"u")return()=>{};const le=()=>q(wo());return window.addEventListener("hashchange",le),()=>window.removeEventListener("hashchange",le)},[]),S.useEffect(()=>{let le=!1;async function Se(){if(R){M(!0),W(null);try{const Ue=await fetch(`/api/events/${R}?mode=edit`),He=await Ue.json().catch(()=>({}));if(!Ue.ok||!He?.ok)throw new Error(He?.error||"Unable to load event for editing.");if(le)return;const Ct=vv(He.data||{});o(Ct),h({}),J({id:He.data?.id||R,title:He.data?.title||"Untitled Event",status:He.data?.status||"draft"}),M(!1)}catch(Ue){if(le)return;W(Ue.message||"Unable to load event for editing."),M(!1)}}}return R?(Se(),()=>{le=!0}):(J(null),W(null),M(!1),o({...Sf}),h({}),()=>{})},[R,$]);const ae=hv.filter(le=>!le.requiresGeo||i),de=S.useCallback(()=>{ie(le=>le+1)},[]),he=S.useCallback(()=>{typeof window>"u"||(window.location.hash="#/create")},[]),Me=S.useCallback((le,Se)=>{typeof window>"u"||!le||(sessionStorage.setItem("gkLastDraftId",le),sessionStorage.setItem("gkLastDraftTitle",Se||"Untitled Event"))},[]);function Ae(le){const Se=le.target.files?.[0];if(!Se)return;if(!Se.type.startsWith("image/")){A("Please choose an image file.");return}if(Se.size>mv){A("Image must be 2MB or less.");return}A(null);const Ue=new FileReader;Ue.onload=()=>{const He=Ue.result;o(Ct=>({...Ct,cover_url:typeof He=="string"?He:Ct.cover_url}))},Ue.onerror=()=>{A("Unable to read that file. Try another image.")},Ue.readAsDataURL(Se)}function Le(le){A(null),o(Se=>({...Se,cover_url:le}))}function Je(){A(null),C.current&&(C.current.value=""),o(le=>({...le,cover_url:""}))}function me(le,Se){o(Ue=>({...Ue,[le]:Se}))}function We(le){o(Se=>({...Se,waitlist_enabled:le}))}function rt(le){o(Se=>{const Ue=Se.attendance_methods.includes(le);let He;return Ue?He=Se.attendance_methods.filter(Ct=>Ct!==le):He=[...Se.attendance_methods,le],He.length===0&&(He=[]),{...Se,attendance_methods:He}})}function gt(){const le=window.prompt("Paste a Google or Apple Maps link");if(typeof le=="string"&&le.trim()){const Se=le.trim();o(Ue=>({...Ue,location_text:Ue.location_text?`${Ue.location_text}
${Se}`:Se}))}}function Ge(le,Se="info",Ue,He){g({message:le,type:Se,actionLabel:Ue,onAction:He})}async function Tt(le){if(K&&ee){Ge("Still loading the event details","info");return}j(le);const Se=le==="published",Ue=Se||O?"published":"draft",He=Ue==="published",Ct=wf(r,{strict:He}),ne=Object.keys(Ct).length>0;if(h(Ct),ne){Ge(He?"Fix the highlighted fields before publishing.":"Fix the highlighted fields before saving.","error"),j(null);return}y(!0);try{const je=Sv(r,Ue),Qe=K?`/api/events/${R}`:"/api/events",ot=await fetch(Qe,{method:K?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)}),At=await ot.json().catch(()=>({}));if(!ot.ok||!At?.ok)throw new Error(At?.error||"Unable to save event");const Ye=At?.data?.id||R,Nt=r.title||z?.title||"Untitled Event",bt=O&&!Se;if(K&&J(ua=>ua&&{...ua,title:Nt,status:Ue}),!K){if(Ue==="draft"){Me(Ye,Nt),window.location.hash="#/my";return}Ge("Event published! ","success","View in My Events",()=>{window.location.hash="#/my"}),Ye&&setTimeout(()=>{window.location.hash=`#/events/${Ye}`},300);return}if(bt){Ge("Changes saved.","success","View Event",()=>{Ye&&(window.location.hash=`#/events/${Ye}`)});return}if(Ue==="draft"){Me(Ye,Nt),window.location.hash="#/my";return}Ge(O?"Event updated.":"Event published! ","success","View in My Events",()=>{window.location.hash="#/my"}),Ye&&setTimeout(()=>{window.location.hash=`#/events/${Ye}`},300)}catch(je){console.error("Create event failed:",je),Ge(je.message||"Something went wrong.","error")}finally{y(!1),j(null)}}function yt(){Z&&(U(null),ye(!0))}function Jt(){se||(ye(!1),U(null))}async function Xe(){if(R){pe(!0),U(null);try{const le=await fetch(`/api/events/${R}`,{method:"DELETE"}),Se=await le.json().catch(()=>({}));if(!le.ok||!Se?.ok)throw new Error(Se?.error||"Unable to delete draft.");ye(!1),typeof window<"u"&&(window.location.hash="#/my")}catch(le){console.error("delete draft failed:",le),U(le.message||"Unable to delete draft.")}finally{pe(!1)}}}return l.jsxs("section",{className:"create-event",children:[m&&l.jsxs("div",{className:`toast ${m.type}`,role:"status","aria-live":"polite",children:[l.jsx("span",{children:m.message}),m.actionLabel&&l.jsx("button",{type:"button",className:"toast-action",onClick:()=>{m.onAction?.(),g(null)},children:m.actionLabel}),l.jsx("button",{type:"button",className:"toast-close",onClick:()=>g(null),"aria-label":"Dismiss",children:""})]}),l.jsxs("header",{className:"create-head",children:[l.jsxs("div",{children:[l.jsx("p",{className:"eyebrow",children:"Plan something kind"}),l.jsx("h1",{children:K?"Edit Event":"Create Event"})]}),l.jsxs("div",{className:"action-group",children:[l.jsx("button",{type:"button",className:"btn secondary",disabled:f||ee,onClick:()=>Tt("draft"),children:f&&x==="draft"?"Saving":Q}),l.jsx("button",{type:"button",className:"btn primary",disabled:D,onClick:()=>Tt("published"),style:{backgroundColor:a.primary,borderColor:a.primary},children:f&&x==="published"?F:E})]})]}),K&&!Y&&l.jsxs("div",{className:"edit-banner",children:[l.jsxs("div",{children:[l.jsx("span",{className:"muted small",children:"Editing"}),l.jsx("strong",{children:z?.title||"This event"})]}),l.jsx("button",{type:"button",className:"ghost-link",onClick:he,children:"Start a new event"})]}),Y&&l.jsxs("div",{className:"banner error",children:[l.jsx("span",{children:Y}),l.jsxs("div",{className:"banner-actions",children:[l.jsx("button",{type:"button",className:"ghost-link",onClick:de,children:"Retry"}),l.jsx("button",{type:"button",className:"ghost-link",onClick:he,children:"Exit edit mode"})]})]}),K&&ee&&!Y&&l.jsx("p",{className:"loading-note",children:"Loading event details"}),l.jsx("form",{className:"create-form",onSubmit:le=>le.preventDefault(),children:l.jsxs("fieldset",{disabled:b,className:"create-fieldset",children:[l.jsx(it,{label:"Title",required:!0,error:d.title,children:l.jsx("input",{type:"text",name:"title",placeholder:"e.g., Coffee & Co-work at Main Street",value:r.title,onChange:le=>me("title",le.target.value)})}),l.jsxs("div",{className:"grid three",children:[l.jsx(it,{label:"Category",children:l.jsx("input",{type:"text",name:"category",placeholder:"Select category",value:r.category,onChange:le=>me("category",le.target.value)})}),l.jsx(it,{label:"Date",required:!0,error:d.date,children:l.jsx("input",{type:"date",name:"date",value:r.date,onChange:le=>me("date",le.target.value)})}),l.jsx(it,{label:"Time",required:!0,error:d.time,children:l.jsx("input",{type:"text",name:"time",placeholder:"10:0012:00",value:r.time,onChange:le=>me("time",le.target.value)})})]}),l.jsxs("div",{className:"grid two",children:[l.jsx(it,{label:"Timezone",required:!0,error:d.tz,children:l.jsx("input",{type:"text",name:"tz",placeholder:"America/Vancouver",value:r.tz,onChange:le=>me("tz",le.target.value)})}),l.jsxs(it,{label:"Location",required:!0,error:d.location_text,children:[l.jsx("textarea",{name:"location_text",placeholder:"123 Main St, Vancouver  or paste a map link",value:r.location_text,onChange:le=>me("location_text",le.target.value),rows:3}),l.jsxs("div",{className:"helper-row",children:[l.jsx("button",{type:"button",className:"btn tiny",onClick:gt,children:"Get Map Link"}),l.jsx("span",{className:"muted small",children:"Add a Google/Apple Maps URL to help people find you."})]})]})]}),l.jsxs("div",{className:"grid two",children:[l.jsx(it,{label:"Organization",children:l.jsx("input",{type:"text",name:"org_name",placeholder:"e.g., Vancouver Green Crew",value:r.org_name,onChange:le=>me("org_name",le.target.value)})}),l.jsx(it,{label:"Community tag",children:l.jsx("input",{type:"text",name:"community_tag",placeholder:"e.g., vancouver",value:r.community_tag,onChange:le=>me("community_tag",le.target.value)})})]}),l.jsx(it,{label:"Cause tags",children:l.jsx("input",{type:"text",name:"cause_tags",placeholder:"Hunger, Seniors, Environment",value:r.cause_tags,onChange:le=>me("cause_tags",le.target.value)})}),l.jsx(it,{label:"Requirements",children:l.jsx("textarea",{name:"requirements",rows:3,placeholder:"e.g., Closed-toe shoes, arrive 10 minutes early.",value:r.requirements,onChange:le=>me("requirements",le.target.value)})}),l.jsx(it,{label:"Visibility",required:!0,error:d.visibility,children:l.jsx("div",{className:"pill-row",children:fv.map(le=>l.jsx("button",{type:"button",className:`pill${r.visibility===le.value?" active":""}`,onClick:()=>me("visibility",le.value),children:le.label},le.value))})}),l.jsxs("div",{className:"grid two",children:[l.jsx(it,{label:"Capacity",error:d.capacity,children:l.jsx("input",{type:"number",min:"1",name:"capacity",placeholder:"Leave blank for unlimited",value:r.capacity,onChange:le=>me("capacity",le.target.value)})}),l.jsx(it,{label:"Waitlist",error:d.waitlist_enabled,children:l.jsxs("div",{className:"pill-row",children:[l.jsx("button",{type:"button",className:`pill${r.waitlist_enabled?" active":""}`,onClick:()=>We(!0),children:"Enabled"}),l.jsx("button",{type:"button",className:`pill${r.waitlist_enabled?"":" active"}`,onClick:()=>We(!1),children:"Disabled"})]})})]}),l.jsx(it,{label:"Cover Image",error:N,children:l.jsxs("div",{className:"cover-uploader",children:[w?l.jsx("img",{src:w,alt:"Event cover",className:"cover-preview"}):l.jsx("div",{className:"cover-placeholder",children:"Upload a banner to make your event pop."}),l.jsxs("div",{className:"cover-actions",children:[l.jsxs("label",{className:"btn secondary tiny",style:{cursor:"pointer"},children:["Upload image",l.jsx("input",{ref:C,type:"file",accept:"image/*",style:{display:"none"},onChange:Ae})]}),w&&l.jsx("button",{type:"button",className:"btn tiny",onClick:Je,children:"Remove"})]}),l.jsx("p",{className:"muted small",children:"Prefer a link? Paste a hosted image URL:"}),l.jsx("input",{type:"url",name:"cover_url",placeholder:"https://example.com/cover.jpg",value:r.cover_url?.startsWith("data:")?"":r.cover_url,onChange:le=>Le(le.target.value)})]})}),l.jsx(it,{label:"Description",children:l.jsx("textarea",{name:"description",rows:5,placeholder:"Tell folks what to expect, what to bring, and why it matters.",value:r.description,onChange:le=>me("description",le.target.value)})}),l.jsxs("div",{className:"grid three",children:[l.jsx(it,{label:"Verification method",children:l.jsxs("select",{name:"verification_method",value:r.verification_method,onChange:le=>me("verification_method",le.target.value),children:[l.jsx("option",{value:"host_attest",children:"Host attestation"}),l.jsx("option",{value:"qr_stub",children:"QR check-in (stub)"}),l.jsx("option",{value:"social_proof",children:"Social proof"})]})}),l.jsx(it,{label:"Impact Credits (base)",children:l.jsx("input",{type:"number",min:"0",name:"impact_credits_base",value:r.impact_credits_base,onChange:le=>me("impact_credits_base",le.target.value)})}),l.jsx(it,{label:"Reliability weight",children:l.jsx("input",{type:"number",min:"0",name:"reliability_weight",value:r.reliability_weight,onChange:le=>me("reliability_weight",le.target.value)})})]}),l.jsxs("div",{className:"grid three",children:[l.jsx(it,{label:"Reward Pool ($KIND)",children:l.jsx("input",{type:"number",min:"0",name:"reward_pool_kind",value:r.reward_pool_kind,onChange:le=>me("reward_pool_kind",Number(le.target.value)||0)})}),l.jsx(it,{label:"Funding pool slug",error:d.funding_pool_slug,children:l.jsx("input",{type:"text",name:"funding_pool_slug",value:r.funding_pool_slug,onChange:le=>me("funding_pool_slug",(le.target.value||"").toLowerCase()),placeholder:"general"})}),l.jsx(it,{label:"Boost visibility",children:l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>Ge("Boosting with $KIND coming soon.","info"),children:"Boost with $KIND"})})]}),l.jsx(it,{label:"Attendance methods",required:!0,error:d.attendance_methods,children:l.jsx("div",{className:"pill-row wrap",children:ae.map(le=>l.jsx("button",{type:"button",className:`pill${r.attendance_methods.includes(le.value)?" active":""}`,onClick:()=>rt(le.value),children:le.label},le.value))})}),l.jsx(it,{label:"Safety notes",children:l.jsx("textarea",{name:"safety_notes",rows:4,placeholder:"Share any accessibility notes, safety reminders, or special instructions.",value:r.safety_notes,onChange:le=>me("safety_notes",le.target.value)})}),l.jsxs("div",{className:"cta-row",children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>Ge("Invites coming soon.","info"),children:"Invite People"}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>Ge("Private links coming soon.","info"),children:"Share Private Link"})]}),l.jsx("p",{className:"legal-note",children:"By publishing, you agree to Get Kinders Community Guidelines and assume responsibility for event safety and compliance with local laws."})]})}),Z&&l.jsxs("div",{className:"draft-delete-zone",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Delete this draft"}),l.jsx("p",{children:"This permanently removes the draft and all saved details."})]}),l.jsx("button",{type:"button",className:"btn danger",onClick:yt,children:"Delete draft"})]}),oe&&l.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:"delete-modal",role:"document",children:[l.jsx("h2",{children:"Delete draft?"}),l.jsx("p",{children:"This cant be undone. Are you sure you want to delete this event draft?"}),fe&&l.jsx("p",{className:"error-text",children:fe}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"btn danger",onClick:Xe,disabled:se,children:se?"Deleting":"Delete"}),l.jsx("button",{type:"button",className:"btn secondary",onClick:Jt,disabled:se,children:"Return"})]})]})}),l.jsx("style",{children:Nv})]})}function it({label:a,children:i,required:r,error:o}){return l.jsxs("label",{className:`field ${o?"has-error":""}`,children:[l.jsxs("span",{className:"label",children:[a," ",r&&l.jsx("span",{className:"required",children:"*"})]}),i,o&&l.jsx("span",{className:"error-text",children:o})]})}function Sv(a,i){const r=bv(a.cause_tags),o=jf(a.verification_method),d=typeof a.impact_credits_base=="string"?a.impact_credits_base.trim():a.impact_credits_base,h=typeof a.reliability_weight=="string"?a.reliability_weight.trim():a.reliability_weight,f=d===""||d===null||d===void 0?NaN:Number(d),y=h===""||h===null||h===void 0?NaN:Number(h),m=Number.isFinite(f)?f:25,g=Number.isFinite(y)?y:1,x=(a.funding_pool_slug||"").trim().toLowerCase()||"general";return{title:a.title?.trim(),category:a.category?.trim()||null,date:a.date||null,time_range:a.time||null,tz:a.tz?.trim()||"America/Vancouver",location_text:a.location_text?.trim()||"",visibility:a.visibility,capacity:a.capacity?Number(a.capacity):null,waitlist_enabled:!!a.waitlist_enabled,cover_url:a.cover_url?.trim()||null,description:a.description?.trim()||null,org_name:a.org_name?.trim()||null,community_tag:a.community_tag?.trim()||null,cause_tags:r,requirements:a.requirements?.trim()||null,verification_method:o,impact_credits_base:m,reliability_weight:g,reward_pool_kind:Number(a.reward_pool_kind)||0,funding_pool_slug:x,attendance_methods:a.attendance_methods,safety_notes:a.safety_notes?.trim()||null,status:i}}function wf(a,{strict:i=!1}={}){const r={};if(a.title?.trim()||(r.title="Title is required."),i&&!a.date&&(r.date="Date is required."),i&&!a.time?.trim())r.time="Time range is required.";else if(a.time?.trim()){const d=wv(a.time);d?d.endTotal<=d.startTotal&&(r.time="End time must be after start time."):r.time="Use format HH:mmHH:mm."}i&&!a.tz?.trim()&&(r.tz="Timezone required."),i&&!a.location_text?.trim()&&(r.location_text="Location required."),a.visibility||(r.visibility="Choose a visibility."),a.capacity&&Number(a.capacity)<1&&(r.capacity="Capacity must be at least 1.");const o=(a.funding_pool_slug||"").trim().toLowerCase();return o?pv.test(o)||(r.funding_pool_slug="Use lowercase letters/numbers plus - or _."):r.funding_pool_slug="Funding pool slug is required.",(!a.attendance_methods||a.attendance_methods.length===0)&&(r.attendance_methods="Select at least one method."),r}function wv(a){if(typeof a!="string")return null;const i=a.includes("")?"":"-",[r,o]=a.split(i).map(f=>f?.trim());if(!r||!o)return null;const d=Nf(r),h=Nf(o);return!d||!h?null:{start:d,end:h,startTotal:d.hour*60+d.minute,endTotal:h.hour*60+h.minute}}function Nf(a){const i=/^(\d{1,2}):(\d{2})$/.exec(a);if(!i)return null;const r=Number(i[1]),o=Number(i[2]);return r>23||o>59?null:{hour:r,minute:o}}const Nv=`
  .create-event {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .edit-banner {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px 16px;
    border:1px solid #cbd5f5;
    border-radius:12px;
    background:#f8fafc;
    margin-bottom:16px;
  }
  .banner {
    border-radius:12px;
    padding:12px 16px;
    margin-bottom:16px;
    display:flex;
    justify-content:space-between;
    gap:12px;
    align-items:center;
  }
  .banner.error {
    background:#fee2e2;
    color:#991b1b;
    border:1px solid #fecaca;
  }
  .banner-actions {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }
  .ghost-link {
    border:none;
    background:transparent;
    color:#455a7c;
    text-decoration:underline;
    cursor:pointer;
    font-weight:600;
  }
  .loading-note {
    color:#6b7280;
    font-size:0.95rem;
    margin:4px 0 16px;
  }
  .create-head {
    display:flex;
    justify-content:space-between;
    gap:24px;
    align-items:center;
    flex-wrap:wrap;
    margin-bottom:24px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .create-head h1 {
    margin:0;
    color:#111827;
  }
  .action-group {
    display:flex;
    gap:12px;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:10px 20px;
    font-weight:600;
    cursor:pointer;
    transition:transform 0.1s ease;
  }
  .btn:disabled {
    opacity:0.6;
    cursor:not-allowed;
  }
  .btn.primary {
    color:#fff;
    background-color:#ff5656;
    border-color:#ff5656;
  }
  .btn.secondary {
    background:#fff;
    color:#1f2937;
  }
  .btn.danger {
    background:#fee2e2;
    border-color:#fecaca;
    color:#b91c1c;
  }
  .btn.tiny {
    padding:6px 12px;
    font-size:0.85rem;
  }
  .create-form {
    display:flex;
    flex-direction:column;
    gap:20px;
  }
  .create-fieldset {
    border:0;
    padding:0;
    margin:0;
    display:flex;
    flex-direction:column;
    gap:20px;
  }
  .create-fieldset:disabled {
    opacity:0.6;
  }
  .grid {
    display:grid;
    gap:18px;
  }
  .grid.two {
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  }
  .grid.three {
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  }
  .field {
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  .label {
    font-weight:600;
    color:#111827;
  }
  .required {
    color:#ff5656;
  }
  .field input,
  .field textarea {
    border:1px solid #d1d5db;
    border-radius:12px;
    padding:12px 14px;
    font-size:1rem;
    font-family:inherit;
    resize:vertical;
  }
  .field textarea {
    min-height:160px;
  }
  .field.has-error input,
  .field.has-error textarea {
    border-color:#f87171;
  }
  .error-text {
    color:#b91c1c;
    font-size:0.85rem;
  }
  .pill-row {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }
  .pill-row.wrap {
    flex-wrap:wrap;
  }
  .pill {
    border:1px solid #d1d5db;
    padding:8px 16px;
    border-radius:999px;
    background:#fff;
    cursor:pointer;
    font-weight:600;
  }
  .pill.active {
    background:#ff5656;
    color:#fff;
    border-color:#ff5656;
  }
  .helper-row {
    display:flex;
    gap:12px;
    align-items:center;
    flex-wrap:wrap;
  }
  .muted {
    color:#6b7280;
  }
  .muted.small {
    font-size:0.85rem;
  }
  .cover-uploader {
    display:flex;
    flex-direction:column;
    gap:8px;
    border:1px dashed #cbd5f5;
    padding:12px;
    border-radius:16px;
    background:#f8fafc;
  }
  .cover-preview {
    width:100%;
    max-height:220px;
    object-fit:cover;
    border-radius:12px;
    border:1px solid #e5e7eb;
  }
  .cover-placeholder {
    border:1px dashed #d1d5db;
    border-radius:12px;
    padding:24px;
    text-align:center;
    color:#6b7280;
    font-size:0.95rem;
  }
  .cover-actions {
    display:flex;
    gap:8px;
    flex-wrap:wrap;
  }
  .cta-row {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    justify-content:flex-start;
  }
  .legal-note {
    font-size:0.85rem;
    color:#6b7280;
    margin-top:16px;
  }
  .toast {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    border-radius:12px;
    padding:12px 16px;
    margin-bottom:16px;
    color:#fff;
  }
  .toast.info { background:#3b82f6; }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast-action {
    border:1px solid rgba(255,255,255,0.5);
    border-radius:999px;
    padding:6px 14px;
    font-size:0.85rem;
    background:transparent;
    color:inherit;
    cursor:pointer;
  }
  .toast-close {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .draft-delete-zone {
    margin-top:24px;
    padding:16px;
    border:1px solid #fecaca;
    border-radius:12px;
    background:#fff7f7;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
    flex-wrap:wrap;
  }
  .draft-delete-zone h3 {
    margin:0 0 6px;
  }
  .draft-delete-zone p {
    margin:0;
    color:#b91c1c;
  }
  .modal-overlay {
    position:fixed;
    inset:0;
    background:rgba(15,23,42,0.45);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:16px;
    z-index:50;
  }
  .delete-modal {
    background:#fff;
    border-radius:16px;
    padding:24px;
    width:100%;
    max-width:420px;
    box-shadow:0 32px 60px rgba(15,23,42,0.2);
  }
  .delete-modal h2 {
    margin:0 0 8px;
  }
  .delete-modal p {
    margin:0;
    color:#4b5563;
  }
  .modal-actions {
    margin-top:20px;
    display:flex;
    gap:12px;
    justify-content:flex-end;
  }
`,_v=[{value:"friendly",label:"Friendly"},{value:"hype",label:"High-energy"},{value:"thoughtful",label:"Thoughtful"}];function ps(a){return a?`Come to ${a}`:"Join me for this event"}function Nl(a){return a?`Id love for you to join me for ${a}.

Let me know if you can make it!`:"Id love for you to join. Let me know if you can make it!"}function _f({open:a,onClose:i,eventId:r,eventTitle:o,onSent:d}){const[h,f]=S.useState(""),[y,m]=S.useState(""),[g,x]=S.useState("friendly"),[j,w]=S.useState(ps(o)),[_,N]=S.useState(Nl(o)),[A,C]=S.useState(!1),[R,q]=S.useState(!1),[z,J]=S.useState(!1),[ee,M]=S.useState(null),[Y,W]=S.useState([]),[$,ie]=S.useState(!1),oe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.trim()),ye=S.useMemo(()=>{if(!h)return Y.slice(0,5);const K=h.trim().toLowerCase();return Y.filter(ue=>ue.email.toLowerCase().includes(K)||ue.name.toLowerCase().includes(K)).slice(0,5)},[Y,h]);if(S.useEffect(()=>{if(!a||$)return;let K=!1;return fetch("/api/me/contacts").then(ue=>ue.json()).then(ue=>{!K&&ue?.ok&&Array.isArray(ue.data)&&(W(ue.data),ie(!0))}).catch(()=>{}),()=>{K=!0}},[a,$]),S.useEffect(()=>{a&&(M(null),x("friendly"),w(ps(o)),N(Nl(o)))},[a,o]),!a)return null;function se(K=!1){return{invitee_email:h.trim(),invitee_name:y.trim(),tone:g,subject:K?void 0:j,message:K?void 0:_,send_by_kai:K}}async function pe(K){if(K?.preventDefault(),!(!oe||A)){C(!0),M(null);try{const ue=await fetch(`/api/events/${r}/invites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se(!1))}),D=await ue.json().catch(()=>({}));if(!ue.ok||!D?.ok)throw new Error(D?.error||"Unable to send invite");X(),window.dispatchEvent(new CustomEvent("gk:invite-sent",{detail:D.data})),d?.(D.data)}catch(ue){M(ue.message||"Unable to send invite")}finally{C(!1)}}}async function fe(){if(!(!oe||R)){q(!0),M(null);try{const K=await fetch(`/api/events/${r}/invites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se(!0))}),ue=await K.json().catch(()=>({}));if(!K.ok||!ue?.ok)throw new Error(ue?.error||"Unable to send invite");X(),window.dispatchEvent(new CustomEvent("gk:invite-sent",{detail:ue.data})),d?.(ue.data)}catch(K){M(K.message||"Unable to send invite")}finally{q(!1)}}}async function U(){if(!z){J(!0),M(null);try{const K=await fetch(`/api/events/${r}/invite-copy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tone:g})}),ue=await K.json().catch(()=>({}));if(!K.ok||!ue?.ok)throw new Error(ue?.error||"Unable to draft copy");w(ue.data?.subject||ps(o)),N((ue.data?.body||Nl(o)).trim())}catch(K){M(K.message||"Unable to draft copy")}finally{J(!1)}}}function X(){f(""),m(""),w(ps(o)),N(Nl(o))}return l.jsxs("div",{className:"invite-modal",role:"dialog","aria-modal":"true",children:[l.jsx("div",{className:"invite-backdrop",onClick:i}),l.jsxs("div",{className:"invite-panel",children:[l.jsx("h3",{children:"Invite someone"}),l.jsx("p",{className:"muted",children:o||"This event"}),l.jsxs("form",{onSubmit:pe,className:"invite-form",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Email *"}),l.jsx("input",{type:"email",value:h,onChange:K=>f(K.target.value),placeholder:"friend@example.com",required:!0}),!!ye.length&&l.jsx("div",{className:"suggestions",role:"listbox",children:ye.map(K=>l.jsxs("button",{type:"button",onClick:()=>{f(K.email),m(K.name)},children:[l.jsx("span",{children:K.name}),l.jsx("small",{children:K.email})]},K.id))})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Name (optional)"}),l.jsx("input",{type:"text",value:y,onChange:K=>m(K.target.value),placeholder:"Friend's name"})]}),l.jsxs("div",{className:"tone-row",children:[l.jsx("span",{children:"Tone"}),l.jsx("div",{className:"tone-pills",children:_v.map(K=>l.jsx("button",{type:"button",className:`pill${g===K.value?" active":""}`,onClick:()=>x(K.value),children:K.label},K.value))})]}),l.jsxs("div",{className:"draft-row",children:[l.jsx("button",{type:"button",className:"btn ghost",onClick:U,disabled:z,children:z?"Drafting":"Draft with KAI"}),l.jsx("small",{className:"muted",children:"KAI will pre-fill the message"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Subject"}),l.jsx("input",{type:"text",value:j,onChange:K=>w(K.target.value),placeholder:ps(o)})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Message"}),l.jsx("textarea",{rows:4,value:_,onChange:K=>N(K.target.value),placeholder:"Add a quick personal note"})]}),ee&&l.jsx("p",{className:"error-text",children:ee}),l.jsxs("div",{className:"invite-actions",children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:i,disabled:A||R,children:"Close"}),l.jsx("button",{type:"submit",className:"btn primary",disabled:!oe||A,children:A?"Sending":"Send"})]}),l.jsx("button",{type:"button",className:"btn full kai",disabled:!oe||R,onClick:fe,children:R?"KAI is sending":"KAI Sends Email"})]})]}),l.jsx("style",{children:`
        .invite-modal {
          position: fixed;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1100;
        }
        .invite-backdrop {
          position: absolute;
          inset: 0;
          background: rgba(15, 23, 42, 0.55);
        }
        .invite-panel {
          position: relative;
          background: #fff;
          border-radius: 16px;
          padding: 24px;
          max-width: 460px;
          width: 90%;
          box-shadow: 0 30px 80px rgba(15, 23, 42, 0.25);
        }
        .invite-panel h3 {
          margin: 0 0 4px;
          color: #111827;
        }
        .invite-panel .muted {
          margin: 0 0 16px;
        }
        .invite-form {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        label {
          display: flex;
          flex-direction: column;
          gap: 6px;
          font-weight: 600;
          color: #111827;
        }
        label input,
        label textarea {
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 10px 12px;
          font-size: 1rem;
        }
        label textarea {
          resize: vertical;
        }
        .tone-row {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .tone-pills {
          display: flex;
          gap: 8px;
          flex-wrap: wrap;
        }
        .pill {
          border: 1px solid #d1d5db;
          border-radius: 999px;
          padding: 4px 14px;
          background: #fff;
          font-weight: 600;
          cursor: pointer;
          color: #111827;
        }
    NEW
        .pill.active {
          background: #ffebeb;
          border-color: #ff5656;
          color: #c01f1f;
        }
        .draft-row {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
        }
        .error-text {
          color: #b91c1c;
          font-size: 0.9rem;
          margin: 0;
        }
        .invite-actions {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          margin-top: 8px;
        }
        .btn {
          border: 1px solid #d1d5db;
          border-radius: 999px;
          padding: 8px 18px;
          font-weight: 600;
          cursor: pointer;
        }
        .btn.primary {
          background: #ff5656;
          border-color: #ff5656;
          color: #fff;
        }
        .btn.secondary {
          background: #fff;
        }
        .btn.ghost {
          border-color: #cbd5f5;
          color: #455a7c;
          background: #f8fafc;
        }
        .btn.full {
          width: 100%;
          justify-content: center;
          margin-top: 4px;
        }
        .btn.kai {
          background: #111827;
          border-color: #111827;
          color: #fff;
        }
        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        .suggestions {
          display: flex;
          flex-direction: column;
          border: 1px solid #e5e7eb;
          border-radius: 10px;
          margin-top: 6px;
          padding: 6px;
          background: #f9fafb;
          gap: 4px;
        }
        .suggestions button {
          display: flex;
          justify-content: space-between;
          align-items: center;
          border: none;
          background: transparent;
          font-size: 0.95rem;
          cursor: pointer;
          padding: 4px 0;
        }
        .suggestions button small { color:#6b7280; margin-left:12px; }
      `})]})}const Tv=25,Un="all",oi="all";function Cv({open:a,initialPoolSlug:i=Un,onClose:r}){const[o,d]=S.useState(Un),[h,f]=S.useState(oi),[y,m]=S.useState([]),[g,x]=S.useState(!1),[j,w]=S.useState(null),[_,N]=S.useState(0),[A,C]=S.useState(!1),[R,q]=S.useState([Un,"general"]),[z,J]=S.useState([{value:oi,label:"All Reasons"}]);if(S.useEffect(()=>{if(!a)return;const M=typeof i=="string"&&i.trim()?i.trim().toLowerCase():Un;d(M),f(oi),m([]),N(0),C(!1),w(null)},[a,i]),S.useEffect(()=>{a&&ee(!1)},[a,o,h]),!a)return null;async function ee(M){x(!0),M||w(null);const Y=M?_:0;try{const W=new URLSearchParams({limit:String(Tv),offset:String(Y)});o&&o!==Un&&W.set("pool_slug",o),h&&h!==oi&&W.set("reason",h);const $=await fetch(`/api/me/events/pools/transactions?${W.toString()}`),ie=await $.json().catch(()=>({}));if(!$.ok||!ie?.ok)throw new Error(ie?.error||"Unable to load pool ledger");const oe=Array.isArray(ie?.data?.items)?ie.data.items:[],ye=Array.isArray(ie?.data?.pool_options)?ie.data.pool_options:[],se=Array.isArray(ie?.data?.reason_options)?ie.data.reason_options:[],pe=Array.from(new Set([Un,"general",...ye.map(fe=>String(fe||"").trim()).filter(Boolean)]));o!==Un&&!pe.includes(o)&&pe.push(o),q(pe),J(se.length?se:[{value:oi,label:"All Reasons"}]),m(fe=>M?[...fe,...oe]:oe),N(Number(ie?.paging?.next_offset)||Y+oe.length),C(!!ie?.paging?.has_more)}catch(W){console.error("load pool transactions failed:",W),w(W.message||"Unable to load pool ledger")}finally{x(!1)}}return l.jsxs("div",{className:"ledger-modal",role:"dialog","aria-modal":"true","aria-label":"Pool Ledger",children:[l.jsx("button",{type:"button",className:"ledger-backdrop",onClick:r,"aria-label":"Close ledger"}),l.jsxs("div",{className:"ledger-panel",children:[l.jsxs("header",{className:"ledger-header",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Pool Ledger"}),l.jsx("p",{className:"muted",children:"Track exactly why pool balances changed."})]}),l.jsx("button",{type:"button",className:"btn secondary",onClick:r,children:"Close"})]}),l.jsxs("div",{className:"ledger-filters",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Funding Pool"}),l.jsx("select",{value:o,onChange:M=>d(M.target.value||Un),children:R.map(M=>l.jsx("option",{value:M,children:M===Un?"All pools":M},M))})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Reason"}),l.jsx("select",{value:h,onChange:M=>f(M.target.value||oi),children:z.map(M=>l.jsx("option",{value:M.value,children:M.label},M.value))})]})]}),j&&l.jsx("div",{className:"ledger-error",children:j}),!g&&!y.length?l.jsx("div",{className:"ledger-empty muted",children:"No pool transactions found for this filter."}):l.jsx("div",{className:"ledger-list",children:y.map(M=>{const Y=Number(M.amount_credits)||0,W=M.direction==="credit",$=`${W?"+":"-"}${Y}`;return l.jsxs("div",{className:"ledger-item",children:[l.jsxs("div",{className:"ledger-top",children:[l.jsx("span",{className:`amount ${W?"credit":"debit"}`,children:$}),l.jsx("span",{className:"reason",children:M.reason_label||M.reason}),l.jsx("span",{className:"time",children:Av(M.created_at)})]}),l.jsxs("div",{className:"ledger-meta",children:[l.jsxs("span",{children:["Pool: ",l.jsx("strong",{children:M.funding_pool_slug||"general"})]}),M.event_title&&l.jsxs("span",{children:["Event: ",l.jsx("strong",{children:M.event_title})]}),M.donation_id&&l.jsxs("span",{children:["Donation #",M.donation_id,M.donation_amount_cents!=null?` (${Ev(M.donation_amount_cents,M.donation_currency)})`:""]})]})]},M.id||`${M.created_at}-${M.wallet_tx_id||M.event_id||Y}`)})}),l.jsxs("div",{className:"ledger-actions",children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>ee(!1),disabled:g,children:g?"Refreshing...":"Refresh"}),A&&l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>ee(!0),disabled:g,children:g?"Loading...":"Load more"})]})]}),l.jsx("style",{children:`
        .ledger-modal {
          position: fixed;
          inset: 0;
          z-index: 1150;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 16px;
        }
        .ledger-backdrop {
          position: absolute;
          inset: 0;
          border: 0;
          background: rgba(15, 23, 42, 0.5);
          cursor: pointer;
        }
        .ledger-panel {
          position: relative;
          width: min(760px, 100%);
          max-height: min(86vh, 900px);
          overflow: auto;
          background: #fff;
          border: 1px solid #e2e8f0;
          border-radius: 16px;
          padding: 18px;
          box-shadow: 0 24px 56px rgba(15, 23, 42, 0.24);
        }
        .ledger-header {
          display: flex;
          justify-content: space-between;
          gap: 10px;
          align-items: center;
          margin-bottom: 14px;
          flex-wrap: wrap;
        }
        .ledger-header h3 {
          margin: 0;
          color: #0f172a;
        }
        .ledger-header .muted {
          margin: 2px 0 0;
          color: #64748b;
        }
        .ledger-filters {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 10px;
          margin-bottom: 12px;
        }
        .ledger-filters label {
          display: grid;
          gap: 6px;
        }
        .ledger-filters span {
          font-size: 0.85rem;
          font-weight: 600;
          color: #334155;
        }
        .ledger-filters select {
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 8px 10px;
          background: #fff;
        }
        .ledger-error {
          border: 1px solid #fecaca;
          background: #fef2f2;
          color: #991b1b;
          border-radius: 10px;
          padding: 8px 10px;
          margin-bottom: 10px;
        }
        .ledger-empty {
          border: 1px dashed #cbd5e1;
          border-radius: 12px;
          padding: 18px;
          text-align: center;
        }
        .ledger-list {
          display: grid;
          gap: 10px;
        }
        .ledger-item {
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          padding: 10px 12px;
          background: #f8fafc;
        }
        .ledger-top {
          display: flex;
          gap: 10px;
          align-items: center;
          flex-wrap: wrap;
        }
        .amount {
          font-weight: 700;
          font-size: 1rem;
        }
        .amount.credit {
          color: #166534;
        }
        .amount.debit {
          color: #b91c1c;
        }
        .reason {
          font-weight: 600;
          color: #0f172a;
        }
        .time {
          margin-left: auto;
          color: #64748b;
          font-size: 0.85rem;
        }
        .ledger-meta {
          margin-top: 6px;
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
          color: #475569;
          font-size: 0.9rem;
        }
        .ledger-actions {
          margin-top: 12px;
          display: flex;
          justify-content: flex-end;
          gap: 8px;
        }
      `})]})}function Av(a){if(!a)return"Unknown time";try{return new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return"Unknown time"}}function Ev(a,i="CAD"){const r=Number(a);return Number.isFinite(r)?new Intl.NumberFormat("en-US",{style:"currency",currency:i||"CAD"}).format(r/100):`${i} 0.00`}const No=1e6,Tf=[{value:"org_allocation",label:"Org allocation"},{value:"subscription",label:"Subscription"}];function kv({open:a,poolSlug:i,onClose:r,onSubmit:o}){const[d,h]=S.useState("100"),[f,y]=S.useState("org_allocation"),[m,g]=S.useState(null),[x,j]=S.useState(!1),w=S.useMemo(()=>typeof i=="string"&&i.trim()?i.trim():"general",[i]);if(S.useEffect(()=>{a&&(h("100"),y("org_allocation"),g(null),j(!1))},[a,w]),!a)return null;async function _(N){if(N.preventDefault(),x)return;const A=Number(d);if(!Number.isInteger(A)||A<=0||A>No){g(`Amount must be a whole number between 1 and ${No}.`);return}if(!Tf.some(C=>C.value===f)){g("Top-up source must be org allocation or subscription.");return}j(!0),g(null);try{await o?.({amountCredits:A,source:f}),r?.()}catch(C){g(C?.message||"Unable to add pool credits.")}finally{j(!1)}}return l.jsxs("div",{className:"topup-modal",role:"dialog","aria-modal":"true","aria-label":"Add pool credits",children:[l.jsx("button",{type:"button",className:"topup-backdrop",onClick:r,"aria-label":"Close dialog"}),l.jsxs("div",{className:"topup-panel",children:[l.jsx("h3",{children:"Add Credits"}),l.jsxs("p",{className:"muted",children:["Funding Pool: ",l.jsx("strong",{children:w})]}),l.jsxs("form",{className:"topup-form",onSubmit:_,children:[l.jsxs("label",{children:[l.jsx("span",{children:"Amount (credits)"}),l.jsx("input",{type:"number",min:1,max:No,step:1,inputMode:"numeric",value:d,onChange:N=>h(N.target.value),required:!0})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Top-up Source"}),l.jsx("select",{value:f,onChange:N=>y(N.target.value),children:Tf.map(N=>l.jsx("option",{value:N.value,children:N.label},N.value))})]}),m&&l.jsx("p",{className:"error-text",children:m}),l.jsxs("div",{className:"topup-actions",children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:r,disabled:x,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn primary",disabled:x,children:x?"Adding...":"Add Credits"})]})]})]}),l.jsx("style",{children:`
        .topup-modal {
          position: fixed;
          inset: 0;
          z-index: 1200;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 16px;
        }
        .topup-backdrop {
          position: absolute;
          inset: 0;
          border: 0;
          background: rgba(15, 23, 42, 0.46);
          cursor: pointer;
        }
        .topup-panel {
          position: relative;
          width: min(440px, 100%);
          background: #fff;
          border: 1px solid #e2e8f0;
          border-radius: 16px;
          padding: 18px;
          box-shadow: 0 24px 48px rgba(15, 23, 42, 0.2);
        }
        .topup-panel h3 {
          margin: 0 0 6px;
          color: #0f172a;
        }
        .topup-panel .muted {
          margin: 0 0 14px;
          color: #64748b;
        }
        .topup-form {
          display: grid;
          gap: 12px;
        }
        .topup-form label {
          display: grid;
          gap: 6px;
        }
        .topup-form span {
          font-size: 0.9rem;
          color: #334155;
          font-weight: 600;
        }
        .topup-form input,
        .topup-form select {
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 10px 12px;
          font-size: 0.95rem;
          background: #fff;
        }
        .error-text {
          margin: 0;
          color: #b91c1c;
          font-size: 0.9rem;
        }
        .topup-actions {
          display: flex;
          justify-content: flex-end;
          gap: 8px;
          margin-top: 4px;
        }
      `})]})}const Cf=20,rn="all",_l="general",Cn="any",Af={any:"All events",funded:"Funded events",deficit:"Pending deficit events",unfunded:"Unfunded events"},Tl={events_count:0,published_events_count:0,reward_pool_kind_total:0,verified_credits_total:0,funded_credits_total:0,deficit_credits_total:0,pool_credits_in_total:0,pool_credits_out_total:0,pool_credits_remaining:0},Mv=[{key:"upcoming",label:"Upcoming"},{key:"past",label:"Past"},{key:"drafts",label:"Drafts"}],Dv={draft:"Draft",published:"Published",cancelled:"Cancelled",completed:"Completed"};function Rv(){const[a,i]=S.useState("upcoming"),[r,o]=S.useState(rn),[d,h]=S.useState(Cn),[f,y]=S.useState([]),[m,g]=S.useState(!0),[x,j]=S.useState(null),[w,_]=S.useState(0),[N,A]=S.useState(!0),[C,R]=S.useState({loading:!0,error:null,pools:[],totals:{...Tl}}),[q,z]=S.useState(null),[J,ee]=S.useState(!1),[M,Y]=S.useState({open:!1,poolSlug:_l}),[W,$]=S.useState({open:!1,event:null}),[ie,oe]=S.useState(()=>{const E=sessionStorage.getItem("gkLastDraftId"),F=sessionStorage.getItem("gkLastDraftTitle");return E?(sessionStorage.removeItem("gkLastDraftId"),sessionStorage.removeItem("gkLastDraftTitle"),{id:E,title:F}):null});S.useEffect(()=>{ie&&i("drafts")},[ie]),S.useEffect(()=>{U(!1)},[a,r,d]),S.useEffect(()=>{fe()},[]),S.useEffect(()=>{if(!q)return;const E=setTimeout(()=>z(null),3500);return()=>clearTimeout(E)},[q]);const ye=S.useMemo(()=>{if(!ie||a!=="drafts")return f;const E=f.findIndex(ae=>ae.id===ie.id);if(E===-1)return f;const F=[...f],[Z]=F.splice(E,1);return[Z,...F]},[f,ie,a]),se=S.useMemo(()=>{const E=Array.isArray(C.pools)?C.pools.map(Z=>Z?.funding_pool_slug).filter(Z=>typeof Z=="string"&&Z.trim()):[],F=Array.from(new Set([_l,...E])).sort();return r!==rn&&!F.includes(r)&&F.unshift(r),[rn,...F]},[C.pools,r]),pe=S.useMemo(()=>{if(r===rn)return{funding_pool_slug:rn,...C.totals||Tl};const E=(C.pools||[]).find(F=>F.funding_pool_slug===r);return E||{funding_pool_slug:r,...Tl}},[r,C.pools,C.totals]);async function fe({includeSlug:E=null}={}){R(F=>({...F,loading:!0,error:null}));try{const F=new URLSearchParams;E&&E!==rn&&F.set("include_pool_slug",E);const Z=F.toString(),ae=await fetch(`/api/me/events/pools/summary${Z?`?${Z}`:""}`),de=await ae.json().catch(()=>({}));if(!ae.ok||!de?.ok)throw new Error(de?.error||"Unable to load pool summary");const he=de?.data||{};R({loading:!1,error:null,pools:Array.isArray(he.pools)?he.pools:[],totals:he.totals||{...Tl}})}catch(F){console.error("load pool summary failed:",F),R(Z=>({...Z,loading:!1,error:F.message||"Unable to load pool summary"}))}}async function U(E){g(!0),j(null);const F=E?w:0;try{const Z=new URLSearchParams({tab:a,limit:String(Cf),offset:String(F)});r!==rn&&Z.set("funding_pool_slug",r),d!==Cn&&Z.set("funding_state",d);const ae=await fetch(`/api/me/events?${Z.toString()}`),de=await ae.json();if(!ae.ok||!de?.ok)throw new Error(de?.error||"Failed to load events");y(he=>E?[...he,...de.data||[]]:de.data||[]),_(F+(de?.paging?.count||0)),A((de?.paging?.count||0)===Cf)}catch(Z){console.error("load my events failed:",Z),j(Z.message||"Unable to load events")}finally{g(!1)}}function X(E,{targetTab:F=null}={}){const Z=E||Cn;F&&i(F),h(Z),_(0)}function K(){if(r===rn){z({type:"error",message:"Choose a specific funding pool first."});return}Y({open:!0,poolSlug:r||_l})}async function ue({amountCredits:E,source:F}){const Z=M.poolSlug||r||_l,ae=await fetch("/api/me/events/pools/topups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funding_pool_slug:Z,amount_credits:E,source:F})}),de=await ae.json().catch(()=>({}));if(!ae.ok||!de?.ok)throw new Error(de?.error||"Unable to add pool credits");const he=Number(de?.data?.pool_credits_remaining)||0;z({type:"success",message:`Added ${E} credits to "${Z}". Balance: ${he}.`}),await Promise.all([fe({includeSlug:Z}),U(!1)])}async function D(E){const F=f.find(Z=>Z.id===E);if(F){y(Z=>Z.filter(ae=>ae.id!==E));try{const Z=await fetch(`/api/events/${E}/cancel`,{method:"POST"}),ae=await Z.json().catch(()=>({}));if(!Z.ok||!ae?.ok)throw new Error(ae?.error||"Unable to cancel event");z({type:"success",message:"Event cancelled."}),fe()}catch(Z){console.error("cancel event failed:",Z),z({type:"error",message:Z.message||"Unable to cancel event."}),y(ae=>[F,...ae])}}}async function b(E){try{const F=await fetch(`/api/events/${E}/complete`,{method:"POST"}),Z=await F.json().catch(()=>({}));if(!F.ok||!Z?.ok)throw new Error(Z?.error||"Unable to complete event");y(ae=>a==="past"?ae.map(de=>de.id===E?{...de,status:"completed"}:de):ae.filter(de=>de.id!==E)),z({type:"success",message:"Event marked completed."}),fe()}catch(F){console.error("complete event failed:",F),z({type:"error",message:F.message||"Unable to complete event."})}}async function O(E){try{const F=`${window.location.origin}/events#/events/${E}`;await navigator?.clipboard?.writeText(F),z({type:"success",message:"Event link copied."})}catch{z({type:"error",message:"Clipboard unavailable. Copy manually."})}}function Q(E){const F=E.status==="draft",Z=E.status==="cancelled",ae=E.status==="completed",de=E.start_at?new Date(E.start_at)>new Date:!1,he=E.end_at?new Date(E.end_at)<=new Date:!1;return l.jsxs("div",{className:"action-row",children:[!F&&!Z&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{window.location.hash=`#/events/${E.id}`},children:"Open Roster"}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>O(E.id),children:"Copy Link"}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>z({type:"info",message:"QR tools coming soon."}),children:"Show QR / Code"}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>$({open:!0,event:E}),children:"Invite"})]}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{window.location.hash=`#/create?edit=${E.id}`},children:"Edit"}),!F&&!Z&&de&&l.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>D(E.id),children:"Cancel Event"}),!F&&!Z&&!ae&&he&&l.jsx("button",{type:"button",className:"btn primary",onClick:()=>b(E.id),children:"Mark Completed"})]})}return l.jsxs("section",{className:"my-events-page",children:[q&&l.jsxs("div",{className:`toast ${q.type}`,children:[l.jsx("span",{children:q.message}),q.actionLabel&&l.jsx("button",{type:"button",className:"toast-action",onClick:()=>{q.onAction?.(),z(null)},children:q.actionLabel}),l.jsx("button",{type:"button",onClick:()=>z(null),"aria-label":"Dismiss",children:""})]}),l.jsx("header",{className:"page-head",children:l.jsxs("div",{children:[l.jsx("p",{className:"eyebrow",children:"Host view"}),l.jsx("h1",{children:"My Events"})]})}),l.jsx("div",{className:"tab-row",role:"tablist",children:Mv.map(E=>l.jsx("button",{role:"tab","aria-selected":a===E.key,className:`chip${a===E.key?" active":""}`,onClick:()=>{i(E.key),_(0)},children:E.label},E.key))}),l.jsxs("div",{className:"pool-toolbar",children:[l.jsxs("label",{className:"pool-filter",children:[l.jsx("span",{children:"Funding Pool"}),l.jsx("select",{value:r,onChange:E=>{o(E.target.value||rn),_(0)},children:se.map(E=>l.jsx("option",{value:E,children:E===rn?"All pools":E},E))})]}),l.jsxs("div",{className:"pool-actions",children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>fe({includeSlug:r}),disabled:C.loading,children:C.loading?"Refreshing":"Refresh Pool Stats"}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>ee(!0),children:"View Pool Ledger"}),l.jsx("button",{type:"button",className:"btn primary",onClick:K,disabled:r===rn,title:r===rn?"Select a pool to top up":"Add pool credits",children:"Add Credits"})]})]}),l.jsxs("div",{className:"filter-chip-row",children:[l.jsx("span",{className:"filter-chip active",children:Af[d]||Af.any}),d!==Cn&&l.jsx("button",{type:"button",className:"filter-chip clear",onClick:()=>X(Cn),children:"Clear Filter"})]}),C.error&&l.jsx("div",{className:"pool-error",children:C.error}),l.jsxs("div",{className:"pool-summary-grid",children:[l.jsxs("button",{type:"button",className:`pool-card${d===Cn?" active":""}`,onClick:()=>X(Cn),children:[l.jsx("div",{className:"pool-label",children:"Pool Balance"}),l.jsx("div",{className:"pool-value",children:pe.pool_credits_remaining||0})]}),l.jsxs("button",{type:"button",className:`pool-card${d==="funded"?" active":""}`,onClick:()=>X("funded",{targetTab:"past"}),children:[l.jsx("div",{className:"pool-label",children:"Funded Credits"}),l.jsx("div",{className:"pool-value",children:pe.funded_credits_total||0})]}),l.jsxs("button",{type:"button",className:`pool-card${d==="deficit"?" active":""}`,onClick:()=>X("deficit",{targetTab:"past"}),children:[l.jsx("div",{className:"pool-label",children:"Pending Deficit"}),l.jsx("div",{className:"pool-value",children:pe.deficit_credits_total||0})]}),l.jsxs("button",{type:"button",className:`pool-card${d===Cn?" active":""}`,onClick:()=>X(Cn),children:[l.jsx("div",{className:"pool-label",children:"Events in Pool"}),l.jsx("div",{className:"pool-value",children:pe.events_count||0})]})]}),ie&&a==="drafts"&&l.jsxs("div",{className:"banner",children:[l.jsxs("div",{children:["Draft ",l.jsx("strong",{children:ie.title||"Untitled"})," saved."]}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{oe(null),window.location.hash="#/create"},children:"Continue Editing"})]}),l.jsx("div",{className:"card",children:m&&!f.length?l.jsx("div",{className:"empty muted",children:"Loading your events"}):x&&!f.length?l.jsxs("div",{className:"empty",children:[l.jsx("p",{className:"muted",children:x}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>U(!1),children:"Retry"})]}):ye.length?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"list",children:ye.map(E=>l.jsxs("div",{className:"item",children:[l.jsxs("div",{className:"meta",children:[l.jsxs("div",{className:"title-row",children:[l.jsx("p",{className:"title",children:E.title}),l.jsx("span",{className:`badge ${E.status}`,children:Dv[E.status]||E.status}),l.jsx("span",{className:`badge subtle ${E.visibility}`,children:E.visibility})]}),l.jsxs("p",{className:"sub",children:[Ov(E.start_at,E.tz),"  ",E.location_text||"Location TBD"]}),E.capacity&&l.jsxs("p",{className:"meta-line",children:["RSVP: ",E?.rsvp_counts?.accepted||0,"/",E.capacity]}),l.jsxs("p",{className:"meta-line",children:["Pool: ",l.jsx("strong",{children:E.funding_pool_slug||"general"}),"  Reward budget: ",Number(E.reward_pool_kind)||0]}),(Number(E.verified_credits_total)||0)>0&&l.jsxs("p",{className:"meta-line",children:["Funding: ",Number(E.funded_credits_total)||0," funded / ",Number(E.verified_credits_total)||0," verified  deficit ",Number(E.deficit_credits_total)||0]})]}),Q(E)]},E.id))}),N&&l.jsx("button",{type:"button",className:"btn secondary block",disabled:m,onClick:()=>U(!0),children:m?"Loading":"Load more"})]}):l.jsx("div",{className:"empty",children:l.jsx("p",{className:"muted",children:d!==Cn?"No events match the active funding filter.":a==="drafts"?"No drafts yet  save from Create to pick up later.":a==="past"?"No past hosted events yet.":"You havent published any upcoming events yet."})})}),l.jsx("style",{children:zv}),l.jsx(_f,{open:W.open,onClose:()=>$({open:!1,event:null}),eventId:W.event?.id,eventTitle:W.event?.title,onSent:E=>{$({open:!1,event:null}),z({type:"success",message:`Invite sent to ${E?.invitee_name||E?.invitee_email}.`,actionLabel:"View in My Invites",onAction:()=>{window.location.hash="#/my-invites"}})}}),l.jsx(kv,{open:M.open,poolSlug:M.poolSlug,onClose:()=>Y(E=>({...E,open:!1})),onSubmit:ue}),l.jsx(Cv,{open:J,initialPoolSlug:r,onClose:()=>ee(!1)})]})}function Ov(a,i){if(!a)return"TBD";try{return new Date(a).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:i||"UTC"})}catch{return"Date TBD"}}const zv=`
  .my-events-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    margin-bottom:16px;
  }
  .eyebrow {
    font-size:0.85rem;
    letter-spacing:0.08em;
    color:#94a3b8;
    text-transform:uppercase;
    margin:0 0 4px;
  }
  .page-head h1 { margin:0; color:#0f172a; }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
    margin-bottom:16px;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast.info { background:#3b82f6; }
  .toast-action {
    border:1px solid rgba(255,255,255,0.5);
    border-radius:999px;
    background:transparent;
    color:inherit;
    padding:6px 14px;
    font-size:0.85rem;
    cursor:pointer;
  }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .tab-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-bottom:16px;
  }
  .pool-toolbar {
    display:flex;
    justify-content:space-between;
    align-items:flex-end;
    gap:10px;
    margin-bottom:12px;
    flex-wrap:wrap;
  }
  .pool-actions {
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
  }
  .pool-filter {
    display:flex;
    flex-direction:column;
    gap:6px;
    color:#334155;
    font-size:0.9rem;
    font-weight:600;
  }
  .pool-filter select {
    border:1px solid #d1d5db;
    border-radius:10px;
    padding:8px 10px;
    min-width:180px;
    background:#fff;
  }
  .pool-summary-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));
    gap:10px;
    margin-bottom:14px;
  }
  .pool-card {
    border:1px solid #e2e8f0;
    border-radius:12px;
    padding:10px 12px;
    background:#f8fafc;
    text-align:left;
    cursor:pointer;
    transition:border-color 0.2s ease, box-shadow 0.2s ease;
  }
  .pool-card:hover {
    border-color:#94a3b8;
  }
  .pool-card.active {
    border-color:#ff5656;
    box-shadow:0 0 0 2px rgba(255,86,86,0.12) inset;
  }
  .pool-label {
    font-size:0.78rem;
    text-transform:uppercase;
    letter-spacing:0.05em;
    color:#64748b;
  }
  .pool-value {
    margin-top:4px;
    font-size:1.25rem;
    font-weight:700;
    color:#0f172a;
  }
  .pool-error {
    border:1px solid #fecaca;
    background:#fef2f2;
    color:#991b1b;
    border-radius:10px;
    padding:8px 10px;
    margin-bottom:10px;
    font-size:0.9rem;
  }
  .filter-chip-row {
    display:flex;
    gap:8px;
    align-items:center;
    margin-bottom:10px;
    flex-wrap:wrap;
  }
  .filter-chip {
    border:1px solid #cbd5e1;
    border-radius:999px;
    padding:4px 10px;
    font-size:0.8rem;
    color:#334155;
    background:#f8fafc;
    font-weight:600;
  }
  .filter-chip.active {
    border-color:#ff5656;
    color:#9f1239;
    background:#fff1f2;
  }
  .filter-chip.clear {
    background:#fff;
    cursor:pointer;
  }
  .chip {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 18px;
    font-weight:600;
    cursor:pointer;
    background:#fff;
  }
  .chip.active {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .banner {
    border:1px solid #fde68a;
    background:#fffbeb;
    color:#92400e;
    padding:12px 16px;
    border-radius:12px;
    margin-bottom:16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    flex-wrap:wrap;
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:16px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:16px;
    background:#fff;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .title-row {
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
  }
  .title { margin:0; font-weight:700; color:#111827; }
  .badge {
    border-radius:999px;
    padding:4px 10px;
    font-size:0.85rem;
    font-weight:600;
    text-transform:capitalize;
    background:#e5e7eb;
    color:#1f2937;
  }
  .badge.draft { background:#fef3c7; color:#92400e; }
  .badge.published { background:#dcfce7; color:#166534; }
  .badge.cancelled { background:#fee2e2; color:#991b1b; }
  .badge.completed { background:#dbeafe; color:#1e3a8a; }
  .badge.subtle {
    border:1px solid #d1d5db;
    background:#fff;
    color:#4b5563;
  }
  .sub {
    margin:0;
    color:#6b7280;
  }
  .meta-line {
    margin:4px 0 0;
    color:#4b5563;
    font-size:0.95rem;
  }
  .action-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.primary {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .btn.secondary { background:#fff; }
  .btn.tertiary {
    background:transparent;
    border:1px dashed #d1d5db;
    color:#6b7280;
  }
  .btn.block { width:100%; margin-top:12px; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
`,Ef=20,Lv={pending:"pending",accepted:"accepted",declined:"declined",expired:"expired"},Uv={pending:"Pending",accepted:"Accepted",declined:"Declined",expired:"Expired"},kf={items:[],loading:!0,error:null,offset:0,hasMore:!0};function Vv(){const[a,i]=S.useState(kf),[r,o]=S.useState(kf),[d,h]=S.useState(null);S.useEffect(()=>{f("incoming"),f("outgoing")},[]),S.useEffect(()=>{function m(g){const x=g.detail;x&&o(j=>({...j,items:[{id:x.id,event_id:x.event_id,event_title:x.event_title||"Your event",event_starts_at:x.event_starts_at||null,event_time_label:x.event_starts_at?Bv(x.event_starts_at):null,invitee_name:x.invitee_name||x.invitee_email,status:x.status||"pending"},...j.items]}))}return window.addEventListener("gk:invite-sent",m),()=>window.removeEventListener("gk:invite-sent",m)},[]),S.useEffect(()=>{if(!d)return;const m=setTimeout(()=>h(null),3500);return()=>clearTimeout(m)},[d]);const f=async(m,g=!1)=>{const x=m==="incoming"?i:o;x(_=>({..._,loading:!0,error:null}));const j=m==="incoming"?a:r,w=g?j.offset:0;try{const _=await fetch(`/api/invites?type=${m}&limit=${Ef}&offset=${w}`),N=await _.json();if(!_.ok)throw new Error(N?.error||"Failed to load invites");const A=g?[...j.items,...N?.data||[]]:N?.data||[];x({items:A,loading:!1,error:null,offset:w+(N?.paging?.count||0),hasMore:(N?.paging?.count||0)===Ef})}catch(_){console.error(`Load ${m} invites failed:`,_),x(N=>({...N,loading:!1,error:_.message||"Failed to load."}))}},y=async(m,g)=>{const x=a.items.findIndex(w=>w.id===m);if(x===-1)return;const j=a.items[x];i(w=>({...w,items:w.items.filter(_=>_.id!==m)}));try{const w=await fetch(`/api/invites/${m}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:g})}),_=await w.json().catch(()=>({}));if(!w.ok)throw new Error(_?.error||"Failed to update invite");h({type:"success",message:`Invite ${g==="accept"?"accepted":"declined"}.`})}catch(w){console.error("Invite action failed:",w),i(_=>({..._,items:[j,..._.items]})),h({type:"error",message:w.message||"Unable to update invite."})}};return l.jsxs("section",{className:"invites-page",children:[d&&l.jsxs("div",{className:`toast ${d.type}`,children:[l.jsx("span",{children:d.message}),l.jsx("button",{type:"button",onClick:()=>h(null),"aria-label":"Dismiss",children:""})]}),l.jsxs("header",{className:"page-head",children:[l.jsxs("div",{children:[l.jsx("p",{className:"eyebrow",children:"Your connections"}),l.jsx("h1",{children:"Invites"})]}),l.jsx("a",{className:"ghost-link",href:"#/my-invites",children:"View only my sent invites "})]}),l.jsxs("div",{className:"invites-grid",children:[l.jsxs("section",{className:"card",children:[l.jsx("div",{className:"section-head",children:l.jsx("h2",{children:"Incoming"})}),l.jsx(Mf,{type:"incoming",data:a,onLoadMore:()=>f("incoming",!0),onAccept:m=>y(m,"accept"),onDecline:m=>y(m,"decline")})]}),l.jsxs("section",{className:"card",children:[l.jsx("div",{className:"section-head",children:l.jsx("h2",{children:"Outgoing"})}),l.jsx(Mf,{type:"outgoing",data:r,onLoadMore:()=>f("outgoing",!0)})]})]}),l.jsx("style",{children:Hv})]})}function Mf({type:a,data:i,onLoadMore:r,onAccept:o,onDecline:d}){const{items:h,loading:f,error:y,hasMore:m}=i,g=a==="incoming";return f&&!h.length?l.jsx("div",{className:"list",children:[...Array(3)].map((x,j)=>l.jsxs("div",{className:"item skeleton",children:[l.jsxs("div",{className:"meta",children:[l.jsx("div",{className:"line short"}),l.jsx("div",{className:"line"})]}),l.jsx("div",{className:"actions"})]},j))}):y&&!h.length?l.jsxs("div",{className:"empty",children:[l.jsx("p",{className:"muted",children:y}),l.jsx("button",{type:"button",className:"btn secondary",onClick:r,children:"Retry"})]}):h.length?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"list",children:h.map(x=>l.jsxs("div",{className:"item",children:[l.jsxs("div",{className:"meta",children:[l.jsx("p",{className:"title",children:x.event_title}),l.jsxs("p",{className:"sub",children:[g?`From: ${x.host_name||"Someone"}`:`To: ${x.invitee_name||"Guest"}`,x.event_time_label&&l.jsxs(l.Fragment,{children:[" ",l.jsx("span",{className:"dot",children:""})," ",x.event_time_label]})]})]}),l.jsx("div",{className:"actions",children:g?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>d(x.id),children:"Decline"}),l.jsx("button",{type:"button",className:"btn primary",onClick:()=>o(x.id),children:"Accept"})]}):l.jsx("span",{className:`badge ${Lv[x.status]||"pending"}`,children:Uv[x.status]||x.status})})]},x.id))}),m&&l.jsx("button",{type:"button",className:"btn secondary block",onClick:r,disabled:f,children:f?"Loading":"Load more"})]}):l.jsx("div",{className:"empty",children:l.jsx("p",{className:"muted",children:g?"No invites right now.":"You havent invited anyone yet."})})}function Bv(a){try{return new Date(a).toLocaleString("en-US",{weekday:"short",hour:"numeric",minute:"2-digit"})}catch{return null}}const Hv=`
  .invites-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    display:flex;
    justify-content:space-between;
    align-items:flex-end;
    gap:12px;
    margin-bottom:16px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .page-head h1 {
    margin:0;
    color:#0f172a;
  }
  .ghost-link {
    color:#455a7c;
    text-decoration:none;
    font-weight:600;
  }
  .ghost-link:hover {
    text-decoration:underline;
  }
  .invites-grid {
    display:grid;
    gap:24px;
  }
  @media (min-width: 992px) {
    .invites-grid {
      grid-template-columns:repeat(2,minmax(0,1fr));
    }
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .section-head {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:12px;
  }
  .section-head h2 {
    margin:0;
    font-size:1.1rem;
    color:#111827;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:12px 16px;
    display:flex;
    justify-content:space-between;
    gap:16px;
    align-items:center;
    background:#fff;
  }
  .item.skeleton {
    animation:pulse 1.5s ease-in-out infinite;
  }
  .meta {
    flex:1;
  }
  .title {
    font-weight:600;
    margin:0 0 4px;
    color:#111827;
  }
  .sub {
    margin:0;
    color:#6b7280;
    font-size:0.9rem;
  }
  .actions {
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.primary {
    color:#fff;
    background:#ff5656;
    border-color:#ff5656;
  }
  .btn.secondary {
    background:#fff;
    color:#111827;
  }
  .btn.block {
    width:100%;
    margin-top:12px;
  }
  .badge {
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
    text-transform:capitalize;
  }
  .badge.pending { background:#fef3c7; color:#92400e; }
  .badge.accepted { background:#dcfce7; color:#166534; }
  .badge.declined { background:#fee2e2; color:#991b1b; }
  .badge.expired { background:#e2e8f0; color:#475569; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:16px;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  @keyframes pulse {
    0% { opacity: 0.6; }
    50% { opacity: 1; }
    100% { opacity: 0.6; }
  }
  .line {
    height:10px;
    border-radius:6px;
    background:#e5e7eb;
    margin-bottom:6px;
  }
  .line.short { width:80px; }
  .dot {
    color:#9ca3af;
  }
`,Df=20,qv=["all","pending","accepted","declined","expired"],Yv=["any","upcoming","past"],Rf={pending:"Pending",accepted:"Accepted",declined:"Declined",expired:"Expired"},Gv={pending:"pending",accepted:"accepted",declined:"declined",expired:"expired"},Fv={loading:!0,error:null,items:[],offset:0,hasMore:!0};function Kv(){const[a,i]=S.useState(Fv),[r,o]=S.useState("all"),[d,h]=S.useState("any"),[f,y]=S.useState(""),[m,g]=S.useState(null);S.useEffect(()=>{j(!1)},[]),S.useEffect(()=>{if(!m)return;const N=setTimeout(()=>g(null),3500);return()=>clearTimeout(N)},[m]);const x=S.useMemo(()=>{const N=Date.now();return a.items.filter(A=>{if(r!=="all"&&A.status!==r)return!1;if(d!=="any"&&A.event_starts_at){const C=new Date(A.event_starts_at).getTime();if(Number.isFinite(C)&&(d==="upcoming"&&C<N||d==="past"&&C>=N))return!1}if(f.trim()){const C=f.trim().toLowerCase();if(![A.invitee_name,A.invitee_email,A.event_title].filter(Boolean).map(q=>q.toLowerCase()).some(q=>q.includes(C)))return!1}return!0})},[a.items,r,d,f]);async function j(N){i(C=>({...C,loading:!0,error:null}));const A=N?a.offset:0;try{const C=await fetch(`/api/invites?type=outgoing&limit=${Df}&offset=${A}`),R=await C.json();if(!C.ok)throw new Error(R?.error||"Failed to load invites");i(q=>({loading:!1,error:null,items:N?[...q.items,...R?.data||[]]:R?.data||[],offset:A+(R?.paging?.count||0),hasMore:(R?.paging?.count||0)===Df}))}catch(C){console.error("Load my invites failed:",C),i(R=>({...R,loading:!1,error:C.message||"Unable to load invites."}))}}async function w(N){const A=a.items.find(C=>C.id===N);if(A){i(C=>({...C,items:C.items.filter(R=>R.id!==N)}));try{const C=await fetch(`/api/invites/${N}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),R=await C.json().catch(()=>({}));if(!C.ok||!R?.ok)throw new Error(R?.error||"Unable to cancel invite");g({type:"success",message:"Invite cancelled."})}catch(C){console.error("Cancel invite failed:",C),g({type:"error",message:C.message||"Unable to cancel invite."}),i(R=>({...R,items:[A,...R.items]}))}}}async function _(N){try{const C=`${window.location.origin}/events#/events/${N}`;await navigator?.clipboard?.writeText(C),g({type:"success",message:"Invite link copied."})}catch{g({type:"error",message:"Clipboard unavailable. Copy manually."})}}return l.jsxs("section",{className:"my-invites-page",children:[m&&l.jsxs("div",{className:`toast ${m.type}`,role:"status","aria-live":"polite",children:[l.jsx("span",{children:m.message}),l.jsx("button",{type:"button",onClick:()=>g(null),"aria-label":"Dismiss",children:""})]}),l.jsx("header",{className:"page-head",children:l.jsxs("div",{children:[l.jsx("p",{className:"eyebrow",children:"Host tools"}),l.jsx("h1",{children:"My Invites"})]})}),l.jsxs("div",{className:"filters",children:[l.jsxs("div",{className:"pill-row",children:[l.jsx("span",{className:"filter-label",children:"Status"}),qv.map(N=>l.jsx("button",{type:"button",className:`pill${r===N?" active":""}`,onClick:()=>o(N),children:N==="all"?"All":Rf[N]},N))]}),l.jsxs("div",{className:"pill-row",children:[l.jsx("span",{className:"filter-label",children:"Date"}),Yv.map(N=>l.jsx("button",{type:"button",className:`pill${d===N?" active":""}`,onClick:()=>h(N),children:N==="any"?"Any":N[0].toUpperCase()+N.slice(1)},N))]}),l.jsx("div",{className:"search-row",children:l.jsx("input",{type:"search",placeholder:"Search invitees or events",value:f,onChange:N=>y(N.target.value)})})]}),l.jsx("div",{className:"card",children:a.loading&&!a.items.length?l.jsx("div",{className:"empty muted",children:"Loading invites"}):a.error&&!a.items.length?l.jsxs("div",{className:"empty",children:[l.jsx("p",{className:"muted",children:a.error}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>j(!1),children:"Retry"})]}):x.length===0?l.jsx("div",{className:"empty",children:l.jsx("p",{className:"muted",children:"You havent sent any invites yet."})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"list",children:x.map(N=>l.jsxs("div",{className:"item",children:[l.jsxs("div",{className:"meta",children:[l.jsxs("p",{className:"title",children:[N.invitee_name||"Invitee","  ",N.event_title]}),l.jsx("p",{className:"sub",children:N.event_time_label||Xv(N.event_starts_at)||"Date TBA"})]}),l.jsxs("div",{className:"actions",children:[N.status==="pending"&&l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>w(N.id),children:"Cancel"}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>_(N.event_id),children:"Copy Link"}),l.jsx("span",{className:`badge ${Gv[N.status]||"pending"}`,children:Rf[N.status]||N.status})]})]},N.id))}),a.hasMore&&l.jsx("button",{type:"button",className:"btn secondary block",disabled:a.loading,onClick:()=>j(!0),children:a.loading?"Loading":"Load more"})]})}),l.jsx("style",{children:Qv})]})}function Xv(a){if(!a)return null;try{return new Date(a).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return null}}const Qv=`
  .my-invites-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    margin-bottom:20px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .page-head h1 {
    margin:0;
    color:#0f172a;
  }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
    margin-bottom:16px;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .filters {
    display:flex;
    flex-direction:column;
    gap:12px;
    margin-bottom:16px;
  }
  .pill-row {
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    align-items:center;
  }
  .filter-label {
    font-weight:600;
    color:#111827;
  }
  .pill {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
    background:#fff;
    cursor:pointer;
  }
  .pill.active {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .search-row input {
    width:100%;
    border:1px solid #d1d5db;
    border-radius:12px;
    padding:10px 14px;
    font-size:1rem;
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:12px 16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
  }
  .meta {
    flex:1;
  }
  .title {
    margin:0 0 4px;
    font-weight:600;
    color:#111827;
  }
  .sub {
    margin:0;
    color:#6b7280;
    font-size:0.95rem;
  }
  .actions {
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.secondary { background:#fff; }
  .btn.block { width:100%; margin-top:12px; }
  .badge {
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
  }
  .badge.pending { background:#fef3c7; color:#92400e; }
  .badge.accepted { background:#dcfce7; color:#166534; }
  .badge.declined { background:#fee2e2; color:#991b1b; }
  .badge.expired { background:#e2e8f0; color:#475569; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
`;function Zv({eventId:a}){const[i,r]=S.useState({loading:!1,data:null,error:null}),[o,d]=S.useState(!1),[h,f]=S.useState(null),[y,m]=S.useState(!1),[g,x]=S.useState(null),[j,w]=S.useState(null),[_,N]=S.useState({loading:!1,data:[],error:null,hidden:!0}),[A,C]=S.useState(null),R=S.useRef(null);if(S.useEffect(()=>{if(!a){r({loading:!1,data:null,error:null});return}let $=!0;const ie=new AbortController;return r({loading:!0,data:null,error:null}),fetch(`/api/events/${encodeURIComponent(a)}`,{signal:ie.signal}).then(oe=>oe.ok?oe.json():Promise.reject(new Error("Failed to load event"))).then(oe=>{$&&r({loading:!1,data:oe?.data||null,error:null})}).catch(oe=>{oe?.name!=="AbortError"&&$&&r({loading:!1,data:null,error:"Unable to load event"})}),()=>{$=!1,ie.abort()}},[a]),S.useEffect(()=>()=>{R.current&&clearTimeout(R.current)},[]),S.useEffect(()=>{if(!a){N({loading:!1,data:[],error:null,hidden:!0});return}let $=!0;const ie=new AbortController;return N({loading:!0,data:[],error:null,hidden:!1}),sv(a,{signal:ie.signal}).then(oe=>{$&&N({loading:!1,data:oe,error:null,hidden:!1})}).catch(oe=>{if(oe?.name==="AbortError"||!$)return;const ye=oe?.message||"Unable to load roster";if(ye==="Forbidden"){N({loading:!1,data:[],error:null,hidden:!0});return}N({loading:!1,data:[],error:ye,hidden:!1})}),()=>{$=!1,ie.abort()}},[a]),!a)return l.jsx("p",{className:"muted",children:"Select an event to see details."});if(i.loading)return l.jsx("p",{className:"muted",children:"Loading"});if(i.error)return l.jsx("p",{className:"text-danger",children:i.error});function q($,ie=4e3){R.current&&clearTimeout(R.current),f($),ie&&(R.current=setTimeout(()=>f(null),ie))}const z=i.data;if(!z)return l.jsx("p",{className:"muted",children:"Event not found."});async function J($,ie){const oe=$?.attendee_user_id||$?.id||$;if(!(!oe||A)){C(`${oe}:${ie}`);try{const ye={attendee_user_id:oe,decision:ie};ie==="verified"&&(ye.attended_minutes=$?.attended_minutes||90);const se=await iv(a,ye);N(U=>({...U,data:(U.data||[]).map(X=>X.attendee_user_id===oe?{...X,verification_status:se.verification_status||ie,attended_minutes:se.attended_minutes??X.attended_minutes}:X)}));const pe=se?.impact_credits_awarded||0,fe=ie==="rejected"?"Marked as rejected.":se?.already_verified?`Already verified. Credits: ${pe}`:`Verified. Credits awarded: ${pe}`;q({message:fe,type:"success"})}catch(ye){q({message:ye.message||"Unable to verify attendee.",type:"error"})}finally{C(null)}}}async function ee(){if(!y){m(!0);try{const $=await fetch(`/api/events/${encodeURIComponent(a)}/calendar.ics`);if(!$.ok){const pe=await $.json().catch(()=>({}));throw new Error(pe?.error||"Unable to generate calendar invite")}const ie=await $.blob(),oe=window.URL.createObjectURL(ie),ye=document.createElement("a");ye.href=oe;const se=`${(z.title||"event").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"event"}.ics`;ye.download=se,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),window.URL.revokeObjectURL(oe),q({message:"Calendar invite downloaded.",type:"success"})}catch($){q({message:$.message||"Unable to download calendar.",type:"error"})}finally{m(!1)}}}function M($){r(ie=>ie?.data?{...ie,data:{...ie.data,...$}}:ie)}async function Y($){if(!g){x($);try{const ie=await fetch(`/api/events/${encodeURIComponent(a)}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:$})}),oe=await ie.json().catch(()=>({}));if(!ie.ok||!oe?.ok)throw new Error(oe?.error||"Unable to update RSVP");M({viewer_rsvp_status:oe.data?.status||$,rsvp_counts:oe.data?.rsvp_counts||i.data?.rsvp_counts,viewer_check_in_method:null,viewer_checked_in_at:null}),q({message:$==="accept"?"You're marked as going.":"Invite declined.",type:"success"})}catch(ie){q({message:ie.message||"Unable to update RSVP.",type:"error"})}finally{x(null)}}}async function W($){if(!j&&!($==="host_code"&&!window.prompt("Enter the 6-digit host code"))){w($);try{const ie=await fetch(`/api/events/${encodeURIComponent(a)}/checkins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:$})}),oe=await ie.json().catch(()=>({}));if(!ie.ok||!oe?.ok)throw new Error(oe?.error||"Unable to check in");M({viewer_rsvp_status:oe.data?.status||"checked_in",viewer_check_in_method:oe.data?.check_in_method||$,viewer_checked_in_at:oe.data?.checked_in_at||new Date().toISOString(),rsvp_counts:oe.data?.rsvp_counts||i.data?.rsvp_counts}),q({message:"You're checked in!",type:"success"})}catch(ie){q({message:ie.message||"Unable to check in.",type:"error"})}finally{w(null)}}}return l.jsxs("div",{children:[l.jsx("h2",{style:{marginTop:0},children:z.title||"Event Detail"}),l.jsx("div",{className:"muted",children:z.location_text||"Location TBD"}),z.cover_url&&l.jsx("div",{className:"detail-cover",children:l.jsx("img",{src:z.cover_url,alt:"Event cover"})}),l.jsx("div",{className:"rsvp-stats",children:l.jsxs("span",{children:["RSVP'd: ",z?.rsvp_counts?.accepted??0,z.capacity?` / ${z.capacity}`:""]})}),h&&l.jsxs("div",{className:`invite-toast ${h.type||"success"}`,children:[l.jsx("span",{children:h.message}),h.actionLabel&&l.jsx("button",{type:"button",onClick:()=>{h.onAction?.(),f(null)},children:h.actionLabel})]}),l.jsxs("div",{className:"row",style:{gap:8,margin:"12px 0",flexWrap:"wrap"},children:[l.jsx("button",{className:"btn secondary",type:"button",onClick:ee,disabled:y,children:y?"Preparing":"Add to Calendar"}),l.jsx("button",{className:"btn secondary",type:"button",onClick:()=>d(!0),children:"Invite"})]}),!z.viewer_is_host&&z.status==="published"&&l.jsxs("div",{className:"card rsvp-card",children:[l.jsxs("div",{children:[l.jsx("strong",{children:z.viewer_rsvp_status==="accepted"?"You're going":z.viewer_rsvp_status==="checked_in"?"Checked in":"RSVP"}),l.jsx("p",{className:"muted mb-0",children:"Let the host know if you're attending."})]}),l.jsxs("div",{className:"rsvp-actions",children:[l.jsx("button",{type:"button",className:`btn ${z.viewer_rsvp_status==="accepted"||z.viewer_rsvp_status==="checked_in"?"primary":"secondary"}`,onClick:()=>Y("accept"),disabled:g==="accept"||z.viewer_rsvp_status==="checked_in",children:g==="accept"?"Saving":z.viewer_rsvp_status==="accepted"||z.viewer_rsvp_status==="checked_in"?"Going":"Accept"}),l.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>Y("decline"),disabled:g==="decline",children:g==="decline"?"Saving":"Decline"})]})]}),!z.viewer_is_host&&z.viewer_rsvp_status==="accepted"&&Array.isArray(z.attendance_methods)&&z.attendance_methods.length>0&&l.jsxs("div",{className:"card checkin-card",children:[l.jsx("strong",{children:"Check in"}),l.jsx("p",{className:"muted mb-0",children:"Choose one of the host's preferred methods when you arrive."}),l.jsx("div",{className:"checkin-buttons",children:z.attendance_methods.map($=>l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>W($),disabled:!!j,children:j===$?"Submitting":Iv($)},$))})]}),l.jsxs("div",{className:"card when-card",children:[l.jsx("div",{className:"when-card__header",children:l.jsx("strong",{children:"When / Where"})}),l.jsxs("div",{className:"when-card__body",children:[l.jsxs("div",{className:"when-card__col",children:[l.jsx("span",{className:"label",children:"Date & Time"}),l.jsx("p",{className:"value",children:$v(z.start_at,z.tz)}),l.jsx("span",{className:"label",children:"Location"}),l.jsx("p",{className:"value",style:{whiteSpace:"pre-wrap"},children:z.location_text||"Location TBD"})]}),l.jsxs("div",{className:"when-card__col meta",children:[l.jsxs("div",{children:[l.jsx("span",{className:"label",children:"Capacity"}),l.jsx("p",{className:"value",children:z.capacity||"Unlimited"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"label",children:"RSVPs"}),l.jsx("p",{className:"value",children:z?.rsvp_counts?.accepted||0})]})]})]})]}),l.jsxs("div",{className:"card info-card",children:[l.jsxs("div",{className:"info-grid",children:[l.jsxs("div",{children:[l.jsx("span",{className:"label",children:"Organization"}),l.jsx("p",{className:"value",children:z.org_name||"Independent organizer"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"label",children:"Community tag"}),l.jsx("p",{className:"value",children:z.community_tag||"General"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"label",children:"Verification"}),l.jsx("p",{className:"value",children:Jv(z.verification_method)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"label",children:"Impact Credits on verification"}),l.jsx("p",{className:"value",children:Number.isFinite(Number(z.impact_credits_base))?Number(z.impact_credits_base):25})]})]}),l.jsxs("div",{className:"info-tags",children:[l.jsx("span",{className:"label",children:"Cause tags"}),Array.isArray(z.cause_tags)&&z.cause_tags.length>0?l.jsx("div",{className:"tag-row",children:z.cause_tags.map($=>l.jsx("span",{className:"tag",children:$},$))}):l.jsx("p",{className:"muted small",children:"No cause tags yet."})]}),z.requirements&&l.jsxs("div",{className:"info-reqs",children:[l.jsx("span",{className:"label",children:"Requirements"}),l.jsx("p",{className:"value",style:{whiteSpace:"pre-wrap"},children:z.requirements})]})]}),l.jsx("h3",{children:"After the event"}),l.jsxs("div",{className:"grid",children:[l.jsxs("div",{className:"box",children:[l.jsx("strong",{children:"Enter 6-digit code"}),l.jsx("p",{className:"muted mb-0",children:"Hosts can share a quick check-in code."})]}),l.jsxs("div",{className:"box",children:[l.jsx("strong",{children:"Paste public social URL"}),l.jsx("p",{className:"muted mb-0",children:"Drop proof from Instagram, TikTok, etc."})]})]}),!_.hidden&&l.jsxs("div",{className:"card roster-card",children:[l.jsxs("div",{className:"roster-head",children:[l.jsx("strong",{children:"Organizer roster"}),l.jsxs("span",{className:"muted",children:[_.data?.length||0," RSVPs"]})]}),_.loading&&l.jsx("div",{className:"muted",children:"Loading roster"}),_.error&&l.jsx("div",{className:"text-danger",children:_.error}),!_.loading&&!_.error&&_.data.length===0&&l.jsx("div",{className:"muted",children:"No RSVPs yet."}),!_.loading&&!_.error&&_.data.length>0&&l.jsx("div",{className:"roster-list",children:_.data.map($=>{const ie=[$.firstname,$.lastname].filter(Boolean).join(" ")||$.email||$.attendee_user_id,oe=$.verification_status==="verified",ye=$.verification_status==="rejected";return`${$.attendee_user_id}`,l.jsxs("div",{className:"roster-row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"roster-name",children:ie}),l.jsxs("div",{className:"muted small",children:["Status: ",$.status||"unknown","  Verification: ",$.verification_status||"pending",Number.isFinite(Number($.attended_minutes))?`  ${$.attended_minutes} mins`:""]})]}),l.jsxs("div",{className:"roster-actions",children:[l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>J($,"verified"),disabled:oe||A===`${$.attendee_user_id}:verified`,children:oe?"Verified":A===`${$.attendee_user_id}:verified`?"Verifying":"Verify"}),l.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>J($,"rejected"),disabled:ye||A===`${$.attendee_user_id}:rejected`,children:ye?"Rejected":A===`${$.attendee_user_id}:rejected`?"Rejecting":"Reject"})]})]},$.attendee_user_id)})})]}),l.jsxs("div",{className:"card row",style:{justifyContent:"space-between",gap:12},children:[l.jsx("strong",{children:"Host tools"}),l.jsx("button",{className:"btn",type:"button",children:"Show QR / Code"})]}),l.jsx("button",{className:"btn secondary w-100",type:"button",children:"Mark Completed"}),l.jsx("button",{className:"btn tertiary w-100 mt-2",type:"button",onClick:()=>{typeof window<"u"&&(window.location.hash="#/events")},children:"Back to Events"}),l.jsx(_f,{open:o,onClose:()=>d(!1),eventId:a,eventTitle:z.title,onSent:()=>{d(!1),q({message:"Invite sent!",actionLabel:"View in My Invites",onAction:()=>{window.location.hash="#/my-invites"},type:"success"})}}),l.jsx("style",{children:Pv})]})}const Pv=`
  .row{display:flex;align-items:center}
  .card{border:1px solid #e5e7eb;border-radius:16px;padding:16px;background:#fff;margin:12px 0}
  .rsvp-card{display:flex;flex-direction:column;gap:12px}
  .rsvp-actions{display:flex;gap:12px;flex-wrap:wrap}
  .checkin-card{display:flex;flex-direction:column;gap:12px}
  .checkin-buttons{display:flex;flex-wrap:wrap;gap:10px}
  .rsvp-stats{margin-top:8px;color:#6b7280;font-size:0.9rem}
  .when-card__body{display:flex;gap:16px;flex-wrap:wrap;margin-top:12px}
  .when-card__col{flex:1 1 100%;min-width:0}
  .when-card__col.meta{flex:0 0 auto;min-width:140px}
  .when-card__col .label{display:block;font-size:0.8rem;text-transform:uppercase;letter-spacing:0.08em;color:#94a3b8;margin-bottom:4px}
  .when-card__col .value{margin:0 0 12px;font-weight:600;color:#1f2937;word-break:break-word}
  .when-card__col.meta .value{font-size:1.1rem}
  .info-card{display:flex;flex-direction:column;gap:12px}
  .info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
  .info-tags .tag-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
  .tag{background:#f3f4f6;border:1px solid #e5e7eb;border-radius:999px;padding:4px 10px;font-size:0.85rem}
  .info-reqs .value{margin-top:4px}
  .card p{margin:6px 0 0}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
  .box{background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:16px}
  .detail-cover{margin:12px 0}
  .detail-cover img{width:100%;max-height:240px;object-fit:cover;border-radius:16px;border:1px solid #e5e7eb}
  .btn{background:#ff5656;border:none;color:#fff;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.secondary{background:#fff;border:1px solid #e5e7eb;color:#1f2937}
  .btn.tertiary{background:transparent;border:1px dashed #d1d5db;color:#4b5563}
  .mt-2{margin-top:0.5rem}
  .invite-toast{margin:0 0 8px;font-size:0.95rem;display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:12px}
  .invite-toast.success{background:#ecfdf5;color:#065f46}
  .invite-toast.error{background:#fef2f2;color:#b91c1c}
  .invite-toast button{border:none;background:#fff;color:#455a7c;font-weight:600;border-radius:999px;padding:4px 10px;cursor:pointer}
  .muted{color:#6b7280}
  .roster-card{display:flex;flex-direction:column;gap:12px}
  .roster-head{display:flex;justify-content:space-between;align-items:center}
  .roster-list{display:flex;flex-direction:column;gap:10px}
  .roster-row{display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap}
  .roster-name{font-weight:600;color:#1f2937}
  .roster-actions{display:flex;gap:8px;flex-wrap:wrap}
  .small{font-size:0.85rem}
  .w-100{width:100%}
  h3{margin-top:24px}
`;function $v(a,i){if(!a)return"Date TBD";try{return new Date(a).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:i||"UTC"})}catch{return a}}function Iv(a){switch(a){case"host_code":return"Host Code";case"social_proof":return"Social Proof";case"geo":return"Geo Check-in";default:return a}}function Jv(a){switch(a){case"host_attest":return"Host attestation";case"qr_stub":return"QR check-in (stub)";case"social_proof":return"Social proof";default:return"Host attestation"}}function Wv(a={}){const{initialRoute:i="events",initialFeed:r=[],pagination:o={limit:20,sort:"relevance"},brand:d={primary:"#ff5656",ink:"#455a7c"},geoCheckinEnabled:h=!1}=a,[f,y]=S.useState(typeof window<"u"&&window.location.hash?window.location.hash:`#/${i}`),[m,g]=S.useState(null),[x,j]=S.useState(Array.isArray(r)?r:[]);S.useEffect(()=>{if(typeof window>"u")return()=>{};(()=>{window.location.hash||(window.location.hash=`#/${i}`)})();const A=()=>y(window.location.hash||`#/${i}`);return window.addEventListener("hashchange",A),()=>window.removeEventListener("hashchange",A)},[i]),S.useEffect(()=>{if(!f){g(null);return}const N=f.match(/^#\/events\/([^/?#]+)/);g(N?N[1]:null)},[f]);const w=()=>{typeof window<"u"&&(window.location.hash="#/events")},_=N=>{!N||typeof window>"u"||(window.location.hash=`#/events/${N}`)};return l.jsxs("div",{className:"events-app-shell",style:{"--events-brand":d.primary,"--events-ink":d.ink},children:[l.jsx(av,{route:f}),l.jsxs(tv,{route:f,feed:x,setFeed:j,pagination:o,geoCheckinEnabled:h,brand:d,onSelectEvent:_,children:[l.jsx(rv,{path:"#/events"}),l.jsx(jv,{path:"#/create"}),l.jsx(Rv,{path:"#/my"}),l.jsx(Vv,{path:"#/invites"}),l.jsx(Kv,{path:"#/my-invites"})]}),l.jsx(nv,{open:!!m,onClose:w,children:m?l.jsx(Zv,{eventId:m}):null})]})}const e0=[{code:"heart_to_heart",label:"Heart-to-Heart Friend",desc:"Deep talks, real feelings, late-night brain dumps."},{code:"low_drama_rock",label:"Low-Drama Rock",desc:"Chill routines, someone steady, low chaos."},{code:"adventure_buddy",label:"Adventure Buddy",desc:"New spots, fun plans, say yes energy."},{code:"group_chat_ceo",label:"Group Chat CEO",desc:"Planner friend, group glue, makes hangs happen."},{code:"glow_up_partner",label:"Glow-Up Partner",desc:"Goals, feedback, lets level up together."}],Of=[{code:"chronic_flakiness",label:"Chronic flakiness",desc:"Often cancels last minute or doesnt show."},{code:"putdowns_disrespect",label:"Put-downs / disrespect",desc:"Jokes or comments that land mean, not playful."},{code:"gossip_bonding",label:"Gossip bonding",desc:"Regularly talks trash to connect."},{code:"breaches_confidence",label:"Breaches confidence",desc:"Shares what you wanted kept private."},{code:"ignores_boundaries",label:"Ignores boundaries",desc:"Keeps pushing after you say youre not okay with something."}],_o=[{code:"contact_freq",label:"We text / DM / talk in person pretty much every week."},{code:"contact_overlap",label:"Our lives cross naturally (same school/work/group/server/gym/etc.)."},{code:"mutual_initiation",label:"They hit me up or start plans sometimes. Its not 100% me doing the reaching out."},{code:"mutual_response",label:"When I message, they respond in a timeframe that feels normal for them."},{code:"plan_energy",label:"In the last month, theyve suggested hanging out again or floated a specific idea."},{code:"self_disclosure_me",label:"Ive told them at least one real thing Im stressed about or insecure about this season."},{code:"self_disclosure_them",label:"Theyve shared something personal with me (not just work is busy small talk)."},{code:"emotional_safety",label:"When we talk about deeper stuff, I feel pretty safelike they get it and arent judging."},{code:"support_showup",label:"When Ive needed a small favor or emotional check-in, they mostly showed up."},{code:"support_followthrough",label:"If they say theyll call, pull up, or bring something, they usually actually do it."},{code:"shared_recent",label:"In the last month, weve done at least one fun or meaningful thing together."},{code:"shared_future",label:"Weve got at least one plan, event, or repeating thing coming up together."},{code:"global_trust",label:"If I really needed help with something important, Id feel okay asking them."}],Cl=[{code:"type_vault",label:"Vault Friend",desc:"Tell me everything friend; secrets stay locked."},{code:"type_anchor",label:"Human Weighted Blanket",desc:"Steady, calm, shows up."},{code:"type_adventurer",label:"Chaos (But Fun) Adventurer",desc:"Down for new spots / plans."},{code:"type_communicator",label:"Group Chat Mod",desc:"Clarifies plans, smooths misreads."},{code:"type_connector",label:"Social Router",desc:"Introduces people, merges friend groups."},{code:"type_coach",label:"Hype Coach",desc:"Supports goals, feedback when asked."},{code:"type_collaborator",label:"Build-Something Buddy",desc:"Loves making / learning together."},{code:"type_caregiver",label:"Soft Care Friend",desc:"Notices when youre off, little gestures."}],t0={1:"lol nope",2:"kinda rare",3:"eh, sometimes",4:"mostly yeah",5:"big yes"},n0=Cl.reduce((a,i)=>(a[i.code]=i.label,a),{}),To={type_vault:"Confidante",type_anchor:"Anchor",type_adventurer:"Adventurer",type_communicator:"Communicator",type_connector:"Connector",type_coach:"Coach",type_collaborator:"Collaborator",type_caregiver:"Caregiver"},zf=new Set(Object.values(To));function ci(a){const i=a.filter(r=>Number.isFinite(r));return i.length?i.reduce((r,o)=>r+o,0)/i.length:0}function a0({need:a,redFlags:i,closeness:r,types:o}){const h=Object.keys(i||{}).filter(ie=>i[ie]).length,f={Contact:ci([r.contact_freq,r.contact_overlap]),Mutual_Interest:ci([r.mutual_initiation,r.mutual_response,r.plan_energy]),Disclosure_Safety:ci([r.self_disclosure_me,r.self_disclosure_them,r.emotional_safety]),Support_Reliability:ci([r.support_showup,r.support_followthrough]),Shared_Experiences:ci([r.shared_recent,r.shared_future]),Trust:r.global_trust??0},y=[];let m=!1,g=!1;h>=3?(m=!0,y.push("Even if parts feel close, repeated patterns like disrespect or breached boundaries make it risky to invest more.")):h>=1&&(g=!0,y.push("There are a couple of caution flags. Pace yourself and add boundaries."));const{Contact:x,Mutual_Interest:j,Disclosure_Safety:w,Support_Reliability:_,Shared_Experiences:N,Trust:A}=f,C=x>=3.7&&j>=3.7&&w>=4.3&&_>=4.3&&N>=3.7&&A>=4.5,R=x>=3.7&&j>=3.7&&w>=3.7&&_>=3.7&&N>=3.7&&A>=3.7,q=x>=3&&j>=3&&w>=3&&_>=3&&N>=3&&A>=3,z=x>=2.5&&j>=2.5&&A>=2.5&&Math.max(w,_,N)>=3;let J="acquaintance";C?J="best_friend":R?J="close_friend":q?J="friend":z?J="casual_friend":x<2.5||j<2.5&&N<2.5?J="acquaintance":J="casual_friend";const ee={acquaintance:"Acquaintance",casual_friend:"Casual Friend",friend:"Friend",close_friend:"Close Friend",best_friend:"Best Friend"},M=Object.entries(o||{}).map(([ie,oe])=>({code:ie,score:Number(oe)||0}));M.sort((ie,oe)=>oe.score-ie.score);const Y=M.filter(ie=>ie.score>=3.5);let W=[];Y.length===0&&M.length?W=M.slice(0,1):Y.length<=2?W=Y:W=Y.slice(0,2),W=W.map(ie=>({...ie,label:n0[ie.code]||ie.code}));const $=ci([f.Contact,f.Mutual_Interest,f.Disclosure_Safety,f.Support_Reliability,f.Shared_Experiences,f.Trust]);return{levelCode:J,levelLabel:ee[J]||"Friend",subscales:f,redflag_total:h,warnings:y,unsafeToDeepen:m,hasCautionFlags:g,topTypes:W,overallScore:Math.round($*20),need:a}}function Lf({code:a,label:i,value:r,onChange:o}){return l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-white p-4",children:[l.jsx("div",{className:"text-sm text-slate-700",children:i}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(d=>l.jsx("button",{type:"button",onClick:()=>o(a,d),className:`h-12 rounded-xl border text-sm font-medium transition ${r===d?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5 border-slate-200"}`,title:t0[d],children:d},d))}),l.jsx("div",{className:"text-xs text-slate-500",children:"Scale: 1 = lol nope  5 = big yes"})]})}function i0({userId:a,onScore:i,onAfterResult:r}){const[o,d]=S.useState(""),[h,f]=S.useState(null),[y,m]=S.useState(Of.reduce((se,pe)=>({...se,[pe.code]:!1}),{})),[g,x]=S.useState(_o.reduce((se,pe)=>({...se,[pe.code]:null}),{})),[j,w]=S.useState(Cl.reduce((se,pe)=>({...se,[pe.code]:null}),{})),[_,N]=S.useState(null),[A,C]=S.useState({state:"idle",message:""}),[R,q]=S.useState([]),[z,J]=S.useState(!1);S.useEffect(()=>{if(z)try{jo({particleCount:160,spread:70,origin:{y:.6}})}catch(se){console.warn("confetti failed",se)}},[z]);const ee=S.useMemo(()=>{const se=Object.values(g).filter(fe=>Number.isFinite(fe)).length,pe=Object.values(j).filter(fe=>Number.isFinite(fe)).length;return{closeness:se/_o.length,types:pe/Cl.length}},[g,j]),M=S.useMemo(()=>{const se=[];return h||se.push("Pick what kind of friend youre craving right now."),ee.closeness<1&&se.push("Answer all closeness questions."),ee.types<1&&se.push("Answer all friend-type questions."),se},[h,ee]),Y=()=>{if(M.length)return q(M),null;q([]);const se=a0({need:h,redFlags:y,closeness:g,types:j});return N(se),i?.(se),r?.(),se},W=(se,pe)=>{x(fe=>({...fe,[se]:pe}))},$=(se,pe)=>{w(fe=>({...fe,[se]:pe}))},ie=se=>{m(pe=>({...pe,[se]:!pe[se]}))},oe=()=>{const se=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null;return se?se.getAttribute("content"):null},ye=async()=>{let se=_;if(!se&&(se=Y(),!se))return;if(!a){C({state:"error",message:"Please sign in to save your results."});return}const pe=oe();if(!pe){C({state:"error",message:"Missing CSRF token."});return}try{C({state:"saving",message:"Saving..."});const fe=Object.entries(y).filter(([,O])=>O).map(([O])=>O),U=se.topTypes[0]?.code&&To[se.topTypes[0].code]||null,X=se.topTypes[1]?.code&&To[se.topTypes[1].code]||null,K={name:o?.trim()||"Friend",score:se.overallScore,archetype_primary:zf.has(U)?U:null,archetype_secondary:zf.has(X)?X:null,evidence_direct:1,evidence_proxy:0,flags_count:se.redflag_total,red_flags:fe,snapshot:{need:h,redFlags:y,closeness:g,types:j,level:se.levelCode},tier:se.levelLabel,channel_pref:"mixed"},ue=await fetch("/api/friends",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":pe},body:JSON.stringify(K)}),D=await ue.json().catch(()=>({}));if(!ue.ok||!D?.ok)throw new Error(D?.error||`Save failed (${ue.status})`);const b=D.id;if(b)try{await fetch("/internal/quiz/completed",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a,friend_id:b,friend_name:K.name,tier:se.levelLabel,channel_pref:"mixed"})})}catch(O){console.warn("quiz/completed failed",O)}C({state:"saved",message:"Saved "}),r?.(),setTimeout(()=>J(!0),300)}catch(fe){C({state:"error",message:fe.message||"Save failed"})}};return l.jsxs("div",{className:"space-y-5",children:[l.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:l.jsxs("label",{className:"block text-sm font-semibold text-[#455a7c]",children:["Friend name / nickname (optional)",l.jsx("input",{type:"text",value:o,onChange:se=>d(se.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#455a7c]",placeholder:"e.g., Sam from work"})]})}),z&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Saved!"}),l.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Your Friend Check was saved. Check your Friend Arc for next steps."}),l.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[l.jsx("button",{type:"button",onClick:()=>J(!1),className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Close"}),l.jsx("button",{type:"button",onClick:()=>{J(!1),typeof window<"u"&&window.location.assign("/dashboard")},className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"View Friend Arc"})]})]})}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:[l.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"What kind of friend are you craving right now?"}),l.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:e0.map(se=>{const pe=h===se.code;return l.jsxs("button",{type:"button",onClick:()=>f(se.code),className:`text-left rounded-2xl border p-3 transition ${pe?"border-[#ff5656] bg-[#ff5656]/10 shadow-sm":"border-slate-200 hover:border-slate-300 bg-white"}`,children:[l.jsx("div",{className:"font-semibold text-sm",children:se.label}),l.jsx("div",{className:"text-xs text-slate-600 mt-1",children:se.desc})]},se.code)})})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:[l.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Red Flag Bingo"}),l.jsx("div",{className:"text-xs text-slate-600",children:"Check anything thats been a real pattern in the last few months."}),l.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:Of.map(se=>l.jsxs("label",{className:`flex items-start gap-2 rounded-xl border p-3 text-sm cursor-pointer ${y[se.code]?"border-rose-300 bg-rose-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[l.jsx("input",{type:"checkbox",className:"mt-1 accent-rose-500",checked:!!y[se.code],onChange:()=>ie(se.code)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:se.label}),l.jsx("div",{className:"text-xs text-slate-600",children:se.desc})]})]},se.code))})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Closeness (last 23 months)"}),l.jsx("div",{className:"text-xs text-slate-600",children:"1 = lol nope  5 = big yes"})]}),l.jsx("div",{className:"space-y-3",children:_o.map(se=>l.jsx(Lf,{code:se.code,label:se.label,value:g[se.code],onChange:W},se.code))})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Friend energy they bring (15)"}),l.jsx("div",{className:"text-xs text-slate-600",children:"How often do they show this?"})]}),l.jsx("div",{className:"space-y-3",children:Cl.map(se=>l.jsx(Lf,{code:se.code,label:`${se.label}  ${se.desc}`,value:j[se.code],onChange:$},se.code))})]}),R.length>0&&l.jsx("div",{className:"rounded-xl border border-amber-300 bg-amber-50 text-amber-900 p-3 text-sm",children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:R.map(se=>l.jsx("li",{children:se},se))})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 rounded-xl border border-[#455a7c] text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"See results"}),l.jsx("button",{type:"button",onClick:ye,disabled:A.state==="saving",className:`px-4 py-2 rounded-xl text-white font-semibold shadow ${A.state==="saving"?"bg-[#455a7c]/60 cursor-not-allowed":"bg-[#ff5656] hover:bg-[#ff5656]/90"}`,children:A.state==="saving"?"Saving":"Save"}),A.message&&l.jsx("span",{className:`text-sm ${A.state==="error"?"text-rose-600":"text-[#455a7c]"}`,children:A.message})]})]})}const s0={1:"lol nope",2:"kinda rare",3:"eh, sometimes",4:"yeah, usually",5:"this is my whole personality"},Uf=[{group:"Initiation & Invitations",items:[{code:"initiation_start",label:"Im the one who slides into DMs or texts first instead of always waiting to be summoned."},{code:"initiation_invites",label:"I regularly invite people to small things (walk, coffee, game night, FaceTime, Discord hang)."},{code:"initiation_newthings",label:"Im the friend whos like, We should try ___ and actually sends a link / idea."}]},{group:"Reliability & Boundaries",items:[{code:"reliability_followthrough",label:"If I say Ill be somewhere or do something, I mostly follow through instead of last-minute disappearing."},{code:"reliability_sayno",label:"When Im not up for plans, I can say no clearly and kindly instead of ghosting or making sketchy excuses."},{code:"reliability_respect_boundaries",label:"If a friend says theyre tired / broke / not feeling it, I dont pushI respect that and drop the pressure."}]},{group:"Responsiveness & Listening",items:[{code:"responsive_comfort",label:"When a friend drops something heavy, I send more than dang that sucksI actually respond in a caring way."},{code:"responsive_followup",label:"I ask follow-up questions that show I was listening (not just cool and switching topics)."},{code:"responsive_remember",label:"I remember important stuff friends tell me and sometimes check back in about it."}]},{group:"Vulnerability & Sharing Yourself",items:[{code:"vulnerability_letin",label:"At least a couple friends know what Im actually going through this season, not just the highlight reel."},{code:"vulnerability_feelings",label:"I can say how I feel (low-key anxious about X, weirdly proud of Y) instead of only giving life updates."},{code:"vulnerability_repair",label:"If theres tension or a weird vibe, Im willing to bring it up gently instead of just fading out."}]}],Co=[{code:"type_vault",label:"Vault Friend",desc:"People vent to me and it stays locked."},{code:"type_anchor",label:"Human Weighted Blanket",desc:"Steady, on time, keeps rituals calm."},{code:"type_adventurer",label:"Chaos (But Fun) Adventurer",desc:"Down for new spots or sure, why not plans."},{code:"type_communicator",label:"Group Chat Mod",desc:"Translate vibes, clarify plans, keep chat smooth."},{code:"type_connector",label:"Social Router",desc:"Introduce friends, end up as social glue."},{code:"type_coach",label:"Hype Coach",desc:"Ask about goals, send you got this, give feedback when wanted."},{code:"type_collaborator",label:"Build-Something Buddy",desc:"Love making / learning things together."},{code:"type_caregiver",label:"Soft Care Friend",desc:"Notice when someones off, send you good? texts, small care."}],Vf=Co.reduce((a,i)=>(a[i.code]=i.label,a),{});function Al(a){const i=a.filter(r=>Number.isFinite(r));return i.length?i.reduce((r,o)=>r+o,0)/i.length:0}function El(a){return a>=3.5?"Big Strength":a>=2.5?"In Progress":"Growth Edge"}function l0({skillsRaw:a,typeRaw:i}){const r=Al([a.initiation_start,a.initiation_invites,a.initiation_newthings]),o=Al([a.reliability_followthrough,a.reliability_sayno,a.reliability_respect_boundaries]),d=Al([a.responsive_comfort,a.responsive_followup,a.responsive_remember]),h=Al([a.vulnerability_letin,a.vulnerability_feelings,a.vulnerability_repair]),f={initiation:{score:r,band:El(r)},reliability:{score:o,band:El(o)},responsiveness:{score:d,band:El(d)},vulnerability:{score:h,band:El(h)}},y=Object.entries(i||{}).map(([N,A])=>({code:N,score:Number(A)||0}));y.sort((N,A)=>A.score-N.score);const m=y.filter(N=>N.score>=3.5);let g=[];m.length===0&&y.length?g=y.slice(0,1):m.length<=2?g=m:g=m.slice(0,2);const x=y.filter(N=>!g.find(A=>A.code===N.code)).slice(0,3);g=g.map(N=>({...N,label:Vf[N.code]||N.code}));const j={scores:y.reduce((N,A)=>({...N,[A.code]:A.score}),{}),main:g,secondary:x.map(N=>({...N,label:Vf[N.code]||N.code}))},w=[],_=[];return Object.entries(f).forEach(([N,A])=>{A.band==="Big Strength"&&_.push(N),A.band==="Growth Edge"&&w.push(N)}),{skills:f,archetypes:j,growthEdges:w,strengths:_,stuckTransitions:[]}}function Bf({code:a,label:i,value:r,onChange:o}){return l.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-white p-4",children:[l.jsx("div",{className:"text-sm text-slate-700",children:i}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(d=>l.jsx("button",{type:"button",onClick:()=>o(a,d),className:`h-12 rounded-xl border text-sm font-medium transition ${r===d?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5 border-slate-200"}`,title:s0[d],children:d},d))}),l.jsx("div",{className:"text-xs text-slate-500",children:"Scale: 1 = lol nope  5 = this is my whole personality"})]})}function r0({userId:a,onScore:i,onAfterResult:r}){const[o,d]=S.useState(Uf.flatMap(M=>M.items).reduce((M,Y)=>({...M,[Y.code]:null}),{})),[h,f]=S.useState(Co.reduce((M,Y)=>({...M,[Y.code]:null}),{})),[y,m]=S.useState(null),[g,x]=S.useState({state:"idle",message:""}),[j,w]=S.useState([]),[_,N]=S.useState(!1);S.useEffect(()=>{if(_)try{jo({particleCount:160,spread:70,origin:{y:.6}})}catch(M){console.warn("confetti failed",M)}},[_]);const A=S.useMemo(()=>{const M=Object.values(o).filter(W=>Number.isFinite(W)).length,Y=Object.values(h).filter(W=>Number.isFinite(W)).length;return{skills:M/Object.keys(o).length,types:Y/Object.keys(h).length}},[o,h]),C=()=>{const M=[];return A.skills<1&&M.push("Answer all skill questions."),A.types<1&&M.push("Answer all friendship energy questions."),M},R=()=>{const M=C();if(M.length)return w(M),null;w([]);const Y=l0({skillsRaw:o,typeRaw:h});return m(Y),i?.(Y),r?.(),Y},q=()=>{const M=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null;return M?M.getAttribute("content"):null},z=async()=>{let M=y;if(!M&&(M=R(),!M))return;if(!a){x({state:"error",message:"Please sign in to save your results."});return}const Y=q();if(!Y){x({state:"error",message:"Missing CSRF token."});return}try{x({state:"saving",message:"Saving..."});const W={answers:{skills:o,types:h},skills:M.skills,archetypes:M.archetypes,ladderSnapshot:{},growthEdges:M.growthEdges,strengths:M.strengths,stuckTransitions:M.stuckTransitions,completedAt:new Date().toISOString()},$=await fetch("/api/friendship-energy",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":Y},body:JSON.stringify(W)}),ie=await $.json().catch(()=>({}));if(!$.ok||!ie?.ok)throw new Error(ie?.error||`Save failed (${$.status})`);x({state:"saved",message:"Saved "}),r?.(),setTimeout(()=>N(!0),300)}catch(W){x({state:"error",message:W.message||"Save failed"})}},J=(M,Y)=>d(W=>({...W,[M]:Y})),ee=(M,Y)=>f(W=>({...W,[M]:Y}));return l.jsxs("div",{className:"space-y-5",children:[l.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:l.jsxs("div",{className:"text-sm text-[#455a7c]",children:["This quiz is about ",l.jsx("strong",{children:"you"}),", not any one friend. Think about the last 23 months. For each line, slide from lol nope  big yes to show how true it feels."]})}),_&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Saved!"}),l.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Your Friendship Energy quiz was saved. Keep building those superpowers!"}),l.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[l.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Close"}),l.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"Great!"})]})]})}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Skills (15)"}),l.jsx("div",{className:"text-xs text-slate-600",children:"1 = lol nope  5 = this is my whole personality"})]}),l.jsx("div",{className:"space-y-4",children:Uf.map(M=>l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:M.group}),M.items.map(Y=>l.jsx(Bf,{code:Y.code,label:Y.label,value:o[Y.code],onChange:J},Y.code))]},M.group))})]}),l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Friendship energy you bring (15)"}),l.jsx("div",{className:"text-xs text-slate-600",children:"How often is this you?"})]}),l.jsx("div",{className:"space-y-3",children:Co.map(M=>l.jsx(Bf,{code:M.code,label:`${M.label}  ${M.desc}`,value:h[M.code],onChange:ee},M.code))})]}),j.length>0&&l.jsx("div",{className:"rounded-xl border border-amber-300 bg-amber-50 text-amber-900 p-3 text-sm",children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:j.map(M=>l.jsx("li",{children:M},M))})}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 rounded-xl border border-[#455a7c] text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"See results"}),l.jsx("button",{type:"button",onClick:z,disabled:g.state==="saving",className:`px-4 py-2 rounded-xl text-white font-semibold shadow ${g.state==="saving"?"bg-[#455a7c]/60 cursor-not-allowed":"bg-[#ff5656] hover:bg-[#ff5656]/90"}`,children:g.state==="saving"?"Saving":"Save"}),g.message&&l.jsx("span",{className:`text-sm ${g.state==="error"?"text-rose-600":"text-[#455a7c]"}`,children:g.message})]})]})}function Hf({active:a,label:i,sublabel:r,onClick:o}){return l.jsxs("button",{type:"button",onClick:o,className:`flex flex-col items-center text-center gap-1 px-4 py-3 rounded-2xl border transition ${a?"border-[#ff5656] bg-[#ff5656]/10 text-[#455a7c] shadow-sm":"border-slate-200 bg-white hover:border-slate-300 text-[#455a7c]"}`,children:[l.jsx("span",{className:"text-sm font-semibold",children:i}),l.jsx("span",{className:"text-xs text-slate-600",children:r})]})}function o0({userId:a}){const[i,r]=S.useState("friend-check"),[o,d]=S.useState(null),[h,f]=S.useState(null),y=i==="friend-check",m=S.useRef(null),g=()=>{m.current&&m.current.scrollIntoView({behavior:"smooth",block:"start"})};return l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white text-[#455a7c]",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10 md:py-14 space-y-10",children:[l.jsxs("header",{className:"text-center space-y-4",children:[l.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#ff5656]/10 text-[#ff5656] text-xs font-semibold",children:"New  Friend Quizzes"}),l.jsx("div",{className:"space-y-2",children:l.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Upgrade Your Friend Circle"})}),l.jsxs("p",{className:"max-w-3xl mx-auto text-slate-600 text-sm md:text-base",children:["Take 2 minutes to complete a Friend Check quiz on a friend and find out what type of friend they are and KAI will create a Friend Arc - small simple actions you can take to connect with that person more!",l.jsx("br",{}),"or",l.jsx("br",{}),"Complete a My Friendship Energy quiz to discover your friendship superpowers and learn how you can be a better friend."]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"inline-flex gap-3 bg-white border border-slate-200 rounded-2xl p-2 shadow-sm",children:[l.jsx(Hf,{active:y,label:"Friend Check",sublabel:"One friend at a time",onClick:()=>r("friend-check")}),l.jsx(Hf,{active:!y,label:"My Friendship Energy",sublabel:"How you show up",onClick:()=>r("my-friendship-energy")})]})}),l.jsxs("div",{className:"grid gap-6 lg:gap-8 lg:grid-cols-[minmax(0,1.2fr)_minmax(0,0.8fr)]",children:[l.jsx("section",{className:"space-y-4",children:y?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Friend Check"}),l.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Pick one person, answer a few questions about how things have actually been lately, and KAI will tell you what level that friendships at + tiny, non-cringe next moves."})]}),l.jsx(i0,{userId:a,onScore:x=>d(x),onAfterResult:g})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"My Friendship Energy"}),l.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Answer about how you show up as a friend, and KAI will map your superpowers, growth edges, and a couple of tiny quests to help you get more Close / Best Friends."})]}),l.jsx(r0,{userId:a,onScore:x=>f(x),onAfterResult:g})]})}),l.jsx("aside",{className:"lg:sticky lg:top-24",ref:m,style:{scrollMarginTop:"140px"},children:l.jsxs("div",{className:"rounded-3xl bg-[#ff5656] text-white p-6 space-y-4 shadow-xl",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-white/80",children:"What youll get"}),l.jsx("h3",{className:"text-xl font-bold mt-1",children:y?"Friend Check":"My Friendship Energy"})]}),y&&o?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm font-semibold",children:["Level: ",o.levelLabel]}),l.jsxs("p",{className:"text-sm text-slate-200",children:[o.levelCode==="best_friend"&&"This is Best Friend territory. Keep nurturing it and protect your time together.",o.levelCode==="close_friend"&&"Close Friend vibes. Add a repeat ritual and a shared plan on the calendar.",o.levelCode==="friend"&&"Solid Friend zone. A couple of intentional hangs could deepen this toward Close Friend.",o.levelCode==="casual_friend"&&"Casual Friend. Light touches plus one meaningful hang can move this up.",o.levelCode==="acquaintance"&&"Feels like an acquaintance right now. Start with small, low-pressure overlap."]}),o.topTypes?.length?l.jsxs("div",{className:"text-sm text-slate-200",children:["They feel like"," ",o.topTypes.map(x=>x.label).join(" + "),"."]}):null,o.unsafeToDeepen&&l.jsx("div",{className:"rounded-xl bg-rose-500/15 border border-rose-300/40 p-3 text-sm text-rose-100",children:"Heads up: multiple red flagspace yourself or set firmer boundaries."})]}):y?l.jsxs("ul",{className:"space-y-2 text-sm leading-relaxed",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"A Friend Level: Acquaintance  Best Friend"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"A read on what theyre great at (Vault Friend, Adventurer, etc.)"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"23 tiny experiments to try with that one friend"})]})]}):h?l.jsxs("div",{className:"space-y-3",children:[h.archetypes?.main?.length?l.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm font-semibold",children:["Youre ",h.archetypes.main.map(x=>x.label).join(" + ")]}):null,l.jsxs("div",{className:"text-sm text-slate-200 space-y-1",children:[h.strengths?.length?l.jsxs("div",{children:["Strengths: ",h.strengths.join(", ").replaceAll("_"," ")]}):null,h.growthEdges?.length?l.jsxs("div",{children:["Growth edges: ",h.growthEdges.join(", ").replaceAll("_"," ")]}):null]}),h.stuckTransitions?.length?l.jsxs("div",{className:"text-sm text-slate-200",children:["Stuck transitions: ",h.stuckTransitions.join(", ").replaceAll("_"," ")]}):null,h.growthEdges?.includes("initiation")&&l.jsx("div",{className:"rounded-xl bg-amber-500/15 border border-amber-300/40 p-3 text-sm text-amber-50",children:"Quest: One-a-day ping  message one person daily with a specific invite or check-in."}),h.growthEdges?.includes("vulnerability")&&l.jsx("div",{className:"rounded-xl bg-amber-500/15 border border-amber-300/40 p-3 text-sm text-amber-50",children:"Quest: Fact  feeling swap  add how I feel about it to one update this week."})]}):l.jsxs("ul",{className:"space-y-2 text-sm leading-relaxed",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Your main friendship energies (Vault Friend, Group Chat Mod, etc.)"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Which skills might be blocking Close / Best Friend levels"})]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Tiny quests to train those exact muscles"})]})]})]})})]})]})})}const c0=`
  :root { --ink:#455a7c; --coral:#ff5656; --mist:#b5bdcb; --canvas:#f4f4f4; }
`,ui={cleanup:["Stewardship","Safety"],food:["Food Service","Teamwork"],outreach:["Guest Support","De-escalation"],support:["Community Support","Reliability"],default:["Community Service"]},kl={approved:"bg-emerald-50 text-emerald-700 border border-emerald-200",awaiting:"bg-amber-50 text-amber-700 border border-amber-200",finished:"bg-slate-100 text-slate-600 border border-slate-200",neutral:"bg-slate-50 text-slate-600 border border-slate-200"};function u0(a,i,r){if(!a)return"Date TBA";const o=new Date(a);if(Number.isNaN(o.getTime()))return"Date TBA";const d=i?new Date(i):null,h={month:"short",day:"numeric",hour:"numeric",minute:"2-digit"},f=o.toLocaleString(void 0,{...h,timeZone:r||void 0});if(!d||Number.isNaN(d.getTime()))return f;const y=o.toDateString()===d.toDateString(),m=y?{hour:"numeric",minute:"2-digit"}:h,g=d.toLocaleString(void 0,{...m,timeZone:r||void 0});return y?`${f}  ${g}`:`${f}  ${g}`}function d0(a){const i=[],r=a?.start_at?new Date(a.start_at):null;if(r&&!Number.isNaN(r.getTime())){const o=(r.getTime()-Date.now())/864e5;i.push(o<=7?"Happening soon":"Upcoming")}else i.push("Upcoming");return a?.category?i.push(`Matches your interests: ${a.category}`):i.push("Community service"),i.push(a?.capacity?"Spots available":"Open sign-ups"),i}function qf(a){if(!a)return ui.default;const i=a.toLowerCase();return i.includes("clean")?ui.cleanup:i.includes("food")?ui.food:i.includes("outreach")?ui.outreach:i.includes("support")?ui.support:ui.default}function f0(a,i=new Set){const r=Date.now();return(a||[]).filter(d=>{if(!d||i.has(String(d.id))||d.status!=="published")return!1;const h=d.start_at?new Date(d.start_at).getTime():null;if(!h||Number.isNaN(h)||h<=r)return!1;const f=Number(d?.rsvp_counts?.accepted)||0,y=d?.capacity!=null?Number(d.capacity):null;return y==null||f<y}).sort((d,h)=>{const f=d.start_at?new Date(d.start_at).getTime():1/0,y=h.start_at?new Date(h.start_at).getTime():1/0;return f-y})[0]||null}function h0(a,i){if(!i)return{label:"Not requested",tone:"neutral"};if(i.status==="completed")return{label:"Finished",tone:"finished"};const r=a?.viewer_rsvp_status;return r==="accepted"||r==="checked_in"?{label:"Pending Approval",tone:"approved"}:r==="interested"||r==="waitlisted"?{label:"Awaiting approval",tone:"awaiting"}:{label:"Not requested",tone:"neutral"}}function Yf(a){const i=Number(a?.reward_pool_kind)||0,r=Number(a?.rsvp_counts?.accepted)||0,o=a?.capacity!=null?Number(a.capacity):null,d=Math.max(1,o||r||1);return Math.floor(i/d)}function m0(a={}){const[i,r]=S.useState([]),[o,d]=S.useState(!0),[h,f]=S.useState(null),[y,m]=S.useState({}),[g,x]=S.useState(!0),[j,w]=S.useState(null),[_,N]=S.useState(!1),[A,C]=S.useState(()=>new Set),[R,q]=S.useState(!1),[z,J]=S.useState(null),[ee,M]=S.useState(!0),[Y,W]=S.useState(null),[$,ie]=S.useState(25),[oe,ye]=S.useState("idle"),[se,pe]=S.useState(""),[fe,U]=S.useState(!1),[X,K]=S.useState({state:"idle",message:"",slug:null}),[ue,D]=S.useState([]),[b,O]=S.useState(!0),[Q,E]=S.useState(null),[F,Z]=S.useState([]),[ae,de]=S.useState(!0),[he,Me]=S.useState(null),[Ae,Le]=S.useState(null),[Je,me]=S.useState(!0),[We,rt]=S.useState(null),gt=a.userName||null,Ge=({allowUpdate:ce=()=>!0}={})=>{M(!0),W(null),fetch("/api/wallet/summary",{credentials:"include"}).then(re=>re.json().catch(()=>({})).then(ve=>({ok:re.ok,json:ve}))).then(re=>{if(ce()){if(!re?.ok||!re?.json?.ok)throw new Error(re?.json?.error||"Unable to load wallet summary");J(re?.json?.data||null)}}).catch(re=>{ce()&&(W(re?.message||"Unable to load wallet summary"),J(null))}).finally(()=>{ce()&&M(!1)})},Tt=({allowUpdate:ce=()=>!0}={})=>{me(!0),rt(null),fetch("/api/ratings/summary",{credentials:"include"}).then(re=>re.json().catch(()=>({})).then(ve=>({ok:re.ok,json:ve}))).then(re=>{if(ce()){if(!re?.ok||!re?.json?.ok)throw new Error(re?.json?.message||re?.json?.error||"Unable to load ratings summary");Le(re?.json?.data||null)}}).catch(re=>{ce()&&(rt(re?.message||"Unable to load ratings summary"),Le(null))}).finally(()=>{ce()&&me(!1)})},yt=({allowUpdate:ce=()=>!0}={})=>{O(!0),E(null),fetch("/api/redemptions/offers",{credentials:"include"}).then(re=>re.json().catch(()=>({})).then(ve=>({ok:re.ok,json:ve}))).then(re=>{if(ce()){if(!re?.ok||!re?.json?.ok)throw new Error(re?.json?.message||"Unable to load offers");D(Array.isArray(re?.json?.data?.offers)?re.json.data.offers:[])}}).catch(re=>{ce()&&(E(re?.message||"Unable to load offers"),D([]))}).finally(()=>{ce()&&O(!1)})},Jt=({allowUpdate:ce=()=>!0,limit:re=5}={})=>{de(!0),Me(null),fetch(`/api/redemptions/history?limit=${encodeURIComponent(re)}`,{credentials:"include"}).then(ve=>ve.json().catch(()=>({})).then(Oe=>({ok:ve.ok,json:Oe}))).then(ve=>{if(ce()){if(!ve?.ok||!ve?.json?.ok)throw new Error(ve?.json?.message||"Unable to load redemption history");Z(Array.isArray(ve?.json?.data?.items)?ve.json.data.items:[])}}).catch(ve=>{ce()&&(Me(ve?.message||"Unable to load redemption history"),Z([]))}).finally(()=>{ce()&&de(!1)})};S.useEffect(()=>{let ce=!0;return d(!0),f(null),fetch("/api/events?limit=50").then(re=>re.ok?re.json():Promise.reject(new Error("Failed to load events"))).then(re=>{ce&&r(Array.isArray(re?.data)?re.data:[])}).catch(re=>{ce&&f(re?.message||"Unable to load events")}).finally(()=>{ce&&d(!1),ce&&x(!1)}),()=>{ce=!1}},[]),S.useEffect(()=>{let ce=!0;return Ge({allowUpdate:()=>ce}),()=>{ce=!1}},[]),S.useEffect(()=>{let ce=!0;return yt({allowUpdate:()=>ce}),Jt({allowUpdate:()=>ce,limit:5}),()=>{ce=!1}},[]),S.useEffect(()=>{let ce=!0;return Tt({allowUpdate:()=>ce}),()=>{ce=!1}},[]);const Xe=S.useMemo(()=>f0(i,A),[i,A]),le=S.useMemo(()=>{const ce=Date.now();return(i||[]).filter(re=>{if(!re)return!1;const ve=re.start_at?new Date(re.start_at).getTime():null;if(!ve||Number.isNaN(ve)||ve>ce)return!1;const Oe=re.status==="completed",ft=re.end_at?new Date(re.end_at).getTime()<ce:!0;return Oe||ft}).sort((re,ve)=>{const Oe=new Date(re.start_at||0).getTime();return new Date(ve.start_at||0).getTime()-Oe}).slice(0,3)},[i]);S.useEffect(()=>{let ce=!1;const ve=le.map(Oe=>Oe.id).filter(Boolean).filter(Oe=>!y[Oe]);if(!ve.length){x(!1);return}return x(!0),Promise.all(ve.map(Oe=>fetch(`/api/events/${encodeURIComponent(Oe)}`).then(ft=>ft.ok?ft.json():Promise.reject(new Error("Failed to load event detail"))).then(ft=>({id:Oe,data:ft?.data||null})).catch(()=>({id:Oe,data:null})))).then(Oe=>{ce||(m(ft=>{const qt={...ft};return Oe.forEach(({id:fa,data:Ci})=>{qt[fa]=Ci}),qt}),x(!1))}),()=>{ce=!0}},[le,y]),S.useEffect(()=>{if(!Xe){w(null);return}let ce=!0;return N(!0),fetch(`/api/events/${encodeURIComponent(Xe.id)}`).then(re=>re.ok?re.json():Promise.reject(new Error("Failed to load event detail"))).then(re=>{ce&&w(re?.data||null)}).catch(()=>{ce&&w(null)}).finally(()=>{ce&&N(!1)}),()=>{ce=!1}},[Xe?.id]);const Se=()=>{d(!0),f(null),fetch("/api/events?limit=50").then(ce=>ce.ok?ce.json():Promise.reject(new Error("Failed to load events"))).then(ce=>r(Array.isArray(ce?.data)?ce.data:[])).catch(ce=>f(ce?.message||"Unable to load events")).finally(()=>d(!1))},Ue=()=>{Ge()},He=async(ce,re="cleanup_supplies")=>{const ve=Number(ce);if(!(!Number.isInteger(ve)||ve<=0)){ie(ve),ye("loading"),pe(""),U(!1);try{const Oe=await fetch("/api/wallet/donate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount_kind:ve,target:re})}),ft=await Oe.json().catch(()=>({}));if(!Oe.ok||!ft?.ok){const qt=ft?.error,fa=ft?.message||"Unable to donate $KIND.";pe(fa),U(qt==="INSUFFICIENT_BALANCE"),ye("error");return}ye("success"),pe(`Donated ${ve} $KIND.`),Ge()}catch(Oe){ye("error"),pe(Oe?.message||"Unable to donate $KIND.")}}},Ct=async ce=>{const re=(ce||"").trim();if(re){K({state:"loading",message:"",slug:re});try{const ve=await fetch("/api/redemptions/redeem",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({offer_slug:re})}),Oe=await ve.json().catch(()=>({}));if(!ve.ok||!Oe?.ok){const qt=Oe?.message||"Unable to redeem offer.";K({state:"error",message:qt,slug:re});return}const ft=Number(Oe?.data?.new_balance);K({state:"success",message:"Redeemed successfully.",slug:re}),Number.isFinite(ft)&&J(qt=>qt&&{...qt,balance:ft}),Ge(),Jt()}catch(ve){K({state:"error",message:ve?.message||"Unable to redeem offer.",slug:re})}}},ne=async()=>{if(Xe){q(!0);try{const ce=await fetch(`/api/events/${encodeURIComponent(Xe.id)}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"accept"})}),re=await ce.json().catch(()=>({}));if(!ce.ok||!re?.ok)throw new Error(re?.error||"Unable to join this serve");const ve=await fetch(`/api/events/${encodeURIComponent(Xe.id)}`),Oe=await ve.json().catch(()=>({}));ve.ok&&w(Oe?.data||null)}catch(ce){f(ce?.message||"Unable to join this serve")}finally{q(!1)}}},je=()=>{Xe&&C(ce=>{const re=new Set(ce);return re.add(String(Xe.id)),re})},Qe=()=>{Xe&&(window.location=`/events#/events/${Xe.id}`)},xt=h0(j,Xe),ot=Yf(j||Xe||{}),At=d0(Xe||{}),Ye=qf(Xe?.category),Nt=u0(Xe?.start_at,Xe?.end_at,Xe?.tz),bt=z?`${Number(z.balance)||0} $KIND`:"",ca=z?`${Number(z.earned_lifetime)||0} $KIND`:"",ua=z?`${Number(z.donated_lifetime)||0} $KIND`:"",Rs=z?`+${Math.max(0,Number(z.earnable_this_week)||0)} $KIND`:"",da=Number(Ae?.rating_count)||0,Ni=da?`${Ae?.kindness_rating}`:"",_i=Je?"Loading rating":da?`${da} serves`:We?"Couldn't load rating":"No ratings yet",Mn=S.useMemo(()=>{const ce=re=>{const ve=y[re.id]||{},Oe=ve.viewer_rsvp_status||re.viewer_rsvp_status||null,ft=ve.viewer_checked_in_at||Oe==="checked_in",qt=ft?"Verified ":(re.status==="completed","Finished "),fa=(()=>{const Fa=re.start_at?new Date(re.start_at):null,Ai=re.end_at?new Date(re.end_at):null;if(!Fa||Number.isNaN(Fa.getTime())||!Ai||Number.isNaN(Ai.getTime()))return"Duration n/a";const Wl=Math.max(0,Ai.getTime()-Fa.getTime()),fn=Math.round(Wl/(1e3*60*60));return fn<=0?"Under 1 hr":fn===1?"1 hr":`${fn} hrs`})(),Ci=Yf({reward_pool_kind:re.reward_pool_kind??ve.reward_pool_kind,capacity:re.capacity??ve.capacity,rsvp_counts:ve.rsvp_counts||re.rsvp_counts}),Os=qf(re.category);return{id:re.id,title:re.title||"Serve",statusPill:qt,checkedIn:ft,viewerStatus:Oe,location:re.location_text||ve.location_text||"Location TBA",start_at:re.start_at,end_at:re.end_at,durationLabel:fa,perUser:Ci,skills:Os}};return le.map(ce)},[le,y]),Ti=!o&&!Xe,Ga=!g&&Mn.length===0;return l.jsxs("div",{className:"min-h-[60vh] pb-6 bg-[var(--canvas)] text-slate-800",children:[l.jsx("style",{children:c0}),l.jsxs("div",{className:"grid md:grid-cols-12 gap-4 items-start",children:[l.jsxs("div",{className:"col-span-12 md:col-span-8 flex flex-col gap-4",children:[l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-5 md:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Impact Journey"}),l.jsxs("h2",{className:"text-2xl md:text-3xl font-semibold text-[var(--ink)]",children:["Next Best Serve",gt?`, ${gt}`:""]})]}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${kl[xt.tone]||kl.neutral}`,children:xt.label})]}),h&&l.jsxs("div",{className:"mt-4 rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-sm flex items-center justify-between",children:[l.jsx("span",{children:h}),l.jsx("button",{type:"button",onClick:Se,className:"text-[var(--ink)] font-semibold text-xs underline",children:"Retry"})]}),o?l.jsx("div",{className:"mt-6 text-sm text-slate-500",children:"Loading serves"}):Ti?l.jsxs("div",{className:"mt-6",children:[l.jsx("p",{className:"text-slate-600 text-base",children:"No upcoming serves found."}),l.jsx("button",{type:"button",className:"mt-3 inline-flex items-center px-4 py-2 rounded-lg bg-[var(--ink)] text-white text-sm hover:opacity-90",onClick:()=>{window.location="/events"},children:"Browse opportunities"})]}):l.jsxs("div",{className:"mt-5 grid gap-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("h3",{className:"text-xl font-semibold text-[var(--ink)]",children:Xe?.title||"Serve opportunity"}),l.jsx("span",{className:"text-xs text-slate-500",children:Nt})]}),l.jsxs("div",{className:"text-sm text-slate-600",children:[l.jsx("div",{children:Xe?.location_text||"Location TBA"}),l.jsx("div",{className:"text-[11px] text-slate-500"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-600",children:[l.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[var(--coral)]/10 text-[var(--coral)] border border-[var(--coral)]/20",children:["+",ot," $KIND"]}),l.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[var(--ink)]/10 text-[var(--ink)] border border-[var(--ink)]/20",children:["Builds skills: ",Ye.join(", ")]})]}),l.jsxs("div",{className:"grid gap-1",children:[l.jsx("p",{className:"text-sm font-semibold text-[var(--ink)]",children:"Why this fits you"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-slate-700",children:At.map((ce,re)=>l.jsx("li",{children:ce},re))})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:ne,disabled:R||xt.label==="Finished",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-[var(--ink)] text-white text-sm font-semibold hover:opacity-90 disabled:opacity-60",children:R?"Joining":"Join this Serve"}),l.jsx("button",{type:"button",onClick:Qe,className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-white text-[var(--ink)] border border-slate-200 text-sm hover:bg-slate-50",children:"Details"}),l.jsx("button",{type:"button",onClick:je,className:"inline-flex items-center justify-center px-3 py-2 rounded-lg bg-white text-slate-600 border border-slate-200 text-sm hover:bg-slate-50",children:"Not for me"})]})]})]}),l.jsx(p0,{items:Mn,loading:g,empty:Ga})]}),l.jsxs("div",{className:"col-span-12 md:col-span-4",children:[l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-5 md:p-6",children:[l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"$KIND + Kindness"}),l.jsx("h3",{className:"text-xl font-semibold text-[var(--ink)]",children:"Summary"})]})}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 text-sm",children:[l.jsx(Ml,{label:"Balance",value:bt}),l.jsx(Ml,{label:"Earnable this week",value:Rs}),l.jsx(Ml,{label:"Earned (lifetime)",value:ca}),l.jsx(Ml,{label:"Donated (lifetime)",value:ua})]}),Y&&!ee?l.jsxs("div",{className:"mt-3 rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-xs flex items-center justify-between",children:[l.jsx("span",{children:"Couldn't load wallet summary."}),l.jsx("button",{type:"button",onClick:Ue,className:"text-[var(--ink)] font-semibold text-xs underline",children:"Retry"})]}):null,l.jsxs("div",{className:"mt-4 border-t border-slate-100 pt-4",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-700",children:[l.jsx("span",{children:"Kindness rating"}),l.jsx("span",{className:"font-semibold",children:Ni})]}),l.jsx("p",{className:"text-[12px] text-slate-500 mt-1",children:_i}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-700 mt-3",children:[l.jsx("span",{children:"Reliability"}),l.jsx("span",{className:"font-semibold",children:""})]}),l.jsx("p",{className:"text-[12px] text-slate-500 mt-1",children:"Coming soon"})]}),l.jsxs("div",{className:"mt-4 grid gap-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-600",children:[l.jsx("span",{className:"text-slate-500",children:"Quick donate"}),[10,25,50].map(ce=>l.jsxs("button",{type:"button",onClick:()=>He(ce),disabled:oe==="loading",className:`inline-flex items-center justify-center px-3 py-1 rounded-full border text-xs ${$===ce?"bg-[var(--ink)] text-white border-[var(--ink)]":"bg-white text-[var(--ink)] border-slate-200 hover:bg-slate-50"}`,children:[ce," $KIND"]},ce))]}),l.jsx("button",{type:"button",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-white text-[var(--ink)] border border-slate-200 text-sm hover:bg-slate-50",onClick:()=>console.log("rating_details"),children:"See rating details"}),l.jsx("button",{type:"button",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-white text-[var(--ink)] border border-slate-200 text-sm hover:bg-slate-50",onClick:()=>console.log("rewards_details"),children:"View rewards details"}),l.jsx("button",{type:"button",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-[var(--coral)] text-white text-sm hover:opacity-90",onClick:()=>He(25),disabled:oe==="loading",children:oe==="loading"?"Donating":"Donate $KIND"}),se?l.jsx("div",{className:`text-xs ${oe==="success"?"text-emerald-700":"text-amber-700"}`,children:se}):null,fe?l.jsx("button",{type:"button",onClick:()=>{window.location="/events"},className:"text-xs text-[var(--ink)] underline text-left",children:"Earn more $KIND"}):null]})]}),l.jsxs("div",{className:"mt-4 rounded-2xl border border-slate-200 bg-white shadow-sm p-5 md:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Redeem"}),l.jsx("h3",{className:"text-xl font-semibold text-[var(--ink)]",children:"Impact rewards"})]}),l.jsxs("span",{className:"text-xs text-slate-600 bg-slate-100 rounded-full px-3 py-1",children:["Balance: ",Number(z?.balance)||0," $KIND"]})]}),l.jsx("div",{className:"mt-4 grid gap-2",children:b?Array.from({length:3}).map((ce,re)=>l.jsx("div",{className:"animate-pulse rounded-lg border border-slate-200 bg-slate-50 p-3 h-10"},re)):Q?l.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-sm",children:Q}):ue.length?ue.map(ce=>{const re=Number(ce?.cost_credits)||0,ve=ee||b||ae||(Number(z?.balance)||0)<re||X.state==="loading";return l.jsxs("button",{type:"button",onClick:()=>Ct(ce.slug),disabled:ve,className:`flex items-center justify-between w-full px-4 py-2 rounded-lg border text-sm font-semibold ${ve?"bg-slate-100 text-slate-500 border-slate-200 cursor-not-allowed":"bg-white text-[var(--ink)] border-slate-200 hover:bg-slate-50"}`,children:[l.jsx("span",{children:ce.title||ce.slug}),l.jsxs("span",{className:"text-xs text-slate-600",children:["Redeem ",re," $KIND"]})]},ce.slug||ce.id)}):l.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 text-slate-600 px-3 py-2 text-sm",children:"No offers available."})}),X?.message?l.jsx("div",{className:`mt-3 rounded-lg px-3 py-2 text-xs ${X.state==="success"?"border border-emerald-200 bg-emerald-50 text-emerald-800":"border border-amber-200 bg-amber-50 text-amber-800"}`,children:X.message}):null,l.jsxs("div",{className:"mt-4 border-t border-slate-100 pt-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-slate-700 font-semibold",children:"Recent redemptions"}),l.jsx("button",{type:"button",className:"text-xs text-[var(--ink)] underline",onClick:()=>Jt({limit:5}),disabled:ae,children:"Refresh"})]}),ae?l.jsx("div",{className:"mt-2 grid gap-2",children:Array.from({length:3}).map((ce,re)=>l.jsx("div",{className:"animate-pulse h-8 rounded-lg border border-slate-200 bg-slate-50"},re))}):he?l.jsx("div",{className:"mt-2 rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-xs",children:he}):(F||[]).length?l.jsx("div",{className:"mt-2 grid gap-2",children:(F||[]).slice(0,5).map(ce=>l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-xs",children:[l.jsxs("div",{className:"text-slate-700",children:[l.jsx("div",{className:"font-semibold",children:ce.title||ce.slug}),l.jsx("div",{className:"text-slate-500",children:ce.status})]}),l.jsxs("div",{className:"text-slate-600 font-semibold",children:["-",Number(ce?.cost_credits)||0," $KIND"]})]},ce.id))}):l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"No redemptions yet."})]})]})]})]})]})}function Ml({label:a,value:i,note:r}){return l.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-3",children:[l.jsx("div",{className:"text-[12px] text-slate-500",children:a}),l.jsx("div",{className:"text-lg font-semibold text-[var(--ink)] leading-tight",children:i}),r?l.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:r}):null]})}function p0({items:a=[],loading:i,empty:r}){return l.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-5 md:p-6",children:[l.jsx("div",{className:"flex items-center justify-between gap-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Your Impact Portfolio"}),l.jsx("h3",{className:"text-xl font-semibold text-[var(--ink)]",children:"Recent"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Recent serves  verification  skills  mutual ratings"})]})}),i?l.jsx("div",{className:"mt-4 grid gap-3",children:Array.from({length:3}).map((o,d)=>l.jsxs("div",{className:"animate-pulse rounded-lg border border-slate-200 bg-white p-3 space-y-2",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),l.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"}),l.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"})]},d))}):r?l.jsxs("div",{className:"mt-4 rounded-lg border border-dashed border-slate-200 bg-slate-50 p-4",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"No completed serves yet. Join your first serve to start your portfolio."}),l.jsx("a",{href:"/events",className:"inline-flex items-center mt-2 px-3 py-2 rounded-lg bg-[var(--ink)] text-white text-sm font-semibold hover:opacity-90",children:"Browse opportunities"})]}):l.jsx("div",{className:"mt-4 grid gap-3",children:a.map(o=>l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${o.checkedIn?kl.approved:kl.finished}`,children:o.statusPill}),l.jsx("span",{className:"text-xs text-slate-500",children:o.durationLabel})]}),l.jsx("div",{className:"text-xs text-slate-600",children:o.location})]}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-[var(--ink)]",children:o.title}),l.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["+",o.perUser||0," $KIND est."]})]}),l.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Skills: ",o.skills.join(", ")]}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg bg-[var(--coral)] text-white text-xs font-semibold hover:opacity-90",onClick:()=>{window.location=`/events#/events/${o.id}`},children:"Rate now"}),l.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg border border-slate-200 text-[var(--ink)] text-xs font-semibold bg-white hover:bg-slate-50",onClick:()=>console.log("Add note for",o.id),children:"Add note"}),l.jsx("span",{className:"text-xs text-slate-500 self-center",children:"Org rating pending"})]})]},o.id||o.title))})]})}const g0=`
  :root { --ink:#455a7c; --coral:#ff5656; --mist:#b5bdcb; --canvas:#f4f4f4; }
`,y0=4,Gf=280;function x0(a,i){const r=new URL(a,window.location.origin);return Object.entries(i||{}).forEach(([o,d])=>{d==null||d===""||r.searchParams.set(o,d)}),r.toString().replace(window.location.origin,"")}function b0(a){return Array.isArray(a)?a.filter(Boolean):[]}function v0(a={}){const[i,r]=S.useState([]),[o,d]=S.useState(!0),[h,f]=S.useState(null),[y,m]=S.useState(!1),[g,x]=S.useState(!1),j=S.useRef(null),w=S.useRef(null),_=typeof a.city=="string"?a.city:"",N=Number.isFinite(a.limit)?a.limit:20,A=()=>{const J=j.current;if(!J)return;const{scrollLeft:ee,scrollWidth:M,clientWidth:Y}=J;m(ee>2),x(ee+Y<M-2)},C=()=>{w.current&&w.current.abort();const J=new AbortController;w.current=J;const ee=x0("/api/carousel",{city:_||void 0,limit:N});d(!0),f(null),fetch(ee,{credentials:"include",signal:J.signal}).then(M=>M.json().catch(()=>({})).then(Y=>({ok:M.ok,json:Y}))).then(M=>{if(!M?.ok)throw new Error(M?.json?.error||"Failed to load carousel");r(b0(M?.json?.data))}).catch(M=>{M?.name!=="AbortError"&&f(M?.message||"Unable to load carousel")}).finally(()=>{d(!1),setTimeout(A,0)})};S.useEffect(()=>(C(),()=>{w.current&&w.current.abort()}),[_,N]),S.useEffect(()=>{const J=j.current;if(!J)return;A();const ee=()=>A(),M=()=>A();return J.addEventListener("scroll",ee),window.addEventListener("resize",M),()=>{J.removeEventListener("scroll",ee),window.removeEventListener("resize",M)}},[i]);const R=S.useMemo(()=>(i||[]).length>0,[i]),q=J=>{const ee=j.current;if(!ee)return;const M=J==="left"?-Gf:Gf;ee.scrollBy({left:M,behavior:"smooth"})},z=o?l.jsx(w0,{}):h?l.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-sm flex items-center justify-between",children:[l.jsx("span",{children:h}),l.jsx("button",{type:"button",onClick:C,className:"text-[var(--ink)] font-semibold text-xs underline",children:"Retry"})]}):R?l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button","aria-label":"Scroll carousel left",className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white border border-slate-200 shadow-sm rounded-full p-2 text-[var(--ink)] disabled:opacity-40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",onClick:()=>q("left"),disabled:!y,children:""}),l.jsx("button",{type:"button","aria-label":"Scroll carousel right",className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white border border-slate-200 shadow-sm rounded-full p-2 text-[var(--ink)] disabled:opacity-40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",onClick:()=>q("right"),disabled:!g,children:""}),l.jsx("div",{className:"overflow-x-auto",ref:j,"aria-label":"Kinder Crew updates",children:l.jsxs("div",{className:"flex gap-3 pb-2 snap-x snap-mandatory","data-testid":"kinder-crew-carousel",children:[i.map(J=>l.jsx(j0,{item:J},J?.id||J?.seed_key||Math.random().toString(36))),l.jsx(S0,{})]})})]}):l.jsxs("div",{className:"flex items-center justify-between bg-white border border-dashed border-slate-200 rounded-xl p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-700",children:"No posts yet  check back soon."}),l.jsx("p",{className:"text-xs text-slate-500",children:"Browse opportunities while your crew shares updates."})]}),l.jsx("a",{href:"/events",className:"inline-flex items-center px-3 py-2 rounded-lg text-white text-sm font-semibold hover:opacity-90",style:{backgroundColor:"var(--coral)"},"data-testid":"carousel-browse-opportunities",children:"Browse opportunities"})]});return l.jsxs("div",{className:"mb-4",children:[l.jsx("style",{children:g0}),l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-[var(--ink)]",children:"From your Kinder Crew this week"}),_?l.jsxs("span",{className:"text-xs text-slate-500",children:["City: ",_]}):null]}),z]})}function j0({item:a}){const i=a?.title||a?.caption||"Crew update",r=typeof a?.caption=="string"?a.caption:"",o=a?.author_name,d=a?.city,h=a?.media_url;return l.jsxs("article",{className:"snap-start shrink-0 w-64 md:w-72 h-80 md:h-80 rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden grid focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",style:{gridTemplateRows:"176px 1fr"},tabIndex:0,"data-testid":"carousel-card","aria-label":i,children:[l.jsx("div",{className:"relative w-full bg-slate-100 overflow-hidden",style:{height:"100%"},children:h?l.jsx("img",{src:h,alt:i,className:"absolute inset-0 w-full h-full object-cover object-center block",loading:"lazy"}):l.jsx("div",{className:"w-full h-full grid place-items-center text-slate-400 text-sm",children:"No image"})}),l.jsxs("div",{className:"p-3 flex flex-col gap-2 min-h-0",children:[l.jsx("div",{className:"text-sm font-semibold text-[var(--ink)] truncate",children:i}),r?l.jsx("p",{className:"text-sm text-slate-600",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:r}):null,l.jsx("div",{className:"mt-auto",children:l.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[o?l.jsx("span",{children:o}):null,d?l.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:d}):null]})})]})]})}function S0(){return l.jsxs("article",{className:"snap-start shrink-0 w-64 md:w-72 h-80 md:h-80 rounded-xl border border-dashed border-slate-300 bg-white/80 shadow-sm p-4 flex flex-col justify-between","data-testid":"carousel-browse-opportunities",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm uppercase tracking-wide text-slate-500",children:"Keep Going"}),l.jsx("h3",{className:"text-lg font-semibold text-[var(--ink)] mt-1",children:"Browse opportunities"}),l.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Join an upcoming serve and add your own post to the crew feed."})]}),l.jsx("a",{href:"/events",className:"mt-3 inline-flex items-center justify-center px-3 py-2 rounded-lg text-white text-sm font-semibold hover:opacity-90",style:{backgroundColor:"var(--coral)"},children:"View events"})]})}function w0(){return l.jsx("div",{className:"overflow-x-hidden","aria-label":"Loading crew updates",children:l.jsx("div",{className:"flex gap-3 pb-2",children:Array.from({length:y0}).map((a,i)=>l.jsxs("div",{className:"animate-pulse snap-start shrink-0 w-64 md:w-72 h-80 md:h-80 rounded-xl border border-slate-200 bg-white overflow-hidden","aria-hidden":"true",children:[l.jsx("div",{className:"w-full bg-slate-200",style:{height:"176px"}}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded"}),l.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"}),l.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]},i))})})}const N0=`
  :root { --ink:#455a7c; --coral:#ff5656; --mist:#b5bdcb; --canvas:#f4f4f4; }
`,_0=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ff=new Set(["accepted","checked_in","interested","waitlisted"]),di={cleanup:["Stewardship","Safety"],food:["Food Service","Teamwork"],outreach:["Guest Support","De-escalation"],support:["Community Support","Reliability"],default:["Community Service"]};function Kf(a){if(!a)return di.default;const i=String(a).toLowerCase();return i.includes("clean")?di.cleanup:i.includes("food")?di.food:i.includes("outreach")?di.outreach:i.includes("support")?di.support:di.default}function T0(a,i,r){if(!a)return"Time TBA";const o=new Date(a),d=i?new Date(i):null;if(Number.isNaN(o.getTime()))return"Time TBA";const h={hour:"numeric",minute:"2-digit",timeZone:r||void 0},f=o.toLocaleTimeString([],h).replace(":00","");if(!d||Number.isNaN(d.getTime()))return f;const y=d.toLocaleTimeString([],h).replace(":00","");return`${f}${y}`}function C0(a,i){if(!a)return"TBD";const r=new Date(a),o={weekday:"short",timeZone:i||void 0};return r.toLocaleDateString([],o)}function A0(a){if(!a)return!1;const i=new Date(a).getTime();if(Number.isNaN(i))return!1;const r=Date.now(),o=r+10080*60*1e3;return i>=r&&i<=o}function E0(a={}){const i=Number(a.reward_pool_kind)||0,r=a.capacity!=null?Number(a.capacity):null,o=Math.max(1,r||1);return Math.floor(i/o)}function k0(a){return a?.creator_user_id?"Get Kinder-led":"Partner Org"}function M0(a){return a==="accepted"||a==="checked_in"?"text-emerald-700 bg-emerald-50 border border-emerald-200":a==="interested"||a==="waitlisted"?"text-amber-700 bg-amber-50 border border-amber-200":"text-slate-600 bg-slate-100 border border-slate-200"}function D0(a){return a==="accepted"||a==="checked_in"?"Pending Approval":a==="interested"||a==="waitlisted"?"Awaiting approval":"Not requested"}function R0(){const[a,i]=S.useState([]),[r,o]=S.useState({}),[d,h]=S.useState(!0),[f,y]=S.useState(null),[m,g]=S.useState({});S.useEffect(()=>{let N=!0;return h(!0),y(null),fetch("/api/events?limit=50").then(A=>A.ok?A.json():Promise.reject(new Error("Failed to load events"))).then(A=>{if(!N)return;const C=Array.isArray(A?.data)?A.data:[];i(C)}).catch(A=>{N&&(y(A?.message||"Unable to load events"),i([]))}).finally(()=>{N&&h(!1)}),()=>{N=!1}},[]);const x=S.useMemo(()=>(a||[]).filter(N=>N?.status==="published"&&A0(N.start_at)).sort((N,A)=>{const C=new Date(N.start_at||0).getTime(),R=new Date(A.start_at||0).getTime();return C-R}),[a]);S.useEffect(()=>{let N=!1;const A=x.slice(0,6).map(C=>C.id).filter(C=>C!=null&&!r[C]);if(A.length)return Promise.all(A.map(C=>fetch(`/api/events/${encodeURIComponent(C)}`).then(R=>R.ok?R.json():Promise.reject(new Error("Failed to load event detail"))).then(R=>({id:C,data:R?.data||null})).catch(()=>({id:C,data:null})))).then(C=>{N||o(R=>{const q={...R};return C.forEach(({id:z,data:J})=>{q[z]=J}),q})}),()=>{N=!0}},[x,r]);const j=S.useMemo(()=>{const N=x.map(R=>{const q=r[R.id]||{},z=q.viewer_rsvp_status||R.viewer_rsvp_status||null,J=R.capacity!=null?R.capacity:q.capacity,ee=q?.rsvp_counts?.accepted??R?.rsvp_counts?.accepted??0,M=J==null?!0:ee<J,Y=E0({reward_pool_kind:R.reward_pool_kind,capacity:J});return{...R,viewerStatus:z,capacity:J,accepted:ee,hasCapacity:M,perUser:Y}}),A=N.filter(R=>Ff.has(R.viewerStatus)),C=N.filter(R=>!Ff.has(R.viewerStatus)&&R.hasCapacity);return[...A,...C].slice(0,3)},[x,r]),w=S.useMemo(()=>{const N=j.length,A=j.reduce((R,q)=>R+(Number(q.perUser)||0),0),C=new Set;return j.forEach(R=>Kf(R.category).forEach(q=>C.add(q))),{planned:N,earnable:A,skills:C.size||0}},[j]);return{loading:d,error:f,planItems:j,totals:w,setError:y,setLoading:h,refetch:()=>{},handleRsvp:async(N,A="accept")=>{if(N){g(C=>({...C,[N]:!0}));try{const C=await fetch(`/api/events/${encodeURIComponent(N)}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:A})}),R=await C.json().catch(()=>({}));if(!C.ok||!R?.ok)throw new Error(R?.error||"Unable to update RSVP");o(q=>({...q,[N]:{...q[N]||{},viewer_rsvp_status:R.data?.status||A,rsvp_counts:R.data?.rsvp_counts||q[N]?.rsvp_counts}}))}catch(C){console.error(C)}finally{g(C=>({...C,[N]:!1}))}}},rsvpLoading:m}}function O0(){const{loading:a,error:i,planItems:r,totals:o,handleRsvp:d,rsvpLoading:h}=R0(),f=S.useMemo(()=>{const m=new Date().getDay();return m===0?6:m-1},[]),y=!a&&!r.length;return l.jsxs("div",{className:"mb-4","data-testid":"weeks-plan",children:[l.jsx("style",{children:N0}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-[var(--ink)]",children:"This Week's Plan"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Your plan: help to earn amd build verified skills."})]}),l.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{display:none}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}"}),l.jsx("div",{className:"flex items-center gap-1 sm:gap-2","data-testid":"weeks-plan-calendar",children:l.jsx("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto no-scrollbar",children:_0.map((m,g)=>l.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-[11px] sm:text-sm font-semibold shrink-0 ${g===f?"bg-[var(--coral)] text-white":"bg-slate-100 text-slate-600"}`,children:m},m))})}),l.jsx("div",{className:"grid gap-3",children:a?l.jsx(z0,{}):i?l.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-sm flex items-center justify-between",children:[l.jsx("span",{children:i}),l.jsx("button",{type:"button",className:"text-[var(--ink)] font-semibold text-xs underline",onClick:()=>{window.location.reload()},children:"Retry"})]}):y?l.jsxs("div",{className:"rounded-lg border border-dashed border-slate-200 bg-white px-4 py-3",children:[l.jsx("p",{className:"text-sm text-slate-700",children:"No upcoming serves planned. Browse opportunities."}),l.jsx("a",{href:"/events",className:"inline-flex items-center mt-2 px-3 py-2 rounded-lg bg-[var(--ink)] text-white text-sm font-semibold hover:opacity-90",children:"Browse opportunities"})]}):r.map(m=>{const g=C0(m.start_at,m.tz),x=T0(m.start_at,m.end_at,m.tz),j=Kf(m.category),w="Org Kindness:  (no ratings yet)",_=M0(m.viewerStatus),N=D0(m.viewerStatus);return l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm","data-testid":"weeks-plan-row",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-sm font-semibold text-[var(--ink)]",children:[g," ",l.jsx("span",{className:"text-slate-500",children:x})]}),l.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${_}`,children:N})]}),l.jsx("div",{className:"text-sm text-slate-600",children:"After: you'll rate the opportunity + we'll rate attendance"})]}),l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h3",{className:"text-base font-semibold text-[var(--ink)]",children:m.title||"Opportunity"}),l.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:k0(m)})]}),l.jsx("div",{className:"mt-1 text-sm text-slate-600",children:m.location_text||"Location TBA"})]}),l.jsxs("div",{className:"mt-3 grid gap-1 text-sm text-slate-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"font-semibold text-[var(--ink)]",children:["+",m.perUser||0," $KIND"]}),l.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:["Capacity: ",m.accepted||0,"/",m.capacity||""]})]}),l.jsxs("div",{children:["Skills: ",j.join(", ")]}),l.jsx("div",{children:w})]}),l.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:m.viewerStatus==="accepted"||m.viewerStatus==="checked_in"?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg bg-[var(--ink)] text-white text-xs font-semibold hover:opacity-90",children:"Checklist"}),l.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg border border-slate-200 text-[var(--ink)] text-xs font-semibold bg-white hover:bg-slate-50",onClick:()=>{window.location=`/events#/events/${m.id}`},children:"Add to calendar"})]}):m.viewerStatus==="interested"||m.viewerStatus==="waitlisted"?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",disabled:h[m.id],className:"px-3 py-1.5 rounded-lg bg-[var(--coral)] text-white text-xs font-semibold hover:opacity-90 disabled:opacity-60",onClick:()=>d(m.id,"accept"),children:h[m.id]?"Saving":"Request approval"}),l.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg border border-slate-200 text-[var(--ink)] text-xs font-semibold bg-white hover:bg-slate-50",children:"Choose backup shift"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",disabled:h[m.id],className:"px-3 py-1.5 rounded-lg bg-[var(--ink)] text-white text-xs font-semibold hover:opacity-90 disabled:opacity-60",onClick:()=>d(m.id,"accept"),children:h[m.id]?"Joining":"Join"}),l.jsx("a",{href:`/events#/events/${m.id}`,className:"px-3 py-1.5 rounded-lg border border-slate-200 text-[var(--ink)] text-xs font-semibold bg-white hover:bg-slate-50",children:"Details"})]})})]},m.id)})}),l.jsxs("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white p-4 flex flex-wrap gap-4 text-sm text-slate-700","data-testid":"weeks-plan-totals",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-[var(--ink)]",children:o.planned})," planned"]}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-semibold text-[var(--ink)]",children:["+",o.earnable]})," $KIND earnable"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-[var(--ink)]",children:o.skills})," skills"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold text-[var(--ink)]",children:""})," rating trend"]})]})]})]})}function z0(){return l.jsx("div",{className:"grid gap-3",children:Array.from({length:3}).map((a,i)=>l.jsxs("div",{className:"animate-pulse rounded-lg border border-slate-200 bg-white p-4",children:[l.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),l.jsx("div",{className:"mt-2 h-4 bg-slate-200 rounded w-1/2"}),l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsx("div",{className:"h-3 bg-slate-200 rounded w-full"}),l.jsx("div",{className:"h-3 bg-slate-200 rounded w-5/6"}),l.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"})]})]},i))})}const L0=(a=0)=>`$${((Number(a)||0)/100).toFixed(2)}`,Xf=(a=0)=>{const i=Number(a);return Number.isFinite(i)?(Math.round(i/60*10)/10).toFixed(1):""},Qf=a=>!a||typeof a!="string"?"":a.slice(0,8),U0=({row:a})=>{const i=a?.created_at?new Date(a.created_at).toLocaleString():"",r=a?.event_title||Qf(a?.event_id)||"Event",o=Xf(a?.minutes_verified),d=Number(a?.credits_funded)||0,h=Math.max(0,Number(a?.credits_deficit)||0);return l.jsxs("div",{className:"receipt-row",children:[l.jsxs("div",{className:"receipt-main",children:[l.jsx("div",{className:"receipt-title",children:r}),l.jsx("div",{className:"receipt-sub",children:i})]}),l.jsxs("div",{className:"receipt-meta",children:[l.jsxs("div",{className:"receipt-pill",children:[l.jsx("span",{className:"pill-label",children:"Hours"}),l.jsx("span",{className:"pill-value",children:o})]}),l.jsxs("div",{className:"receipt-pill",children:[l.jsx("span",{className:"pill-label",children:"Credits"}),l.jsx("span",{className:"pill-value",children:d})]}),h>0&&l.jsxs("div",{className:"receipt-pill warning",children:[l.jsx("span",{className:"pill-label",children:"Pending"}),l.jsx("span",{className:"pill-value",children:h})]})]}),l.jsxs("div",{className:"receipt-ids",children:[l.jsxs("div",{className:"id-item",children:["wallet_tx: ",Qf(a?.wallet_tx_id)||""]}),l.jsxs("div",{className:"id-item",children:["donation: ",a?.donation_id??""]})]}),h>0&&l.jsxs("div",{className:"receipt-deficit",children:["Funded: ",d," credits  Pending: ",h," credits (auto-attributed when donations arrive)"]})]})};function V0(){const[a,i]=S.useState({loading:!0,error:null,data:null}),[r,o]=S.useState({loading:!0,error:null,items:[],limit:25,offset:0,hasMore:!1,nextOffset:0}),[d,h]=S.useState({donationId:"",paymentId:"",status:null,error:null,submitting:!1}),f=async()=>{i(w=>({...w,loading:!0,error:null}));try{const w=await fetch("/api/donor/summary",{credentials:"include"}),_=await w.json().catch(()=>({}));if(!w.ok||!_?.ok)throw new Error(_?.message||_?.error||"Unable to load summary");i({loading:!1,error:null,data:_.data||null})}catch(w){i({loading:!1,error:w?.message||"Unable to load summary",data:null})}},y=async({append:w=!1,offsetOverride:_=null}={})=>{o(C=>({...C,loading:!0,error:null}));const N=_??(r.nextOffset||0),A=r.limit||25;try{const C=await fetch(`/api/donor/receipts?limit=${encodeURIComponent(A)}&offset=${encodeURIComponent(N)}`,{credentials:"include"}),R=await C.json().catch(()=>({}));if(!C.ok||!R?.ok)throw new Error(R?.message||R?.error||"Unable to load receipts");const q=R.data||{},z=Array.isArray(q.receipts)?q.receipts:Array.isArray(q.items)?q.items:[],J=Number(q.next_offset)||N+A,ee=!!q.has_more;o(M=>({...M,loading:!1,error:null,items:w?[...M.items||[],...z]:z,offset:N,nextOffset:J,hasMore:ee,limit:A}))}catch(C){o(R=>({...R,loading:!1,error:C?.message||"Unable to load receipts"}))}},m=()=>{f(),y({append:!1,offsetOverride:0})};S.useEffect(()=>{f(),y({append:!1,offsetOverride:0})},[]);const g=async()=>{const w={};if(d.donationId.trim()&&(w.donation_id=Number(d.donationId.trim())),d.paymentId.trim()&&(w.square_payment_id=d.paymentId.trim()),!w.donation_id&&!w.square_payment_id){h(_=>({..._,error:"Enter a donation id or Square payment id.",status:null}));return}h(_=>({..._,submitting:!0,error:null,status:null}));try{const _=await fetch("/api/donations/claim",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)}),N=await _.json().catch(()=>({}));if(!_.ok||!N?.ok){const A=N?.error||_.statusText||"claim_failed";throw new Error(A)}h({donationId:"",paymentId:"",submitting:!1,error:null,status:"Claimed!"}),f(),y({append:!1,offsetOverride:0})}catch(_){h(N=>({...N,submitting:!1,error:_.message||"Unable to claim",status:null}))}},x=a.data||{},j=Number(x.pending_deficit_credits_total)||0;return l.jsxs("div",{className:"donor-page",children:[l.jsx("h1",{className:"page-title",children:"Donor Dashboard"}),l.jsx("p",{className:"page-sub",children:"Track your giving and how it fuels volunteer impact. Volunteers stay anonymous."}),l.jsxs("div",{className:"summary-grid",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"label",children:"Donated (lifetime)"}),l.jsx("div",{className:"value",children:a.loading?"Loading":a.error?"":L0(x.donated_cents_total??x.donated_lifetime_cents)})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"label",children:"Funded credits"}),l.jsx("div",{className:"value",children:a.loading?"Loading":a.error?"":Number(x.credits_funded_total??x.credits_funded_lifetime)||0})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"label",children:"Funded hours"}),l.jsx("div",{className:"value",children:a.loading?"Loading":a.error?"":Xf(x.minutes_verified_total??x.minutes_funded_lifetime)})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"label",children:"Remaining pool credits"}),l.jsx("div",{className:"value",children:a.loading?"Loading":a.error?"":Number(x.remaining_pool_credits??x.credits_unused_balance)||0})]})]}),j>0&&l.jsxs("div",{className:"info-banner",children:[l.jsx("div",{className:"info-dot"}),l.jsx("div",{children:"Some verified shifts are pending funding. New donations will be attributed automatically."}),l.jsxs("div",{className:"pill pending",children:["Pending credits: ",j]})]}),l.jsxs("div",{className:"claim-card",children:[l.jsxs("div",{children:[l.jsx("div",{className:"label",children:"Claim existing donation"}),l.jsx("div",{className:"subtext",children:"Attach a past donation to your account so it appears here."})]}),l.jsxs("div",{className:"claim-form",children:[l.jsx("input",{type:"text",placeholder:"Donation ID",value:d.donationId,onChange:w=>h(_=>({..._,donationId:w.target.value}))}),l.jsx("span",{className:"muted",children:"or"}),l.jsx("input",{type:"text",placeholder:"Square payment ID",value:d.paymentId,onChange:w=>h(_=>({..._,paymentId:w.target.value}))}),l.jsx("button",{className:"btn",type:"button",disabled:d.submitting,onClick:g,children:d.submitting?"Claiming":"Claim"})]}),d.error&&l.jsx("div",{className:"alert compact",children:d.error}),d.status&&l.jsx("div",{className:"success compact",children:d.status})]}),a.error&&l.jsxs("div",{className:"alert",children:[l.jsx("span",{children:a.error}),l.jsx("button",{type:"button",className:"btn",onClick:m,children:"Retry"})]}),l.jsxs("div",{className:"receipts-section",children:[l.jsxs("div",{className:"section-head",children:[l.jsxs("div",{children:[l.jsx("div",{className:"label",children:"Receipts"}),l.jsx("div",{className:"subtext",children:"Donation  event  funded hours (volunteers remain anonymous)."})]}),l.jsx("button",{type:"button",className:"btn secondary",onClick:()=>y({append:!1,offsetOverride:0}),disabled:r.loading,children:"Refresh"})]}),r.loading&&r.items.length===0?l.jsx("div",{className:"muted",children:"Loading receipts"}):r.error?l.jsxs("div",{className:"alert",children:[l.jsx("span",{children:r.error}),l.jsx("button",{type:"button",className:"btn",onClick:()=>y({append:!1,offsetOverride:0}),children:"Retry"})]}):r.items.length===0?l.jsx("div",{className:"muted",children:"No receipts yet."}):l.jsx("div",{className:"receipt-list",children:r.items.map(w=>l.jsx(U0,{row:w},`${w.id||w.wallet_tx_id||w.created_at}`))}),r.hasMore&&!r.loading&&l.jsx("button",{type:"button",className:"btn",onClick:()=>y({append:!0,offsetOverride:r.nextOffset}),disabled:r.loading,children:"Load more"})]}),l.jsx("style",{children:`
        .donor-page { max-width: 960px; margin: 0 auto; padding: 24px 16px 48px; }
        .page-title { margin: 0 0 4px; color: #455a7c; }
        .page-sub { margin: 0 0 24px; color: #556; }
        .summary-grid { display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); margin-bottom: 16px; }
        .card { background: #fff; border: 1px solid #e6e9f2; border-radius: 12px; padding: 12px 14px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
        .label { font-size: 12px; text-transform: uppercase; letter-spacing: 0.03em; color: #6c7a93; }
        .value { font-size: 22px; font-weight: 700; color: #233048; margin-top: 4px; }
        .alert { margin: 12px 0; padding: 10px 12px; border-radius: 10px; border: 1px solid #f2c6c6; background: #fff5f5; color: #7a1f1f; display: flex; align-items: center; gap: 10px; justify-content: space-between; }
        .btn { background: #455a7c; color: #fff; border: none; border-radius: 8px; padding: 8px 12px; font-weight: 600; cursor: pointer; }
        .btn.secondary { background: #fff; color: #455a7c; border: 1px solid #c7d0e4; }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .receipts-section { margin-top: 20px; background: #fff; border: 1px solid #e6e9f2; border-radius: 12px; padding: 14px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
        .section-head { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 10px; }
        .subtext { color: #6c7a93; font-size: 13px; }
        .muted { color: #6c7a93; font-size: 14px; }
        .receipt-list { display: grid; gap: 10px; }
        .receipt-row { border: 1px solid #e6e9f2; border-radius: 10px; padding: 10px 12px; background: #f8fafc; display: grid; gap: 6px; }
        .receipt-title { font-weight: 700; color: #233048; }
        .receipt-sub { color: #6c7a93; font-size: 13px; }
        .receipt-meta { display: flex; gap: 8px; flex-wrap: wrap; }
        .receipt-pill { background: #fff; border: 1px solid #dde3f0; border-radius: 8px; padding: 6px 8px; display: inline-flex; gap: 6px; align-items: center; }
        .receipt-pill.warning { background: #fff7ec; border-color: #ffd9a8; color: #8c5a00; }
        .pill-label { color: #6c7a93; font-size: 12px; text-transform: uppercase; letter-spacing: 0.04em; }
        .pill-value { font-weight: 700; color: #233048; }
        .receipt-ids { color: #6c7a93; font-size: 12px; display: flex; gap: 10px; flex-wrap: wrap; }
        .receipt-deficit { color: #8c5a00; font-size: 13px; background: #fff7ec; border: 1px dashed #ffd9a8; border-radius: 8px; padding: 6px 8px; }
        .info-banner { display: flex; align-items: center; gap: 10px; background: #f0f4ff; border: 1px solid #c7d0e4; color: #233048; padding: 10px 12px; border-radius: 10px; margin-bottom: 12px; flex-wrap: wrap; }
        .info-dot { width: 10px; height: 10px; border-radius: 50%; background: #5b7cff; box-shadow: 0 0 0 4px rgba(91,124,255,0.12); }
        .pill.pending { background: #fff; color: #233048; border: 1px solid #c7d0e4; border-radius: 999px; padding: 4px 10px; font-size: 13px; }
        .claim-card { margin: 14px 0; padding: 12px; border: 1px solid #e6e9f2; border-radius: 12px; background: #fff; box-shadow: 0 1px 2px rgba(0,0,0,0.04); display: grid; gap: 8px; }
        .claim-form { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
        .claim-form input { padding: 8px 10px; border: 1px solid #c7d0e4; border-radius: 8px; min-width: 160px; }
        .alert.compact, .success.compact { padding: 8px 10px; border-radius: 8px; font-size: 13px; }
        .success { border: 1px solid #b7e0c1; background: #f3fbf5; color: #2f6f3b; }
      `})]})}const Zf=[2e3,5e3,1e4],B0=a=>`$${((Number(a)||0)/100).toFixed(2)}`;function H0(){const[a,i]=S.useState(""),[r,o]=S.useState("general"),[d,h]=S.useState({state:"idle",message:""}),[f,y]=S.useState(Zf[0]),m=async()=>{if(!a.trim()){h({state:"error",message:"Enter the Square payment ID after completing checkout."});return}h({state:"loading",message:"Confirming payment"});try{const g=await fetch("/api/donations/square/confirm",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({square_payment_id:a.trim(),pool_slug:r||"general"})}),x=await g.json().catch(()=>({}));if(!g.ok||!x?.ok)throw new Error(x?.message||x?.error||"Unable to confirm payment.");const j=x?.data?.credits_added??"?";h({state:"success",message:`Thanks! Credited ${j} Impact Credits.`})}catch(g){h({state:"error",message:g?.message||"Unable to confirm payment."})}};return l.jsxs("div",{className:"donate-page",children:[l.jsx("h1",{className:"title",children:"Donate to fuel Impact Credits"}),l.jsx("p",{className:"sub",children:"Complete your Square checkout, then paste the payment ID here to credit your account."}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"label",children:"1) Choose an amount on Square"}),l.jsx("div",{className:"pill-row",children:Zf.map(g=>l.jsx("button",{type:"button",className:`pill ${f===g?"active":""}`,onClick:()=>y(g),children:B0(g)},g))}),l.jsx("p",{className:"muted",children:"Use the Donate button to open Square checkout (opens in new tab)."}),l.jsx("a",{className:"btn primary",href:"https://square.link/u/GjQpbcoi",target:"_blank",rel:"noopener noreferrer",children:"Open Square Checkout"})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"label",children:"2) Paste Square payment ID"}),l.jsx("input",{type:"text",className:"input",placeholder:"Payment ID (e.g., VZY9E... )",value:a,onChange:g=>i(g.target.value)}),l.jsx("div",{className:"label",children:"Pool"}),l.jsx("input",{type:"text",className:"input",value:r,onChange:g=>o(g.target.value||"general")}),l.jsx("button",{type:"button",className:"btn primary",onClick:m,disabled:d.state==="loading",children:d.state==="loading"?"Confirming":"Confirm Donation"}),d.message&&l.jsx("div",{className:`status ${d.state}`,children:d.message})]}),l.jsx("p",{className:"muted",children:"Tip: After confirmation, visit your Donor Dashboard to see updated totals."}),l.jsx("style",{children:`
        .donate-page { max-width: 720px; margin: 0 auto; padding: 24px 16px 48px; color: #233048; }
        .title { margin: 0 0 6px; color: #455a7c; }
        .sub { margin: 0 0 18px; color: #556; }
        .card { background: #fff; border: 1px solid #e6e9f2; border-radius: 12px; padding: 14px; margin-bottom: 14px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
        .label { font-size: 13px; text-transform: uppercase; letter-spacing: 0.05em; color: #6c7a93; margin-bottom: 6px; }
        .pill-row { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px; }
        .pill { border: 1px solid #c7d0e4; background: #fff; color: #233048; border-radius: 999px; padding: 8px 12px; cursor: pointer; font-weight: 600; }
        .pill.active { background: #455a7c; color: #fff; border-color: #455a7c; }
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 6px; border: none; border-radius: 10px; padding: 10px 14px; font-weight: 700; cursor: pointer; text-decoration: none; }
        .btn.primary { background: #455a7c; color: #fff; }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .input { width: 100%; border: 1px solid #d6ddea; border-radius: 10px; padding: 10px; margin: 6px 0 10px; }
        .muted { color: #6c7a93; font-size: 13px; }
        .status { margin-top: 8px; padding: 8px 10px; border-radius: 10px; }
        .status.success { background: #e7f6ec; color: #1d6b3a; border: 1px solid #c4e3ce; }
        .status.error { background: #fff5f5; color: #7a1f1f; border: 1px solid #f2c6c6; }
        .status.loading { background: #f6f8fb; color: #455a7c; border: 1px solid #d6ddea; }
      `})]})}const Ao=S.createContext({});function Eo(a){const i=S.useRef(null);return i.current===null&&(i.current=a()),i.current}const ko=typeof window<"u",Pf=ko?S.useLayoutEffect:S.useEffect,Dl=S.createContext(null);function Mo(a,i){a.indexOf(i)===-1&&a.push(i)}function Do(a,i){const r=a.indexOf(i);r>-1&&a.splice(r,1)}const Vn=(a,i,r)=>r>i?i:r<a?a:r;let Ro=()=>{};const Bn={},$f=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function If(a){return typeof a=="object"&&a!==null}const Jf=a=>/^0[^.\s]+$/u.test(a);function Oo(a){let i;return()=>(i===void 0&&(i=a()),i)}const on=a=>a,q0=(a,i)=>r=>i(a(r)),gs=(...a)=>a.reduce(q0),ys=(a,i,r)=>{const o=i-a;return o===0?1:(r-a)/o};class zo{constructor(){this.subscriptions=[]}add(i){return Mo(this.subscriptions,i),()=>Do(this.subscriptions,i)}notify(i,r,o){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](i,r,o);else for(let h=0;h<d;h++){const f=this.subscriptions[h];f&&f(i,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const An=a=>a*1e3,cn=a=>a/1e3;function Wf(a,i){return i?a*(1e3/i):0}const eh=(a,i,r)=>(((1-3*r+3*i)*a+(3*r-6*i))*a+3*i)*a,Y0=1e-7,G0=12;function F0(a,i,r,o,d){let h,f,y=0;do f=i+(r-i)/2,h=eh(f,o,d)-a,h>0?r=f:i=f;while(Math.abs(h)>Y0&&++y<G0);return f}function xs(a,i,r,o){if(a===i&&r===o)return on;const d=h=>F0(h,0,1,a,r);return h=>h===0||h===1?h:eh(d(h),i,o)}const th=a=>i=>i<=.5?a(2*i)/2:(2-a(2*(1-i)))/2,nh=a=>i=>1-a(1-i),ah=xs(.33,1.53,.69,.99),Lo=nh(ah),ih=th(Lo),sh=a=>(a*=2)<1?.5*Lo(a):.5*(2-Math.pow(2,-10*(a-1))),Uo=a=>1-Math.sin(Math.acos(a)),lh=nh(Uo),rh=th(Uo),K0=xs(.42,0,1,1),X0=xs(0,0,.58,1),oh=xs(.42,0,.58,1),Q0=a=>Array.isArray(a)&&typeof a[0]!="number",ch=a=>Array.isArray(a)&&typeof a[0]=="number",Z0={linear:on,easeIn:K0,easeInOut:oh,easeOut:X0,circIn:Uo,circInOut:rh,circOut:lh,backIn:Lo,backInOut:ih,backOut:ah,anticipate:sh},P0=a=>typeof a=="string",uh=a=>{if(ch(a)){Ro(a.length===4);const[i,r,o,d]=a;return xs(i,r,o,d)}else if(P0(a))return Z0[a];return a},Rl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $0(a,i){let r=new Set,o=new Set,d=!1,h=!1;const f=new WeakSet;let y={delta:0,timestamp:0,isProcessing:!1};function m(x){f.has(x)&&(g.schedule(x),a()),x(y)}const g={schedule:(x,j=!1,w=!1)=>{const N=w&&d?r:o;return j&&f.add(x),N.has(x)||N.add(x),x},cancel:x=>{o.delete(x),f.delete(x)},process:x=>{if(y=x,d){h=!0;return}d=!0,[r,o]=[o,r],r.forEach(m),r.clear(),d=!1,h&&(h=!1,g.process(x))}};return g}const I0=40;function dh(a,i){let r=!1,o=!0;const d={delta:0,timestamp:0,isProcessing:!1},h=()=>r=!0,f=Rl.reduce((z,J)=>(z[J]=$0(h),z),{}),{setup:y,read:m,resolveKeyframes:g,preUpdate:x,update:j,preRender:w,render:_,postRender:N}=f,A=()=>{const z=Bn.useManualTiming?d.timestamp:performance.now();r=!1,Bn.useManualTiming||(d.delta=o?1e3/60:Math.max(Math.min(z-d.timestamp,I0),1)),d.timestamp=z,d.isProcessing=!0,y.process(d),m.process(d),g.process(d),x.process(d),j.process(d),w.process(d),_.process(d),N.process(d),d.isProcessing=!1,r&&i&&(o=!1,a(A))},C=()=>{r=!0,o=!0,d.isProcessing||a(A)};return{schedule:Rl.reduce((z,J)=>{const ee=f[J];return z[J]=(M,Y=!1,W=!1)=>(r||C(),ee.schedule(M,Y,W)),z},{}),cancel:z=>{for(let J=0;J<Rl.length;J++)f[Rl[J]].cancel(z)},state:d,steps:f}}const{schedule:nt,cancel:sa,state:Dt,steps:Vo}=dh(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0);let Ol;function J0(){Ol=void 0}const Ft={now:()=>(Ol===void 0&&Ft.set(Dt.isProcessing||Bn.useManualTiming?Dt.timestamp:performance.now()),Ol),set:a=>{Ol=a,queueMicrotask(J0)}},fh=a=>i=>typeof i=="string"&&i.startsWith(a),Bo=fh("--"),W0=fh("var(--"),Ho=a=>W0(a)?e1.test(a.split("/*")[0].trim()):!1,e1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fi={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},bs={...fi,transform:a=>Vn(0,1,a)},zl={...fi,default:1},vs=a=>Math.round(a*1e5)/1e5,qo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t1(a){return a==null}const n1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yo=(a,i)=>r=>!!(typeof r=="string"&&n1.test(r)&&r.startsWith(a)||i&&!t1(r)&&Object.prototype.hasOwnProperty.call(r,i)),hh=(a,i,r)=>o=>{if(typeof o!="string")return o;const[d,h,f,y]=o.match(qo);return{[a]:parseFloat(d),[i]:parseFloat(h),[r]:parseFloat(f),alpha:y!==void 0?parseFloat(y):1}},a1=a=>Vn(0,255,a),Go={...fi,transform:a=>Math.round(a1(a))},Ua={test:Yo("rgb","red"),parse:hh("red","green","blue"),transform:({red:a,green:i,blue:r,alpha:o=1})=>"rgba("+Go.transform(a)+", "+Go.transform(i)+", "+Go.transform(r)+", "+vs(bs.transform(o))+")"};function i1(a){let i="",r="",o="",d="";return a.length>5?(i=a.substring(1,3),r=a.substring(3,5),o=a.substring(5,7),d=a.substring(7,9)):(i=a.substring(1,2),r=a.substring(2,3),o=a.substring(3,4),d=a.substring(4,5),i+=i,r+=r,o+=o,d+=d),{red:parseInt(i,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:d?parseInt(d,16)/255:1}}const Fo={test:Yo("#"),parse:i1,transform:Ua.transform},js=a=>({test:i=>typeof i=="string"&&i.endsWith(a)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${a}`}),la=js("deg"),En=js("%"),Ne=js("px"),s1=js("vh"),l1=js("vw"),mh={...En,parse:a=>En.parse(a)/100,transform:a=>En.transform(a*100)},hi={test:Yo("hsl","hue"),parse:hh("hue","saturation","lightness"),transform:({hue:a,saturation:i,lightness:r,alpha:o=1})=>"hsla("+Math.round(a)+", "+En.transform(vs(i))+", "+En.transform(vs(r))+", "+vs(bs.transform(o))+")"},pt={test:a=>Ua.test(a)||Fo.test(a)||hi.test(a),parse:a=>Ua.test(a)?Ua.parse(a):hi.test(a)?hi.parse(a):Fo.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Ua.transform(a):hi.transform(a),getAnimatableNone:a=>{const i=pt.parse(a);return i.alpha=0,pt.transform(i)}},r1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o1(a){return isNaN(a)&&typeof a=="string"&&(a.match(qo)?.length||0)+(a.match(r1)?.length||0)>0}const ph="number",gh="color",c1="var",u1="var(",yh="${}",d1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ss(a){const i=a.toString(),r=[],o={color:[],number:[],var:[]},d=[];let h=0;const y=i.replace(d1,m=>(pt.test(m)?(o.color.push(h),d.push(gh),r.push(pt.parse(m))):m.startsWith(u1)?(o.var.push(h),d.push(c1),r.push(m)):(o.number.push(h),d.push(ph),r.push(parseFloat(m))),++h,yh)).split(yh);return{values:r,split:y,indexes:o,types:d}}function xh(a){return Ss(a).values}function bh(a){const{split:i,types:r}=Ss(a),o=i.length;return d=>{let h="";for(let f=0;f<o;f++)if(h+=i[f],d[f]!==void 0){const y=r[f];y===ph?h+=vs(d[f]):y===gh?h+=pt.transform(d[f]):h+=d[f]}return h}}const f1=a=>typeof a=="number"?0:pt.test(a)?pt.getAnimatableNone(a):a;function h1(a){const i=xh(a);return bh(a)(i.map(f1))}const ra={test:o1,parse:xh,createTransformer:bh,getAnimatableNone:h1};function Ko(a,i,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?a+(i-a)*6*r:r<1/2?i:r<2/3?a+(i-a)*(2/3-r)*6:a}function m1({hue:a,saturation:i,lightness:r,alpha:o}){a/=360,i/=100,r/=100;let d=0,h=0,f=0;if(!i)d=h=f=r;else{const y=r<.5?r*(1+i):r+i-r*i,m=2*r-y;d=Ko(m,y,a+1/3),h=Ko(m,y,a),f=Ko(m,y,a-1/3)}return{red:Math.round(d*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:o}}function Ll(a,i){return r=>r>0?i:a}const st=(a,i,r)=>a+(i-a)*r,Xo=(a,i,r)=>{const o=a*a,d=r*(i*i-o)+o;return d<0?0:Math.sqrt(d)},p1=[Fo,Ua,hi],g1=a=>p1.find(i=>i.test(a));function vh(a){const i=g1(a);if(!i)return!1;let r=i.parse(a);return i===hi&&(r=m1(r)),r}const jh=(a,i)=>{const r=vh(a),o=vh(i);if(!r||!o)return Ll(a,i);const d={...r};return h=>(d.red=Xo(r.red,o.red,h),d.green=Xo(r.green,o.green,h),d.blue=Xo(r.blue,o.blue,h),d.alpha=st(r.alpha,o.alpha,h),Ua.transform(d))},Qo=new Set(["none","hidden"]);function y1(a,i){return Qo.has(a)?r=>r<=0?a:i:r=>r>=1?i:a}function x1(a,i){return r=>st(a,i,r)}function Zo(a){return typeof a=="number"?x1:typeof a=="string"?Ho(a)?Ll:pt.test(a)?jh:j1:Array.isArray(a)?Sh:typeof a=="object"?pt.test(a)?jh:b1:Ll}function Sh(a,i){const r=[...a],o=r.length,d=a.map((h,f)=>Zo(h)(h,i[f]));return h=>{for(let f=0;f<o;f++)r[f]=d[f](h);return r}}function b1(a,i){const r={...a,...i},o={};for(const d in r)a[d]!==void 0&&i[d]!==void 0&&(o[d]=Zo(a[d])(a[d],i[d]));return d=>{for(const h in o)r[h]=o[h](d);return r}}function v1(a,i){const r=[],o={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const h=i.types[d],f=a.indexes[h][o[h]],y=a.values[f]??0;r[d]=y,o[h]++}return r}const j1=(a,i)=>{const r=ra.createTransformer(i),o=Ss(a),d=Ss(i);return o.indexes.var.length===d.indexes.var.length&&o.indexes.color.length===d.indexes.color.length&&o.indexes.number.length>=d.indexes.number.length?Qo.has(a)&&!d.values.length||Qo.has(i)&&!o.values.length?y1(a,i):gs(Sh(v1(o,d),d.values),r):Ll(a,i)};function wh(a,i,r){return typeof a=="number"&&typeof i=="number"&&typeof r=="number"?st(a,i,r):Zo(a)(a,i)}const S1=a=>{const i=({timestamp:r})=>a(r);return{start:(r=!0)=>nt.update(i,r),stop:()=>sa(i),now:()=>Dt.isProcessing?Dt.timestamp:Ft.now()}},Nh=(a,i,r=10)=>{let o="";const d=Math.max(Math.round(i/r),2);for(let h=0;h<d;h++)o+=Math.round(a(h/(d-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Ul=2e4;function Po(a){let i=0;const r=50;let o=a.next(i);for(;!o.done&&i<Ul;)i+=r,o=a.next(i);return i>=Ul?1/0:i}function w1(a,i=100,r){const o=r({...a,keyframes:[0,i]}),d=Math.min(Po(o),Ul);return{type:"keyframes",ease:h=>o.next(d*h).value/i,duration:cn(d)}}const N1=5;function _h(a,i,r){const o=Math.max(i-N1,0);return Wf(r-a(o),i-o)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$o=.001;function _1({duration:a=lt.duration,bounce:i=lt.bounce,velocity:r=lt.velocity,mass:o=lt.mass}){let d,h,f=1-i;f=Vn(lt.minDamping,lt.maxDamping,f),a=Vn(lt.minDuration,lt.maxDuration,cn(a)),f<1?(d=g=>{const x=g*f,j=x*a,w=x-r,_=Io(g,f),N=Math.exp(-j);return $o-w/_*N},h=g=>{const j=g*f*a,w=j*r+r,_=Math.pow(f,2)*Math.pow(g,2)*a,N=Math.exp(-j),A=Io(Math.pow(g,2),f);return(-d(g)+$o>0?-1:1)*((w-_)*N)/A}):(d=g=>{const x=Math.exp(-g*a),j=(g-r)*a+1;return-$o+x*j},h=g=>{const x=Math.exp(-g*a),j=(r-g)*(a*a);return x*j});const y=5/a,m=C1(d,h,y);if(a=An(a),isNaN(m))return{stiffness:lt.stiffness,damping:lt.damping,duration:a};{const g=Math.pow(m,2)*o;return{stiffness:g,damping:f*2*Math.sqrt(o*g),duration:a}}}const T1=12;function C1(a,i,r){let o=r;for(let d=1;d<T1;d++)o=o-a(o)/i(o);return o}function Io(a,i){return a*Math.sqrt(1-i*i)}const A1=["duration","bounce"],E1=["stiffness","damping","mass"];function Th(a,i){return i.some(r=>a[r]!==void 0)}function k1(a){let i={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...a};if(!Th(a,E1)&&Th(a,A1))if(a.visualDuration){const r=a.visualDuration,o=2*Math.PI/(r*1.2),d=o*o,h=2*Vn(.05,1,1-(a.bounce||0))*Math.sqrt(d);i={...i,mass:lt.mass,stiffness:d,damping:h}}else{const r=_1(a);i={...i,...r,mass:lt.mass},i.isResolvedFromDuration=!0}return i}function Vl(a=lt.visualDuration,i=lt.bounce){const r=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:i}:a;let{restSpeed:o,restDelta:d}=r;const h=r.keyframes[0],f=r.keyframes[r.keyframes.length-1],y={done:!1,value:h},{stiffness:m,damping:g,mass:x,duration:j,velocity:w,isResolvedFromDuration:_}=k1({...r,velocity:-cn(r.velocity||0)}),N=w||0,A=g/(2*Math.sqrt(m*x)),C=f-h,R=cn(Math.sqrt(m/x)),q=Math.abs(C)<5;o||(o=q?lt.restSpeed.granular:lt.restSpeed.default),d||(d=q?lt.restDelta.granular:lt.restDelta.default);let z;if(A<1){const ee=Io(R,A);z=M=>{const Y=Math.exp(-A*R*M);return f-Y*((N+A*R*C)/ee*Math.sin(ee*M)+C*Math.cos(ee*M))}}else if(A===1)z=ee=>f-Math.exp(-R*ee)*(C+(N+R*C)*ee);else{const ee=R*Math.sqrt(A*A-1);z=M=>{const Y=Math.exp(-A*R*M),W=Math.min(ee*M,300);return f-Y*((N+A*R*C)*Math.sinh(W)+ee*C*Math.cosh(W))/ee}}const J={calculatedDuration:_&&j||null,next:ee=>{const M=z(ee);if(_)y.done=ee>=j;else{let Y=ee===0?N:0;A<1&&(Y=ee===0?An(N):_h(z,ee,M));const W=Math.abs(Y)<=o,$=Math.abs(f-M)<=d;y.done=W&&$}return y.value=y.done?f:M,y},toString:()=>{const ee=Math.min(Po(J),Ul),M=Nh(Y=>J.next(ee*Y).value,ee,30);return ee+"ms "+M},toTransition:()=>{}};return J}Vl.applyToOptions=a=>{const i=w1(a,100,Vl);return a.ease=i.ease,a.duration=An(i.duration),a.type="keyframes",a};function Jo({keyframes:a,velocity:i=0,power:r=.8,timeConstant:o=325,bounceDamping:d=10,bounceStiffness:h=500,modifyTarget:f,min:y,max:m,restDelta:g=.5,restSpeed:x}){const j=a[0],w={done:!1,value:j},_=W=>y!==void 0&&W<y||m!==void 0&&W>m,N=W=>y===void 0?m:m===void 0||Math.abs(y-W)<Math.abs(m-W)?y:m;let A=r*i;const C=j+A,R=f===void 0?C:f(C);R!==C&&(A=R-j);const q=W=>-A*Math.exp(-W/o),z=W=>R+q(W),J=W=>{const $=q(W),ie=z(W);w.done=Math.abs($)<=g,w.value=w.done?R:ie};let ee,M;const Y=W=>{_(w.value)&&(ee=W,M=Vl({keyframes:[w.value,N(w.value)],velocity:_h(z,W,w.value),damping:d,stiffness:h,restDelta:g,restSpeed:x}))};return Y(0),{calculatedDuration:null,next:W=>{let $=!1;return!M&&ee===void 0&&($=!0,J(W),Y(W)),ee!==void 0&&W>=ee?M.next(W-ee):(!$&&J(W),w)}}}function M1(a,i,r){const o=[],d=r||Bn.mix||wh,h=a.length-1;for(let f=0;f<h;f++){let y=d(a[f],a[f+1]);if(i){const m=Array.isArray(i)?i[f]||on:i;y=gs(m,y)}o.push(y)}return o}function D1(a,i,{clamp:r=!0,ease:o,mixer:d}={}){const h=a.length;if(Ro(h===i.length),h===1)return()=>i[0];if(h===2&&i[0]===i[1])return()=>i[1];const f=a[0]===a[1];a[0]>a[h-1]&&(a=[...a].reverse(),i=[...i].reverse());const y=M1(i,o,d),m=y.length,g=x=>{if(f&&x<a[0])return i[0];let j=0;if(m>1)for(;j<a.length-2&&!(x<a[j+1]);j++);const w=ys(a[j],a[j+1],x);return y[j](w)};return r?x=>g(Vn(a[0],a[h-1],x)):g}function R1(a,i){const r=a[a.length-1];for(let o=1;o<=i;o++){const d=ys(0,i,o);a.push(st(r,1,d))}}function O1(a){const i=[0];return R1(i,a.length-1),i}function z1(a,i){return a.map(r=>r*i)}function L1(a,i){return a.map(()=>i||oh).splice(0,a.length-1)}function ws({duration:a=300,keyframes:i,times:r,ease:o="easeInOut"}){const d=Q0(o)?o.map(uh):uh(o),h={done:!1,value:i[0]},f=z1(r&&r.length===i.length?r:O1(i),a),y=D1(f,i,{ease:Array.isArray(d)?d:L1(i,d)});return{calculatedDuration:a,next:m=>(h.value=y(m),h.done=m>=a,h)}}const U1=a=>a!==null;function Wo(a,{repeat:i,repeatType:r="loop"},o,d=1){const h=a.filter(U1),y=d<0||i&&r!=="loop"&&i%2===1?0:h.length-1;return!y||o===void 0?h[y]:o}const V1={decay:Jo,inertia:Jo,tween:ws,keyframes:ws,spring:Vl};function Ch(a){typeof a.type=="string"&&(a.type=V1[a.type])}class ec{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,r){return this.finished.then(i,r)}}const B1=a=>a/100;class tc extends ec{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;Ch(i);const{type:r=ws,repeat:o=0,repeatDelay:d=0,repeatType:h,velocity:f=0}=i;let{keyframes:y}=i;const m=r||ws;m!==ws&&typeof y[0]!="number"&&(this.mixKeyframes=gs(B1,wh(y[0],y[1])),y=[0,100]);const g=m({...i,keyframes:y});h==="mirror"&&(this.mirroredGenerator=m({...i,keyframes:[...y].reverse(),velocity:-f})),g.calculatedDuration===null&&(g.calculatedDuration=Po(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+d,this.totalDuration=this.resolvedDuration*(o+1)-d,this.generator=g}updateTime(i){const r=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(i,r=!1){const{generator:o,totalDuration:d,mixKeyframes:h,mirroredGenerator:f,resolvedDuration:y,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:g=0,keyframes:x,repeat:j,repeatType:w,repeatDelay:_,type:N,onUpdate:A,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-d/this.speed,this.startTime)),r?this.currentTime=i:this.updateTime(i);const R=this.currentTime-g*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?R<0:R>d;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let z=this.currentTime,J=o;if(j){const W=Math.min(this.currentTime,d)/y;let $=Math.floor(W),ie=W%1;!ie&&W>=1&&(ie=1),ie===1&&$--,$=Math.min($,j+1),!!($%2)&&(w==="reverse"?(ie=1-ie,_&&(ie-=_/y)):w==="mirror"&&(J=f)),z=Vn(0,1,ie)*y}const ee=q?{done:!1,value:x[0]}:J.next(z);h&&(ee.value=h(ee.value));let{done:M}=ee;!q&&m!==null&&(M=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return Y&&N!==Jo&&(ee.value=Wo(x,this.options,C,this.speed)),A&&A(ee.value),Y&&this.finish(),ee}then(i,r){return this.finished.then(i,r)}get duration(){return cn(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+cn(i)}get time(){return cn(this.currentTime)}set time(i){i=An(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Ft.now());const r=this.playbackSpeed!==i;this.playbackSpeed=i,r&&(this.time=cn(this.currentTime))}play(){if(this.isStopped)return;const{driver:i=S1,startTime:r}=this.options;this.driver||(this.driver=i(d=>this.tick(d))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),i.observe(this)}}function H1(a){for(let i=1;i<a.length;i++)a[i]??(a[i]=a[i-1])}const Va=a=>a*180/Math.PI,nc=a=>{const i=Va(Math.atan2(a[1],a[0]));return ac(i)},q1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:nc,rotateZ:nc,skewX:a=>Va(Math.atan(a[1])),skewY:a=>Va(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},ac=a=>(a=a%360,a<0&&(a+=360),a),Ah=nc,Eh=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),kh=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),Y1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Eh,scaleY:kh,scale:a=>(Eh(a)+kh(a))/2,rotateX:a=>ac(Va(Math.atan2(a[6],a[5]))),rotateY:a=>ac(Va(Math.atan2(-a[2],a[0]))),rotateZ:Ah,rotate:Ah,skewX:a=>Va(Math.atan(a[4])),skewY:a=>Va(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function ic(a){return a.includes("scale")?1:0}function sc(a,i){if(!a||a==="none")return ic(i);const r=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,d;if(r)o=Y1,d=r;else{const y=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=q1,d=y}if(!d)return ic(i);const h=o[i],f=d[1].split(",").map(F1);return typeof h=="function"?h(f):f[h]}const G1=(a,i)=>{const{transform:r="none"}=getComputedStyle(a);return sc(r,i)};function F1(a){return parseFloat(a.trim())}const mi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pi=new Set(mi),Mh=a=>a===fi||a===Ne,K1=new Set(["x","y","z"]),X1=mi.filter(a=>!K1.has(a));function Q1(a){const i=[];return X1.forEach(r=>{const o=a.getValue(r);o!==void 0&&(i.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),i}const Ba={width:({x:a},{paddingLeft:i="0",paddingRight:r="0"})=>a.max-a.min-parseFloat(i)-parseFloat(r),height:({y:a},{paddingTop:i="0",paddingBottom:r="0"})=>a.max-a.min-parseFloat(i)-parseFloat(r),top:(a,{top:i})=>parseFloat(i),left:(a,{left:i})=>parseFloat(i),bottom:({y:a},{top:i})=>parseFloat(i)+(a.max-a.min),right:({x:a},{left:i})=>parseFloat(i)+(a.max-a.min),x:(a,{transform:i})=>sc(i,"x"),y:(a,{transform:i})=>sc(i,"y")};Ba.translateX=Ba.x,Ba.translateY=Ba.y;const Ha=new Set;let lc=!1,rc=!1,oc=!1;function Dh(){if(rc){const a=Array.from(Ha).filter(o=>o.needsMeasurement),i=new Set(a.map(o=>o.element)),r=new Map;i.forEach(o=>{const d=Q1(o);d.length&&(r.set(o,d),o.render())}),a.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const d=r.get(o);d&&d.forEach(([h,f])=>{o.getValue(h)?.set(f)})}),a.forEach(o=>o.measureEndState()),a.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}rc=!1,lc=!1,Ha.forEach(a=>a.complete(oc)),Ha.clear()}function Rh(){Ha.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(rc=!0)})}function Z1(){oc=!0,Rh(),Dh(),oc=!1}class cc{constructor(i,r,o,d,h,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=r,this.name=o,this.motionValue=d,this.element=h,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),lc||(lc=!0,nt.read(Rh),nt.resolveKeyframes(Dh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:r,element:o,motionValue:d}=this;if(i[0]===null){const h=d?.get(),f=i[i.length-1];if(h!==void 0)i[0]=h;else if(o&&r){const y=o.readValue(r,f);y!=null&&(i[0]=y)}i[0]===void 0&&(i[0]=f),d&&h===void 0&&d.set(i[0])}H1(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P1=a=>a.startsWith("--");function $1(a,i,r){P1(i)?a.style.setProperty(i,r):a.style[i]=r}const I1=Oo(()=>window.ScrollTimeline!==void 0),J1={};function W1(a,i){const r=Oo(a);return()=>J1[i]??r()}const Oh=W1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ns=([a,i,r,o])=>`cubic-bezier(${a}, ${i}, ${r}, ${o})`,zh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ns([0,.65,.55,1]),circOut:Ns([.55,0,1,.45]),backIn:Ns([.31,.01,.66,-.59]),backOut:Ns([.33,1.53,.69,.99])};function Lh(a,i){if(a)return typeof a=="function"?Oh()?Nh(a,i):"ease-out":ch(a)?Ns(a):Array.isArray(a)?a.map(r=>Lh(r,i)||zh.easeOut):zh[a]}function ej(a,i,r,{delay:o=0,duration:d=300,repeat:h=0,repeatType:f="loop",ease:y="easeOut",times:m}={},g=void 0){const x={[i]:r};m&&(x.offset=m);const j=Lh(y,d);Array.isArray(j)&&(x.easing=j);const w={delay:o,duration:d,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),a.animate(x,w)}function Uh(a){return typeof a=="function"&&"applyToOptions"in a}function tj({type:a,...i}){return Uh(a)&&Oh()?a.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class nj extends ec{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:r,name:o,keyframes:d,pseudoElement:h,allowFlatten:f=!1,finalKeyframe:y,onComplete:m}=i;this.isPseudoElement=!!h,this.allowFlatten=f,this.options=i,Ro(typeof i.type!="string");const g=tj(i);this.animation=ej(r,o,d,g,h),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const x=Wo(d,this.options,y,this.speed);this.updateMotionValue?this.updateMotionValue(x):$1(r,o,x),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const i=this.animation.effect?.getComputedTiming?.().duration||0;return cn(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+cn(i)}get time(){return cn(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=An(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,i&&I1()?(this.animation.timeline=i,on):r(this)}}const Vh={anticipate:sh,backInOut:ih,circInOut:rh};function aj(a){return a in Vh}function ij(a){typeof a.ease=="string"&&aj(a.ease)&&(a.ease=Vh[a.ease])}const Bh=10;class sj extends nj{constructor(i){ij(i),Ch(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:r,onUpdate:o,onComplete:d,element:h,...f}=this.options;if(!r)return;if(i!==void 0){r.set(i);return}const y=new tc({...f,autoplay:!1}),m=An(this.finishedTime??this.time);r.setWithVelocity(y.sample(m-Bh).value,y.sample(m).value,Bh),y.stop()}}const Hh=(a,i)=>i==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(ra.test(a)||a==="0")&&!a.startsWith("url("));function lj(a){const i=a[0];if(a.length===1)return!0;for(let r=0;r<a.length;r++)if(a[r]!==i)return!0}function rj(a,i,r,o){const d=a[0];if(d===null)return!1;if(i==="display"||i==="visibility")return!0;const h=a[a.length-1],f=Hh(d,i),y=Hh(h,i);return!f||!y?!1:lj(a)||(r==="spring"||Uh(r))&&o}function uc(a){a.duration=0,a.type="keyframes"}const oj=new Set(["opacity","clipPath","filter","transform"]),cj=Oo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uj(a){const{motionValue:i,name:r,repeatDelay:o,repeatType:d,damping:h,type:f}=a;if(!(i?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=i.owner.getProps();return cj()&&r&&oj.has(r)&&(r!=="transform"||!g)&&!m&&!o&&d!=="mirror"&&h!==0&&f!=="inertia"}const dj=40;class fj extends ec{constructor({autoplay:i=!0,delay:r=0,type:o="keyframes",repeat:d=0,repeatDelay:h=0,repeatType:f="loop",keyframes:y,name:m,motionValue:g,element:x,...j}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ft.now();const w={autoplay:i,delay:r,type:o,repeat:d,repeatDelay:h,repeatType:f,name:m,motionValue:g,element:x,...j},_=x?.KeyframeResolver||cc;this.keyframeResolver=new _(y,(N,A,C)=>this.onKeyframesResolved(N,A,w,!C),m,g,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(i,r,o,d){this.keyframeResolver=void 0;const{name:h,type:f,velocity:y,delay:m,isHandoff:g,onUpdate:x}=o;this.resolvedAt=Ft.now(),rj(i,h,f,y)||((Bn.instantAnimations||!m)&&x?.(Wo(i,o,r)),i[0]=i[i.length-1],uc(o),o.repeat=0);const w={startTime:d?this.resolvedAt?this.resolvedAt-this.createdAt>dj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...o,keyframes:i},_=!g&&uj(w)?new sj({...w,element:w.motionValue.owner.current}):new tc(w);_.finished.then(()=>this.notifyFinished()).catch(on),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(i,r){return this.finished.finally(i).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Z1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mj(a){const i=hj.exec(a);if(!i)return[,];const[,r,o,d]=i;return[`--${r??o}`,d]}function qh(a,i,r=1){const[o,d]=mj(a);if(!o)return;const h=window.getComputedStyle(i).getPropertyValue(o);if(h){const f=h.trim();return $f(f)?parseFloat(f):f}return Ho(d)?qh(d,i,r+1):d}function dc(a,i){return a?.[i]??a?.default??a}const Yh=new Set(["width","height","top","left","right","bottom",...mi]),pj={test:a=>a==="auto",parse:a=>a},Gh=a=>i=>i.test(a),Fh=[fi,Ne,En,la,l1,s1,pj],Kh=a=>Fh.find(Gh(a));function gj(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Jf(a):!0}const yj=new Set(["brightness","contrast","saturate","opacity"]);function xj(a){const[i,r]=a.slice(0,-1).split("(");if(i==="drop-shadow")return a;const[o]=r.match(qo)||[];if(!o)return a;const d=r.replace(o,"");let h=yj.has(i)?1:0;return o!==r&&(h*=100),i+"("+h+d+")"}const bj=/\b([a-z-]*)\(.*?\)/gu,fc={...ra,getAnimatableNone:a=>{const i=a.match(bj);return i?i.map(xj).join(" "):a}},Xh={...fi,transform:Math.round},hc={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,backgroundPositionX:Ne,backgroundPositionY:Ne,...{rotate:la,rotateX:la,rotateY:la,rotateZ:la,scale:zl,scaleX:zl,scaleY:zl,scaleZ:zl,skew:la,skewX:la,skewY:la,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:bs,originX:mh,originY:mh,originZ:Ne},zIndex:Xh,fillOpacity:bs,strokeOpacity:bs,numOctaves:Xh},vj={...hc,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:fc,WebkitFilter:fc},Qh=a=>vj[a];function Zh(a,i){let r=Qh(a);return r!==fc&&(r=ra),r.getAnimatableNone?r.getAnimatableNone(i):void 0}const jj=new Set(["auto","none","0"]);function Sj(a,i,r){let o=0,d;for(;o<a.length&&!d;){const h=a[o];typeof h=="string"&&!jj.has(h)&&Ss(h).values.length&&(d=a[o]),o++}if(d&&r)for(const h of i)a[h]=Zh(r,d)}class wj extends cc{constructor(i,r,o,d,h){super(i,r,o,d,h,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<i.length;m++){let g=i[m];if(typeof g=="string"&&(g=g.trim(),Ho(g))){const x=qh(g,r.current);x!==void 0&&(i[m]=x),m===i.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Yh.has(o)||i.length!==2)return;const[d,h]=i,f=Kh(d),y=Kh(h);if(f!==y)if(Mh(f)&&Mh(y))for(let m=0;m<i.length;m++){const g=i[m];typeof g=="string"&&(i[m]=parseFloat(g))}else Ba[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:r}=this,o=[];for(let d=0;d<i.length;d++)(i[d]===null||gj(i[d]))&&o.push(d);o.length&&Sj(i,o,r)}measureInitialState(){const{element:i,unresolvedKeyframes:r,name:o}=this;if(!i||!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[o](i.measureViewportBox(),window.getComputedStyle(i.current)),r[0]=this.measuredOrigin;const d=r[r.length-1];d!==void 0&&i.getValue(o,d).jump(d,!1)}measureEndState(){const{element:i,name:r,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const d=i.getValue(r);d&&d.jump(this.measuredOrigin,!1);const h=o.length-1,f=o[h];o[h]=Ba[r](i.measureViewportBox(),window.getComputedStyle(i.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([y,m])=>{i.getValue(y).set(m)}),this.resolveNoneKeyframes()}}function Nj(a,i,r){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let o=document;const d=r?.[a]??o.querySelectorAll(a);return d?Array.from(d):[]}return Array.from(a)}const Ph=(a,i)=>i&&typeof a=="number"?i.transform(a):a;function $h(a){return If(a)&&"offsetHeight"in a}const Ih=30,_j=a=>!isNaN(parseFloat(a));class Tj{constructor(i,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const d=Ft.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=r.owner}setCurrent(i){this.current=i,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=_j(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,r){this.events[i]||(this.events[i]=new zo);const o=this.events[i].add(r);return i==="change"?()=>{o(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,r){this.passiveEffect=i,this.stopPassiveEffect=r}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,r=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>Ih)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Ih);return Wf(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(i){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=i(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gi(a,i){return new Tj(a,i)}const{schedule:mc}=dh(queueMicrotask,!1),wn={x:!1,y:!1};function Jh(){return wn.x||wn.y}function Cj(a){return a==="x"||a==="y"?wn[a]?null:(wn[a]=!0,()=>{wn[a]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}function Wh(a,i){const r=Nj(a),o=new AbortController,d={passive:!0,...i,signal:o.signal};return[r,d,()=>o.abort()]}function em(a){return!(a.pointerType==="touch"||Jh())}function Aj(a,i,r={}){const[o,d,h]=Wh(a,r),f=y=>{if(!em(y))return;const{target:m}=y,g=i(m,y);if(typeof g!="function"||!m)return;const x=j=>{em(j)&&(g(j),m.removeEventListener("pointerleave",x))};m.addEventListener("pointerleave",x,d)};return o.forEach(y=>{y.addEventListener("pointerenter",f,d)}),h}const tm=(a,i)=>i?a===i?!0:tm(a,i.parentElement):!1,pc=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,Ej=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kj(a){return Ej.has(a.tagName)||a.tabIndex!==-1}const Bl=new WeakSet;function nm(a){return i=>{i.key==="Enter"&&a(i)}}function gc(a,i){a.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const Mj=(a,i)=>{const r=a.currentTarget;if(!r)return;const o=nm(()=>{if(Bl.has(r))return;gc(r,"down");const d=nm(()=>{gc(r,"up")}),h=()=>gc(r,"cancel");r.addEventListener("keyup",d,i),r.addEventListener("blur",h,i)});r.addEventListener("keydown",o,i),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),i)};function am(a){return pc(a)&&!Jh()}function Dj(a,i,r={}){const[o,d,h]=Wh(a,r),f=y=>{const m=y.currentTarget;if(!am(y))return;Bl.add(m);const g=i(m,y),x=(_,N)=>{window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",w),Bl.has(m)&&Bl.delete(m),am(_)&&typeof g=="function"&&g(_,{success:N})},j=_=>{x(_,m===window||m===document||r.useGlobalTarget||tm(m,_.target))},w=_=>{x(_,!1)};window.addEventListener("pointerup",j,d),window.addEventListener("pointercancel",w,d)};return o.forEach(y=>{(r.useGlobalTarget?window:y).addEventListener("pointerdown",f,d),$h(y)&&(y.addEventListener("focus",g=>Mj(g,d)),!kj(y)&&!y.hasAttribute("tabindex")&&(y.tabIndex=0))}),h}function im(a){return If(a)&&"ownerSVGElement"in a}function Rj(a){return im(a)&&a.tagName==="svg"}const Bt=a=>!!(a&&a.getVelocity),Oj=[...Fh,pt,ra],zj=a=>Oj.find(Gh(a)),yc=S.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function sm(a,i){if(typeof a=="function")return a(i);a!=null&&(a.current=i)}function Lj(...a){return i=>{let r=!1;const o=a.map(d=>{const h=sm(d,i);return!r&&typeof h=="function"&&(r=!0),h});if(r)return()=>{for(let d=0;d<o.length;d++){const h=o[d];typeof h=="function"?h():sm(a[d],null)}}}}function Uj(...a){return S.useCallback(Lj(...a),a)}class Vj extends S.Component{getSnapshotBeforeUpdate(i){const r=this.props.childRef.current;if(r&&i.isPresent&&!this.props.isPresent){const o=r.offsetParent,d=$h(o)&&o.offsetWidth||0,h=this.props.sizeRef.current;h.height=r.offsetHeight||0,h.width=r.offsetWidth||0,h.top=r.offsetTop,h.left=r.offsetLeft,h.right=d-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Bj({children:a,isPresent:i,anchorX:r,root:o}){const d=S.useId(),h=S.useRef(null),f=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=S.useContext(yc),m=Uj(h,a?.ref);return S.useInsertionEffect(()=>{const{width:g,height:x,top:j,left:w,right:_}=f.current;if(i||!h.current||!g||!x)return;const N=r==="left"?`left: ${w}`:`right: ${_}`;h.current.dataset.motionPopId=d;const A=document.createElement("style");y&&(A.nonce=y);const C=o??document.head;return C.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${x}px !important;
            ${N}px !important;
            top: ${j}px !important;
          }
        `),()=>{C.contains(A)&&C.removeChild(A)}},[i]),l.jsx(Vj,{isPresent:i,childRef:h,sizeRef:f,children:S.cloneElement(a,{ref:m})})}const Hj=({children:a,initial:i,isPresent:r,onExitComplete:o,custom:d,presenceAffectsLayout:h,mode:f,anchorX:y,root:m})=>{const g=Eo(qj),x=S.useId();let j=!0,w=S.useMemo(()=>(j=!1,{id:x,initial:i,isPresent:r,custom:d,onExitComplete:_=>{g.set(_,!0);for(const N of g.values())if(!N)return;o&&o()},register:_=>(g.set(_,!1),()=>g.delete(_))}),[r,g,o]);return h&&j&&(w={...w}),S.useMemo(()=>{g.forEach((_,N)=>g.set(N,!1))},[r]),S.useEffect(()=>{!r&&!g.size&&o&&o()},[r]),f==="popLayout"&&(a=l.jsx(Bj,{isPresent:r,anchorX:y,root:m,children:a})),l.jsx(Dl.Provider,{value:w,children:a})};function qj(){return new Map}function lm(a=!0){const i=S.useContext(Dl);if(i===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:d}=i,h=S.useId();S.useEffect(()=>{if(a)return d(h)},[a]);const f=S.useCallback(()=>a&&o&&o(h),[h,o,a]);return!r&&o?[!1,f]:[!0]}const Hl=a=>a.key||"";function rm(a){const i=[];return S.Children.forEach(a,r=>{S.isValidElement(r)&&i.push(r)}),i}const Yj=({children:a,custom:i,initial:r=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:h="sync",propagate:f=!1,anchorX:y="left",root:m})=>{const[g,x]=lm(f),j=S.useMemo(()=>rm(a),[a]),w=f&&!g?[]:j.map(Hl),_=S.useRef(!0),N=S.useRef(j),A=Eo(()=>new Map),[C,R]=S.useState(j),[q,z]=S.useState(j);Pf(()=>{_.current=!1,N.current=j;for(let M=0;M<q.length;M++){const Y=Hl(q[M]);w.includes(Y)?A.delete(Y):A.get(Y)!==!0&&A.set(Y,!1)}},[q,w.length,w.join("-")]);const J=[];if(j!==C){let M=[...j];for(let Y=0;Y<q.length;Y++){const W=q[Y],$=Hl(W);w.includes($)||(M.splice(Y,0,W),J.push(W))}return h==="wait"&&J.length&&(M=J),z(rm(M)),R(j),null}const{forceRender:ee}=S.useContext(Ao);return l.jsx(l.Fragment,{children:q.map(M=>{const Y=Hl(M),W=f&&!g?!1:j===q||w.includes(Y),$=()=>{if(A.has(Y))A.set(Y,!0);else return;let ie=!0;A.forEach(oe=>{oe||(ie=!1)}),ie&&(ee?.(),z(N.current),f&&x?.(),o&&o())};return l.jsx(Hj,{isPresent:W,initial:!_.current||r?void 0:!1,custom:i,presenceAffectsLayout:d,mode:h,root:m,onExitComplete:W?void 0:$,anchorX:y,children:M},Y)})})},om=S.createContext({strict:!1}),cm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yi={};for(const a in cm)yi[a]={isEnabled:i=>cm[a].some(r=>!!i[r])};function Gj(a){for(const i in a)yi[i]={...yi[i],...a[i]}}const Fj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ql(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||Fj.has(a)}let um=a=>!ql(a);function Kj(a){typeof a=="function"&&(um=i=>i.startsWith("on")?!ql(i):a(i))}try{Kj(require("@emotion/is-prop-valid").default)}catch{}function Xj(a,i,r){const o={};for(const d in a)d==="values"&&typeof a.values=="object"||(um(d)||r===!0&&ql(d)||!i&&!ql(d)||a.draggable&&d.startsWith("onDrag"))&&(o[d]=a[d]);return o}const Yl=S.createContext({});function Gl(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function _s(a){return typeof a=="string"||Array.isArray(a)}const xc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bc=["initial",...xc];function Fl(a){return Gl(a.animate)||bc.some(i=>_s(a[i]))}function dm(a){return!!(Fl(a)||a.variants)}function Qj(a,i){if(Fl(a)){const{initial:r,animate:o}=a;return{initial:r===!1||_s(r)?r:void 0,animate:_s(o)?o:void 0}}return a.inherit!==!1?i:{}}function Zj(a){const{initial:i,animate:r}=Qj(a,S.useContext(Yl));return S.useMemo(()=>({initial:i,animate:r}),[fm(i),fm(r)])}function fm(a){return Array.isArray(a)?a.join(" "):a}const Ts={};function Pj(a){for(const i in a)Ts[i]=a[i],Bo(i)&&(Ts[i].isCSSVariable=!0)}function hm(a,{layout:i,layoutId:r}){return pi.has(a)||a.startsWith("origin")||(i||r!==void 0)&&(!!Ts[a]||a==="opacity")}const $j={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ij=mi.length;function Jj(a,i,r){let o="",d=!0;for(let h=0;h<Ij;h++){const f=mi[h],y=a[f];if(y===void 0)continue;let m=!0;if(typeof y=="number"?m=y===(f.startsWith("scale")?1:0):m=parseFloat(y)===0,!m||r){const g=Ph(y,hc[f]);if(!m){d=!1;const x=$j[f]||f;o+=`${x}(${g}) `}r&&(i[f]=g)}}return o=o.trim(),r?o=r(i,d?"":o):d&&(o="none"),o}function vc(a,i,r){const{style:o,vars:d,transformOrigin:h}=a;let f=!1,y=!1;for(const m in i){const g=i[m];if(pi.has(m)){f=!0;continue}else if(Bo(m)){d[m]=g;continue}else{const x=Ph(g,hc[m]);m.startsWith("origin")?(y=!0,h[m]=x):o[m]=x}}if(i.transform||(f||r?o.transform=Jj(i,a.transform,r):o.transform&&(o.transform="none")),y){const{originX:m="50%",originY:g="50%",originZ:x=0}=h;o.transformOrigin=`${m} ${g} ${x}`}}const jc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mm(a,i,r){for(const o in i)!Bt(i[o])&&!hm(o,r)&&(a[o]=i[o])}function Wj({transformTemplate:a},i){return S.useMemo(()=>{const r=jc();return vc(r,i,a),Object.assign({},r.vars,r.style)},[i])}function eS(a,i){const r=a.style||{},o={};return mm(o,r,a),Object.assign(o,Wj(a,i)),o}function tS(a,i){const r={},o=eS(a,i);return a.drag&&a.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(r.tabIndex=0),r.style=o,r}const nS={offset:"stroke-dashoffset",array:"stroke-dasharray"},aS={offset:"strokeDashoffset",array:"strokeDasharray"};function iS(a,i,r=1,o=0,d=!0){a.pathLength=1;const h=d?nS:aS;a[h.offset]=Ne.transform(-o);const f=Ne.transform(i),y=Ne.transform(r);a[h.array]=`${f} ${y}`}function pm(a,{attrX:i,attrY:r,attrScale:o,pathLength:d,pathSpacing:h=1,pathOffset:f=0,...y},m,g,x){if(vc(a,y,g),m){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:j,style:w}=a;j.transform&&(w.transform=j.transform,delete j.transform),(w.transform||j.transformOrigin)&&(w.transformOrigin=j.transformOrigin??"50% 50%",delete j.transformOrigin),w.transform&&(w.transformBox=x?.transformBox??"fill-box",delete j.transformBox),i!==void 0&&(j.x=i),r!==void 0&&(j.y=r),o!==void 0&&(j.scale=o),d!==void 0&&iS(j,d,h,f,!1)}const gm=()=>({...jc(),attrs:{}}),ym=a=>typeof a=="string"&&a.toLowerCase()==="svg";function sS(a,i,r,o){const d=S.useMemo(()=>{const h=gm();return pm(h,i,ym(o),a.transformTemplate,a.style),{...h.attrs,style:{...h.style}}},[i]);if(a.style){const h={};mm(h,a.style,a),d.style={...h,...d.style}}return d}const lS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sc(a){return typeof a!="string"||a.includes("-")?!1:!!(lS.indexOf(a)>-1||/[A-Z]/u.test(a))}function rS(a,i,r,{latestValues:o},d,h=!1){const y=(Sc(a)?sS:tS)(i,o,d,a),m=Xj(i,typeof a=="string",h),g=a!==S.Fragment?{...m,...y,ref:r}:{},{children:x}=i,j=S.useMemo(()=>Bt(x)?x.get():x,[x]);return S.createElement(a,{...g,children:j})}function xm(a){const i=[{},{}];return a?.values.forEach((r,o)=>{i[0][o]=r.get(),i[1][o]=r.getVelocity()}),i}function wc(a,i,r,o){if(typeof i=="function"){const[d,h]=xm(o);i=i(r!==void 0?r:a.custom,d,h)}if(typeof i=="string"&&(i=a.variants&&a.variants[i]),typeof i=="function"){const[d,h]=xm(o);i=i(r!==void 0?r:a.custom,d,h)}return i}function Kl(a){return Bt(a)?a.get():a}function oS({scrapeMotionValuesFromProps:a,createRenderState:i},r,o,d){return{latestValues:cS(r,o,d,a),renderState:i()}}function cS(a,i,r,o){const d={},h=o(a,{});for(const w in h)d[w]=Kl(h[w]);let{initial:f,animate:y}=a;const m=Fl(a),g=dm(a);i&&g&&!m&&a.inherit!==!1&&(f===void 0&&(f=i.initial),y===void 0&&(y=i.animate));let x=r?r.initial===!1:!1;x=x||f===!1;const j=x?y:f;if(j&&typeof j!="boolean"&&!Gl(j)){const w=Array.isArray(j)?j:[j];for(let _=0;_<w.length;_++){const N=wc(a,w[_]);if(N){const{transitionEnd:A,transition:C,...R}=N;for(const q in R){let z=R[q];if(Array.isArray(z)){const J=x?z.length-1:0;z=z[J]}z!==null&&(d[q]=z)}for(const q in A)d[q]=A[q]}}}return d}const bm=a=>(i,r)=>{const o=S.useContext(Yl),d=S.useContext(Dl),h=()=>oS(a,i,o,d);return r?h():Eo(h)};function Nc(a,i,r){const{style:o}=a,d={};for(const h in o)(Bt(o[h])||i.style&&Bt(i.style[h])||hm(h,a)||r?.getValue(h)?.liveStyle!==void 0)&&(d[h]=o[h]);return d}const uS=bm({scrapeMotionValuesFromProps:Nc,createRenderState:jc});function vm(a,i,r){const o=Nc(a,i,r);for(const d in a)if(Bt(a[d])||Bt(i[d])){const h=mi.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;o[h]=a[d]}return o}const dS=bm({scrapeMotionValuesFromProps:vm,createRenderState:gm}),fS=Symbol.for("motionComponentSymbol");function xi(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function hS(a,i,r){return S.useCallback(o=>{o&&a.onMount&&a.onMount(o),i&&(o?i.mount(o):i.unmount()),r&&(typeof r=="function"?r(o):xi(r)&&(r.current=o))},[i])}const _c=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jm="data-"+_c("framerAppearId"),Sm=S.createContext({});function mS(a,i,r,o,d){const{visualElement:h}=S.useContext(Yl),f=S.useContext(om),y=S.useContext(Dl),m=S.useContext(yc).reducedMotion,g=S.useRef(null);o=o||f.renderer,!g.current&&o&&(g.current=o(a,{visualState:i,parent:h,props:r,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:m}));const x=g.current,j=S.useContext(Sm);x&&!x.projection&&d&&(x.type==="html"||x.type==="svg")&&pS(g.current,r,d,j);const w=S.useRef(!1);S.useInsertionEffect(()=>{x&&w.current&&x.update(r,y)});const _=r[jm],N=S.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return Pf(()=>{x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),N.current&&x.animationState&&x.animationState.animateChanges())}),S.useEffect(()=>{x&&(!N.current&&x.animationState&&x.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),N.current=!1),x.enteringChildren=void 0)}),x}function pS(a,i,r,o){const{layoutId:d,layout:h,drag:f,dragConstraints:y,layoutScroll:m,layoutRoot:g,layoutCrossfade:x}=i;a.projection=new r(a.latestValues,i["data-framer-portal-id"]?void 0:wm(a.parent)),a.projection.setOptions({layoutId:d,layout:h,alwaysMeasureLayout:!!f||y&&xi(y),visualElement:a,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,crossfade:x,layoutScroll:m,layoutRoot:g})}function wm(a){if(a)return a.options.allowProjection!==!1?a.projection:wm(a.parent)}function Tc(a,{forwardMotionProps:i=!1}={},r,o){r&&Gj(r);const d=Sc(a)?dS:uS;function h(y,m){let g;const x={...S.useContext(yc),...y,layoutId:gS(y)},{isStatic:j}=x,w=Zj(y),_=d(y,j);if(!j&&ko){yS();const N=xS(x);g=N.MeasureLayout,w.visualElement=mS(a,_,x,o,N.ProjectionNode)}return l.jsxs(Yl.Provider,{value:w,children:[g&&w.visualElement?l.jsx(g,{visualElement:w.visualElement,...x}):null,rS(a,y,hS(_,w.visualElement,m),_,j,i)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const f=S.forwardRef(h);return f[fS]=a,f}function gS({layoutId:a}){const i=S.useContext(Ao).id;return i&&a!==void 0?i+"-"+a:a}function yS(a,i){S.useContext(om).strict}function xS(a){const{drag:i,layout:r}=yi;if(!i&&!r)return{};const o={...i,...r};return{MeasureLayout:i?.isEnabled(a)||r?.isEnabled(a)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function bS(a,i){if(typeof Proxy>"u")return Tc;const r=new Map,o=(h,f)=>Tc(h,f,a,i),d=(h,f)=>o(h,f);return new Proxy(d,{get:(h,f)=>f==="create"?o:(r.has(f)||r.set(f,Tc(f,void 0,a,i)),r.get(f))})}function Nm({top:a,left:i,right:r,bottom:o}){return{x:{min:i,max:r},y:{min:a,max:o}}}function vS({x:a,y:i}){return{top:i.min,right:a.max,bottom:i.max,left:a.min}}function jS(a,i){if(!i)return a;const r=i({x:a.left,y:a.top}),o=i({x:a.right,y:a.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function Cc(a){return a===void 0||a===1}function Ac({scale:a,scaleX:i,scaleY:r}){return!Cc(a)||!Cc(i)||!Cc(r)}function qa(a){return Ac(a)||_m(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function _m(a){return Tm(a.x)||Tm(a.y)}function Tm(a){return a&&a!=="0%"}function Xl(a,i,r){const o=a-r,d=i*o;return r+d}function Cm(a,i,r,o,d){return d!==void 0&&(a=Xl(a,d,o)),Xl(a,r,o)+i}function Ec(a,i=0,r=1,o,d){a.min=Cm(a.min,i,r,o,d),a.max=Cm(a.max,i,r,o,d)}function Am(a,{x:i,y:r}){Ec(a.x,i.translate,i.scale,i.originPoint),Ec(a.y,r.translate,r.scale,r.originPoint)}const Em=.999999999999,km=1.0000000000001;function SS(a,i,r,o=!1){const d=r.length;if(!d)return;i.x=i.y=1;let h,f;for(let y=0;y<d;y++){h=r[y],f=h.projectionDelta;const{visualElement:m}=h.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&vi(a,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,Am(a,f)),o&&qa(h.latestValues)&&vi(a,h.latestValues))}i.x<km&&i.x>Em&&(i.x=1),i.y<km&&i.y>Em&&(i.y=1)}function bi(a,i){a.min=a.min+i,a.max=a.max+i}function Mm(a,i,r,o,d=.5){const h=st(a.min,a.max,d);Ec(a,i,r,h,o)}function vi(a,i){Mm(a.x,i.x,i.scaleX,i.scale,i.originX),Mm(a.y,i.y,i.scaleY,i.scale,i.originY)}function Dm(a,i){return Nm(jS(a.getBoundingClientRect(),i))}function wS(a,i,r){const o=Dm(a,r),{scroll:d}=i;return d&&(bi(o.x,d.offset.x),bi(o.y,d.offset.y)),o}const Rm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ji=()=>({x:Rm(),y:Rm()}),Om=()=>({min:0,max:0}),dt=()=>({x:Om(),y:Om()}),kc={current:null},zm={current:!1};function NS(){if(zm.current=!0,!!ko)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),i=()=>kc.current=a.matches;a.addEventListener("change",i),i()}else kc.current=!1}const _S=new WeakMap;function TS(a,i,r){for(const o in i){const d=i[o],h=r[o];if(Bt(d))a.addValue(o,d);else if(Bt(h))a.addValue(o,gi(d,{owner:a}));else if(h!==d)if(a.hasValue(o)){const f=a.getValue(o);f.liveStyle===!0?f.jump(d):f.hasAnimated||f.set(d)}else{const f=a.getStaticValue(o);a.addValue(o,gi(f!==void 0?f:d,{owner:a}))}}for(const o in r)i[o]===void 0&&a.removeValue(o);return i}const Lm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CS{scrapeMotionValuesFromProps(i,r,o){return{}}constructor({parent:i,props:r,presenceContext:o,reducedMotionConfig:d,blockInitialAnimation:h,visualState:f},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ft.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,nt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=f;this.latestValues=m,this.baseTarget={...m},this.initialValues=r.initial?{...m}:{},this.renderState=g,this.parent=i,this.props=r,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=d,this.options=y,this.blockInitialAnimation=!!h,this.isControllingVariants=Fl(r),this.isVariantNode=dm(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:x,...j}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in j){const _=j[w];m[w]!==void 0&&Bt(_)&&_.set(m[w])}}mount(i){this.current=i,_S.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),zm.current||NS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kc.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,r){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const o=pi.has(i);o&&this.onBindTransform&&this.onBindTransform();const d=r.on("change",f=>{this.latestValues[i]=f,this.props.onUpdate&&nt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,i,r)),this.valueSubscriptions.set(i,()=>{d(),h&&h(),r.owner&&r.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in yi){const r=yi[i];if(!r)continue;const{isEnabled:o,Feature:d}=r;if(!this.features[i]&&d&&o(this.props)&&(this.features[i]=new d(this)),this.features[i]){const h=this.features[i];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,r){this.latestValues[i]=r}update(i,r){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<Lm.length;o++){const d=Lm[o];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const h="on"+d,f=i[h];f&&(this.propEventSubscriptions[d]=this.on(d,f))}this.prevMotionValues=TS(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(i),()=>r.variantChildren.delete(i)}addValue(i,r){const o=this.values.get(i);r!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,r),this.values.set(i,r),this.latestValues[i]=r.get())}removeValue(i){this.values.delete(i);const r=this.valueSubscriptions.get(i);r&&(r(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,r){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&r!==void 0&&(o=gi(r===null?void 0:r,{owner:this}),this.addValue(i,o)),o}readValue(i,r){let o=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return o!=null&&(typeof o=="string"&&($f(o)||Jf(o))?o=parseFloat(o):!zj(o)&&ra.test(r)&&(o=Zh(i,r)),this.setBaseTarget(i,Bt(o)?o.get():o)),Bt(o)?o.get():o}setBaseTarget(i,r){this.baseTarget[i]=r}getBaseTarget(i){const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const h=wc(this.props,r,this.presenceContext?.custom);h&&(o=h[i])}if(r&&o!==void 0)return o;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!Bt(d)?d:this.initialValues[i]!==void 0&&o===void 0?void 0:this.baseTarget[i]}on(i,r){return this.events[i]||(this.events[i]=new zo),this.events[i].add(r)}notify(i,...r){this.events[i]&&this.events[i].notify(...r)}scheduleRenderMicrotask(){mc.render(this.render)}}class Um extends CS{constructor(){super(...arguments),this.KeyframeResolver=wj}sortInstanceNodePosition(i,r){return i.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(i,r){return i.style?i.style[r]:void 0}removeValueFromRenderState(i,{vars:r,style:o}){delete r[i],delete o[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Bt(i)&&(this.childSubscription=i.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Vm(a,{style:i,vars:r},o,d){const h=a.style;let f;for(f in i)h[f]=i[f];d?.applyProjectionStyles(h,o);for(f in r)h.setProperty(f,r[f])}function AS(a){return window.getComputedStyle(a)}class ES extends Um{constructor(){super(...arguments),this.type="html",this.renderInstance=Vm}readValueFromInstance(i,r){if(pi.has(r))return this.projection?.isProjecting?ic(r):G1(i,r);{const o=AS(i),d=(Bo(r)?o.getPropertyValue(r):o[r])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(i,{transformPagePoint:r}){return Dm(i,r)}build(i,r,o){vc(i,r,o.transformTemplate)}scrapeMotionValuesFromProps(i,r,o){return Nc(i,r,o)}}const Bm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kS(a,i,r,o){Vm(a,i,void 0,o);for(const d in i.attrs)a.setAttribute(Bm.has(d)?d:_c(d),i.attrs[d])}class MS extends Um{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(i,r){return i[r]}readValueFromInstance(i,r){if(pi.has(r)){const o=Qh(r);return o&&o.default||0}return r=Bm.has(r)?r:_c(r),i.getAttribute(r)}scrapeMotionValuesFromProps(i,r,o){return vm(i,r,o)}build(i,r,o){pm(i,r,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(i,r,o,d){kS(i,r,o,d)}mount(i){this.isSVGTag=ym(i.tagName),super.mount(i)}}const DS=(a,i)=>Sc(a)?new MS(i):new ES(i,{allowProjection:a!==S.Fragment});function Si(a,i,r){const o=a.getProps();return wc(o,i,r!==void 0?r:o.custom,a)}const Mc=a=>Array.isArray(a);function RS(a,i,r){a.hasValue(i)?a.getValue(i).set(r):a.addValue(i,gi(r))}function OS(a){return Mc(a)?a[a.length-1]||0:a}function zS(a,i){const r=Si(a,i);let{transitionEnd:o={},transition:d={},...h}=r||{};h={...h,...o};for(const f in h){const y=OS(h[f]);RS(a,f,y)}}function LS(a){return!!(Bt(a)&&a.add)}function Dc(a,i){const r=a.getValue("willChange");if(LS(r))return r.add(i);if(!r&&Bn.WillChange){const o=new Bn.WillChange("auto");a.addValue("willChange",o),o.add(i)}}function Hm(a){return a.props[jm]}const US=a=>a!==null;function VS(a,{repeat:i,repeatType:r="loop"},o){const d=a.filter(US),h=i&&r!=="loop"&&i%2===1?0:d.length-1;return d[h]}const BS={type:"spring",stiffness:500,damping:25,restSpeed:10},HS=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),qS={type:"keyframes",duration:.8},YS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GS=(a,{keyframes:i})=>i.length>2?qS:pi.has(a)?a.startsWith("scale")?HS(i[1]):BS:YS;function FS({when:a,delay:i,delayChildren:r,staggerChildren:o,staggerDirection:d,repeat:h,repeatType:f,repeatDelay:y,from:m,elapsed:g,...x}){return!!Object.keys(x).length}const Rc=(a,i,r,o={},d,h)=>f=>{const y=dc(o,a)||{},m=y.delay||o.delay||0;let{elapsed:g=0}=o;g=g-An(m);const x={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:i.getVelocity(),...y,delay:-g,onUpdate:w=>{i.set(w),y.onUpdate&&y.onUpdate(w)},onComplete:()=>{f(),y.onComplete&&y.onComplete()},name:a,motionValue:i,element:h?void 0:d};FS(y)||Object.assign(x,GS(a,x)),x.duration&&(x.duration=An(x.duration)),x.repeatDelay&&(x.repeatDelay=An(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let j=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(uc(x),x.delay===0&&(j=!0)),(Bn.instantAnimations||Bn.skipAnimations)&&(j=!0,uc(x),x.delay=0),x.allowFlatten=!y.type&&!y.ease,j&&!h&&i.get()!==void 0){const w=VS(x.keyframes,y);if(w!==void 0){nt.update(()=>{x.onUpdate(w),x.onComplete()});return}}return y.isSync?new tc(x):new fj(x)};function KS({protectedKeys:a,needsAnimating:i},r){const o=a.hasOwnProperty(r)&&i[r]!==!0;return i[r]=!1,o}function qm(a,i,{delay:r=0,transitionOverride:o,type:d}={}){let{transition:h=a.getDefaultTransition(),transitionEnd:f,...y}=i;o&&(h=o);const m=[],g=d&&a.animationState&&a.animationState.getState()[d];for(const x in y){const j=a.getValue(x,a.latestValues[x]??null),w=y[x];if(w===void 0||g&&KS(g,x))continue;const _={delay:r,...dc(h||{},x)},N=j.get();if(N!==void 0&&!j.isAnimating&&!Array.isArray(w)&&w===N&&!_.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const R=Hm(a);if(R){const q=window.MotionHandoffAnimation(R,x,nt);q!==null&&(_.startTime=q,A=!0)}}Dc(a,x),j.start(Rc(x,j,w,a.shouldReduceMotion&&Yh.has(x)?{type:!1}:_,a,A));const C=j.animation;C&&m.push(C)}return f&&Promise.all(m).then(()=>{nt.update(()=>{f&&zS(a,f)})}),m}function Ym(a,i,r,o=0,d=1){const h=Array.from(a).sort((g,x)=>g.sortNodePosition(x)).indexOf(i),f=a.size,y=(f-1)*o;return typeof r=="function"?r(h,f):d===1?h*o:y-h*o}function Oc(a,i,r={}){const o=Si(a,i,r.type==="exit"?a.presenceContext?.custom:void 0);let{transition:d=a.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(d=r.transitionOverride);const h=o?()=>Promise.all(qm(a,o,r)):()=>Promise.resolve(),f=a.variantChildren&&a.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:j}=d;return XS(a,i,m,g,x,j,r)}:()=>Promise.resolve(),{when:y}=d;if(y){const[m,g]=y==="beforeChildren"?[h,f]:[f,h];return m().then(()=>g())}else return Promise.all([h(),f(r.delay)])}function XS(a,i,r=0,o=0,d=0,h=1,f){const y=[];for(const m of a.variantChildren)m.notify("AnimationStart",i),y.push(Oc(m,i,{...f,delay:r+(typeof o=="function"?0:o)+Ym(a.variantChildren,m,o,d,h)}).then(()=>m.notify("AnimationComplete",i)));return Promise.all(y)}function QS(a,i,r={}){a.notify("AnimationStart",i);let o;if(Array.isArray(i)){const d=i.map(h=>Oc(a,h,r));o=Promise.all(d)}else if(typeof i=="string")o=Oc(a,i,r);else{const d=typeof i=="function"?Si(a,i,r.custom):i;o=Promise.all(qm(a,d,r))}return o.then(()=>{a.notify("AnimationComplete",i)})}function Gm(a,i){if(!Array.isArray(i))return!1;const r=i.length;if(r!==a.length)return!1;for(let o=0;o<r;o++)if(i[o]!==a[o])return!1;return!0}const ZS=bc.length;function Fm(a){if(!a)return;if(!a.isControllingVariants){const r=a.parent?Fm(a.parent)||{}:{};return a.props.initial!==void 0&&(r.initial=a.props.initial),r}const i={};for(let r=0;r<ZS;r++){const o=bc[r],d=a.props[o];(_s(d)||d===!1)&&(i[o]=d)}return i}const PS=[...xc].reverse(),$S=xc.length;function IS(a){return i=>Promise.all(i.map(({animation:r,options:o})=>QS(a,r,o)))}function JS(a){let i=IS(a),r=Km(),o=!0;const d=m=>(g,x)=>{const j=Si(a,x,m==="exit"?a.presenceContext?.custom:void 0);if(j){const{transition:w,transitionEnd:_,...N}=j;g={...g,...N,..._}}return g};function h(m){i=m(a)}function f(m){const{props:g}=a,x=Fm(a.parent)||{},j=[],w=new Set;let _={},N=1/0;for(let C=0;C<$S;C++){const R=PS[C],q=r[R],z=g[R]!==void 0?g[R]:x[R],J=_s(z),ee=R===m?q.isActive:null;ee===!1&&(N=C);let M=z===x[R]&&z!==g[R]&&J;if(M&&o&&a.manuallyAnimateOnMount&&(M=!1),q.protectedKeys={..._},!q.isActive&&ee===null||!z&&!q.prevProp||Gl(z)||typeof z=="boolean")continue;const Y=WS(q.prevProp,z);let W=Y||R===m&&q.isActive&&!M&&J||C>N&&J,$=!1;const ie=Array.isArray(z)?z:[z];let oe=ie.reduce(d(R),{});ee===!1&&(oe={});const{prevResolvedValues:ye={}}=q,se={...ye,...oe},pe=X=>{W=!0,w.has(X)&&($=!0,w.delete(X)),q.needsAnimating[X]=!0;const K=a.getValue(X);K&&(K.liveStyle=!1)};for(const X in se){const K=oe[X],ue=ye[X];if(_.hasOwnProperty(X))continue;let D=!1;Mc(K)&&Mc(ue)?D=!Gm(K,ue):D=K!==ue,D?K!=null?pe(X):w.add(X):K!==void 0&&w.has(X)?pe(X):q.protectedKeys[X]=!0}q.prevProp=z,q.prevResolvedValues=oe,q.isActive&&(_={..._,...oe}),o&&a.blockInitialAnimation&&(W=!1);const fe=M&&Y;W&&(!fe||$)&&j.push(...ie.map(X=>{const K={type:R};if(typeof X=="string"&&o&&!fe&&a.manuallyAnimateOnMount&&a.parent){const{parent:ue}=a,D=Si(ue,X);if(ue.enteringChildren&&D){const{delayChildren:b}=D.transition||{};K.delay=Ym(ue.enteringChildren,a,b)}}return{animation:X,options:K}}))}if(w.size){const C={};if(typeof g.initial!="boolean"){const R=Si(a,Array.isArray(g.initial)?g.initial[0]:g.initial);R&&R.transition&&(C.transition=R.transition)}w.forEach(R=>{const q=a.getBaseTarget(R),z=a.getValue(R);z&&(z.liveStyle=!0),C[R]=q??null}),j.push({animation:C})}let A=!!j.length;return o&&(g.initial===!1||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(A=!1),o=!1,A?i(j):Promise.resolve()}function y(m,g){if(r[m].isActive===g)return Promise.resolve();a.variantChildren?.forEach(j=>j.animationState?.setActive(m,g)),r[m].isActive=g;const x=f(m);for(const j in r)r[j].protectedKeys={};return x}return{animateChanges:f,setActive:y,setAnimateFunction:h,getState:()=>r,reset:()=>{r=Km()}}}function WS(a,i){return typeof i=="string"?i!==a:Array.isArray(i)?!Gm(i,a):!1}function Ya(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Km(){return{animate:Ya(!0),whileInView:Ya(),whileHover:Ya(),whileTap:Ya(),whileDrag:Ya(),whileFocus:Ya(),exit:Ya()}}class oa{constructor(i){this.isMounted=!1,this.node=i}update(){}}class ew extends oa{constructor(i){super(i),i.animationState||(i.animationState=JS(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Gl(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:r}=this.node.prevProps||{};i!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tw=0;class nw extends oa{constructor(){super(...arguments),this.id=tw++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const d=this.node.animationState.setActive("exit",!i);r&&!i&&d.then(()=>{r(this.id)})}mount(){const{register:i,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const aw={animation:{Feature:ew},exit:{Feature:nw}};function Cs(a,i,r,o={passive:!0}){return a.addEventListener(i,r,o),()=>a.removeEventListener(i,r)}function As(a){return{point:{x:a.pageX,y:a.pageY}}}const iw=a=>i=>pc(i)&&a(i,As(i));function Es(a,i,r,o){return Cs(a,i,iw(r),o)}const Xm=1e-4,sw=1-Xm,lw=1+Xm,Qm=.01,rw=0-Qm,ow=0+Qm;function Ht(a){return a.max-a.min}function cw(a,i,r){return Math.abs(a-i)<=r}function Zm(a,i,r,o=.5){a.origin=o,a.originPoint=st(i.min,i.max,a.origin),a.scale=Ht(r)/Ht(i),a.translate=st(r.min,r.max,a.origin)-a.originPoint,(a.scale>=sw&&a.scale<=lw||isNaN(a.scale))&&(a.scale=1),(a.translate>=rw&&a.translate<=ow||isNaN(a.translate))&&(a.translate=0)}function ks(a,i,r,o){Zm(a.x,i.x,r.x,o?o.originX:void 0),Zm(a.y,i.y,r.y,o?o.originY:void 0)}function Pm(a,i,r){a.min=r.min+i.min,a.max=a.min+Ht(i)}function uw(a,i,r){Pm(a.x,i.x,r.x),Pm(a.y,i.y,r.y)}function $m(a,i,r){a.min=i.min-r.min,a.max=a.min+Ht(i)}function Ms(a,i,r){$m(a.x,i.x,r.x),$m(a.y,i.y,r.y)}function un(a){return[a("x"),a("y")]}const Im=({current:a})=>a?a.ownerDocument.defaultView:null,Jm=(a,i)=>Math.abs(a-i);function dw(a,i){const r=Jm(a.x,i.x),o=Jm(a.y,i.y);return Math.sqrt(r**2+o**2)}class Wm{constructor(i,r,{transformPagePoint:o,contextWindow:d=window,dragSnapToOrigin:h=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Lc(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,N=dw(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!N)return;const{point:A}=w,{timestamp:C}=Dt;this.history.push({...A,timestamp:C});const{onStart:R,onMove:q}=this.handlers;_||(R&&R(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=zc(_,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:N,onSessionEnd:A,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Lc(w.type==="pointercancel"?this.lastMoveEventInfo:zc(_,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,R),A&&A(w,R)},!pc(i))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=o,this.distanceThreshold=f,this.contextWindow=d||window;const y=As(i),m=zc(y,this.transformPagePoint),{point:g}=m,{timestamp:x}=Dt;this.history=[{...g,timestamp:x}];const{onSessionStart:j}=r;j&&j(i,Lc(m,this.history)),this.removeListeners=gs(Es(this.contextWindow,"pointermove",this.handlePointerMove),Es(this.contextWindow,"pointerup",this.handlePointerUp),Es(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),sa(this.updatePoint)}}function zc(a,i){return i?{point:i(a.point)}:a}function ep(a,i){return{x:a.x-i.x,y:a.y-i.y}}function Lc({point:a},i){return{point:a,delta:ep(a,tp(i)),offset:ep(a,fw(i)),velocity:hw(i,.1)}}function fw(a){return a[0]}function tp(a){return a[a.length-1]}function hw(a,i){if(a.length<2)return{x:0,y:0};let r=a.length-1,o=null;const d=tp(a);for(;r>=0&&(o=a[r],!(d.timestamp-o.timestamp>An(i)));)r--;if(!o)return{x:0,y:0};const h=cn(d.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const f={x:(d.x-o.x)/h,y:(d.y-o.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function mw(a,{min:i,max:r},o){return i!==void 0&&a<i?a=o?st(i,a,o.min):Math.max(a,i):r!==void 0&&a>r&&(a=o?st(r,a,o.max):Math.min(a,r)),a}function np(a,i,r){return{min:i!==void 0?a.min+i:void 0,max:r!==void 0?a.max+r-(a.max-a.min):void 0}}function pw(a,{top:i,left:r,bottom:o,right:d}){return{x:np(a.x,r,d),y:np(a.y,i,o)}}function ap(a,i){let r=i.min-a.min,o=i.max-a.max;return i.max-i.min<a.max-a.min&&([r,o]=[o,r]),{min:r,max:o}}function gw(a,i){return{x:ap(a.x,i.x),y:ap(a.y,i.y)}}function yw(a,i){let r=.5;const o=Ht(a),d=Ht(i);return d>o?r=ys(i.min,i.max-o,a.min):o>d&&(r=ys(a.min,a.max-d,i.min)),Vn(0,1,r)}function xw(a,i){const r={};return i.min!==void 0&&(r.min=i.min-a.min),i.max!==void 0&&(r.max=i.max-a.min),r}const Uc=.35;function bw(a=Uc){return a===!1?a=0:a===!0&&(a=Uc),{x:ip(a,"left","right"),y:ip(a,"top","bottom")}}function ip(a,i,r){return{min:sp(a,i),max:sp(a,r)}}function sp(a,i){return typeof a=="number"?a:a[i]||0}const vw=new WeakMap;class jw{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:r=!1,distanceThreshold:o}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const h=j=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(As(j).point)},f=(j,w)=>{const{drag:_,dragPropagation:N,onDragStart:A}=this.getProps();if(_&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Cj(_),!this.openDragLock))return;this.latestPointerEvent=j,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(R=>{let q=this.getAxisMotionValue(R).get()||0;if(En.test(q)){const{projection:z}=this.visualElement;if(z&&z.layout){const J=z.layout.layoutBox[R];J&&(q=Ht(J)*(parseFloat(q)/100))}}this.originPoint[R]=q}),A&&nt.postRender(()=>A(j,w)),Dc(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},y=(j,w)=>{this.latestPointerEvent=j,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:N,onDirectionLock:A,onDrag:C}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:R}=w;if(N&&this.currentDirection===null){this.currentDirection=Sw(R),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,R),this.updateAxis("y",w.point,R),this.visualElement.render(),C&&C(j,w)},m=(j,w)=>{this.latestPointerEvent=j,this.latestPanInfo=w,this.stop(j,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>un(j=>this.getAnimationState(j)==="paused"&&this.getAxisMotionValue(j).animation?.play()),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Wm(i,{onSessionStart:h,onStart:f,onMove:y,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:o,contextWindow:Im(this.visualElement)})}stop(i,r){const o=i||this.latestPointerEvent,d=r||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!d||!o)return;const{velocity:f}=d;this.startAnimation(f);const{onDragEnd:y}=this.getProps();y&&nt.postRender(()=>y(o,d))}cancel(){this.isDragging=!1;const{projection:i,animationState:r}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(i,r,o){const{drag:d}=this.getProps();if(!o||!Ql(i,d,this.currentDirection))return;const h=this.getAxisMotionValue(i);let f=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(f=mw(f,this.constraints[i],this.elastic[i])),h.set(f)}resolveConstraints(){const{dragConstraints:i,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;i&&xi(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=pw(o.layoutBox,i):this.constraints=!1,this.elastic=bw(r),d!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&un(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=xw(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:r}=this.getProps();if(!i||!xi(i))return!1;const o=i.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const h=wS(o,d.root,this.visualElement.getTransformPagePoint());let f=gw(d.layout.layoutBox,h);if(r){const y=r(vS(f));this.hasMutatedConstraints=!!y,y&&(f=Nm(y))}return f}startAnimation(i){const{drag:r,dragMomentum:o,dragElastic:d,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:y}=this.getProps(),m=this.constraints||{},g=un(x=>{if(!Ql(x,r,this.currentDirection))return;let j=m&&m[x]||{};f&&(j={min:0,max:0});const w=d?200:1e6,_=d?40:1e7,N={type:"inertia",velocity:o?i[x]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...h,...j};return this.startAxisValueAnimation(x,N)});return Promise.all(g).then(y)}startAxisValueAnimation(i,r){const o=this.getAxisMotionValue(i);return Dc(this.visualElement,i),o.start(Rc(i,o,0,r,this.visualElement,!1))}stopAnimation(){un(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){un(i=>this.getAxisMotionValue(i).animation?.pause())}getAnimationState(i){return this.getAxisMotionValue(i).animation?.state}getAxisMotionValue(i){const r=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),d=o[r];return d||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){un(r=>{const{drag:o}=this.getProps();if(!Ql(r,o,this.currentDirection))return;const{projection:d}=this.visualElement,h=this.getAxisMotionValue(r);if(d&&d.layout){const{min:f,max:y}=d.layout.layoutBox[r];h.set(i[r]-st(f,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!xi(r)||!o||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};un(f=>{const y=this.getAxisMotionValue(f);if(y&&this.constraints!==!1){const m=y.get();d[f]=yw({min:m,max:m},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),un(f=>{if(!Ql(f,i,null))return;const y=this.getAxisMotionValue(f),{min:m,max:g}=this.constraints[f];y.set(st(m,g,d[f]))})}addListeners(){if(!this.visualElement.current)return;vw.set(this.visualElement,this);const i=this.visualElement.current,r=Es(i,"pointerdown",m=>{const{drag:g,dragListener:x=!0}=this.getProps();g&&x&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();xi(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,h=d.addEventListener("measure",o);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),nt.read(o);const f=Cs(window,"resize",()=>this.scalePositionWithinConstraints()),y=d.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(un(x=>{const j=this.getAxisMotionValue(x);j&&(this.originPoint[x]+=m[x].translate,j.set(j.get()+m[x].translate))}),this.visualElement.render())}));return()=>{f(),r(),h(),y&&y()}}getProps(){const i=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:d=!1,dragConstraints:h=!1,dragElastic:f=Uc,dragMomentum:y=!0}=i;return{...i,drag:r,dragDirectionLock:o,dragPropagation:d,dragConstraints:h,dragElastic:f,dragMomentum:y}}}function Ql(a,i,r){return(i===!0||i===a)&&(r===null||r===a)}function Sw(a,i=10){let r=null;return Math.abs(a.y)>i?r="y":Math.abs(a.x)>i&&(r="x"),r}class ww extends oa{constructor(i){super(i),this.removeGroupControls=on,this.removeListeners=on,this.controls=new jw(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const lp=a=>(i,r)=>{a&&nt.postRender(()=>a(i,r))};class Nw extends oa{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(i){this.session=new Wm(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Im(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:r,onPan:o,onPanEnd:d}=this.node.getProps();return{onSessionStart:lp(i),onStart:lp(r),onMove:o,onEnd:(h,f)=>{delete this.session,d&&nt.postRender(()=>d(h,f))}}}mount(){this.removePointerDownListener=Es(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rp(a,i){return i.max===i.min?0:a/(i.max-i.min)*100}const Ds={correct:(a,i)=>{if(!i.target)return a;if(typeof a=="string")if(Ne.test(a))a=parseFloat(a);else return a;const r=rp(a,i.target.x),o=rp(a,i.target.y);return`${r}% ${o}%`}},_w={correct:(a,{treeScale:i,projectionDelta:r})=>{const o=a,d=ra.parse(a);if(d.length>5)return o;const h=ra.createTransformer(a),f=typeof d[0]!="number"?1:0,y=r.x.scale*i.x,m=r.y.scale*i.y;d[0+f]/=y,d[1+f]/=m;const g=st(y,m,.5);return typeof d[2+f]=="number"&&(d[2+f]/=g),typeof d[3+f]=="number"&&(d[3+f]/=g),h(d)}};let Vc=!1;class Tw extends S.Component{componentDidMount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o,layoutId:d}=this.props,{projection:h}=i;Pj(Cw),h&&(r.group&&r.group.add(h),o&&o.register&&d&&o.register(h),Vc&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Zl.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:r,visualElement:o,drag:d,isPresent:h}=this.props,{projection:f}=o;return f&&(f.isPresent=h,Vc=!0,d||i.layoutDependency!==r||r===void 0||i.isPresent!==h?f.willUpdate():this.safeToRemove(),i.isPresent!==h&&(h?f.promote():f.relegate()||nt.postRender(()=>{const y=f.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),mc.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:d}=i;Vc=!0,d&&(d.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(d),o&&o.deregister&&o.deregister(d))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function op(a){const[i,r]=lm(),o=S.useContext(Ao);return l.jsx(Tw,{...a,layoutGroup:o,switchLayoutGroup:S.useContext(Sm),isPresent:i,safeToRemove:r})}const Cw={borderRadius:{...Ds,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ds,borderTopRightRadius:Ds,borderBottomLeftRadius:Ds,borderBottomRightRadius:Ds,boxShadow:_w};function Aw(a,i,r){const o=Bt(a)?a:gi(a);return o.start(Rc("",o,i,r)),o.animation}const Ew=(a,i)=>a.depth-i.depth;class kw{constructor(){this.children=[],this.isDirty=!1}add(i){Mo(this.children,i),this.isDirty=!0}remove(i){Do(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(Ew),this.isDirty=!1,this.children.forEach(i)}}function Mw(a,i){const r=Ft.now(),o=({timestamp:d})=>{const h=d-r;h>=i&&(sa(o),a(h-i))};return nt.setup(o,!0),()=>sa(o)}const cp=["TopLeft","TopRight","BottomLeft","BottomRight"],Dw=cp.length,up=a=>typeof a=="string"?parseFloat(a):a,dp=a=>typeof a=="number"||Ne.test(a);function Rw(a,i,r,o,d,h){d?(a.opacity=st(0,r.opacity??1,Ow(o)),a.opacityExit=st(i.opacity??1,0,zw(o))):h&&(a.opacity=st(i.opacity??1,r.opacity??1,o));for(let f=0;f<Dw;f++){const y=`border${cp[f]}Radius`;let m=fp(i,y),g=fp(r,y);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||dp(m)===dp(g)?(a[y]=Math.max(st(up(m),up(g),o),0),(En.test(g)||En.test(m))&&(a[y]+="%")):a[y]=g}(i.rotate||r.rotate)&&(a.rotate=st(i.rotate||0,r.rotate||0,o))}function fp(a,i){return a[i]!==void 0?a[i]:a.borderRadius}const Ow=hp(0,.5,lh),zw=hp(.5,.95,on);function hp(a,i,r){return o=>o<a?0:o>i?1:r(ys(a,i,o))}function mp(a,i){a.min=i.min,a.max=i.max}function dn(a,i){mp(a.x,i.x),mp(a.y,i.y)}function pp(a,i){a.translate=i.translate,a.scale=i.scale,a.originPoint=i.originPoint,a.origin=i.origin}function gp(a,i,r,o,d){return a-=i,a=Xl(a,1/r,o),d!==void 0&&(a=Xl(a,1/d,o)),a}function Lw(a,i=0,r=1,o=.5,d,h=a,f=a){if(En.test(i)&&(i=parseFloat(i),i=st(f.min,f.max,i/100)-f.min),typeof i!="number")return;let y=st(h.min,h.max,o);a===h&&(y-=i),a.min=gp(a.min,i,r,y,d),a.max=gp(a.max,i,r,y,d)}function yp(a,i,[r,o,d],h,f){Lw(a,i[r],i[o],i[d],i.scale,h,f)}const Uw=["x","scaleX","originX"],Vw=["y","scaleY","originY"];function xp(a,i,r,o){yp(a.x,i,Uw,r?r.x:void 0,o?o.x:void 0),yp(a.y,i,Vw,r?r.y:void 0,o?o.y:void 0)}function bp(a){return a.translate===0&&a.scale===1}function vp(a){return bp(a.x)&&bp(a.y)}function jp(a,i){return a.min===i.min&&a.max===i.max}function Bw(a,i){return jp(a.x,i.x)&&jp(a.y,i.y)}function Sp(a,i){return Math.round(a.min)===Math.round(i.min)&&Math.round(a.max)===Math.round(i.max)}function wp(a,i){return Sp(a.x,i.x)&&Sp(a.y,i.y)}function Np(a){return Ht(a.x)/Ht(a.y)}function _p(a,i){return a.translate===i.translate&&a.scale===i.scale&&a.originPoint===i.originPoint}class Hw{constructor(){this.members=[]}add(i){Mo(this.members,i),i.scheduleRender()}remove(i){if(Do(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(i){const r=this.members.findIndex(d=>i===d);if(r===0)return!1;let o;for(let d=r;d>=0;d--){const h=this.members[d];if(h.isPresent!==!1){o=h;break}}return o?(this.promote(o),!0):!1}promote(i,r){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,r&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:d}=i.options;d===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:r,resumingFrom:o}=i;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qw(a,i,r){let o="";const d=a.x.translate/i.x,h=a.y.translate/i.y,f=r?.z||0;if((d||h||f)&&(o=`translate3d(${d}px, ${h}px, ${f}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),r){const{transformPerspective:g,rotate:x,rotateX:j,rotateY:w,skewX:_,skewY:N}=r;g&&(o=`perspective(${g}px) ${o}`),x&&(o+=`rotate(${x}deg) `),j&&(o+=`rotateX(${j}deg) `),w&&(o+=`rotateY(${w}deg) `),_&&(o+=`skewX(${_}deg) `),N&&(o+=`skewY(${N}deg) `)}const y=a.x.scale*i.x,m=a.y.scale*i.y;return(y!==1||m!==1)&&(o+=`scale(${y}, ${m})`),o||"none"}const Bc=["","X","Y","Z"],Yw=1e3;let Gw=0;function Hc(a,i,r,o){const{latestValues:d}=i;d[a]&&(r[a]=d[a],i.setStaticValue(a,0),o&&(o[a]=0))}function Tp(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:i}=a.options;if(!i)return;const r=Hm(i);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:d,layoutId:h}=a.options;window.MotionCancelOptimisedAnimation(r,"transform",nt,!(d||h))}const{parent:o}=a;o&&!o.hasCheckedOptimisedAppear&&Tp(o)}function Cp({attachResizeListener:a,defaultParent:i,measureScroll:r,checkIsScrollRoot:o,resetTransform:d}){return class{constructor(f={},y=i?.()){this.id=Gw++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xw),this.nodes.forEach($w),this.nodes.forEach(Iw),this.nodes.forEach(Qw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new kw)}addEventListener(f,y){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new zo),this.eventHandlers.get(f).add(y)}notifyListeners(f,...y){const m=this.eventHandlers.get(f);m&&m.notify(...y)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=im(f)&&!Rj(f),this.instance=f;const{layoutId:y,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||y)&&(this.isLayoutDirty=!0),a){let x,j=0;const w=()=>this.root.updateBlockedByResize=!1;nt.read(()=>{j=window.innerWidth}),a(f,()=>{const _=window.innerWidth;_!==j&&(j=_,this.root.updateBlockedByResize=!0,x&&x(),x=Mw(w,250),Zl.hasAnimatedSinceResize&&(Zl.hasAnimatedSinceResize=!1,this.nodes.forEach(kp)))})}y&&this.root.registerSharedNode(y,this),this.options.animate!==!1&&g&&(y||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:j,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||nN,{onLayoutAnimationStart:A,onLayoutAnimationComplete:C}=g.getProps(),R=!this.targetLayout||!wp(this.targetLayout,_),q=!j&&w;if(this.options.layoutRoot||this.resumeFrom||q||j&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...dc(N,"layout"),onPlay:A,onComplete:C};(g.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(x,q)}else j||kp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jw),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const j=this.path[x];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:y,layout:m}=this.options;if(y===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ap);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ep);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pw),this.nodes.forEach(Fw),this.nodes.forEach(Kw)):this.nodes.forEach(Ep),this.clearAllSnapshots();const y=Ft.now();Dt.delta=Vn(0,1e3/60,y-Dt.timestamp),Dt.timestamp=y,Dt.isProcessing=!0,Vo.update.process(Dt),Vo.preRender.process(Dt),Vo.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zw),this.sharedNodes.forEach(Ww)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let y=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(y=!1),y&&this.instance){const m=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:m,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!d)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,y=this.projectionDelta&&!vp(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;f&&this.instance&&(y||qa(this.latestValues)||x)&&(d(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const y=this.measurePageBox();let m=this.removeElementScroll(y);return f&&(m=this.removeTransform(m)),aN(m),{animationId:this.root.animationId,measuredBox:y,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return dt();const y=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iN))){const{scroll:g}=this.root;g&&(bi(y.x,g.offset.x),bi(y.y,g.offset.y))}return y}removeElementScroll(f){const y=dt();if(dn(y,f),this.scroll?.wasRoot)return y;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:j}=g;g!==this.root&&x&&j.layoutScroll&&(x.wasRoot&&dn(y,f),bi(y.x,x.offset.x),bi(y.y,x.offset.y))}return y}applyTransform(f,y=!1){const m=dt();dn(m,f);for(let g=0;g<this.path.length;g++){const x=this.path[g];!y&&x.options.layoutScroll&&x.scroll&&x!==x.root&&vi(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),qa(x.latestValues)&&vi(m,x.latestValues)}return qa(this.latestValues)&&vi(m,this.latestValues),m}removeTransform(f){const y=dt();dn(y,f);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!qa(g.latestValues))continue;Ac(g.latestValues)&&g.updateSnapshot();const x=dt(),j=g.measurePageBox();dn(x,j),xp(y,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return qa(this.latestValues)&&xp(y,this.latestValues),y}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const y=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=y.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=y.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=y.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==y;if(!(f||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:j}=this.options;if(!(!this.layout||!(x||j))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Ms(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uw(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),Am(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Ms(this.relativeTargetOrigin,this.target,w.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ac(this.parent.latestValues)||_m(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),y=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),y&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;dn(this.layoutCorrected,this.layout.layoutBox);const j=this.treeScale.x,w=this.treeScale.y;SS(this.layoutCorrected,this.treeScale,this.path,y),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=dt());const{target:_}=f;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pp(this.prevProjectionDelta.x,this.projectionDelta.x),pp(this.prevProjectionDelta.y,this.projectionDelta.y)),ks(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==j||this.treeScale.y!==w||!_p(this.projectionDelta.x,this.prevProjectionDelta.x)||!_p(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ji(),this.projectionDelta=ji(),this.projectionDeltaWithTransform=ji()}setAnimationOrigin(f,y=!1){const m=this.snapshot,g=m?m.latestValues:{},x={...this.latestValues},j=ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const w=dt(),_=m?m.source:void 0,N=this.layout?this.layout.source:void 0,A=_!==N,C=this.getStack(),R=!C||C.members.length<=1,q=!!(A&&!R&&this.options.crossfade===!0&&!this.path.some(tN));this.animationProgress=0;let z;this.mixTargetDelta=J=>{const ee=J/1e3;Mp(j.x,f.x,ee),Mp(j.y,f.y,ee),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ms(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eN(this.relativeTarget,this.relativeTargetOrigin,w,ee),z&&Bw(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=dt()),dn(z,this.relativeTarget)),A&&(this.animationValues=x,Rw(x,g,this.latestValues,ee,q,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Zl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gi(0)),this.currentAnimation=Aw(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),f.onUpdate&&f.onUpdate(y)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:y,target:m,layout:g,latestValues:x}=f;if(!(!y||!m||!g)){if(this!==f&&this.layout&&g&&Lp(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||dt();const j=Ht(this.layout.layoutBox.x);m.x.min=f.target.x.min,m.x.max=m.x.min+j;const w=Ht(this.layout.layoutBox.y);m.y.min=f.target.y.min,m.y.max=m.y.min+w}dn(y,m),vi(y,x),ks(this.projectionDeltaWithTransform,this.layoutCorrected,y,x)}}registerSharedNode(f,y){this.sharedNodes.has(f)||this.sharedNodes.set(f,new Hw),this.sharedNodes.get(f).add(y);const g=y.options.initialPromotionConfig;y.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(y):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:y,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),f&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let y=!1;const{latestValues:m}=f;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(y=!0),!y)return;const g={};m.z&&Hc("z",f,g,this.animationValues);for(let x=0;x<Bc.length;x++)Hc(`rotate${Bc[x]}`,f,g,this.animationValues),Hc(`skew${Bc[x]}`,f,g,this.animationValues);f.render();for(const x in g)f.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);f.scheduleRender()}applyProjectionStyles(f,y){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Kl(y?.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Kl(y?.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(f.transform=m?m({},""):"none",this.hasProjected=!1);return}f.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let j=qw(this.projectionDeltaWithTransform,this.treeScale,x);m&&(j=m(x,j)),f.transform=j;const{x:w,y:_}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,g.animationValues?f.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const N in Ts){if(x[N]===void 0)continue;const{correct:A,applyTo:C,isCSSVariable:R}=Ts[N],q=j==="none"?x[N]:A(x[N],g);if(C){const z=C.length;for(let J=0;J<z;J++)f[C[J]]=q}else R?this.options.visualElement.renderState.vars[N]=q:f[N]=q}this.options.layoutId&&(f.pointerEvents=g===this?Kl(y?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(Ap),this.root.sharedNodes.clear()}}}function Fw(a){a.updateLayout()}function Kw(a){const i=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&i&&a.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=a.layout,{animationType:d}=a.options,h=i.source!==a.layout.source;d==="size"?un(x=>{const j=h?i.measuredBox[x]:i.layoutBox[x],w=Ht(j);j.min=r[x].min,j.max=j.min+w}):Lp(d,i.layoutBox,r)&&un(x=>{const j=h?i.measuredBox[x]:i.layoutBox[x],w=Ht(r[x]);j.max=j.min+w,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[x].max=a.relativeTarget[x].min+w)});const f=ji();ks(f,r,i.layoutBox);const y=ji();h?ks(y,a.applyTransform(o,!0),i.measuredBox):ks(y,r,i.layoutBox);const m=!vp(f);let g=!1;if(!a.resumeFrom){const x=a.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:j,layout:w}=x;if(j&&w){const _=dt();Ms(_,i.layoutBox,j.layoutBox);const N=dt();Ms(N,r,w.layoutBox),wp(_,N)||(g=!0),x.options.layoutRoot&&(a.relativeTarget=N,a.relativeTargetOrigin=_,a.relativeParent=x)}}}a.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:y,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(a.isLead()){const{onExitComplete:r}=a.options;r&&r()}a.options.transition=void 0}function Xw(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function Qw(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function Zw(a){a.clearSnapshot()}function Ap(a){a.clearMeasurements()}function Ep(a){a.isLayoutDirty=!1}function Pw(a){const{visualElement:i}=a.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),a.resetTransform()}function kp(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function $w(a){a.resolveTargetDelta()}function Iw(a){a.calcProjection()}function Jw(a){a.resetSkewAndRotation()}function Ww(a){a.removeLeadSnapshot()}function Mp(a,i,r){a.translate=st(i.translate,0,r),a.scale=st(i.scale,1,r),a.origin=i.origin,a.originPoint=i.originPoint}function Dp(a,i,r,o){a.min=st(i.min,r.min,o),a.max=st(i.max,r.max,o)}function eN(a,i,r,o){Dp(a.x,i.x,r.x,o),Dp(a.y,i.y,r.y,o)}function tN(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const nN={duration:.45,ease:[.4,0,.1,1]},Rp=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Op=Rp("applewebkit/")&&!Rp("chrome/")?Math.round:on;function zp(a){a.min=Op(a.min),a.max=Op(a.max)}function aN(a){zp(a.x),zp(a.y)}function Lp(a,i,r){return a==="position"||a==="preserve-aspect"&&!cw(Np(i),Np(r),.2)}function iN(a){return a!==a.root&&a.scroll?.wasRoot}const sN=Cp({attachResizeListener:(a,i)=>Cs(a,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qc={current:void 0},Up=Cp({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!qc.current){const a=new sN({});a.mount(window),a.setOptions({layoutScroll:!0}),qc.current=a}return qc.current},resetTransform:(a,i)=>{a.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),lN={pan:{Feature:Nw},drag:{Feature:ww,ProjectionNode:Up,MeasureLayout:op}};function Vp(a,i,r){const{props:o}=a;a.animationState&&o.whileHover&&a.animationState.setActive("whileHover",r==="Start");const d="onHover"+r,h=o[d];h&&nt.postRender(()=>h(i,As(i)))}class rN extends oa{mount(){const{current:i}=this.node;i&&(this.unmount=Aj(i,(r,o)=>(Vp(this.node,o,"Start"),d=>Vp(this.node,d,"End"))))}unmount(){}}class oN extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gs(Cs(this.node.current,"focus",()=>this.onFocus()),Cs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bp(a,i,r){const{props:o}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&o.whileTap&&a.animationState.setActive("whileTap",r==="Start");const d="onTap"+(r==="End"?"":r),h=o[d];h&&nt.postRender(()=>h(i,As(i)))}class cN extends oa{mount(){const{current:i}=this.node;i&&(this.unmount=Dj(i,(r,o)=>(Bp(this.node,o,"Start"),(d,{success:h})=>Bp(this.node,d,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yc=new WeakMap,Gc=new WeakMap,uN=a=>{const i=Yc.get(a.target);i&&i(a)},dN=a=>{a.forEach(uN)};function fN({root:a,...i}){const r=a||document;Gc.has(r)||Gc.set(r,{});const o=Gc.get(r),d=JSON.stringify(i);return o[d]||(o[d]=new IntersectionObserver(dN,{root:a,...i})),o[d]}function hN(a,i,r){const o=fN(i);return Yc.set(a,r),o.observe(a),()=>{Yc.delete(a),o.unobserve(a)}}const mN={some:0,all:1};class pN extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:r,margin:o,amount:d="some",once:h}=i,f={root:r?r.current:void 0,rootMargin:o,threshold:typeof d=="number"?d:mN[d]},y=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,h&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:j}=this.node.getProps(),w=g?x:j;w&&w(m)};return hN(this.node.current,f,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:r}=this.node;["amount","margin","root"].some(gN(i,r))&&this.startObserver()}unmount(){}}function gN({viewport:a={}},{viewport:i={}}={}){return r=>a[r]!==i[r]}const yN={...aw,...{inView:{Feature:pN},tap:{Feature:cN},focus:{Feature:oN},hover:{Feature:rN}},...lN,...{layout:{ProjectionNode:Up,MeasureLayout:op}}},xN=bS(yN,DS),Pl="onboarding.draft",Hp="onboarding_done";function $l(a,i,r=31536e3){try{document.cookie=`${a}=${i}; Max-Age=${r}; Path=/`}catch{}}function Fc(a){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp(`(?:^|; )${a}=([^;]*)`));return i?decodeURIComponent(i[1]):null}function bN(a,i,r){try{localStorage.setItem(a,JSON.stringify({v:1,answers:i,index:r,ts:Date.now()}))}catch{}}function vN(a){try{const i=localStorage.getItem(a);if(!i)return null;const r=JSON.parse(i);if(r?.v===1&&typeof r.index=="number"&&r.answers)return{answers:r.answers,index:r.index}}catch{}return null}function jN(a){try{localStorage.removeItem(a)}catch{}}function SN(){if(typeof document>"u"||document.getElementById("kai-onboarding-styles"))return;const a=`
  .kai-title { color: #ff5656; }
  .kai-footer { display: flex; align-items: center; justify-content: space-between; gap: 8px; flex-wrap: nowrap; }
  .kai-actions { margin-left: auto; display: inline-flex; align-items: center; gap: 8px; }
  .kai-onboarding * { box-sizing: border-box; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
  .kai-grid { display: grid; gap: 12px; grid-template-columns: 1fr; }
  @media (min-width: 640px) { .kai-grid { grid-template-columns: 1fr 1fr; } }

  .kai-card-option { border: 1px solid #e5e7eb; padding: 16px; border-radius: 12px; background: #fff; cursor: pointer; transition: background .15s ease, border-color .15s ease, box-shadow .15s ease; text-align: left; }
  .kai-card-option:hover { background: #f9fafb; }
  .kai-card-option.is-selected { border-color: #111827; background: #f3f4f6; box-shadow: 0 0 0 2px rgba(17,24,39,0.05) inset; }

  .kai-input { width: 100%; border: 1px solid #e5e7eb; border-radius: 12px; padding: 8px 12px; font-size: 14px; color: #455a7c; }
  .kai-input::placeholder { color: #455a7c; opacity: .9; }
  .kai-input:focus { outline: none; border-color: #111827; }

  .kai-btn { border-radius: 12px; padding: 8px 16px; font-weight: 600; font-size: 14px; line-height: 1.2; display: inline-flex; align-items: center; gap: 8px; }
  .kai-btn-primary { background: #ff5656; color: #fff; border: none; }
  .kai-btn-primary:hover { filter: brightness(0.95); }
  .kai-btn-primary:disabled { opacity: .4; cursor: not-allowed; }
  .kai-btn-outline { border: 1px solid #e5e7eb; color: #455a7c; background: #fff; }
  .kai-btn-outline:hover { background: #f9fafb; }

  .kai-range { width: 100%; }
  .kai-range::-webkit-slider-runnable-track { height: 4px; background: #e5e7eb; border-radius: 999px; }
  .kai-range::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: #ff5656; border-radius: 50%; cursor: pointer; border: 2px solid #fff; box-shadow: 0 0 0 1px rgba(0,0,0,.1); margin-top: -7px; }
  .kai-range::-moz-range-track { height: 4px; background: #e5e7eb; border-radius: 999px; }
  .kai-range::-moz-range-thumb { width: 18px; height: 18px; background: #ff5656; border: none; border-radius: 50%; cursor: pointer; }
  `,i=document.createElement("style");i.id="kai-onboarding-styles",i.textContent=a,document.head.appendChild(i)}function Il(a,i){console.debug(`[analytics] ${a}`,i||{})}function Kc(a){try{return new URLSearchParams(window.location.search).get(a)}catch{return null}}function qp(){try{return["localhost","127.0.0.1","::1"].includes(window.location.hostname)}catch{return!1}}function Xc(){return Kc("debug")==="1"||qp()}function Jl(a){return Array.isArray(a)?a.filter(Boolean):[]}function wi(a,i){return i?Math.max(0,Math.min(a,i-1)):0}function Qc(){return[{id:"whyHere",title:"What brings you to Get Kinder today?",description:"This helps us focus on how to help you make the biggest impact.",type:"single",required:!0,options:[{id:"volunteer",label:"I want to contribute my time and skills to causes I care about"},{id:"donor",label:"I'm looking to donate and see real impact from my contributions"},{id:"organization",label:"I represent a charity/organization seeking volunteers and funding"},{id:"referred",label:"Someone referred me and I want to learn more"},{id:"unsure",label:"I am not sure yet"}]},{id:"experienceLevel",title:"How would you describe your current involvement in community impact?",description:"Where you are at in your impact journey helps use tailor suggestions for you.",type:"single",required:!0,options:[{id:"new",label:"I'm brand new to volunteering/donating"},{id:"occasional",label:"I volunteer or donate occasionally (few times a year)"},{id:"regular",label:"I'm regularly active with causes I support (monthly+)"},{id:"active",label:"I'm deeply involved across multiple organizations"},{id:"returning",label:"I used to be active but I have taken a break"}]},{id:"outcome",title:"Which causes or areas are you most passionate about?",description:"The more we know about your goals, the better we can help you achieve them.",type:"single",required:!0,options:[{id:"youth",label:"Education & Youth Development"},{id:"environment",label:"Environmental & Sustainability"},{id:"hunger",label:"Poverty & Hunger Relief"},{id:"animals",label:"Animal Welfare"},{id:"seniors",label:"Seniors & Elderly Care"},{id:"housing",label:"Community Development & Housing"},{id:"open",label:"I'm open to exploring different causes"}]},{id:"timeCommitment",title:"How many hours per week do you plan to spend on volunteering?",description:"No pressure to do a lot, we just want to help you find opportunities that works for you!",type:"single",required:!0,options:[{id:"monthly",label:"A few hours per month (flexible schedule)"},{id:"Weekly",label:"Weekly commitment (1-4 hours/week)"},{id:"ongoing",label:"Regular ongoing commitment (4+ hours/week)"},{id:"One-time",label:"One-time events or projects when they fit my schedule"},{id:"flexible",label:"My availability varies a lotI need flexible options"}]},{id:"interests",title:"What skills or interests would you like to contribute?",type:"single",required:!0,options:[{id:"work",label:"Hands-on work (building, sorting, outdoor projects)"},{id:"people",label:"Working directly with people (mentoring, teaching, helping)"},{id:"Professional",label:"Professional skills (marketing, finance, legal, tech, design)"},{id:"Administrative",label:"Administrative & organizational support"},{id:"community",label:"Advocacy & community organizing"},{id:"discovering",label:"I'm still discovering what I have to offer"}]},{id:"age",title:"How old are you?",description:"This helps us provide age-appropriate suggestions and activities. Please log in to save your answers.",type:"single",required:!0,options:[{id:"youth",label:"Under 18"},{id:"18-24",label:"18-24"},{id:"25-39",label:"25-39"},{id:"40-49",label:"40-49"},{id:"50-59",label:"50-59"},{id:"60+",label:"60+"}]}]}function Zc(a,i){const r=Jl(a);if(r.length>0)return{steps:r,usingFallback:!1};const o=Jl(i);return{steps:o.length>0?o:Qc(),usingFallback:!0}}function wN(){const a=Kc("onboarding"),i=Kc("forceOnboarding");return a==="1"||i==="1"}function NN(a){const i=wN(),r=qp()&&a==null;return!!(a||i||r)}function Yp(a,i){return NN(a)?!1:Fc(i)==="1"}function _N(a=Hp,i=Pl){try{document.cookie=`${a}=; Max-Age=0; Path=/`,localStorage.removeItem(i)}catch{}}function Gp({steps:a,fallbackSteps:i,forceShow:r,storageKey:o=Pl,cookieName:d=Hp,onComplete:h,onClose:f,brand:y}){S.useEffect(()=>{SN()},[]);const{steps:m,usingFallback:g}=S.useMemo(()=>Zc(a,i),[a,i]),[x,j]=S.useState(0),[w,_]=S.useState({}),[N,A]=S.useState(!1),C=m[x],R=x===m.length-1,q=g&&a==null,z=!!(r||q),[J,ee]=S.useState(!1),[M,Y]=S.useState(!1);S.useEffect(()=>{if(Yp(z,d)){ee(!0);return}const fe=vN(o);if(fe){const U=wi(fe.index,m.length);_(fe.answers),j(U)}A(!0),m.length>0&&Il("onboarding_view",{step:m[0].id})},[z,d,o,m.length]),S.useEffect(()=>{N&&bN(o,w,x)},[w,x,N,o]);const W=S.useMemo(()=>{if(!C)return!1;const fe=w[C.id];return C.required?C.type==="text"?Array.isArray(fe)?fe.filter(X=>typeof X=="string"&&X.trim().length>0).length>0:!!fe&&String(fe).trim().length>0:C.type==="range"?typeof fe=="number":C.type==="single"?typeof fe=="string"&&fe.length>0:C.type==="multi"?Array.isArray(fe)&&fe.length>0:!1:!0},[w,C]);async function $(){$l(d,"1"),jN(o),Il("onboarding_complete",{answers:w});try{await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:w,completedAt:new Date().toISOString()})})}catch{}try{await h?.(w)}finally{Y(!0),f?.()}}async function ie(){await $();try{window.location.href="login"}catch{}}function oe(){if(!C)return;if(R)return void $();const fe=wi(x+1,m.length);j(fe);const U=m[fe];Il("onboarding_step_next",{from:C.id,to:U?.id})}function ye(){if(!C)return;const fe=wi(x-1,m.length);j(fe);const U=m[fe];Il("onboarding_step_back",{from:C.id,to:U?.id})}function se(fe,U){_(X=>({...X,[fe]:U}))}const pe=({children:fe})=>l.jsx("div",{className:"fixed bottom-4 left-4 z-[60] max-w-sm rounded-lg border border-amber-300 bg-amber-50 p-3 text-amber-900 shadow",children:fe});return J?Xc()?l.jsxs(pe,{children:["Onboarding suppressed by cookie. Override by adding ",l.jsx("code",{children:"?onboarding=1"})," to the URL, or pass the ",l.jsx("code",{children:"forceShow"})," prop, or clear the ",l.jsx("code",{children:d})," cookie."]}):null:M||!N?null:C?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4 kai-onboarding",style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",padding:"16px"},children:l.jsx("div",{className:"relative w-full max-w-2xl",children:l.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-2xl",style:{background:"#fff",borderRadius:"16px",padding:"24px",boxShadow:"0 20px 50px rgba(0,0,0,0.18)"},children:[l.jsxs("header",{className:"mb-4 flex items-center gap-3",children:[l.jsx("img",{src:y?.logoUrl??"/images/logo.png",alt:"Get Kinder",style:{height:"100px",width:"150px",objectFit:"contain"},className:"rounded-sm"}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs font-medium text-[#455a7c]",children:["Step ",x+1," of ",m.length]}),l.jsx("h2",{className:"mt-1 text-2xl font-semibold kai-title",children:C.title}),C.description&&l.jsx("p",{className:"mt-1 text-sm text-[#455a7c]",children:C.description})]})]}),l.jsx("div",{className:"min-h-[180px]",children:l.jsx(Yj,{mode:"wait",children:l.jsx(xN.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.18},children:l.jsx(TN,{step:C,value:w[C.id],onChange:se})},C.id)})}),l.jsxs("footer",{className:"mt-6 kai-footer",children:[l.jsx("button",{onClick:ye,disabled:x===0,className:"kai-btn kai-btn-outline",children:"Back"}),l.jsxs("div",{className:"kai-actions",children:[l.jsx("button",{onClick:oe,disabled:!W,className:`kai-btn ${R?"kai-btn-outline":"kai-btn-primary"}`,children:R?"Finish":"Continue"}),R&&l.jsx("button",{type:"button",onClick:ie,className:"kai-btn kai-btn-primary","data-testid":"login-button",children:"Log in"})]})]})]})})}):Xc()?l.jsxs(pe,{children:["No steps resolved for ",l.jsx("code",{children:"<OnboardingCards/>"}),". Provide ",l.jsx("code",{children:"steps"})," or ",l.jsx("code",{children:"fallbackSteps"}),"."]}):null}function TN({step:a,value:i,onChange:r}){if(a.type==="single")return l.jsx("div",{className:"kai-grid grid grid-cols-1 gap-3 sm:grid-cols-2",role:"radiogroup","aria-label":a.title,children:a.options?.map(o=>{const d=i===o.id;return l.jsxs("label",{className:`kai-card-option ${d?"is-selected":""}`,children:[l.jsx("input",{type:"radio",name:a.id,value:o.id,checked:d,onChange:()=>r(a.id,o.id),className:"sr-only"}),l.jsx("div",{className:"text-sm font-medium text-[#455a7c]",children:o.label}),o.helper&&l.jsx("div",{className:"mt-1 text-xs text-[#455a7c]",children:o.helper})]},o.id)})});if(a.type==="multi"){let o=function(h){const f=new Set(d);f.has(h)?f.delete(h):f.add(h),r(a.id,Array.from(f))};const d=Array.isArray(i)?i:[];return l.jsx("div",{className:"kai-grid grid grid-cols-1 gap-3 sm:grid-cols-2",role:"group","aria-label":a.title,children:a.options?.map(h=>l.jsxs("button",{type:"button",onClick:()=>o(h.id),className:`kai-card-option ${d.includes(h.id)?"is-selected":""}`,"aria-pressed":d.includes(h.id),children:[l.jsx("div",{className:"text-sm font-medium text-[#455a7c]",children:h.label}),h.helper&&l.jsx("div",{className:"mt-1 text-xs text-[#455a7c]",children:h.helper})]},h.id))})}if(a.type==="range"){const o=typeof i=="number"?i:Math.round(((a.min??0)+(a.max??10))/2);return l.jsxs("div",{children:[l.jsx("input",{type:"range",min:a.min??0,max:a.max??10,value:o,onChange:d=>r(a.id,Number(d.target.value)),className:"kai-range w-full","aria-label":a.title}),l.jsx("div",{className:"mt-2 text-sm text-[#455a7c]",children:o})]})}if(Array.isArray(a.placeholders)&&a.placeholders.length>0){let o=function(f,y){const m=h.slice();m[f]=y,r(a.id,m)};const d=a.placeholders,h=Array.isArray(i)?i.slice(0,d.length):Array(d.length).fill("");return l.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.map((f,y)=>l.jsx("input",{type:"text",value:typeof h[y]=="string"?h[y]:"",onChange:m=>o(y,m.target.value),placeholder:f,className:"kai-input w-full","aria-label":`${a.title} ${y+1}`},`${a.id}-${y}`))})}return l.jsx("div",{children:l.jsx("input",{type:"text",value:typeof i=="string"?i:"",onChange:o=>r(a.id,o.target.value),placeholder:a.placeholder,className:"kai-input w-full","aria-label":a.title})})}if(typeof window<"u"&&Xc()){let a=function(f,y){y||console.error(`OnboardingCards test failed: ${f}`)};a("normalizeSteps handles undefined",Jl(void 0).length===0),a("normalizeSteps passes through array",Jl([{id:"a",title:"t",type:"text"}]).length===1),a("clampIndexForSteps returns 0 when stepsLen=0",wi(5,0)===0),a("clampIndexForSteps clamps to last index",wi(5,3)===2),a("clampIndexForSteps clamps to 0 for negative",wi(-3,3)===0);const i=Zc(void 0,void 0);a("resolveSteps falls back to default preset",i.steps.length>0&&i.usingFallback===!0);const r=Zc([{id:"x",title:"X",type:"text"}],[]);a("resolveSteps uses provided steps when present",r.steps[0].id==="x"&&r.usingFallback===!1);const o=Qc(),d=o.find(f=>f.id==="interests");if(a("default interests step exists",!!d),a("interests step has options",Array.isArray(d?.options)&&(d?.options?.length||0)>=3),Array.isArray(d?.options)){const f=d.options.map(g=>g.id),y=f.some(g=>!g),m=new Set(f);a("interests option ids are non-empty",!y),a("interests option ids are unique",m.size===f.length)}a("default steps count is 6",o.length===6),a("6th step is 'age'",o[5].id==="age");const h=Fc("onboarding_done");$l("onboarding_done","1"),a("shouldSuppress is false when effective force=true",Yp(!0,"onboarding_done")===!1),$l("onboarding_done","1"),localStorage.setItem(Pl,"x"),_N(),a("resetOnboarding clears cookie",Fc("onboarding_done")===null),a("resetOnboarding clears draft",localStorage.getItem(Pl)===null),h&&$l("onboarding_done",h)}typeof window<"u"&&(window.process||(window.process={env:{NODE_ENV:"production"}}),window.global||(window.global=window));const Fp=new WeakMap;function kn(a){if(!a)return null;let i=Fp.get(a);return i||(i=Xb.createRoot(a),Fp.set(a,i)),i}window.renderBestieVibesQuiz=(a,i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(ev,{...i}))},window.renderFriendQuizzesPage=(a,i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(o0,{...i}))},window.renderImpactHero=(a="#impact-hero-root",i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(Ln.StrictMode,{children:l.jsx(m0,{...i})}))},window.renderKinderCrewCarousel=(a="#kinder-crew-carousel-root",i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(Ln.StrictMode,{children:l.jsx(v0,{...i})}))},window.renderWeeksPlan=(a="#weeks-plan-root",i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(Ln.StrictMode,{children:l.jsx(O0,{...i})}))},window.renderDonorDashboard=(a="#donor-dashboard-root",i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(Ln.StrictMode,{children:l.jsx(V0,{...i})}))},window.renderDonatePage=(a="#donate-root",i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(Ln.StrictMode,{children:l.jsx(H0,{...i})}))};function Kp(){const a=document.getElementById("onboarding-root");if(!a)return;const i=Qc();kn(a).render(l.jsx(Gp,{steps:i,brand:{productName:"Get Kinder AI",logoUrl:"/images/logo.png"}}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Kp()},{once:!0}):Kp(),window.renderOnboarding=(a="#onboarding-root",i={})=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;kn(r).render(l.jsx(Gp,{...i}))};function CN(a="events-props"){const i=document.getElementById(a);if(!i)return{};try{return JSON.parse(i.textContent||"{}")}catch{return{}}}window.renderEventsApp=(a="#events-root",i)=>{const r=typeof a=="string"?document.querySelector(a):a;if(!r)return;const o=kn(r),d=i&&typeof i=="object"?i:CN();o.render(l.jsx(Ln.StrictMode,{children:l.jsx(Wv,{...d})}))}})();
