(function(){"use strict";function lf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var co={exports:{}},fs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf;function Uv(){if(rf)return fs;rf=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(r,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var p in d)p!=="key"&&(h[p]=d[p])}else h=d;return d=h.ref,{$$typeof:n,type:r,key:f,ref:d!==void 0?d:null,props:h}}return fs.Fragment=i,fs.jsx=l,fs.jsxs=l,fs}var of;function Lv(){return of||(of=1,co.exports=Uv()),co.exports}var c=Lv(),uo={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf;function Vv(){if(cf)return Ce;cf=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function A(v){return v===null||typeof v!="object"?null:(v=w&&v[w]||v["@@iterator"],typeof v=="function"?v:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,M={};function q(v,k,j){this.props=v,this.context=k,this.refs=M,this.updater=j||T}q.prototype.isReactComponent={},q.prototype.setState=function(v,k){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,k,"setState")},q.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function ne(){}ne.prototype=q.prototype;function $(v,k,j){this.props=v,this.context=k,this.refs=M,this.updater=j||T}var X=$.prototype=new ne;X.constructor=$,_(X,q.prototype),X.isPureReactComponent=!0;var W=Array.isArray;function U(){}var G={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function se(v,k,j){var z=j.ref;return{$$typeof:n,type:v,key:k,ref:z!==void 0?z:null,props:j}}function oe(v,k){return se(v.type,k,v.props)}function ce(v){return typeof v=="object"&&v!==null&&v.$$typeof===n}function we(v){var k={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(j){return k[j]})}var ae=/\/+/g;function be(v,k){return typeof v=="object"&&v!==null&&v.key!=null?we(""+v.key):k.toString(36)}function ue(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(U,U):(v.status="pending",v.then(function(k){v.status==="pending"&&(v.status="fulfilled",v.value=k)},function(k){v.status==="pending"&&(v.status="rejected",v.reason=k)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function B(v,k,j,z,F){var I=typeof v;(I==="undefined"||I==="boolean")&&(v=null);var Q=!1;if(v===null)Q=!0;else switch(I){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(v.$$typeof){case n:case i:Q=!0;break;case b:return Q=v._init,B(Q(v._payload),k,j,z,F)}}if(Q)return F=F(v),Q=z===""?"."+be(v,0):z,W(F)?(j="",Q!=null&&(j=Q.replace(ae,"$&/")+"/"),B(F,k,j,"",function(ve){return ve})):F!=null&&(ce(F)&&(F=oe(F,j+(F.key==null||v&&v.key===F.key?"":(""+F.key).replace(ae,"$&/")+"/")+Q)),k.push(F)),1;Q=0;var ie=z===""?".":z+":";if(W(v))for(var de=0;de<v.length;de++)z=v[de],I=ie+be(z,de),Q+=B(z,k,j,I,F);else if(de=A(v),typeof de=="function")for(v=de.call(v),de=0;!(z=v.next()).done;)z=z.value,I=ie+be(z,de++),Q+=B(z,k,j,I,F);else if(I==="object"){if(typeof v.then=="function")return B(ue(v),k,j,z,F);throw k=String(v),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Q}function P(v,k,j){if(v==null)return v;var z=[],F=0;return B(v,z,"","",function(I){return k.call(j,I,F++)}),z}function K(v){if(v._status===-1){var k=v._result;k=k(),k.then(function(j){(v._status===0||v._status===-1)&&(v._status=1,v._result=j)},function(j){(v._status===0||v._status===-1)&&(v._status=2,v._result=j)}),v._status===-1&&(v._status=0,v._result=k)}if(v._status===1)return v._result.default;throw v._result}var re=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},D={map:P,forEach:function(v,k,j){P(v,function(){k.apply(this,arguments)},j)},count:function(v){var k=0;return P(v,function(){k++}),k},toArray:function(v){return P(v,function(k){return k})||[]},only:function(v){if(!ce(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return Ce.Activity=S,Ce.Children=D,Ce.Component=q,Ce.Fragment=l,Ce.Profiler=d,Ce.PureComponent=$,Ce.StrictMode=r,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(v){return G.H.useMemoCache(v)}},Ce.cache=function(v){return function(){return v.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(v,k,j){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var z=_({},v.props),F=v.key;if(k!=null)for(I in k.key!==void 0&&(F=""+k.key),k)!O.call(k,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&k.ref===void 0||(z[I]=k[I]);var I=arguments.length-2;if(I===1)z.children=j;else if(1<I){for(var Q=Array(I),ie=0;ie<I;ie++)Q[ie]=arguments[ie+2];z.children=Q}return se(v.type,F,z)},Ce.createContext=function(v){return v={$$typeof:f,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:h,_context:v},v},Ce.createElement=function(v,k,j){var z,F={},I=null;if(k!=null)for(z in k.key!==void 0&&(I=""+k.key),k)O.call(k,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(F[z]=k[z]);var Q=arguments.length-2;if(Q===1)F.children=j;else if(1<Q){for(var ie=Array(Q),de=0;de<Q;de++)ie[de]=arguments[de+2];F.children=ie}if(v&&v.defaultProps)for(z in Q=v.defaultProps,Q)F[z]===void 0&&(F[z]=Q[z]);return se(v,I,F)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(v){return{$$typeof:p,render:v}},Ce.isValidElement=ce,Ce.lazy=function(v){return{$$typeof:b,_payload:{_status:-1,_result:v},_init:K}},Ce.memo=function(v,k){return{$$typeof:y,type:v,compare:k===void 0?null:k}},Ce.startTransition=function(v){var k=G.T,j={};G.T=j;try{var z=v(),F=G.S;F!==null&&F(j,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(U,re)}catch(I){re(I)}finally{k!==null&&j.types!==null&&(k.types=j.types),G.T=k}},Ce.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ce.use=function(v){return G.H.use(v)},Ce.useActionState=function(v,k,j){return G.H.useActionState(v,k,j)},Ce.useCallback=function(v,k){return G.H.useCallback(v,k)},Ce.useContext=function(v){return G.H.useContext(v)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(v,k){return G.H.useDeferredValue(v,k)},Ce.useEffect=function(v,k){return G.H.useEffect(v,k)},Ce.useEffectEvent=function(v){return G.H.useEffectEvent(v)},Ce.useId=function(){return G.H.useId()},Ce.useImperativeHandle=function(v,k,j){return G.H.useImperativeHandle(v,k,j)},Ce.useInsertionEffect=function(v,k){return G.H.useInsertionEffect(v,k)},Ce.useLayoutEffect=function(v,k){return G.H.useLayoutEffect(v,k)},Ce.useMemo=function(v,k){return G.H.useMemo(v,k)},Ce.useOptimistic=function(v,k){return G.H.useOptimistic(v,k)},Ce.useReducer=function(v,k,j){return G.H.useReducer(v,k,j)},Ce.useRef=function(v){return G.H.useRef(v)},Ce.useState=function(v){return G.H.useState(v)},Ce.useSyncExternalStore=function(v,k,j){return G.H.useSyncExternalStore(v,k,j)},Ce.useTransition=function(){return G.H.useTransition()},Ce.version="19.2.0",Ce}var uf;function fo(){return uf||(uf=1,uo.exports=Vv()),uo.exports}var C=fo();const Qe=lf(C);var ho={exports:{}},hs={},mo={exports:{}},po={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function Bv(){return df||(df=1,(function(n){function i(B,P){var K=B.length;B.push(P);e:for(;0<K;){var re=K-1>>>1,D=B[re];if(0<d(D,P))B[re]=P,B[K]=D,K=re;else break e}}function l(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var P=B[0],K=B.pop();if(K!==P){B[0]=K;e:for(var re=0,D=B.length,v=D>>>1;re<v;){var k=2*(re+1)-1,j=B[k],z=k+1,F=B[z];if(0>d(j,K))z<D&&0>d(F,j)?(B[re]=F,B[z]=K,re=z):(B[re]=j,B[k]=K,re=k);else if(z<D&&0>d(F,K))B[re]=F,B[z]=K,re=z;else break e}}return P}function d(B,P){var K=B.sortIndex-P.sortIndex;return K!==0?K:B.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var g=[],y=[],b=1,S=null,w=3,A=!1,T=!1,_=!1,M=!1,q=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function X(B){for(var P=l(y);P!==null;){if(P.callback===null)r(y);else if(P.startTime<=B)r(y),P.sortIndex=P.expirationTime,i(g,P);else break;P=l(y)}}function W(B){if(_=!1,X(B),!T)if(l(g)!==null)T=!0,U||(U=!0,we());else{var P=l(y);P!==null&&ue(W,P.startTime-B)}}var U=!1,G=-1,O=5,se=-1;function oe(){return M?!0:!(n.unstable_now()-se<O)}function ce(){if(M=!1,U){var B=n.unstable_now();se=B;var P=!0;try{e:{T=!1,_&&(_=!1,ne(G),G=-1),A=!0;var K=w;try{t:{for(X(B),S=l(g);S!==null&&!(S.expirationTime>B&&oe());){var re=S.callback;if(typeof re=="function"){S.callback=null,w=S.priorityLevel;var D=re(S.expirationTime<=B);if(B=n.unstable_now(),typeof D=="function"){S.callback=D,X(B),P=!0;break t}S===l(g)&&r(g),X(B)}else r(g);S=l(g)}if(S!==null)P=!0;else{var v=l(y);v!==null&&ue(W,v.startTime-B),P=!1}}break e}finally{S=null,w=K,A=!1}P=void 0}}finally{P?we():U=!1}}}var we;if(typeof $=="function")we=function(){$(ce)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,be=ae.port2;ae.port1.onmessage=ce,we=function(){be.postMessage(null)}}else we=function(){q(ce,0)};function ue(B,P){G=q(function(){B(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(B){switch(w){case 1:case 2:case 3:var P=3;break;default:P=w}var K=w;w=P;try{return B()}finally{w=K}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(B,P){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=w;w=B;try{return P()}finally{w=K}},n.unstable_scheduleCallback=function(B,P,K){var re=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,B={id:b++,callback:P,priorityLevel:B,startTime:K,expirationTime:D,sortIndex:-1},K>re?(B.sortIndex=K,i(y,B),l(g)===null&&B===l(y)&&(_?(ne(G),G=-1):_=!0,ue(W,K-re))):(B.sortIndex=D,i(g,B),T||A||(T=!0,U||(U=!0,we()))),B},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function(B){var P=w;return function(){var K=w;w=P;try{return B.apply(this,arguments)}finally{w=K}}}})(po)),po}var ff;function Hv(){return ff||(ff=1,mo.exports=Bv()),mo.exports}var go={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf;function qv(){if(hf)return Ot;hf=1;var n=fo();function i(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(g,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:g,containerInfo:y,implementation:b}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ot.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return h(g,y,null,b)},Ot.flushSync=function(g){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=b,r.d.f()}},Ot.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Ot.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ot.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,A=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:A}):b==="script"&&r.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:A,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ot.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Ot.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin);r.d.L(g,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ot.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Ot.requestFormReset=function(g){r.d.r(g)},Ot.unstable_batchedUpdates=function(g,y){return g(y)},Ot.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ot.version="19.2.0",Ot}var mf;function Fv(){if(mf)return go.exports;mf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),go.exports=qv(),go.exports}var pf;function Yv(){if(pf)return hs;pf=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Hv(),i=fo(),l=Fv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return g(o),e;if(u===s)return g(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,x=o.child;x;){if(x===a){m=!0,a=o,s=u;break}if(x===s){m=!0,s=o,a=u;break}x=x.sibling}if(!m){for(x=u.child;x;){if(x===a){m=!0,a=u,s=o;break}if(x===s){m=!0,s=u,a=o;break}x=x.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),$=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case q:return"Profiler";case M:return"StrictMode";case W:return"Suspense";case U:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case $:return e.displayName||"Context";case ne:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}var ue=Array.isArray,B=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},re=[],D=-1;function v(e){return{current:e}}function k(e){0>D||(e.current=re[D],re[D]=null,D--)}function j(e,t){D++,re[D]=e.current,e.current=t}var z=v(null),F=v(null),I=v(null),Q=v(null);function ie(e,t){switch(j(I,t),j(F,e),j(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sv(t),e=lv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(z),j(z,e)}function de(){k(z),k(F),k(I)}function ve(e){e.memoizedState!==null&&j(Q,e);var t=z.current,a=lv(t,e.type);t!==a&&(j(F,e),j(z,a))}function Se(e){F.current===e&&(k(z),k(F)),Q.current===e&&(k(Q),xl._currentValue=K)}var ze,Me;function fe(e){if(ze===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",Me=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Me}var Ae=!1;function He(e,t){if(!e||Ae)return"";Ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var H=Y}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(Y){H=Y}e.call(ee.prototype)}}else{try{throw Error()}catch(Y){H=Y}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],x=u[1];if(m&&x){var N=m.split(`
`),V=x.split(`
`);for(o=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;o<V.length&&!V[o].includes("DetermineComponentFrameRoot");)o++;if(s===N.length||o===V.length)for(s=N.length-1,o=V.length-1;1<=s&&0<=o&&N[s]!==V[o];)o--;for(;1<=s&&0<=o;s--,o--)if(N[s]!==V[o]){if(s!==1||o!==1)do if(s--,o--,0>o||N[s]!==V[o]){var Z=`
`+N[s].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=s&&0<=o);break}}}finally{Ae=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?fe(a):""}function pe(e,t){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==t&&t!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return He(e.type,!1);case 11:return He(e.type.render,!1);case 1:return He(e.type,!0);case 31:return fe("Activity");default:return""}}function Oe(e){try{var t="",a=null;do t+=pe(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ne=Object.prototype.hasOwnProperty,tt=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,Dn=n.unstable_shouldYield,le=n.unstable_requestPaint,ye=n.unstable_now,De=n.unstable_getCurrentPriorityLevel,Ye=n.unstable_ImmediatePriority,ft=n.unstable_UserBlockingPriority,te=n.unstable_NormalPriority,xe=n.unstable_LowPriority,Pe=n.unstable_IdlePriority,Tt=n.log,ot=n.unstable_setDisableYieldValue,Nt=null,Xe=null;function jt(e){if(typeof Tt=="function"&&ot(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Nt,e)}catch{}}var gt=Math.clz32?Math.clz32:wi,Ya=Math.log,Vn=Math.LN2;function wi(e){return e>>>=0,e===0?32:31-(Ya(e)/Vn|0)|0}var Ti=256,Ni=262144,ca=4194304;function ua(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ga(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~u,s!==0?o=ua(s):(m&=x,m!==0?o=ua(m):a||(a=x&~e,a!==0&&(o=ua(a))))):(x=s&~u,x!==0?o=ua(x):m!==0?o=ua(m):a||(a=s&~e,a!==0&&(o=ua(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Xa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var e=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),e}function da(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function fn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ai(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,N=e.expirationTimes,V=e.hiddenUpdates;for(a=m&~a;0<a;){var Z=31-gt(a),ee=1<<Z;x[Z]=0,N[Z]=-1;var H=V[Z];if(H!==null)for(V[Z]=null,Z=0;Z<H.length;Z++){var Y=H[Z];Y!==null&&(Y.lane&=-536870913)}a&=~ee}s!==0&&zs(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function zs(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-gt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Pl(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-gt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Ci(e,t){var a=t&-t;return a=(a&42)!==0?1:Zc(a),(a&(e.suspendedLanes|t))!==0?0:a}function Zc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $c(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gp(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Ev(e.type))}function Xp(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var fa=Math.random().toString(36).slice(2),Mt="__reactFiber$"+fa,Kt="__reactProps$"+fa,_i="__reactContainer$"+fa,Pc="__reactEvents$"+fa,fT="__reactListeners$"+fa,hT="__reactHandles$"+fa,Kp="__reactResources$"+fa,Os="__reactMarker$"+fa;function Ic(e){delete e[Mt],delete e[Kt],delete e[Pc],delete e[fT],delete e[hT]}function Ei(e){var t=e[Mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[_i]||a[Mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hv(e);e!==null;){if(a=e[Mt])return a;e=hv(e)}return t}e=a,a=e.parentNode}return null}function Mi(e){if(e=e[Mt]||e[_i]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Us(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Di(e){var t=e[Kp];return t||(t=e[Kp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[Os]=!0}var Qp=new Set,Zp={};function Ka(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(Zp[e]=t,e=0;e<t.length;e++)Qp.add(t[e])}var mT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$p={},Pp={};function pT(e){return Ne.call(Pp,e)?!0:Ne.call($p,e)?!1:mT.test(e)?Pp[e]=!0:($p[e]=!0,!1)}function Il(e,t,a){if(pT(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Jl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Bn(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gT(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jc(e){if(!e._valueTracker){var t=Ip(e)?"checked":"value";e._valueTracker=gT(e,t,""+e[t])}}function Jp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Ip(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yT=/[\n"\\]/g;function mn(e){return e.replace(yT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wc(e,t,a,s,o,u,m,x){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+hn(t)):e.value!==""+hn(t)&&(e.value=""+hn(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?eu(e,m,hn(t)):a!=null?eu(e,m,hn(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+hn(x):e.removeAttribute("name")}function Wp(e,t,a,s,o,u,m,x){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Jc(e);return}a=a!=null?""+hn(a):"",t=t!=null?""+hn(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Jc(e)}function eu(e,t,a){t==="number"&&Wl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ri(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+hn(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function eg(e,t,a){if(t!=null&&(t=""+hn(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+hn(a):""}function tg(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(ue(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=hn(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Jc(e)}function zi(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var bT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ng(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||bT.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ag(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&ng(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&ng(e,u,t[u])}function tu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function er(e){return xT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var nu=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oi=null,Ui=null;function ig(e){var t=Mi(e);if(t&&(e=t.stateNode)){var a=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[Kt]||null;if(!o)throw Error(r(90));Wc(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Jp(s)}break e;case"textarea":eg(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ri(e,!!a.multiple,t,!1)}}}var iu=!1;function sg(e,t,a){if(iu)return e(t,a);iu=!0;try{var s=e(t);return s}finally{if(iu=!1,(Oi!==null||Ui!==null)&&(qr(),Oi&&(t=Oi,e=Ui,Ui=Oi=null,ig(t),e)))for(t=0;t<e.length;t++)ig(e[t])}}function Ls(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Kt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(qn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){su=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{su=!1}var ha=null,lu=null,tr=null;function lg(){if(tr)return tr;var e,t=lu,a=t.length,s,o="value"in ha?ha.value:ha.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return tr=o.slice(e,1<s?1-s:void 0)}function nr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ar(){return!0}function rg(){return!1}function Qt(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ar:rg,this.isPropagationStopped=rg,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),t}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=Qt(Qa),Bs=S({},Qa,{view:0,detail:0}),ST=Qt(Bs),ru,ou,Hs,sr=S({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(ru=e.screenX-Hs.screenX,ou=e.screenY-Hs.screenY):ou=ru=0,Hs=e),ru)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),og=Qt(sr),jT=S({},sr,{dataTransfer:0}),wT=Qt(jT),TT=S({},Bs,{relatedTarget:0}),cu=Qt(TT),NT=S({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),AT=Qt(NT),CT=S({},Qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_T=Qt(CT),ET=S({},Qa,{data:0}),cg=Qt(ET),MT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kT[e])?!!t[e]:!1}function uu(){return RT}var zT=S({},Bs,{key:function(e){if(e.key){var t=MT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OT=Qt(zT),UT=S({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ug=Qt(UT),LT=S({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),VT=Qt(LT),BT=S({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),HT=Qt(BT),qT=S({},sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FT=Qt(qT),YT=S({},Qa,{newState:0,oldState:0}),GT=Qt(YT),XT=[9,13,27,32],du=qn&&"CompositionEvent"in window,qs=null;qn&&"documentMode"in document&&(qs=document.documentMode);var KT=qn&&"TextEvent"in window&&!qs,dg=qn&&(!du||qs&&8<qs&&11>=qs),fg=" ",hg=!1;function mg(e,t){switch(e){case"keyup":return XT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function QT(e,t){switch(e){case"compositionend":return pg(t);case"keypress":return t.which!==32?null:(hg=!0,fg);case"textInput":return e=t.data,e===fg&&hg?null:e;default:return null}}function ZT(e,t){if(Li)return e==="compositionend"||!du&&mg(e,t)?(e=lg(),tr=lu=ha=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dg&&t.locale!=="ko"?null:t.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$T[e.type]:t==="textarea"}function yg(e,t,a,s){Oi?Ui?Ui.push(s):Ui=[s]:Oi=s,t=Zr(t,"onChange"),0<t.length&&(a=new ir("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Fs=null,Ys=null;function PT(e){Wb(e,0)}function lr(e){var t=Us(e);if(Jp(t))return e}function bg(e,t){if(e==="change")return t}var vg=!1;if(qn){var fu;if(qn){var hu="oninput"in document;if(!hu){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),hu=typeof xg.oninput=="function"}fu=hu}else fu=!1;vg=fu&&(!document.documentMode||9<document.documentMode)}function Sg(){Fs&&(Fs.detachEvent("onpropertychange",jg),Ys=Fs=null)}function jg(e){if(e.propertyName==="value"&&lr(Ys)){var t=[];yg(t,Ys,e,au(e)),sg(PT,t)}}function IT(e,t,a){e==="focusin"?(Sg(),Fs=t,Ys=a,Fs.attachEvent("onpropertychange",jg)):e==="focusout"&&Sg()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lr(Ys)}function WT(e,t){if(e==="click")return lr(t)}function eN(e,t){if(e==="input"||e==="change")return lr(t)}function tN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:tN;function Gs(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Ne.call(t,o)||!en(e[o],t[o]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,t){var a=wg(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Ng(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ng(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Wl(e.document)}return t}function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var nN=qn&&"documentMode"in document&&11>=document.documentMode,Vi=null,pu=null,Xs=null,gu=!1;function Cg(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gu||Vi==null||Vi!==Wl(s)||(s=Vi,"selectionStart"in s&&mu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xs&&Gs(Xs,s)||(Xs=s,s=Zr(pu,"onSelect"),0<s.length&&(t=new ir("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Vi)))}function Za(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Bi={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},yu={},_g={};qn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function $a(e){if(yu[e])return yu[e];if(!Bi[e])return e;var t=Bi[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in _g)return yu[e]=t[a];return e}var Eg=$a("animationend"),Mg=$a("animationiteration"),Dg=$a("animationstart"),aN=$a("transitionrun"),iN=$a("transitionstart"),sN=$a("transitioncancel"),kg=$a("transitionend"),Rg=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function Tn(e,t){Rg.set(e,t),Ka(t,[e])}var rr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pn=[],Hi=0,vu=0;function or(){for(var e=Hi,t=vu=Hi=0;t<e;){var a=pn[t];pn[t++]=null;var s=pn[t];pn[t++]=null;var o=pn[t];pn[t++]=null;var u=pn[t];if(pn[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&zg(a,o,u)}}function cr(e,t,a,s){pn[Hi++]=e,pn[Hi++]=t,pn[Hi++]=a,pn[Hi++]=s,vu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function xu(e,t,a,s){return cr(e,t,a,s),ur(e)}function Pa(e,t){return cr(e,null,null,t),ur(e)}function zg(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-gt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function ur(e){if(50<hl)throw hl=0,Ed=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qi={};function lN(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,a,s){return new lN(e,t,a,s)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,t){var a=e.alternate;return a===null?(a=tn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Og(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function dr(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")Su(e)&&(m=1);else if(typeof e=="string")m=dA(e,a,z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=tn(31,a,t,o),e.elementType=se,e.lanes=u,e;case _:return Ia(a.children,o,u,t);case M:m=8,o|=24;break;case q:return e=tn(12,a,t,o|2),e.elementType=q,e.lanes=u,e;case W:return e=tn(13,a,t,o),e.elementType=W,e.lanes=u,e;case U:return e=tn(19,a,t,o),e.elementType=U,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:m=10;break e;case ne:m=9;break e;case X:m=11;break e;case G:m=14;break e;case O:m=16,s=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=tn(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function Ia(e,t,a,s){return e=tn(7,e,s,t),e.lanes=a,e}function ju(e,t,a){return e=tn(6,e,null,t),e.lanes=a,e}function Ug(e){var t=tn(18,null,null,0);return t.stateNode=e,t}function wu(e,t,a){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Lg=new WeakMap;function gn(e,t){if(typeof e=="object"&&e!==null){var a=Lg.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Oe(t)},Lg.set(e,t),t)}return{value:e,source:t,stack:Oe(t)}}var Fi=[],Yi=0,fr=null,Ks=0,yn=[],bn=0,ma=null,kn=1,Rn="";function Yn(e,t){Fi[Yi++]=Ks,Fi[Yi++]=fr,fr=e,Ks=t}function Vg(e,t,a){yn[bn++]=kn,yn[bn++]=Rn,yn[bn++]=ma,ma=e;var s=kn;e=Rn;var o=32-gt(s)-1;s&=~(1<<o),a+=1;var u=32-gt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,kn=1<<32-gt(t)+o|a<<o|s,Rn=u+e}else kn=1<<u|a<<o|s,Rn=e}function Tu(e){e.return!==null&&(Yn(e,1),Vg(e,1,0))}function Nu(e){for(;e===fr;)fr=Fi[--Yi],Fi[Yi]=null,Ks=Fi[--Yi],Fi[Yi]=null;for(;e===ma;)ma=yn[--bn],yn[bn]=null,Rn=yn[--bn],yn[bn]=null,kn=yn[--bn],yn[bn]=null}function Bg(e,t){yn[bn++]=kn,yn[bn++]=Rn,yn[bn++]=ma,kn=t.id,Rn=t.overflow,ma=e}var Dt=null,nt=null,Ve=!1,pa=null,vn=!1,Au=Error(r(519));function ga(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qs(gn(t,e)),Au}function Hg(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Mt]=e,t[Kt]=s,a){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(a=0;a<pl.length;a++)Re(pl[a],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Wp(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),tg(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||av(t.textContent,a)?(s.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),s.onScroll!=null&&Re("scroll",t),s.onScrollEnd!=null&&Re("scrollend",t),s.onClick!=null&&(t.onclick=Hn),t=!0):t=!1,t||ga(e,!0)}function qg(e){for(Dt=e.return;Dt;)switch(Dt.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Dt=Dt.return}}function Gi(e){if(e!==Dt)return!1;if(!Ve)return qg(e),Ve=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gd(e.type,e.memoizedProps)),a=!a),a&&nt&&ga(e),qg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));nt=fv(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));nt=fv(e)}else t===27?(t=nt,Ma(e.type)?(e=$d,$d=null,nt=e):nt=t):nt=Dt?Sn(e.stateNode.nextSibling):null;return!0}function Ja(){nt=Dt=null,Ve=!1}function Cu(){var e=pa;return e!==null&&(It===null?It=e:It.push.apply(It,e),pa=null),e}function Qs(e){pa===null?pa=[e]:pa.push(e)}var _u=v(null),Wa=null,Gn=null;function ya(e,t,a){j(_u,t._currentValue),t._currentValue=a}function Xn(e){e._currentValue=_u.current,k(_u)}function Eu(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Mu(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var x=u;u=o;for(var N=0;N<t.length;N++)if(x.context===t[N]){u.lanes|=a,x=u.alternate,x!==null&&(x.lanes|=a),Eu(u.return,a,e),s||(m=null);break e}u=x.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),Eu(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Xi(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var x=o.type;en(o.pendingProps.value,m.value)||(e!==null?e.push(x):e=[x])}}else if(o===Q.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}o=o.return}e!==null&&Mu(t,e,a,s),t.flags|=262144}function hr(e){for(e=e.firstContext;e!==null;){if(!en(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ei(e){Wa=e,Gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Fg(Wa,e)}function mr(e,t){return Wa===null&&ei(e),Fg(e,t)}function Fg(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Gn===null){if(e===null)throw Error(r(308));Gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Gn=Gn.next=t;return a}var rN=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},oN=n.unstable_scheduleCallback,cN=n.unstable_NormalPriority,yt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Du(){return{controller:new rN,data:new Map,refCount:0}}function Zs(e){e.refCount--,e.refCount===0&&oN(cN,function(){e.controller.abort()})}var $s=null,ku=0,Ki=0,Qi=null;function uN(e,t){if($s===null){var a=$s=[];ku=0,Ki=Od(),Qi={status:"pending",value:void 0,then:function(s){a.push(s)}}}return ku++,t.then(Yg,Yg),t}function Yg(){if(--ku===0&&$s!==null){Qi!==null&&(Qi.status="fulfilled");var e=$s;$s=null,Ki=0,Qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dN(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Gg=B.S;B.S=function(e,t){Cb=ye(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uN(e,t),Gg!==null&&Gg(e,t)};var ti=v(null);function Ru(){var e=ti.current;return e!==null?e:et.pooledCache}function pr(e,t){t===null?j(ti,ti.current):j(ti,t.pool)}function Xg(){var e=Ru();return e===null?null:{parent:yt._currentValue,pool:e}}var Zi=Error(r(460)),zu=Error(r(474)),gr=Error(r(542)),yr={then:function(){}};function Kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Hn,Hn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$g(e),e;default:if(typeof t.status=="string")t.then(Hn,Hn);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$g(e),e}throw ai=t,Zi}}function ni(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ai=a,Zi):a}}var ai=null;function Zg(){if(ai===null)throw Error(r(459));var e=ai;return ai=null,e}function $g(e){if(e===Zi||e===gr)throw Error(r(483))}var $i=null,Ps=0;function br(e){var t=Ps;return Ps+=1,$i===null&&($i=[]),Qg($i,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vr(e,t){throw t.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pg(e){function t(R,E){if(e){var L=R.deletions;L===null?(R.deletions=[E],R.flags|=16):L.push(E)}}function a(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function s(R){for(var E=new Map;R!==null;)R.key!==null?E.set(R.key,R):E.set(R.index,R),R=R.sibling;return E}function o(R,E){return R=Fn(R,E),R.index=0,R.sibling=null,R}function u(R,E,L){return R.index=L,e?(L=R.alternate,L!==null?(L=L.index,L<E?(R.flags|=67108866,E):L):(R.flags|=67108866,E)):(R.flags|=1048576,E)}function m(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function x(R,E,L,J){return E===null||E.tag!==6?(E=ju(L,R.mode,J),E.return=R,E):(E=o(E,L),E.return=R,E)}function N(R,E,L,J){var ge=L.type;return ge===_?Z(R,E,L.props.children,J,L.key):E!==null&&(E.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===O&&ni(ge)===E.type)?(E=o(E,L.props),Is(E,L),E.return=R,E):(E=dr(L.type,L.key,L.props,null,R.mode,J),Is(E,L),E.return=R,E)}function V(R,E,L,J){return E===null||E.tag!==4||E.stateNode.containerInfo!==L.containerInfo||E.stateNode.implementation!==L.implementation?(E=wu(L,R.mode,J),E.return=R,E):(E=o(E,L.children||[]),E.return=R,E)}function Z(R,E,L,J,ge){return E===null||E.tag!==7?(E=Ia(L,R.mode,J,ge),E.return=R,E):(E=o(E,L),E.return=R,E)}function ee(R,E,L){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=ju(""+E,R.mode,L),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case A:return L=dr(E.type,E.key,E.props,null,R.mode,L),Is(L,E),L.return=R,L;case T:return E=wu(E,R.mode,L),E.return=R,E;case O:return E=ni(E),ee(R,E,L)}if(ue(E)||we(E))return E=Ia(E,R.mode,L,null),E.return=R,E;if(typeof E.then=="function")return ee(R,br(E),L);if(E.$$typeof===$)return ee(R,mr(R,E),L);vr(R,E)}return null}function H(R,E,L,J){var ge=E!==null?E.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:x(R,E,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return L.key===ge?N(R,E,L,J):null;case T:return L.key===ge?V(R,E,L,J):null;case O:return L=ni(L),H(R,E,L,J)}if(ue(L)||we(L))return ge!==null?null:Z(R,E,L,J,null);if(typeof L.then=="function")return H(R,E,br(L),J);if(L.$$typeof===$)return H(R,E,mr(R,L),J);vr(R,L)}return null}function Y(R,E,L,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return R=R.get(L)||null,x(E,R,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return R=R.get(J.key===null?L:J.key)||null,N(E,R,J,ge);case T:return R=R.get(J.key===null?L:J.key)||null,V(E,R,J,ge);case O:return J=ni(J),Y(R,E,L,J,ge)}if(ue(J)||we(J))return R=R.get(L)||null,Z(E,R,J,ge,null);if(typeof J.then=="function")return Y(R,E,L,br(J),ge);if(J.$$typeof===$)return Y(R,E,L,mr(E,J),ge);vr(E,J)}return null}function he(R,E,L,J){for(var ge=null,qe=null,me=E,Ee=E=0,Le=null;me!==null&&Ee<L.length;Ee++){me.index>Ee?(Le=me,me=null):Le=me.sibling;var Fe=H(R,me,L[Ee],J);if(Fe===null){me===null&&(me=Le);break}e&&me&&Fe.alternate===null&&t(R,me),E=u(Fe,E,Ee),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe,me=Le}if(Ee===L.length)return a(R,me),Ve&&Yn(R,Ee),ge;if(me===null){for(;Ee<L.length;Ee++)me=ee(R,L[Ee],J),me!==null&&(E=u(me,E,Ee),qe===null?ge=me:qe.sibling=me,qe=me);return Ve&&Yn(R,Ee),ge}for(me=s(me);Ee<L.length;Ee++)Le=Y(me,R,Ee,L[Ee],J),Le!==null&&(e&&Le.alternate!==null&&me.delete(Le.key===null?Ee:Le.key),E=u(Le,E,Ee),qe===null?ge=Le:qe.sibling=Le,qe=Le);return e&&me.forEach(function(Oa){return t(R,Oa)}),Ve&&Yn(R,Ee),ge}function je(R,E,L,J){if(L==null)throw Error(r(151));for(var ge=null,qe=null,me=E,Ee=E=0,Le=null,Fe=L.next();me!==null&&!Fe.done;Ee++,Fe=L.next()){me.index>Ee?(Le=me,me=null):Le=me.sibling;var Oa=H(R,me,Fe.value,J);if(Oa===null){me===null&&(me=Le);break}e&&me&&Oa.alternate===null&&t(R,me),E=u(Oa,E,Ee),qe===null?ge=Oa:qe.sibling=Oa,qe=Oa,me=Le}if(Fe.done)return a(R,me),Ve&&Yn(R,Ee),ge;if(me===null){for(;!Fe.done;Ee++,Fe=L.next())Fe=ee(R,Fe.value,J),Fe!==null&&(E=u(Fe,E,Ee),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return Ve&&Yn(R,Ee),ge}for(me=s(me);!Fe.done;Ee++,Fe=L.next())Fe=Y(me,R,Ee,Fe.value,J),Fe!==null&&(e&&Fe.alternate!==null&&me.delete(Fe.key===null?Ee:Fe.key),E=u(Fe,E,Ee),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return e&&me.forEach(function(jA){return t(R,jA)}),Ve&&Yn(R,Ee),ge}function We(R,E,L,J){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case A:e:{for(var ge=L.key;E!==null;){if(E.key===ge){if(ge=L.type,ge===_){if(E.tag===7){a(R,E.sibling),J=o(E,L.props.children),J.return=R,R=J;break e}}else if(E.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===O&&ni(ge)===E.type){a(R,E.sibling),J=o(E,L.props),Is(J,L),J.return=R,R=J;break e}a(R,E);break}else t(R,E);E=E.sibling}L.type===_?(J=Ia(L.props.children,R.mode,J,L.key),J.return=R,R=J):(J=dr(L.type,L.key,L.props,null,R.mode,J),Is(J,L),J.return=R,R=J)}return m(R);case T:e:{for(ge=L.key;E!==null;){if(E.key===ge)if(E.tag===4&&E.stateNode.containerInfo===L.containerInfo&&E.stateNode.implementation===L.implementation){a(R,E.sibling),J=o(E,L.children||[]),J.return=R,R=J;break e}else{a(R,E);break}else t(R,E);E=E.sibling}J=wu(L,R.mode,J),J.return=R,R=J}return m(R);case O:return L=ni(L),We(R,E,L,J)}if(ue(L))return he(R,E,L,J);if(we(L)){if(ge=we(L),typeof ge!="function")throw Error(r(150));return L=ge.call(L),je(R,E,L,J)}if(typeof L.then=="function")return We(R,E,br(L),J);if(L.$$typeof===$)return We(R,E,mr(R,L),J);vr(R,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,E!==null&&E.tag===6?(a(R,E.sibling),J=o(E,L),J.return=R,R=J):(a(R,E),J=ju(L,R.mode,J),J.return=R,R=J),m(R)):a(R,E)}return function(R,E,L,J){try{Ps=0;var ge=We(R,E,L,J);return $i=null,ge}catch(me){if(me===Zi||me===gr)throw me;var qe=tn(29,me,null,R.mode);return qe.lanes=J,qe.return=R,qe}finally{}}}var ii=Pg(!0),Ig=Pg(!1),ba=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=ur(e),zg(e,null,a),t}return cr(e,s,t,a),ur(e)}function Js(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Pl(e,a)}}function Lu(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Vu=!1;function Ws(){if(Vu){var e=Qi;if(e!==null)throw e}}function el(e,t,a,s){Vu=!1;var o=e.updateQueue;ba=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,x=o.shared.pending;if(x!==null){o.shared.pending=null;var N=x,V=N.next;N.next=null,m===null?u=V:m.next=V,m=N;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==m&&(x===null?Z.firstBaseUpdate=V:x.next=V,Z.lastBaseUpdate=N))}if(u!==null){var ee=o.baseState;m=0,Z=V=N=null,x=u;do{var H=x.lane&-536870913,Y=H!==x.lane;if(Y?(Ue&H)===H:(s&H)===H){H!==0&&H===Ki&&(Vu=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=e,je=x;H=t;var We=a;switch(je.tag){case 1:if(he=je.payload,typeof he=="function"){ee=he.call(We,ee,H);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=je.payload,H=typeof he=="function"?he.call(We,ee,H):he,H==null)break e;ee=S({},ee,H);break e;case 2:ba=!0}}H=x.callback,H!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=o.callbacks,Y===null?o.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(V=Z=Y,N=ee):Z=Z.next=Y,m|=H;if(x=x.next,x===null){if(x=o.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,o.lastBaseUpdate=Y,o.shared.pending=null}}while(!0);Z===null&&(N=ee),o.baseState=N,o.firstBaseUpdate=V,o.lastBaseUpdate=Z,u===null&&(o.shared.lanes=0),Na|=m,e.lanes=m,e.memoizedState=ee}}function Jg(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Wg(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jg(a[e],t)}var Pi=v(null),xr=v(0);function ey(e,t){e=ea,j(xr,e),j(Pi,t),ea=e|t.baseLanes}function Bu(){j(xr,ea),j(Pi,Pi.current)}function Hu(){ea=xr.current,k(Pi),k(xr)}var nn=v(null),xn=null;function Sa(e){var t=e.alternate;j(ht,ht.current&1),j(nn,e),xn===null&&(t===null||Pi.current!==null||t.memoizedState!==null)&&(xn=e)}function qu(e){j(ht,ht.current),j(nn,e),xn===null&&(xn=e)}function ty(e){e.tag===22?(j(ht,ht.current),j(nn,e),xn===null&&(xn=e)):ja()}function ja(){j(ht,ht.current),j(nn,nn.current)}function an(e){k(nn),xn===e&&(xn=null),k(ht)}var ht=v(0);function Sr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Zd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kn=0,_e=null,Ie=null,bt=null,jr=!1,Ii=!1,si=!1,wr=0,tl=0,Ji=null,fN=0;function ct(){throw Error(r(321))}function Fu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!en(e[a],t[a]))return!1;return!0}function Yu(e,t,a,s,o,u){return Kn=u,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Vy:id,si=!1,u=a(s,o),si=!1,Ii&&(u=ay(t,a,s,o)),ny(e),u}function ny(e){B.H=il;var t=Ie!==null&&Ie.next!==null;if(Kn=0,bt=Ie=_e=null,jr=!1,tl=0,Ji=null,t)throw Error(r(300));e===null||vt||(e=e.dependencies,e!==null&&hr(e)&&(vt=!0))}function ay(e,t,a,s){_e=e;var o=0;do{if(Ii&&(Ji=null),tl=0,Ii=!1,25<=o)throw Error(r(301));if(o+=1,bt=Ie=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}B.H=By,u=t(a,s)}while(Ii);return u}function hN(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?nl(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(_e.flags|=1024),t}function Gu(){var e=wr!==0;return wr=0,e}function Xu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ku(e){if(jr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}jr=!1}Kn=0,bt=Ie=_e=null,Ii=!1,tl=wr=0,Ji=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?_e.memoizedState=bt=e:bt=bt.next=e,bt}function mt(){if(Ie===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=bt===null?_e.memoizedState:bt.next;if(t!==null)bt=t,Ie=e;else{if(e===null)throw _e.alternate===null?Error(r(467)):Error(r(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},bt===null?_e.memoizedState=bt=e:bt=bt.next=e}return bt}function Tr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var t=tl;return tl+=1,Ji===null&&(Ji=[]),e=Qg(Ji,e,t),t=_e,(bt===null?t.memoizedState:bt.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Vy:id),e}function Nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===$)return kt(e)}throw Error(r(438,String(e)))}function Qu(e){var t=null,a=_e.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=_e.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Tr(),_e.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=oe;return t.index++,a}function Qn(e,t){return typeof t=="function"?t(e):t}function Ar(e){var t=mt();return Zu(t,Ie,e)}function Zu(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var x=m=null,N=null,V=t,Z=!1;do{var ee=V.lane&-536870913;if(ee!==V.lane?(Ue&ee)===ee:(Kn&ee)===ee){var H=V.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ee===Ki&&(Z=!0);else if((Kn&H)===H){V=V.next,H===Ki&&(Z=!0);continue}else ee={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(x=N=ee,m=u):N=N.next=ee,_e.lanes|=H,Na|=H;ee=V.action,si&&a(u,ee),u=V.hasEagerState?V.eagerState:a(u,ee)}else H={lane:ee,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(x=N=H,m=u):N=N.next=H,_e.lanes|=ee,Na|=ee;V=V.next}while(V!==null&&V!==t);if(N===null?m=u:N.next=x,!en(u,e.memoizedState)&&(vt=!0,Z&&(a=Qi,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=N,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function $u(e){var t=mt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);en(u,t.memoizedState)||(vt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function iy(e,t,a){var s=_e,o=mt(),u=Ve;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!en((Ie||o).memoizedState,a);if(m&&(o.memoizedState=a,vt=!0),o=o.queue,Ju(ry.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||bt!==null&&bt.memoizedState.tag&1){if(s.flags|=2048,Wi(9,{destroy:void 0},ly.bind(null,s,o,a,t),null),et===null)throw Error(r(349));u||(Kn&127)!==0||sy(s,t,a)}return a}function sy(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=_e.updateQueue,t===null?(t=Tr(),_e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ly(e,t,a,s){t.value=a,t.getSnapshot=s,oy(t)&&cy(e)}function ry(e,t,a){return a(function(){oy(t)&&cy(e)})}function oy(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!en(e,a)}catch{return!0}}function cy(e){var t=Pa(e,2);t!==null&&Jt(t,e,2)}function Pu(e){var t=Ft();if(typeof e=="function"){var a=e;if(e=a(),si){jt(!0);try{a()}finally{jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t}function uy(e,t,a,s){return e.baseState=a,Zu(e,Ie,typeof s=="function"?s:Qn)}function mN(e,t,a,s,o){if(Er(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};B.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,dy(t,u)):(u.next=a.next,t.pending=a.next=u)}}function dy(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=B.T,m={};B.T=m;try{var x=a(o,s),N=B.S;N!==null&&N(m,x),fy(e,t,x)}catch(V){Iu(e,t,V)}finally{u!==null&&m.types!==null&&(u.types=m.types),B.T=u}}else try{u=a(o,s),fy(e,t,u)}catch(V){Iu(e,t,V)}}function fy(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){hy(e,t,s)},function(s){return Iu(e,t,s)}):hy(e,t,a)}function hy(e,t,a){t.status="fulfilled",t.value=a,my(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,dy(e,a)))}function Iu(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,my(t),t=t.next;while(t!==s)}e.action=null}function my(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function py(e,t){return t}function gy(e,t){if(Ve){var a=et.formState;if(a!==null){e:{var s=_e;if(Ve){if(nt){t:{for(var o=nt,u=vn;o.nodeType!==8;){if(!u){o=null;break t}if(o=Sn(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){nt=Sn(o.nextSibling),s=o.data==="F!";break e}}ga(s)}s=!1}s&&(t=a[0])}}return a=Ft(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:t},a.queue=s,a=Oy.bind(null,_e,s),s.dispatch=a,s=Pu(!1),u=ad.bind(null,_e,!1,s.queue),s=Ft(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=mN.bind(null,_e,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function yy(e){var t=mt();return by(t,Ie,e)}function by(e,t,a){if(t=Zu(e,t,py)[0],e=Ar(Qn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=nl(t)}catch(m){throw m===Zi?gr:m}else s=t;t=mt();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(_e.flags|=2048,Wi(9,{destroy:void 0},pN.bind(null,o,a),null)),[s,u,e]}function pN(e,t){e.action=t}function vy(e){var t=mt(),a=Ie;if(a!==null)return by(t,a,e);mt(),t=t.memoizedState,a=mt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Wi(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=_e.updateQueue,t===null&&(t=Tr(),_e.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function xy(){return mt().memoizedState}function Cr(e,t,a,s){var o=Ft();_e.flags|=e,o.memoizedState=Wi(1|t,{destroy:void 0},a,s===void 0?null:s)}function _r(e,t,a,s){var o=mt();s=s===void 0?null:s;var u=o.memoizedState.inst;Ie!==null&&s!==null&&Fu(s,Ie.memoizedState.deps)?o.memoizedState=Wi(t,u,a,s):(_e.flags|=e,o.memoizedState=Wi(1|t,u,a,s))}function Sy(e,t){Cr(8390656,8,e,t)}function Ju(e,t){_r(2048,8,e,t)}function gN(e){_e.flags|=4;var t=_e.updateQueue;if(t===null)t=Tr(),_e.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function jy(e){var t=mt().memoizedState;return gN({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function wy(e,t){return _r(4,2,e,t)}function Ty(e,t){return _r(4,4,e,t)}function Ny(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ay(e,t,a){a=a!=null?a.concat([e]):null,_r(4,4,Ny.bind(null,t,e),a)}function Wu(){}function Cy(e,t){var a=mt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Fu(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function _y(e,t){var a=mt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Fu(t,s[1]))return s[0];if(s=e(),si){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[s,t],s}function ed(e,t,a){return a===void 0||(Kn&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Eb(),_e.lanes|=e,Na|=e,a)}function Ey(e,t,a,s){return en(a,t)?a:Pi.current!==null?(e=ed(e,a,s),en(e,t)||(vt=!0),e):(Kn&42)===0||(Kn&1073741824)!==0&&(Ue&261930)===0?(vt=!0,e.memoizedState=a):(e=Eb(),_e.lanes|=e,Na|=e,t)}function My(e,t,a,s,o){var u=P.p;P.p=u!==0&&8>u?u:8;var m=B.T,x={};B.T=x,ad(e,!1,t,a);try{var N=o(),V=B.S;if(V!==null&&V(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=dN(N,s);al(e,t,Z,rn(e))}else al(e,t,s,rn(e))}catch(ee){al(e,t,{then:function(){},status:"rejected",reason:ee},rn())}finally{P.p=u,m!==null&&x.types!==null&&(m.types=x.types),B.T=m}}function yN(){}function td(e,t,a,s){if(e.tag!==5)throw Error(r(476));var o=Dy(e).queue;My(e,o,t,K,a===null?yN:function(){return ky(e),a(s)})}function Dy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:K},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ky(e){var t=Dy(e);t.next===null&&(t=e.alternate.memoizedState),al(e,t.next.queue,{},rn())}function nd(){return kt(xl)}function Ry(){return mt().memoizedState}function zy(){return mt().memoizedState}function bN(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=rn();e=va(a);var s=xa(t,e,a);s!==null&&(Jt(s,t,a),Js(s,t,a)),t={cache:Du()},e.payload=t;return}t=t.return}}function vN(e,t,a){var s=rn();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Er(e)?Uy(t,a):(a=xu(e,t,a,s),a!==null&&(Jt(a,e,s),Ly(a,t,s)))}function Oy(e,t,a){var s=rn();al(e,t,a,s)}function al(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Er(e))Uy(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,x=u(m,a);if(o.hasEagerState=!0,o.eagerState=x,en(x,m))return cr(e,t,o,0),et===null&&or(),!1}catch{}finally{}if(a=xu(e,t,o,s),a!==null)return Jt(a,e,s),Ly(a,t,s),!0}return!1}function ad(e,t,a,s){if(s={lane:2,revertLane:Od(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Er(e)){if(t)throw Error(r(479))}else t=xu(e,a,s,2),t!==null&&Jt(t,e,2)}function Er(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function Uy(e,t){Ii=jr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ly(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Pl(e,a)}}var il={readContext:kt,use:Nr,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};il.useEffectEvent=ct;var Vy={readContext:kt,use:Nr,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Sy,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Cr(4194308,4,Ny.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Cr(4194308,4,e,t)},useInsertionEffect:function(e,t){Cr(4,2,e,t)},useMemo:function(e,t){var a=Ft();t=t===void 0?null:t;var s=e();if(si){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ft();if(a!==void 0){var o=a(t);if(si){jt(!0);try{a(t)}finally{jt(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=vN.bind(null,_e,e),[s.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Pu(e);var t=e.queue,a=Oy.bind(null,_e,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Wu,useDeferredValue:function(e,t){var a=Ft();return ed(a,e,t)},useTransition:function(){var e=Pu(!1);return e=My.bind(null,_e,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=_e,o=Ft();if(Ve){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),et===null)throw Error(r(349));(Ue&127)!==0||sy(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Sy(ry.bind(null,s,u,e),[e]),s.flags|=2048,Wi(9,{destroy:void 0},ly.bind(null,s,u,a,t),null),a},useId:function(){var e=Ft(),t=et.identifierPrefix;if(Ve){var a=Rn,s=kn;a=(s&~(1<<32-gt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=wr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=fN++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nd,useFormState:gy,useActionState:gy,useOptimistic:function(e){var t=Ft();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ad.bind(null,_e,!0,a),a.dispatch=t,[e,t]},useMemoCache:Qu,useCacheRefresh:function(){return Ft().memoizedState=bN.bind(null,_e)},useEffectEvent:function(e){var t=Ft(),a={impl:e};return t.memoizedState=a,function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},id={readContext:kt,use:Nr,useCallback:Cy,useContext:kt,useEffect:Ju,useImperativeHandle:Ay,useInsertionEffect:wy,useLayoutEffect:Ty,useMemo:_y,useReducer:Ar,useRef:xy,useState:function(){return Ar(Qn)},useDebugValue:Wu,useDeferredValue:function(e,t){var a=mt();return Ey(a,Ie.memoizedState,e,t)},useTransition:function(){var e=Ar(Qn)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:iy,useId:Ry,useHostTransitionStatus:nd,useFormState:yy,useActionState:yy,useOptimistic:function(e,t){var a=mt();return uy(a,Ie,e,t)},useMemoCache:Qu,useCacheRefresh:zy};id.useEffectEvent=jy;var By={readContext:kt,use:Nr,useCallback:Cy,useContext:kt,useEffect:Ju,useImperativeHandle:Ay,useInsertionEffect:wy,useLayoutEffect:Ty,useMemo:_y,useReducer:$u,useRef:xy,useState:function(){return $u(Qn)},useDebugValue:Wu,useDeferredValue:function(e,t){var a=mt();return Ie===null?ed(a,e,t):Ey(a,Ie.memoizedState,e,t)},useTransition:function(){var e=$u(Qn)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:iy,useId:Ry,useHostTransitionStatus:nd,useFormState:vy,useActionState:vy,useOptimistic:function(e,t){var a=mt();return Ie!==null?uy(a,Ie,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:zy};By.useEffectEvent=jy;function sd(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ld={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=rn(),o=va(s);o.payload=t,a!=null&&(o.callback=a),t=xa(e,o,s),t!==null&&(Jt(t,e,s),Js(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=rn(),o=va(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=xa(e,o,s),t!==null&&(Jt(t,e,s),Js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=rn(),s=va(a);s.tag=2,t!=null&&(s.callback=t),t=xa(e,s,a),t!==null&&(Jt(t,e,a),Js(t,e,a))}};function Hy(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!Gs(a,s)||!Gs(o,u):!0}function qy(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function li(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Fy(e){rr(e)}function Yy(e){console.error(e)}function Gy(e){rr(e)}function Mr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Xy(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function rd(e,t,a){return a=va(a),a.tag=3,a.payload={element:null},a.callback=function(){Mr(e,t)},a}function Ky(e){return e=va(e),e.tag=3,e}function Qy(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Xy(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Xy(t,a,s),typeof o!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function xN(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Xi(t,a,o,!0),a=nn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?Fr():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===yr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),kd(e,s,o)),!1;case 22:return a.flags|=65536,s===yr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),kd(e,s,o)),!1}throw Error(r(435,a.tag))}return kd(e,s,o),Fr(),!1}if(Ve)return t=nn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Au&&(e=Error(r(422),{cause:s}),Qs(gn(e,a)))):(s!==Au&&(t=Error(r(423),{cause:s}),Qs(gn(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=gn(s,a),o=rd(e.stateNode,s,o),Lu(e,o),ut!==4&&(ut=2)),!1;var u=Error(r(520),{cause:s});if(u=gn(u,a),fl===null?fl=[u]:fl.push(u),ut!==4&&(ut=2),t===null)return!0;s=gn(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=rd(a.stateNode,s,e),Lu(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Aa===null||!Aa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Ky(o),Qy(o,e,a,s),Lu(a,o),!1}a=a.return}while(a!==null);return!1}var od=Error(r(461)),vt=!1;function Rt(e,t,a,s){t.child=e===null?Ig(t,null,a,s):ii(t,e.child,a,s)}function Zy(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var x in s)x!=="ref"&&(m[x]=s[x])}else m=s;return ei(t),s=Yu(e,t,a,m,u,o),x=Gu(),e!==null&&!vt?(Xu(e,t,o),Zn(e,t,o)):(Ve&&x&&Tu(t),t.flags|=1,Rt(e,t,s,o),t.child)}function $y(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!Su(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Py(e,t,u,s,o)):(e=dr(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!gd(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Gs,a(m,s)&&e.ref===t.ref)return Zn(e,t,o)}return t.flags|=1,e=Fn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Py(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(Gs(u,s)&&e.ref===t.ref)if(vt=!1,t.pendingProps=s=u,gd(e,o))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,Zn(e,t,o)}return cd(e,t,a,s,o)}function Iy(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Jy(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pr(t,u!==null?u.cachePool:null),u!==null?ey(t,u):Bu(),ty(t);else return s=t.lanes=536870912,Jy(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(pr(t,u.cachePool),ey(t,u),ja(),t.memoizedState=null):(e!==null&&pr(t,null),Bu(),ja());return Rt(e,t,o,a),t.child}function sl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jy(e,t,a,s,o){var u=Ru();return u=u===null?null:{parent:yt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&pr(t,null),Bu(),ty(t),e!==null&&Xi(e,t,s,!0),t.childLanes=o,null}function Dr(e,t){return t=Rr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wy(e,t,a){return ii(t,e.child,null,a),e=Dr(t,t.pendingProps),e.flags|=2,an(t),t.memoizedState=null,e}function SN(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ve){if(s.mode==="hidden")return e=Dr(t,s),t.lanes=536870912,sl(null,e);if(qu(t),(e=nt)?(e=dv(e,vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:kn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=Ug(e),a.return=t,t.child=a,Dt=t,nt=null)):e=null,e===null)throw ga(t);return t.lanes=536870912,null}return Dr(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(qu(t),o)if(t.flags&256)t.flags&=-257,t=Wy(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(vt||Xi(e,t,a,!1),o=(a&e.childLanes)!==0,vt||o){if(s=et,s!==null&&(m=Ci(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,Pa(e,m),Jt(s,e,m),od;Fr(),t=Wy(e,t,a)}else e=u.treeContext,nt=Sn(m.nextSibling),Dt=t,Ve=!0,pa=null,vn=!1,e!==null&&Bg(t,e),t=Dr(t,s),t.flags|=4096;return t}return e=Fn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function kr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function cd(e,t,a,s,o){return ei(t),a=Yu(e,t,a,s,void 0,o),s=Gu(),e!==null&&!vt?(Xu(e,t,o),Zn(e,t,o)):(Ve&&s&&Tu(t),t.flags|=1,Rt(e,t,a,o),t.child)}function eb(e,t,a,s,o,u){return ei(t),t.updateQueue=null,a=ay(t,s,a,o),ny(e),s=Gu(),e!==null&&!vt?(Xu(e,t,u),Zn(e,t,u)):(Ve&&s&&Tu(t),t.flags|=1,Rt(e,t,a,u),t.child)}function tb(e,t,a,s,o){if(ei(t),t.stateNode===null){var u=qi,m=a.contextType;typeof m=="object"&&m!==null&&(u=kt(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ld,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Ou(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?kt(m):qi,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(sd(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&ld.enqueueReplaceState(u,u.state,null),el(t,s,u,o),Ws(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var x=t.memoizedProps,N=li(a,x);u.props=N;var V=u.context,Z=a.contextType;m=qi,typeof Z=="object"&&Z!==null&&(m=kt(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof u.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,Z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x||V!==m)&&qy(t,u,s,m),ba=!1;var H=t.memoizedState;u.state=H,el(t,s,u,o),Ws(),V=t.memoizedState,x||H!==V||ba?(typeof ee=="function"&&(sd(t,a,ee,s),V=t.memoizedState),(N=ba||Hy(t,a,N,s,H,V,m))?(Z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=V),u.props=s,u.state=V,u.context=m,s=N):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Uu(e,t),m=t.memoizedProps,Z=li(a,m),u.props=Z,ee=t.pendingProps,H=u.context,V=a.contextType,N=qi,typeof V=="object"&&V!==null&&(N=kt(V)),x=a.getDerivedStateFromProps,(V=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==ee||H!==N)&&qy(t,u,s,N),ba=!1,H=t.memoizedState,u.state=H,el(t,s,u,o),Ws();var Y=t.memoizedState;m!==ee||H!==Y||ba||e!==null&&e.dependencies!==null&&hr(e.dependencies)?(typeof x=="function"&&(sd(t,a,x,s),Y=t.memoizedState),(Z=ba||Hy(t,a,Z,s,H,Y,N)||e!==null&&e.dependencies!==null&&hr(e.dependencies))?(V||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,Y,N),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,Y,N)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Y),u.props=s,u.state=Y,u.context=N,s=Z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,kr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=ii(t,e.child,null,o),t.child=ii(t,null,a,o)):Rt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=Zn(e,t,o),e}function nb(e,t,a,s){return Ja(),t.flags|=256,Rt(e,t,a,s),t.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(e){return{baseLanes:e,cachePool:Xg()}}function fd(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ln),e}function ab(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(o?Sa(t):ja(),(e=nt)?(e=dv(e,vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:kn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},a=Ug(e),a.return=t,t.child=a,Dt=t,nt=null)):e=null,e===null)throw ga(t);return Zd(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,o?(ja(),o=t.mode,x=Rr({mode:"hidden",children:x},o),s=Ia(s,o,a,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=dd(a),s.childLanes=fd(e,m,a),t.memoizedState=ud,sl(null,s)):(Sa(t),hd(t,x))}var N=e.memoizedState;if(N!==null&&(x=N.dehydrated,x!==null)){if(u)t.flags&256?(Sa(t),t.flags&=-257,t=md(e,t,a)):t.memoizedState!==null?(ja(),t.child=e.child,t.flags|=128,t=null):(ja(),x=s.fallback,o=t.mode,s=Rr({mode:"visible",children:s.children},o),x=Ia(x,o,a,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,ii(t,e.child,null,a),s=t.child,s.memoizedState=dd(a),s.childLanes=fd(e,m,a),t.memoizedState=ud,t=sl(null,s));else if(Sa(t),Zd(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var V=m.dgst;m=V,s=Error(r(419)),s.stack="",s.digest=m,Qs({value:s,source:null,stack:null}),t=md(e,t,a)}else if(vt||Xi(e,t,a,!1),m=(a&e.childLanes)!==0,vt||m){if(m=et,m!==null&&(s=Ci(m,a),s!==0&&s!==N.retryLane))throw N.retryLane=s,Pa(e,s),Jt(m,e,s),od;Qd(x)||Fr(),t=md(e,t,a)}else Qd(x)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,nt=Sn(x.nextSibling),Dt=t,Ve=!0,pa=null,vn=!1,e!==null&&Bg(t,e),t=hd(t,s.children),t.flags|=4096);return t}return o?(ja(),x=s.fallback,o=t.mode,N=e.child,V=N.sibling,s=Fn(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,V!==null?x=Fn(V,x):(x=Ia(x,o,a,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,sl(null,s),s=t.child,x=e.child.memoizedState,x===null?x=dd(a):(o=x.cachePool,o!==null?(N=yt._currentValue,o=o.parent!==N?{parent:N,pool:N}:o):o=Xg(),x={baseLanes:x.baseLanes|a,cachePool:o}),s.memoizedState=x,s.childLanes=fd(e,m,a),t.memoizedState=ud,sl(e.child,s)):(Sa(t),a=e.child,e=a.sibling,a=Fn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function hd(e,t){return t=Rr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rr(e,t){return e=tn(22,e,null,t),e.lanes=0,e}function md(e,t,a){return ii(t,e.child,null,a),e=hd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ib(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Eu(e.return,t,a)}function pd(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function sb(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=ht.current,x=(m&2)!==0;if(x?(m=m&1|2,t.flags|=128):m&=1,j(ht,m),Rt(e,t,s,a),s=Ve?Ks:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ib(e,a,t);else if(e.tag===19)ib(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Sr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),pd(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Sr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}pd(t,!0,a,null,u,s);break;case"together":pd(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Zn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xi(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=Fn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Fn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function gd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hr(e)))}function jN(e,t,a){switch(t.tag){case 3:ie(t,t.stateNode.containerInfo),ya(t,yt,e.memoizedState.cache),Ja();break;case 27:case 5:ve(t);break;case 4:ie(t,t.stateNode.containerInfo);break;case 10:ya(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Sa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ab(e,t,a):(Sa(t),e=Zn(e,t,a),e!==null?e.sibling:null);Sa(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Xi(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return sb(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),j(ht,ht.current),s)break;return null;case 22:return t.lanes=0,Iy(e,t,a,t.pendingProps);case 24:ya(t,yt,e.memoizedState.cache)}return Zn(e,t,a)}function lb(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!gd(e,a)&&(t.flags&128)===0)return vt=!1,jN(e,t,a);vt=(e.flags&131072)!==0}else vt=!1,Ve&&(t.flags&1048576)!==0&&Vg(t,Ks,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ni(t.elementType),t.type=e,typeof e=="function")Su(e)?(s=li(e,s),t.tag=1,t=tb(null,t,e,s,a)):(t.tag=0,t=cd(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=Zy(null,t,e,s,a);break e}else if(o===G){t.tag=14,t=$y(null,t,e,s,a);break e}}throw t=be(e)||e,Error(r(306,t,""))}}return t;case 0:return cd(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=li(s,t.pendingProps),tb(e,t,s,o,a);case 3:e:{if(ie(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,Uu(e,t),el(t,s,null,a);var m=t.memoizedState;if(s=m.cache,ya(t,yt,s),s!==u.cache&&Mu(t,[yt],a,!0),Ws(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=nb(e,t,s,a);break e}else if(s!==o){o=gn(Error(r(424)),t),Qs(o),t=nb(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nt=Sn(e.firstChild),Dt=t,Ve=!0,pa=null,vn=!0,a=Ig(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ja(),s===o){t=Zn(e,t,a);break e}Rt(e,t,s,a)}t=t.child}return t;case 26:return kr(e,t),e===null?(a=yv(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ve||(a=t.type,e=t.pendingProps,s=$r(I.current).createElement(a),s[Mt]=t,s[Kt]=e,zt(s,a,e),At(s),t.stateNode=s):t.memoizedState=yv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&Ve&&(s=t.stateNode=mv(t.type,t.pendingProps,I.current),Dt=t,vn=!0,o=nt,Ma(t.type)?($d=o,nt=Sn(s.firstChild)):nt=o),Rt(e,t,t.pendingProps.children,a),kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((o=s=nt)&&(s=JN(s,t.type,t.pendingProps,vn),s!==null?(t.stateNode=s,Dt=t,nt=Sn(s.firstChild),vn=!1,o=!0):o=!1),o||ga(t)),ve(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,Gd(o,u)?s=null:m!==null&&Gd(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Yu(e,t,hN,null,null,a),xl._currentValue=o),kr(e,t),Rt(e,t,s,a),t.child;case 6:return e===null&&Ve&&((e=a=nt)&&(a=WN(a,t.pendingProps,vn),a!==null?(t.stateNode=a,Dt=t,nt=null,e=!0):e=!1),e||ga(t)),null;case 13:return ab(e,t,a);case 4:return ie(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ii(t,null,s,a):Rt(e,t,s,a),t.child;case 11:return Zy(e,t,t.type,t.pendingProps,a);case 7:return Rt(e,t,t.pendingProps,a),t.child;case 8:return Rt(e,t,t.pendingProps.children,a),t.child;case 12:return Rt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,ya(t,t.type,s.value),Rt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ei(t),o=kt(o),s=s(o),t.flags|=1,Rt(e,t,s,a),t.child;case 14:return $y(e,t,t.type,t.pendingProps,a);case 15:return Py(e,t,t.type,t.pendingProps,a);case 19:return sb(e,t,a);case 31:return SN(e,t,a);case 22:return Iy(e,t,a,t.pendingProps);case 24:return ei(t),s=kt(yt),e===null?(o=Ru(),o===null&&(o=et,u=Du(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},Ou(t),ya(t,yt,o)):((e.lanes&a)!==0&&(Uu(e,t),el(t,null,null,a),Ws()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ya(t,yt,s)):(s=u.cache,ya(t,yt,s),s!==o.cache&&Mu(t,[yt],a,!0))),Rt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function $n(e){e.flags|=4}function yd(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Rb())e.flags|=8192;else throw ai=yr,zu}else e.flags&=-16777217}function rb(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jv(t))if(Rb())e.flags|=8192;else throw ai=yr,zu}function zr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wt():536870912,e.lanes|=t,as|=t)}function ll(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function wN(e,t,a){var s=t.pendingProps;switch(Nu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return at(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Xn(yt),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?$n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),at(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?($n(t),u!==null?(at(t),rb(t,u)):(at(t),yd(t,o,null,s,a))):u?u!==e.memoizedState?($n(t),at(t),rb(t,u)):(at(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&$n(t),at(t),yd(t,o,e,s,a)),null;case 27:if(Se(t),a=I.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return at(t),null}e=z.current,Gi(t)?Hg(t):(e=mv(o,s,a),t.stateNode=e,$n(t))}return at(t),null;case 5:if(Se(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return at(t),null}if(u=z.current,Gi(t))Hg(t);else{var m=$r(I.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[Mt]=t,u[Kt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(zt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&$n(t)}}return at(t),yd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&$n(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=I.current,Gi(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=Dt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||av(e.nodeValue,a)),e||ga(t,!0)}else e=$r(e).createTextNode(s),e[Mt]=t,t.stateNode=e}return at(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Gi(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Mt]=t}else Ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),e=!1}else a=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(an(t),t):(an(t),null);if((t.flags&128)!==0)throw Error(r(558))}return at(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Gi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[Mt]=t}else Ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),o=!1}else o=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(an(t),t):(an(t),null)}return an(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),zr(t,t.updateQueue),at(t),null);case 4:return de(),e===null&&Bd(t.stateNode.containerInfo),at(t),null;case 10:return Xn(t.type),at(t),null;case 19:if(k(ht),s=t.memoizedState,s===null)return at(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)ll(s,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Sr(e),u!==null){for(t.flags|=128,ll(s,!1),e=u.updateQueue,t.updateQueue=e,zr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Og(a,e),a=a.sibling;return j(ht,ht.current&1|2),Ve&&Yn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ye()>Br&&(t.flags|=128,o=!0,ll(s,!1),t.lanes=4194304)}else{if(!o)if(e=Sr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,zr(t,e),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Ve)return at(t),null}else 2*ye()-s.renderingStartTime>Br&&a!==536870912&&(t.flags|=128,o=!0,ll(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ye(),e.sibling=null,a=ht.current,j(ht,o?a&1|2:a&1),Ve&&Yn(t,s.treeForkCount),e):(at(t),null);case 22:case 23:return an(t),Hu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),a=t.updateQueue,a!==null&&zr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&k(ti),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Xn(yt),at(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function TN(e,t){switch(Nu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(yt),de(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Se(t),null;case 31:if(t.memoizedState!==null){if(an(t),t.alternate===null)throw Error(r(340));Ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(an(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(ht),null;case 4:return de(),null;case 10:return Xn(t.type),null;case 22:case 23:return an(t),Hu(),e!==null&&k(ti),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xn(yt),null;case 25:return null;default:return null}}function ob(e,t){switch(Nu(t),t.tag){case 3:Xn(yt),de();break;case 26:case 27:case 5:Se(t);break;case 4:de();break;case 31:t.memoizedState!==null&&an(t);break;case 13:an(t);break;case 19:k(ht);break;case 10:Xn(t.type);break;case 22:case 23:an(t),Hu(),e!==null&&k(ti);break;case 24:Xn(yt)}}function rl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(x){$e(t,t.return,x)}}function wa(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,o=t;var N=a,V=x;try{V()}catch(Z){$e(o,N,Z)}}}s=s.next}while(s!==u)}}catch(Z){$e(t,t.return,Z)}}function cb(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Wg(t,a)}catch(s){$e(e,e.return,s)}}}function ub(e,t,a){a.props=li(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){$e(e,t,s)}}function ol(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){$e(e,t,o)}}function zn(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){$e(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){$e(e,t,o)}else a.current=null}function db(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){$e(e,e.return,o)}}function bd(e,t,a){try{var s=e.stateNode;KN(s,e.type,a,t),s[Kt]=t}catch(o){$e(e,e.return,o)}}function fb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ma(e.type)||e.tag===4}function vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xd(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Hn));else if(s!==4&&(s===27&&Ma(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(xd(e,t,a),e=e.sibling;e!==null;)xd(e,t,a),e=e.sibling}function Or(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ma(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Or(e,t,a),e=e.sibling;e!==null;)Or(e,t,a),e=e.sibling}function hb(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);zt(t,s,a),t[Mt]=e,t[Kt]=a}catch(u){$e(e,e.return,u)}}var Pn=!1,xt=!1,Sd=!1,mb=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function NN(e,t){if(e=e.containerInfo,Fd=no,e=Ag(e),mu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,x=-1,N=-1,V=0,Z=0,ee=e,H=null;t:for(;;){for(var Y;ee!==a||o!==0&&ee.nodeType!==3||(x=m+o),ee!==u||s!==0&&ee.nodeType!==3||(N=m+s),ee.nodeType===3&&(m+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)H=ee,ee=Y;for(;;){if(ee===e)break t;if(H===a&&++V===o&&(x=m),H===u&&++Z===s&&(N=m),(Y=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Y}a=x===-1||N===-1?null:{start:x,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:e,selectionRange:a},no=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){switch(t=Ct,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var he=li(a.type,o);e=s.getSnapshotBeforeUpdate(he,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(je){$e(a,a.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}}function pb(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Jn(e,a),s&4&&rl(5,a);break;case 1:if(Jn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){$e(a,a.return,m)}else{var o=li(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){$e(a,a.return,m)}}s&64&&cb(a),s&512&&ol(a,a.return);break;case 3:if(Jn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Wg(e,t)}catch(m){$e(a,a.return,m)}}break;case 27:t===null&&s&4&&hb(a);case 26:case 5:Jn(e,a),t===null&&s&4&&db(a),s&512&&ol(a,a.return);break;case 12:Jn(e,a);break;case 31:Jn(e,a),s&4&&bb(e,a);break;case 13:Jn(e,a),s&4&&vb(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=zN.bind(null,a),eA(e,a))));break;case 22:if(s=a.memoizedState!==null||Pn,!s){t=t!==null&&t.memoizedState!==null||xt,o=Pn;var u=xt;Pn=s,(xt=t)&&!u?Wn(e,a,(a.subtreeFlags&8772)!==0):Jn(e,a),Pn=o,xt=u}break;case 30:break;default:Jn(e,a)}}function gb(e){var t=e.alternate;t!==null&&(e.alternate=null,gb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ic(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,Zt=!1;function In(e,t,a){for(a=a.child;a!==null;)yb(e,t,a),a=a.sibling}function yb(e,t,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Nt,a)}catch{}switch(a.tag){case 26:xt||zn(a,t),In(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||zn(a,t);var s=st,o=Zt;Ma(a.type)&&(st=a.stateNode,Zt=!1),In(e,t,a),yl(a.stateNode),st=s,Zt=o;break;case 5:xt||zn(a,t);case 6:if(s=st,o=Zt,st=null,In(e,t,a),st=s,Zt=o,st!==null)if(Zt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(u){$e(a,t,u)}else try{st.removeChild(a.stateNode)}catch(u){$e(a,t,u)}break;case 18:st!==null&&(Zt?(e=st,cv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ds(e)):cv(st,a.stateNode));break;case 4:s=st,o=Zt,st=a.stateNode.containerInfo,Zt=!0,In(e,t,a),st=s,Zt=o;break;case 0:case 11:case 14:case 15:wa(2,a,t),xt||wa(4,a,t),In(e,t,a);break;case 1:xt||(zn(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&ub(a,t,s)),In(e,t,a);break;case 21:In(e,t,a);break;case 22:xt=(s=xt)||a.memoizedState!==null,In(e,t,a),xt=s;break;default:In(e,t,a)}}function bb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ds(e)}catch(a){$e(t,t.return,a)}}}function vb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ds(e)}catch(a){$e(t,t.return,a)}}function AN(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mb),t;default:throw Error(r(435,e.tag))}}function Ur(e,t){var a=AN(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=ON.bind(null,e,s);s.then(o,o)}})}function $t(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 27:if(Ma(x.type)){st=x.stateNode,Zt=!1;break e}break;case 5:st=x.stateNode,Zt=!1;break e;case 3:case 4:st=x.stateNode.containerInfo,Zt=!0;break e}x=x.return}if(st===null)throw Error(r(160));yb(u,m,o),st=null,Zt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xb(t,e),t=t.sibling}var Nn=null;function xb(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),Pt(e),s&4&&(wa(3,e,e.return),rl(3,e),wa(5,e,e.return));break;case 1:$t(t,e),Pt(e),s&512&&(xt||a===null||zn(a,a.return)),s&64&&Pn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Nn;if($t(t,e),Pt(e),s&512&&(xt||a===null||zn(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Os]||u[Mt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),zt(u,s,a),u[Mt]=e,At(u),s=u;break e;case"link":var m=xv("link","href",o).get(s+(a.href||""));if(m){for(var x=0;x<m.length;x++)if(u=m[x],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(x,1);break t}}u=o.createElement(s),zt(u,s,a),o.head.appendChild(u);break;case"meta":if(m=xv("meta","content",o).get(s+(a.content||""))){for(x=0;x<m.length;x++)if(u=m[x],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(x,1);break t}}u=o.createElement(s),zt(u,s,a),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[Mt]=e,At(u),s=u}e.stateNode=s}else Sv(o,e.type,e.stateNode);else e.stateNode=vv(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?Sv(o,e.type,e.stateNode):vv(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:$t(t,e),Pt(e),s&512&&(xt||a===null||zn(a,a.return)),a!==null&&s&4&&bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if($t(t,e),Pt(e),s&512&&(xt||a===null||zn(a,a.return)),e.flags&32){o=e.stateNode;try{zi(o,"")}catch(he){$e(e,e.return,he)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,bd(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Sd=!0);break;case 6:if($t(t,e),Pt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(he){$e(e,e.return,he)}}break;case 3:if(Jr=null,o=Nn,Nn=Pr(t.containerInfo),$t(t,e),Nn=o,Pt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(he){$e(e,e.return,he)}Sd&&(Sd=!1,Sb(e));break;case 4:s=Nn,Nn=Pr(e.stateNode.containerInfo),$t(t,e),Pt(e),Nn=s;break;case 12:$t(t,e),Pt(e);break;case 31:$t(t,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ur(e,s)));break;case 13:$t(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vr=ye()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ur(e,s)));break;case 22:o=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,V=Pn,Z=xt;if(Pn=V||o,xt=Z||N,$t(t,e),xt=Z,Pn=V,Pt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||N||Pn||xt||ri(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){N=a=t;try{if(u=N.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=N.stateNode;var ee=N.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){$e(N,N.return,he)}}}else if(t.tag===6){if(a===null){N=t;try{N.stateNode.nodeValue=o?"":N.memoizedProps}catch(he){$e(N,N.return,he)}}}else if(t.tag===18){if(a===null){N=t;try{var Y=N.stateNode;o?uv(Y,!0):uv(N.stateNode,!1)}catch(he){$e(N,N.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Ur(e,a))));break;case 19:$t(t,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ur(e,s)));break;case 30:break;case 21:break;default:$t(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(fb(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=vd(e);Or(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(zi(m,""),a.flags&=-33);var x=vd(e);Or(e,x,m);break;case 3:case 4:var N=a.stateNode.containerInfo,V=vd(e);xd(e,V,N);break;default:throw Error(r(161))}}catch(Z){$e(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pb(e,t.alternate,t),t=t.sibling}function ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wa(4,t,t.return),ri(t);break;case 1:zn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ub(t,t.return,a),ri(t);break;case 27:yl(t.stateNode);case 26:case 5:zn(t,t.return),ri(t);break;case 22:t.memoizedState===null&&ri(t);break;case 30:ri(t);break;default:ri(t)}e=e.sibling}}function Wn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Wn(o,u,a),rl(4,u);break;case 1:if(Wn(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(V){$e(s,s.return,V)}if(s=u,o=s.updateQueue,o!==null){var x=s.stateNode;try{var N=o.shared.hiddenCallbacks;if(N!==null)for(o.shared.hiddenCallbacks=null,o=0;o<N.length;o++)Jg(N[o],x)}catch(V){$e(s,s.return,V)}}a&&m&64&&cb(u),ol(u,u.return);break;case 27:hb(u);case 26:case 5:Wn(o,u,a),a&&s===null&&m&4&&db(u),ol(u,u.return);break;case 12:Wn(o,u,a);break;case 31:Wn(o,u,a),a&&m&4&&bb(o,u);break;case 13:Wn(o,u,a),a&&m&4&&vb(o,u);break;case 22:u.memoizedState===null&&Wn(o,u,a),ol(u,u.return);break;case 30:break;default:Wn(o,u,a)}t=t.sibling}}function jd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zs(a))}function wd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zs(e))}function An(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jb(e,t,a,s),t=t.sibling}function jb(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:An(e,t,a,s),o&2048&&rl(9,t);break;case 1:An(e,t,a,s);break;case 3:An(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zs(e)));break;case 12:if(o&2048){An(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,x=u.onPostCommit;typeof x=="function"&&x(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){$e(t,t.return,N)}}else An(e,t,a,s);break;case 31:An(e,t,a,s);break;case 13:An(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?An(e,t,a,s):cl(e,t):u._visibility&2?An(e,t,a,s):(u._visibility|=2,es(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&jd(m,t);break;case 24:An(e,t,a,s),o&2048&&wd(t.alternate,t);break;default:An(e,t,a,s)}}function es(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,x=a,N=s,V=m.flags;switch(m.tag){case 0:case 11:case 15:es(u,m,x,N,o),rl(8,m);break;case 23:break;case 22:var Z=m.stateNode;m.memoizedState!==null?Z._visibility&2?es(u,m,x,N,o):cl(u,m):(Z._visibility|=2,es(u,m,x,N,o)),o&&V&2048&&jd(m.alternate,m);break;case 24:es(u,m,x,N,o),o&&V&2048&&wd(m.alternate,m);break;default:es(u,m,x,N,o)}t=t.sibling}}function cl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:cl(a,s),o&2048&&jd(s.alternate,s);break;case 24:cl(a,s),o&2048&&wd(s.alternate,s);break;default:cl(a,s)}t=t.sibling}}var ul=8192;function ts(e,t,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)wb(e,t,a),e=e.sibling}function wb(e,t,a){switch(e.tag){case 26:ts(e,t,a),e.flags&ul&&e.memoizedState!==null&&fA(a,Nn,e.memoizedState,e.memoizedProps);break;case 5:ts(e,t,a);break;case 3:case 4:var s=Nn;Nn=Pr(e.stateNode.containerInfo),ts(e,t,a),Nn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ul,ul=16777216,ts(e,t,a),ul=s):ts(e,t,a));break;default:ts(e,t,a)}}function Tb(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Ct=s,Ab(s,e)}Tb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nb(e),e=e.sibling}function Nb(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&wa(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Lr(e)):dl(e);break;default:dl(e)}}function Lr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Ct=s,Ab(s,e)}Tb(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wa(8,t,t.return),Lr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Lr(t));break;default:Lr(t)}e=e.sibling}}function Ab(e,t){for(;Ct!==null;){var a=Ct;switch(a.tag){case 0:case 11:case 15:wa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Zs(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Ct=s;else e:for(a=e;Ct!==null;){s=Ct;var o=s.sibling,u=s.return;if(gb(s),s===a){Ct=null;break e}if(o!==null){o.return=u,Ct=o;break e}Ct=u}}}var CN={getCacheForType:function(e){var t=kt(yt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return kt(yt).controller.signal}},_N=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,ke=null,Ue=0,Ze=0,sn=null,Ta=!1,ns=!1,Td=!1,ea=0,ut=0,Na=0,oi=0,Nd=0,ln=0,as=0,fl=null,It=null,Ad=!1,Vr=0,Cb=0,Br=1/0,Hr=null,Aa=null,wt=0,Ca=null,is=null,ta=0,Cd=0,_d=null,_b=null,hl=0,Ed=null;function rn(){return(Ge&2)!==0&&Ue!==0?Ue&-Ue:B.T!==null?Od():Gp()}function Eb(){if(ln===0)if((Ue&536870912)===0||Ve){var e=Ni;Ni<<=1,(Ni&3932160)===0&&(Ni=262144),ln=e}else ln=536870912;return e=nn.current,e!==null&&(e.flags|=32),ln}function Jt(e,t,a){(e===et&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(ss(e,0),_a(e,Ue,ln,!1)),fn(e,a),((Ge&2)===0||e!==et)&&(e===et&&((Ge&2)===0&&(oi|=a),ut===4&&_a(e,Ue,ln,!1)),On(e))}function Mb(e,t,a){if((Ge&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Xa(e,t),o=s?DN(e,t):Dd(e,t,!0),u=s;do{if(o===0){ns&&!s&&_a(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!EN(a)){o=Dd(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var x=e;o=fl;var N=x.current.memoizedState.isDehydrated;if(N&&(ss(x,m).flags|=256),m=Dd(x,m,!1),m!==2){if(Td&&!N){x.errorRecoveryDisabledLanes|=u,oi|=u,o=4;break e}u=It,It=o,u!==null&&(It===null?It=u:It.push.apply(It,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){ss(e,0),_a(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:_a(s,t,ln,!Ta);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Vr+300-ye(),10<o)){if(_a(s,t,ln,!Ta),Ga(s,0,!0)!==0)break e;ta=t,s.timeoutHandle=rv(Db.bind(null,s,a,It,Hr,Ad,t,ln,oi,as,Ta,u,"Throttled",-0,0),o);break e}Db(s,a,It,Hr,Ad,t,ln,oi,as,Ta,u,null,-0,0)}}break}while(!0);On(e)}function Db(e,t,a,s,o,u,m,x,N,V,Z,ee,H,Y){if(e.timeoutHandle=-1,ee=t.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},wb(t,u,ee);var he=(u&62914560)===u?Vr-ye():(u&4194048)===u?Cb-ye():0;if(he=hA(ee,he),he!==null){ta=u,e.cancelPendingCommit=he(Bb.bind(null,e,t,u,a,s,o,m,x,N,Z,ee,null,H,Y)),_a(e,u,m,!V);return}}Bb(e,t,u,a,s,o,m,x,N)}function EN(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!en(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t,a,s){t&=~Nd,t&=~oi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-gt(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&zs(e,a,t)}function qr(){return(Ge&6)===0?(ml(0),!1):!0}function Md(){if(ke!==null){if(Ze===0)var e=ke.return;else e=ke,Gn=Wa=null,Ku(e),$i=null,Ps=0,e=ke;for(;e!==null;)ob(e.alternate,e),e=e.return;ke=null}}function ss(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$N(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ta=0,Md(),et=e,ke=a=Fn(e.current,null),Ue=t,Ze=0,sn=null,Ta=!1,ns=Xa(e,t),Td=!1,as=ln=Nd=oi=Na=ut=0,It=fl=null,Ad=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-gt(s),u=1<<o;t|=e[o],s&=~u}return ea=t,or(),a}function kb(e,t){_e=null,B.H=il,t===Zi||t===gr?(t=Zg(),Ze=3):t===zu?(t=Zg(),Ze=4):Ze=t===od?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,ke===null&&(ut=1,Mr(e,gn(t,e.current)))}function Rb(){var e=nn.current;return e===null?!0:(Ue&4194048)===Ue?xn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===xn:!1}function zb(){var e=B.H;return B.H=il,e===null?il:e}function Ob(){var e=B.A;return B.A=CN,e}function Fr(){ut=4,Ta||(Ue&4194048)!==Ue&&nn.current!==null||(ns=!0),(Na&134217727)===0&&(oi&134217727)===0||et===null||_a(et,Ue,ln,!1)}function Dd(e,t,a){var s=Ge;Ge|=2;var o=zb(),u=Ob();(et!==e||Ue!==t)&&(Hr=null,ss(e,t)),t=!1;var m=ut;e:do try{if(Ze!==0&&ke!==null){var x=ke,N=sn;switch(Ze){case 8:Md(),m=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(t=!0);var V=Ze;if(Ze=0,sn=null,ls(e,x,N,V),a&&ns){m=0;break e}break;default:V=Ze,Ze=0,sn=null,ls(e,x,N,V)}}MN(),m=ut;break}catch(Z){kb(e,Z)}while(!0);return t&&e.shellSuspendCounter++,Gn=Wa=null,Ge=s,B.H=o,B.A=u,ke===null&&(et=null,Ue=0,or()),m}function MN(){for(;ke!==null;)Ub(ke)}function DN(e,t){var a=Ge;Ge|=2;var s=zb(),o=Ob();et!==e||Ue!==t?(Hr=null,Br=ye()+500,ss(e,t)):ns=Xa(e,t);e:do try{if(Ze!==0&&ke!==null){t=ke;var u=sn;t:switch(Ze){case 1:Ze=0,sn=null,ls(e,t,u,1);break;case 2:case 9:if(Kg(u)){Ze=0,sn=null,Lb(t);break}t=function(){Ze!==2&&Ze!==9||et!==e||(Ze=7),On(e)},u.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Kg(u)?(Ze=0,sn=null,Lb(t)):(Ze=0,sn=null,ls(e,t,u,7));break;case 5:var m=null;switch(ke.tag){case 26:m=ke.memoizedState;case 5:case 27:var x=ke;if(m?jv(m):x.stateNode.complete){Ze=0,sn=null;var N=x.sibling;if(N!==null)ke=N;else{var V=x.return;V!==null?(ke=V,Yr(V)):ke=null}break t}}Ze=0,sn=null,ls(e,t,u,5);break;case 6:Ze=0,sn=null,ls(e,t,u,6);break;case 8:Md(),ut=6;break e;default:throw Error(r(462))}}kN();break}catch(Z){kb(e,Z)}while(!0);return Gn=Wa=null,B.H=s,B.A=o,Ge=a,ke!==null?0:(et=null,Ue=0,or(),ut)}function kN(){for(;ke!==null&&!Dn();)Ub(ke)}function Ub(e){var t=lb(e.alternate,e,ea);e.memoizedProps=e.pendingProps,t===null?Yr(e):ke=t}function Lb(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=eb(a,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=eb(a,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:Ku(t);default:ob(a,t),t=ke=Og(t,ea),t=lb(a,t,ea)}e.memoizedProps=e.pendingProps,t===null?Yr(e):ke=t}function ls(e,t,a,s){Gn=Wa=null,Ku(t),$i=null,Ps=0;var o=t.return;try{if(xN(e,o,t,a,Ue)){ut=1,Mr(e,gn(a,e.current)),ke=null;return}}catch(u){if(o!==null)throw ke=o,u;ut=1,Mr(e,gn(a,e.current)),ke=null;return}t.flags&32768?(Ve||s===1?e=!0:ns||(Ue&536870912)!==0?e=!1:(Ta=e=!0,(s===2||s===9||s===3||s===6)&&(s=nn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Vb(t,e)):Yr(t)}function Yr(e){var t=e;do{if((t.flags&32768)!==0){Vb(t,Ta);return}e=t.return;var a=wN(t.alternate,t,ea);if(a!==null){ke=a;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);ut===0&&(ut=5)}function Vb(e,t){do{var a=TN(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);ut=6,ke=null}function Bb(e,t,a,s,o,u,m,x,N){e.cancelPendingCommit=null;do Gr();while(wt!==0);if((Ge&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=vu,Ai(e,a,u,m,x,N),e===et&&(ke=et=null,Ue=0),is=t,Ca=e,ta=a,Cd=u,_d=o,_b=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,UN(te,function(){return Gb(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=B.T,B.T=null,o=P.p,P.p=2,m=Ge,Ge|=4;try{NN(e,t,a)}finally{Ge=m,P.p=o,B.T=s}}wt=1,Hb(),qb(),Fb()}}function Hb(){if(wt===1){wt=0;var e=Ca,t=is,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var s=P.p;P.p=2;var o=Ge;Ge|=4;try{xb(t,e);var u=Yd,m=Ag(e.containerInfo),x=u.focusedElem,N=u.selectionRange;if(m!==x&&x&&x.ownerDocument&&Ng(x.ownerDocument.documentElement,x)){if(N!==null&&mu(x)){var V=N.start,Z=N.end;if(Z===void 0&&(Z=V),"selectionStart"in x)x.selectionStart=V,x.selectionEnd=Math.min(Z,x.value.length);else{var ee=x.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Y=H.getSelection(),he=x.textContent.length,je=Math.min(N.start,he),We=N.end===void 0?je:Math.min(N.end,he);!Y.extend&&je>We&&(m=We,We=je,je=m);var R=Tg(x,je),E=Tg(x,We);if(R&&E&&(Y.rangeCount!==1||Y.anchorNode!==R.node||Y.anchorOffset!==R.offset||Y.focusNode!==E.node||Y.focusOffset!==E.offset)){var L=ee.createRange();L.setStart(R.node,R.offset),Y.removeAllRanges(),je>We?(Y.addRange(L),Y.extend(E.node,E.offset)):(L.setEnd(E.node,E.offset),Y.addRange(L))}}}}for(ee=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ee.length;x++){var J=ee[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}no=!!Fd,Yd=Fd=null}finally{Ge=o,P.p=s,B.T=a}}e.current=t,wt=2}}function qb(){if(wt===2){wt=0;var e=Ca,t=is,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var s=P.p;P.p=2;var o=Ge;Ge|=4;try{pb(e,t.alternate,t)}finally{Ge=o,P.p=s,B.T=a}}wt=3}}function Fb(){if(wt===4||wt===3){wt=0,le();var e=Ca,t=is,a=ta,s=_b;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?wt=5:(wt=0,is=Ca=null,Yb(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Aa=null),$c(a),t=t.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Nt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=B.T,o=P.p,P.p=2,B.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var x=s[m];u(x.value,{componentStack:x.stack})}}finally{B.T=t,P.p=o}}(ta&3)!==0&&Gr(),On(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Ed?hl++:(hl=0,Ed=e):hl=0,ml(0)}}function Yb(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zs(t)))}function Gr(){return Hb(),qb(),Fb(),Gb()}function Gb(){if(wt!==5)return!1;var e=Ca,t=Cd;Cd=0;var a=$c(ta),s=B.T,o=P.p;try{P.p=32>a?32:a,B.T=null,a=_d,_d=null;var u=Ca,m=ta;if(wt=0,is=Ca=null,ta=0,(Ge&6)!==0)throw Error(r(331));var x=Ge;if(Ge|=4,Nb(u.current),jb(u,u.current,m,a),Ge=x,ml(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Nt,u)}catch{}return!0}finally{P.p=o,B.T=s,Yb(e,t)}}function Xb(e,t,a){t=gn(a,t),t=rd(e.stateNode,t,2),e=xa(e,t,2),e!==null&&(fn(e,2),On(e))}function $e(e,t,a){if(e.tag===3)Xb(e,e,a);else for(;t!==null;){if(t.tag===3){Xb(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Aa===null||!Aa.has(s))){e=gn(a,e),a=Ky(2),s=xa(t,a,2),s!==null&&(Qy(a,s,t,e),fn(s,2),On(s));break}}t=t.return}}function kd(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new _N;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Td=!0,o.add(a),e=RN.bind(null,e,t,a),t.then(e,e))}function RN(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,et===e&&(Ue&a)===a&&(ut===4||ut===3&&(Ue&62914560)===Ue&&300>ye()-Vr?(Ge&2)===0&&ss(e,0):Nd|=a,as===Ue&&(as=0)),On(e)}function Kb(e,t){t===0&&(t=Wt()),e=Pa(e,t),e!==null&&(fn(e,t),On(e))}function zN(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Kb(e,a)}function ON(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Kb(e,a)}function UN(e,t){return tt(e,t)}var Xr=null,rs=null,Rd=!1,Kr=!1,zd=!1,Ea=0;function On(e){e!==rs&&e.next===null&&(rs===null?Xr=rs=e:rs=rs.next=e),Kr=!0,Rd||(Rd=!0,VN())}function ml(e,t){if(!zd&&Kr){zd=!0;do for(var a=!1,s=Xr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,x=s.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=o&~(m&~x),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Pb(s,u))}else u=Ue,u=Ga(s,s===et?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Xa(s,u)||(a=!0,Pb(s,u));s=s.next}while(a);zd=!1}}function LN(){Qb()}function Qb(){Kr=Rd=!1;var e=0;Ea!==0&&ZN()&&(e=Ea);for(var t=ye(),a=null,s=Xr;s!==null;){var o=s.next,u=Zb(s,t);u===0?(s.next=null,a===null?Xr=o:a.next=o,o===null&&(rs=a)):(a=s,(e!==0||(u&3)!==0)&&(Kr=!0)),s=o}wt!==0&&wt!==5||ml(e),Ea!==0&&(Ea=0)}function Zb(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-gt(u),x=1<<m,N=o[m];N===-1?((x&a)===0||(x&s)!==0)&&(o[m]=Ke(x,t)):N<=t&&(e.expiredLanes|=x),u&=~x}if(t=et,a=Ue,a=Ga(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&qt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&qt(s),$c(a)){case 2:case 8:a=ft;break;case 32:a=te;break;case 268435456:a=Pe;break;default:a=te}return s=$b.bind(null,e),a=tt(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&qt(s),e.callbackPriority=2,e.callbackNode=null,2}function $b(e,t){if(wt!==0&&wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gr()&&e.callbackNode!==a)return null;var s=Ue;return s=Ga(e,e===et?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Mb(e,s,t),Zb(e,ye()),e.callbackNode!=null&&e.callbackNode===a?$b.bind(null,e):null)}function Pb(e,t){if(Gr())return null;Mb(e,t,!0)}function VN(){PN(function(){(Ge&6)!==0?tt(Ye,LN):Qb()})}function Od(){if(Ea===0){var e=Ki;e===0&&(e=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Ea=e}return Ea}function Ib(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:er(""+e)}function Jb(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function BN(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Ib((o[Kt]||null).action),m=s.submitter;m&&(t=(t=m[Kt]||null)?Ib(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var x=new ir("action","action",null,s,o);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ea!==0){var N=m?Jb(o,m):new FormData(o);td(a,{pending:!0,data:N,method:o.method,action:u},null,N)}}else typeof u=="function"&&(x.preventDefault(),N=m?Jb(o,m):new FormData(o),td(a,{pending:!0,data:N,method:o.method,action:u},u,N))},currentTarget:o}]})}}for(var Ud=0;Ud<bu.length;Ud++){var Ld=bu[Ud],HN=Ld.toLowerCase(),qN=Ld[0].toUpperCase()+Ld.slice(1);Tn(HN,"on"+qN)}Tn(Eg,"onAnimationEnd"),Tn(Mg,"onAnimationIteration"),Tn(Dg,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(aN,"onTransitionRun"),Tn(iN,"onTransitionStart"),Tn(sN,"onTransitionCancel"),Tn(kg,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Wb(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var x=s[m],N=x.instance,V=x.currentTarget;if(x=x.listener,N!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=V;try{u(o)}catch(Z){rr(Z)}o.currentTarget=null,u=N}else for(m=0;m<s.length;m++){if(x=s[m],N=x.instance,V=x.currentTarget,x=x.listener,N!==u&&o.isPropagationStopped())break e;u=x,o.currentTarget=V;try{u(o)}catch(Z){rr(Z)}o.currentTarget=null,u=N}}}}function Re(e,t){var a=t[Pc];a===void 0&&(a=t[Pc]=new Set);var s=e+"__bubble";a.has(s)||(ev(t,e,2,!1),a.add(s))}function Vd(e,t,a){var s=0;t&&(s|=4),ev(a,e,s,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Qr]){e[Qr]=!0,Qp.forEach(function(a){a!=="selectionchange"&&(FN.has(a)||Vd(a,!1,e),Vd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qr]||(t[Qr]=!0,Vd("selectionchange",!1,t))}}function ev(e,t,a,s){switch(Ev(t)){case 2:var o=gA;break;case 8:o=yA;break;default:o=ef}a=o.bind(null,t,a,e),o=void 0,!su||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Hd(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var x=s.stateNode.containerInfo;if(x===o)break;if(m===4)for(m=s.return;m!==null;){var N=m.tag;if((N===3||N===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;x!==null;){if(m=Ei(x),m===null)return;if(N=m.tag,N===5||N===6||N===26||N===27){s=u=m;continue e}x=x.parentNode}}s=s.return}sg(function(){var V=u,Z=au(a),ee=[];e:{var H=Rg.get(e);if(H!==void 0){var Y=ir,he=e;switch(e){case"keypress":if(nr(a)===0)break e;case"keydown":case"keyup":Y=OT;break;case"focusin":he="focus",Y=cu;break;case"focusout":he="blur",Y=cu;break;case"beforeblur":case"afterblur":Y=cu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=wT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=VT;break;case Eg:case Mg:case Dg:Y=AT;break;case kg:Y=HT;break;case"scroll":case"scrollend":Y=ST;break;case"wheel":Y=FT;break;case"copy":case"cut":case"paste":Y=_T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ug;break;case"toggle":case"beforetoggle":Y=GT}var je=(t&4)!==0,We=!je&&(e==="scroll"||e==="scrollend"),R=je?H!==null?H+"Capture":null:H;je=[];for(var E=V,L;E!==null;){var J=E;if(L=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||L===null||R===null||(J=Ls(E,R),J!=null&&je.push(gl(E,J,L))),We)break;E=E.return}0<je.length&&(H=new Y(H,he,null,a,Z),ee.push({event:H,listeners:je}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&a!==nu&&(he=a.relatedTarget||a.fromElement)&&(Ei(he)||he[_i]))break e;if((Y||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(he=a.relatedTarget||a.toElement,Y=V,he=he?Ei(he):null,he!==null&&(We=h(he),je=he.tag,he!==We||je!==5&&je!==27&&je!==6)&&(he=null)):(Y=null,he=V),Y!==he)){if(je=og,J="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(je=ug,J="onPointerLeave",R="onPointerEnter",E="pointer"),We=Y==null?H:Us(Y),L=he==null?H:Us(he),H=new je(J,E+"leave",Y,a,Z),H.target=We,H.relatedTarget=L,J=null,Ei(Z)===V&&(je=new je(R,E+"enter",he,a,Z),je.target=L,je.relatedTarget=We,J=je),We=J,Y&&he)t:{for(je=YN,R=Y,E=he,L=0,J=R;J;J=je(J))L++;J=0;for(var ge=E;ge;ge=je(ge))J++;for(;0<L-J;)R=je(R),L--;for(;0<J-L;)E=je(E),J--;for(;L--;){if(R===E||E!==null&&R===E.alternate){je=R;break t}R=je(R),E=je(E)}je=null}else je=null;Y!==null&&tv(ee,H,Y,je,!1),he!==null&&We!==null&&tv(ee,We,he,je,!0)}}e:{if(H=V?Us(V):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var qe=bg;else if(gg(H))if(vg)qe=eN;else{qe=JT;var me=IT}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?V&&tu(V.elementType)&&(qe=bg):qe=WT;if(qe&&(qe=qe(e,V))){yg(ee,qe,a,Z);break e}me&&me(e,H,V),e==="focusout"&&V&&H.type==="number"&&V.memoizedProps.value!=null&&eu(H,"number",H.value)}switch(me=V?Us(V):window,e){case"focusin":(gg(me)||me.contentEditable==="true")&&(Vi=me,pu=V,Xs=null);break;case"focusout":Xs=pu=Vi=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Cg(ee,a,Z);break;case"selectionchange":if(nN)break;case"keydown":case"keyup":Cg(ee,a,Z)}var Ee;if(du)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Li?mg(e,a)&&(Le="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(dg&&a.locale!=="ko"&&(Li||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Li&&(Ee=lg()):(ha=Z,lu="value"in ha?ha.value:ha.textContent,Li=!0)),me=Zr(V,Le),0<me.length&&(Le=new cg(Le,e,null,a,Z),ee.push({event:Le,listeners:me}),Ee?Le.data=Ee:(Ee=pg(a),Ee!==null&&(Le.data=Ee)))),(Ee=KT?QT(e,a):ZT(e,a))&&(Le=Zr(V,"onBeforeInput"),0<Le.length&&(me=new cg("onBeforeInput","beforeinput",null,a,Z),ee.push({event:me,listeners:Le}),me.data=Ee)),BN(ee,e,V,a,Z)}Wb(ee,t)})}function gl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Zr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Ls(e,a),o!=null&&s.unshift(gl(e,o,u)),o=Ls(e,t),o!=null&&s.push(gl(e,o,u))),e.tag===3)return s;e=e.return}return[]}function YN(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tv(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var x=a,N=x.alternate,V=x.stateNode;if(x=x.tag,N!==null&&N===s)break;x!==5&&x!==26&&x!==27||V===null||(N=V,o?(V=Ls(a,u),V!=null&&m.unshift(gl(a,V,N))):o||(V=Ls(a,u),V!=null&&m.push(gl(a,V,N)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var GN=/\r\n?/g,XN=/\u0000|\uFFFD/g;function nv(e){return(typeof e=="string"?e:""+e).replace(GN,`
`).replace(XN,"")}function av(e,t){return t=nv(t),nv(e)===t}function Je(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||zi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&zi(e,""+s);break;case"className":Jl(e,"class",s);break;case"tabIndex":Jl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(e,a,s);break;case"style":ag(e,s,u);break;case"data":if(t!=="object"){Jl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=er(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Je(e,t,"name",o.name,o,null),Je(e,t,"formEncType",o.formEncType,o,null),Je(e,t,"formMethod",o.formMethod,o,null),Je(e,t,"formTarget",o.formTarget,o,null)):(Je(e,t,"encType",o.encType,o,null),Je(e,t,"method",o.method,o,null),Je(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=er(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Hn);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=er(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Il(e,"popover",s);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Il(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vT.get(a)||a,Il(e,a,s))}}function qd(e,t,a,s,o,u){switch(a){case"style":ag(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?zi(e,s):(typeof s=="number"||typeof s=="bigint")&&zi(e,""+s);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[Kt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Il(e,a,s)}}}function zt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(e,t,u,m,a,null)}}o&&Je(e,t,"srcSet",a.srcSet,a,null),s&&Je(e,t,"src",a.src,a,null);return;case"input":Re("invalid",e);var x=u=m=o=null,N=null,V=null;for(s in a)if(a.hasOwnProperty(s)){var Z=a[s];if(Z!=null)switch(s){case"name":o=Z;break;case"type":m=Z;break;case"checked":N=Z;break;case"defaultChecked":V=Z;break;case"value":u=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,t));break;default:Je(e,t,s,Z,a,null)}}Wp(e,u,x,N,V,m,o,!1);return;case"select":Re("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(x=a[o],x!=null))switch(o){case"value":u=x;break;case"defaultValue":m=x;break;case"multiple":s=x;default:Je(e,t,o,x,a,null)}t=u,a=m,e.multiple=!!s,t!=null?Ri(e,!!s,t,!1):a!=null&&Ri(e,!!s,a,!0);return;case"textarea":Re("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(x=a[m],x!=null))switch(m){case"value":s=x;break;case"defaultValue":o=x;break;case"children":u=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Je(e,t,m,x,a,null)}tg(e,s,o,u);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(s=a[N],s!=null))switch(N){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Je(e,t,N,s,a,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(s=0;s<pl.length;s++)Re(pl[s],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(s=a[V],s!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(e,t,V,s,a,null)}return;default:if(tu(t)){for(Z in a)a.hasOwnProperty(Z)&&(s=a[Z],s!==void 0&&qd(e,t,Z,s,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null&&Je(e,t,x,s,a,null))}function KN(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,x=null,N=null,V=null,Z=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:s.hasOwnProperty(Y)||Je(e,t,Y,null,s,ee)}}for(var H in s){var Y=s[H];if(ee=a[H],s.hasOwnProperty(H)&&(Y!=null||ee!=null))switch(H){case"type":u=Y;break;case"name":o=Y;break;case"checked":V=Y;break;case"defaultChecked":Z=Y;break;case"value":m=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,t));break;default:Y!==ee&&Je(e,t,H,Y,s,ee)}}Wc(e,m,x,N,V,Z,u,o);return;case"select":Y=m=x=H=null;for(u in a)if(N=a[u],a.hasOwnProperty(u)&&N!=null)switch(u){case"value":break;case"multiple":Y=N;default:s.hasOwnProperty(u)||Je(e,t,u,null,s,N)}for(o in s)if(u=s[o],N=a[o],s.hasOwnProperty(o)&&(u!=null||N!=null))switch(o){case"value":H=u;break;case"defaultValue":x=u;break;case"multiple":m=u;default:u!==N&&Je(e,t,o,u,s,N)}t=x,a=m,s=Y,H!=null?Ri(e,!!a,H,!1):!!s!=!!a&&(t!=null?Ri(e,!!a,t,!0):Ri(e,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(x in a)if(o=a[x],a.hasOwnProperty(x)&&o!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Je(e,t,x,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":H=o;break;case"defaultValue":Y=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Je(e,t,m,o,s,u)}eg(e,H,Y);return;case"option":for(var he in a)if(H=a[he],a.hasOwnProperty(he)&&H!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Je(e,t,he,null,s,H)}for(N in s)if(H=s[N],Y=a[N],s.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null))switch(N){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(e,t,N,H,s,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in a)H=a[je],a.hasOwnProperty(je)&&H!=null&&!s.hasOwnProperty(je)&&Je(e,t,je,null,s,H);for(V in s)if(H=s[V],Y=a[V],s.hasOwnProperty(V)&&H!==Y&&(H!=null||Y!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,t));break;default:Je(e,t,V,H,s,Y)}return;default:if(tu(t)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!s.hasOwnProperty(We)&&qd(e,t,We,void 0,s,H);for(Z in s)H=s[Z],Y=a[Z],!s.hasOwnProperty(Z)||H===Y||H===void 0&&Y===void 0||qd(e,t,Z,H,s,Y);return}}for(var R in a)H=a[R],a.hasOwnProperty(R)&&H!=null&&!s.hasOwnProperty(R)&&Je(e,t,R,null,s,H);for(ee in s)H=s[ee],Y=a[ee],!s.hasOwnProperty(ee)||H===Y||H==null&&Y==null||Je(e,t,ee,H,s,Y)}function iv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QN(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,x=o.duration;if(u&&x&&iv(m)){for(m=0,x=o.responseEnd,s+=1;s<a.length;s++){var N=a[s],V=N.startTime;if(V>x)break;var Z=N.transferSize,ee=N.initiatorType;Z&&iv(ee)&&(N=N.responseEnd,m+=Z*(N<x?1:(x-V)/(N-V)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fd=null,Yd=null;function $r(e){return e.nodeType===9?e:e.ownerDocument}function sv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xd=null;function ZN(){var e=window.event;return e&&e.type==="popstate"?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,$N=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(e){return ov.resolve(null).then(e).catch(IN)}:rv;function IN(e){setTimeout(function(){throw e})}function Ma(e){return e==="head"}function cv(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),ds(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,x=u.nodeName;u[Os]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&yl(e.ownerDocument.body);a=o}while(a);ds(t)}function uv(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Kd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),Ic(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JN(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Os])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Sn(e.nextSibling),e===null)break}return null}function WN(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Sn(e.nextSibling),e===null))return null;return e}function dv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Sn(e.nextSibling),e===null))return null;return e}function Qd(e){return e.data==="$?"||e.data==="$~"}function Zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eA(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $d=null;function fv(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Sn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function hv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function mv(e,t,a){switch(t=$r(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ic(e)}var jn=new Map,pv=new Set;function Pr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var na=P.d;P.d={f:tA,r:nA,D:aA,C:iA,L:sA,m:lA,X:oA,S:rA,M:cA};function tA(){var e=na.f(),t=qr();return e||t}function nA(e){var t=Mi(e);t!==null&&t.tag===5&&t.type==="form"?ky(t):na.r(e)}var os=typeof document>"u"?null:document;function gv(e,t,a){var s=os;if(s&&typeof t=="string"&&t){var o=mn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),pv.has(o)||(pv.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),zt(t,"link",e),At(t),s.head.appendChild(t)))}}function aA(e){na.D(e),gv("dns-prefetch",e,null)}function iA(e,t){na.C(e,t),gv("preconnect",e,t)}function sA(e,t,a){na.L(e,t,a);var s=os;if(s&&e&&t){var o='link[rel="preload"][as="'+mn(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+mn(a.imageSizes)+'"]')):o+='[href="'+mn(e)+'"]';var u=o;switch(t){case"style":u=cs(e);break;case"script":u=us(e)}jn.has(u)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),jn.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(bl(u))||t==="script"&&s.querySelector(vl(u))||(t=s.createElement("link"),zt(t,"link",e),At(t),s.head.appendChild(t)))}}function lA(e,t){na.m(e,t);var a=os;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+mn(s)+'"][href="'+mn(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=us(e)}if(!jn.has(u)&&(e=S({rel:"modulepreload",href:e},t),jn.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(u)))return}s=a.createElement("link"),zt(s,"link",e),At(s),a.head.appendChild(s)}}}function rA(e,t,a){na.S(e,t,a);var s=os;if(s&&e){var o=Di(s).hoistableStyles,u=cs(e);t=t||"default";var m=o.get(u);if(!m){var x={loading:0,preload:null};if(m=s.querySelector(bl(u)))x.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=jn.get(u))&&Pd(e,a);var N=m=s.createElement("link");At(N),zt(N,"link",e),N._p=new Promise(function(V,Z){N.onload=V,N.onerror=Z}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ir(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:x},o.set(u,m)}}}function oA(e,t){na.X(e,t);var a=os;if(a&&e){var s=Di(a).hoistableScripts,o=us(e),u=s.get(o);u||(u=a.querySelector(vl(o)),u||(e=S({src:e,async:!0},t),(t=jn.get(o))&&Id(e,t),u=a.createElement("script"),At(u),zt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function cA(e,t){na.M(e,t);var a=os;if(a&&e){var s=Di(a).hoistableScripts,o=us(e),u=s.get(o);u||(u=a.querySelector(vl(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=jn.get(o))&&Id(e,t),u=a.createElement("script"),At(u),zt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function yv(e,t,a,s){var o=(o=I.current)?Pr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=cs(a.href),a=Di(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=cs(a.href);var u=Di(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(bl(e)))&&!u._p&&(m.instance=u,m.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),u||uA(o,e,a,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=us(a),a=Di(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function cs(e){return'href="'+mn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function bv(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function uA(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),zt(t,"link",a),At(t),e.head.appendChild(t))}function us(e){return'[src="'+mn(e)+'"]'}function vl(e){return"script[async]"+e}function vv(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+mn(a.href)+'"]');if(s)return t.instance=s,At(s),s;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),At(s),zt(s,"style",o),Ir(s,a.precedence,e),t.instance=s;case"stylesheet":o=cs(a.href);var u=e.querySelector(bl(o));if(u)return t.state.loading|=4,t.instance=u,At(u),u;s=bv(a),(o=jn.get(o))&&Pd(s,o),u=(e.ownerDocument||e).createElement("link"),At(u);var m=u;return m._p=new Promise(function(x,N){m.onload=x,m.onerror=N}),zt(u,"link",s),t.state.loading|=4,Ir(u,a.precedence,e),t.instance=u;case"script":return u=us(a.src),(o=e.querySelector(vl(u)))?(t.instance=o,At(o),o):(s=a,(o=jn.get(u))&&(s=S({},a),Id(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),At(o),zt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ir(s,a.precedence,e));return t.instance}function Ir(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var x=s[m];if(x.dataset.precedence===t)u=x;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Pd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Id(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jr=null;function xv(e,t,a){if(Jr===null){var s=new Map,o=Jr=new Map;o.set(a,s)}else o=Jr,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Os]||u[Mt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var x=s.get(m);x?x.push(u):s.set(m,[u])}}return s}function Sv(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function dA(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fA(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=cs(s.href),u=t.querySelector(bl(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,At(u);return}u=t.ownerDocument||t,s=bv(s),(o=jn.get(o))&&Pd(s,o),u=u.createElement("link"),At(u);var m=u;m._p=new Promise(function(x,N){m.onload=x,m.onerror=N}),zt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Wr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Jd=0;function hA(e,t){return e.stylesheets&&e.count===0&&to(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&to(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Jd===0&&(Jd=62500*QN());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&to(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Jd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Wr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)to(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eo=null;function to(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eo=new Map,t.forEach(mA,e),eo=null,Wr.call(e))}function mA(e,t){if(!(t.state.loading&4)){var a=eo.get(e);if(a)var s=a.get(null);else{a=new Map,eo.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=Wr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var xl={$$typeof:$,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function pA(e,t,a,s,o,u,m,x,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function wv(e,t,a,s,o,u,m,x,N,V,Z,ee){return e=new pA(e,t,a,m,N,V,Z,ee,x),t=1,u===!0&&(t|=24),u=tn(3,null,null,t),e.current=u,u.stateNode=e,t=Du(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},Ou(u),e}function Tv(e){return e?(e=qi,e):qi}function Nv(e,t,a,s,o,u){o=Tv(o),s.context===null?s.context=o:s.pendingContext=o,s=va(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=xa(e,s,t),a!==null&&(Jt(a,e,t),Js(a,e,t))}function Av(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Wd(e,t){Av(e,t),(e=e.alternate)&&Av(e,t)}function Cv(e){if(e.tag===13||e.tag===31){var t=Pa(e,67108864);t!==null&&Jt(t,e,67108864),Wd(e,67108864)}}function _v(e){if(e.tag===13||e.tag===31){var t=rn();t=Zc(t);var a=Pa(e,t);a!==null&&Jt(a,e,t),Wd(e,t)}}var no=!0;function gA(e,t,a,s){var o=B.T;B.T=null;var u=P.p;try{P.p=2,ef(e,t,a,s)}finally{P.p=u,B.T=o}}function yA(e,t,a,s){var o=B.T;B.T=null;var u=P.p;try{P.p=8,ef(e,t,a,s)}finally{P.p=u,B.T=o}}function ef(e,t,a,s){if(no){var o=tf(s);if(o===null)Hd(e,t,s,ao,a),Mv(e,s);else if(vA(o,e,t,a,s))s.stopPropagation();else if(Mv(e,s),t&4&&-1<bA.indexOf(e)){for(;o!==null;){var u=Mi(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=ua(u.pendingLanes);if(m!==0){var x=u;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var N=1<<31-gt(m);x.entanglements[1]|=N,m&=~N}On(u),(Ge&6)===0&&(Br=ye()+500,ml(0))}}break;case 31:case 13:x=Pa(u,2),x!==null&&Jt(x,u,2),qr(),Wd(u,2)}if(u=tf(s),u===null&&Hd(e,t,s,ao,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else Hd(e,t,s,null,a)}}function tf(e){return e=au(e),nf(e)}var ao=null;function nf(e){if(ao=null,e=Ei(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ao=e,null}function Ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case Ye:return 2;case ft:return 8;case te:case xe:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var af=!1,Da=null,ka=null,Ra=null,Sl=new Map,jl=new Map,za=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(t.pointerId)}}function wl(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Mi(t),t!==null&&Cv(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function vA(e,t,a,s,o){switch(t){case"focusin":return Da=wl(Da,e,t,a,s,o),!0;case"dragenter":return ka=wl(ka,e,t,a,s,o),!0;case"mouseover":return Ra=wl(Ra,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return Sl.set(u,wl(Sl.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,jl.set(u,wl(jl.get(u)||null,e,t,a,s,o)),!0}return!1}function Dv(e){var t=Ei(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Xp(e.priority,function(){_v(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,Xp(e.priority,function(){_v(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=tf(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);nu=s,a.target.dispatchEvent(s),nu=null}else return t=Mi(a),t!==null&&Cv(t),e.blockedOn=a,!1;t.shift()}return!0}function kv(e,t,a){io(e)&&a.delete(t)}function xA(){af=!1,Da!==null&&io(Da)&&(Da=null),ka!==null&&io(ka)&&(ka=null),Ra!==null&&io(Ra)&&(Ra=null),Sl.forEach(kv),jl.forEach(kv)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,af||(af=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xA)))}var lo=null;function Rv(e){lo!==e&&(lo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(nf(s||a)===null)continue;break}var u=Mi(a);u!==null&&(e.splice(t,3),t-=3,td(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function ds(e){function t(N){return so(N,e)}Da!==null&&so(Da,e),ka!==null&&so(ka,e),Ra!==null&&so(Ra,e),Sl.forEach(t),jl.forEach(t);for(var a=0;a<za.length;a++){var s=za[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<za.length&&(a=za[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&za.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[Kt]||null;if(typeof u=="function")m||Rv(a);else if(m){var x=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[Kt]||null)x=m.formAction;else if(nf(o)!==null)continue}else x=m.action;typeof x=="function"?a[s+1]=x:(a.splice(s,3),s-=3),Rv(a)}}}function zv(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function sf(e){this._internalRoot=e}ro.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=rn();Nv(a,s,e,t,null,null)},ro.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nv(e.current,2,null,e,null,null),qr(),t[_i]=null}};function ro(e){this._internalRoot=e}ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gp();e={blockedOn:null,target:e,priority:t};for(var a=0;a<za.length&&t!==0&&t<za[a].priority;a++);za.splice(a,0,e),a===0&&Dv(e)}};var Ov=i.version;if(Ov!=="19.2.0")throw Error(r(527,Ov,"19.2.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var SA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Nt=oo.inject(SA),Xe=oo}catch{}}return hs.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,s="",o=Fy,u=Yy,m=Gy;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=wv(e,1,!1,null,null,a,s,null,o,u,m,zv),e[_i]=t.current,Bd(e),new sf(t)},hs.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var s=!1,o="",u=Fy,m=Yy,x=Gy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),t=wv(e,1,!0,t,a??null,s,o,N,u,m,x,zv),t.context=Tv(null),a=t.current,s=rn(),s=Zc(s),o=va(s),o.callback=null,xa(a,o,s),a=s,t.current.lanes=a,fn(t,a),On(t),e[_i]=t.current,Bd(e),new ro(t)},hs.version="19.2.0",hs}var gf;function Gv(){if(gf)return ho.exports;gf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),ho.exports=Yv(),ho.exports}var Xv=Gv();const Kv=lf(Xv);function aa(n,i){const l=Number(n);return Number.isFinite(l)?l:i}function yo(n,i=0,l=100){const r=aa(i,0),d=aa(l,100),h=aa(n,r),f=Math.min(r,d),p=Math.max(r,d);return h<f?f:h>p?p:h}function ms(n){const i=Math.round(aa(n,0));return yo(i,0,100)}function bo(n,i){const l=aa(i,0);if(l<=0)return 0;const r=aa(n,0),d=Math.round(r/l*100);return yo(d,0,100)}function Qv(n,i){const l=Math.max(1,Math.round(aa(i,1)));if(l<=0)return"Day 1";const r=Math.round(aa(n,1));return`Day ${yo(r,1,l)} of ${l}`}const Zv=2*1024*1024,yf=3,bf=()=>{if(typeof document>"u")return null;const n=document.querySelector('meta[name="csrf-token"]');return n?n.getAttribute("content"):null};function $v(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`arc-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`}async function Pv(n,i={}){const l={"Content-Type":"application/json",Accept:"application/json"},r=bf();r&&(l["X-CSRF-Token"]=r),l["Idempotency-Key"]=$v();const d=await fetch(n,{method:"POST",credentials:"include",headers:l,body:JSON.stringify(i)}),p=(d.headers.get("Content-Type")||"").includes("application/json")?await d.json():null;if(!d.ok){const y=p?.error||p?.message||`Request failed (${d.status})`,b=new Error(y);throw b.status=d.status,b}if(!p)return{};const g=p.arc;if(g&&typeof g=="object"){const y=g.percent,b=Number.isFinite(y)?ms(y):ms(bo(g.arcPoints,g.nextThreshold));p.arc={...g,percent:b}}return p}async function Iv(n){if(!n)throw new Error("Arc identifier is required");const i={Accept:"application/json"},l=bf();l&&(i["X-CSRF-Token"]=l);const r=await fetch(`/api/arcs/${encodeURIComponent(n)}`,{method:"DELETE",credentials:"include",headers:i}),f=(r.headers.get("Content-Type")||"").includes("application/json")?await r.json():null;if(!r.ok){const p=f?.error||f?.message||`Request failed (${r.status})`,g=new Error(p);throw g.status=r.status,g}return f||{}}const Cn=({children:n,size:i=20,className:l,...r})=>c.jsx("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:l,"aria-hidden":!0,...r,children:n}),Jv=n=>c.jsxs(Cn,{...n,children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M9 12l2 2 4-4"})]}),Wv=n=>c.jsx(Cn,{...n,children:c.jsx("circle",{cx:"12",cy:"12",r:"10"})}),vf=n=>c.jsxs(Cn,{...n,children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 6v6l4 2"})]}),vo=n=>c.jsxs(Cn,{...n,children:[c.jsx("rect",{x:"4",y:"11",width:"16",height:"9",rx:"2"}),c.jsx("path",{d:"M8 11V7a4 4 0 0 1 8 0v4"})]}),ex=n=>c.jsx(Cn,{...n,children:c.jsx("path",{d:"M12 2C12 6 7 7 7 12a5 5 0 0 0 10 0c0-4-5-5-5-10z"})}),tx=n=>c.jsxs(Cn,{...n,children:[c.jsx("path",{d:"M4 12l4-4 4 4 4-4 4 4"}),c.jsx("path",{d:"M8 12l4 4 4-4"})]}),nx=n=>c.jsxs(Cn,{...n,children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("path",{d:"M12 16v-4"}),c.jsx("path",{d:"M12 8h.01"})]}),ax=n=>c.jsx(Cn,{...n,children:c.jsx("path",{d:"M9 18l6-6-6-6"})}),ix=n=>c.jsxs(Cn,{...n,children:[c.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),c.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),sx=n=>c.jsxs(Cn,{...n,children:[c.jsx("circle",{cx:"12",cy:"8",r:"5"}),c.jsx("path",{d:"M8.5 13L7 22l5-3 5 3-1.5-9"})]}),ps=({title:n,subtitle:i,children:l,className:r=""})=>c.jsxs("section",{className:`w-full max-w-full bg-white/90 backdrop-blur rounded-2xl shadow-sm border border-slate-200 overflow-hidden ${r}`,children:[(n||i)&&c.jsxs("header",{className:"px-3.5 pt-3 pb-1.5 md:px-5 md:pt-4 md:pb-2 border-b border-slate-100",children:[c.jsx("h2",{className:"text-[var(--ink)] text-base md:text-xl font-semibold flex items-center gap-2",children:n}),i&&c.jsx("p",{className:"text-slate-500 text-xs md:text-sm mt-1",children:i})]}),c.jsx("div",{className:"p-4 md:p-5",children:l})]}),Yt=({children:n,tone:i="muted"})=>{const l={muted:"bg-[var(--canvas)] text-slate-600 border border-slate-200",coral:"bg-[var(--coral)]/10 text-[var(--coral)] border border-[var(--coral)]/20",ink:"bg-[var(--ink)]/10 text-[var(--ink)] border border-[var(--ink)]/20",warn:"bg-amber-50 text-amber-700 border border-amber-200",ok:"bg-emerald-50 text-emerald-700 border border-emerald-200"},r=l[i]||l.muted;return c.jsx("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs ${r}`,children:n})},lx=({src:n,name:i="Friend",size:l="clamp(56px, 14vw, 80px)",onPick:r,loading:d=!1})=>{const h=Qe.useRef(null),f=Qe.useCallback(()=>{d||h.current?.click()},[d]),p=Qe.useCallback(y=>{const b=y.target.files?.[0];b&&(r?.(b),y.target.value="")},[r]),g=d?"Uploading...":n?"Change photo":"Add photo";return c.jsxs("div",{className:"grid gap-1 place-items-center",children:[n?c.jsx("img",{src:n,alt:`Photo of ${i}`,className:"object-cover rounded-full border border-slate-200",style:{width:l,height:l}}):c.jsx("div",{className:"rounded-full border-2 border-dashed border-slate-300 bg-slate-50 grid place-items-center text-slate-400",style:{width:l,height:l},"aria-label":`Upload a photo of ${i}`,children:c.jsx(ix,{size:22,"aria-hidden":!0})}),c.jsx("button",{type:"button",onClick:f,disabled:d,className:`text-[11px] text-[var(--ink)] underline decoration-dotted underline-offset-2 ${d?"opacity-60 cursor-not-allowed":"hover:opacity-80"}`,children:g}),c.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:p,className:"hidden"})]})},rx=["Acquaintance","Casual Friend","Friend","Close Friend","Best Friend"],ox=({state:n="locked",label:i,src:l})=>{const[r,d]=Qe.useState(!1),h="clamp(56px, 9vw, 96px)",f="relative rounded-full grid place-items-center border mx-auto transition-all",p=n==="done"?"bg-[var(--coral)]/6 border-[var(--coral)]/40 shadow-sm":n==="inProgress"?"bg-[var(--canvas)] border-slate-300":"bg-white border-slate-200 opacity-70",g=!!l&&!r;return c.jsxs("div",{className:`${f} ${p}`,style:{width:h,height:h},"aria-label":`${i} badge ${n}`,children:[c.jsx("div",{className:`w-full h-full rounded-full overflow-hidden ${n==="done"?"p-1.5":"p-1"}`,children:g?c.jsx("img",{src:l,alt:`${i} badge`,className:"w-full h-full rounded-full object-cover",loading:"lazy",decoding:"async",onError:()=>d(!0)}):c.jsx("div",{className:"w-full h-full grid place-items-center bg-white/60",children:c.jsx(sx,{size:28,"aria-hidden":!0,className:n==="done"?"text-[var(--coral)]":"text-slate-400"})})}),n==="locked"&&c.jsx("div",{className:"absolute top-1 right-1 bg-white rounded-full border border-slate-200 p-1 shadow-sm","aria-hidden":!0,children:c.jsx(vo,{size:12,className:"text-slate-400"})})]})},cx=n=>{const l=ms(n)/100*360;return`conic-gradient(var(--coral) ${l}deg, #e6eaf2 ${l}deg 360deg)`},ux=n=>typeof n=="number"&&isFinite(n)?String(Math.max(0,Math.min(100,Math.round(n)))):"No Quiz score",dx=n=>n&&String(n).trim().length>0?String(n):"No Quiz result",fx=(n,i)=>{const l=typeof n=="number"&&isFinite(n),r=!!(i&&String(i).trim().length>0);return!l&&!r},Lt=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),Be=n=>typeof n=="string"?n.trim():"",xf=n=>{if(typeof n=="boolean")return n;if(typeof n=="number")return Number.isFinite(n)?n!==0:!1;if(typeof n=="string"){const i=n.trim().toLowerCase();return i?i==="true"||i==="1"||i==="yes"||i==="y":!1}return!1},Vt=n=>n==null?"":String(n).trim(),St=(...n)=>{for(const i of n){if(i==null)continue;const l=Number(i);if(Number.isFinite(l))return l}return null},Tl=(n,i="item")=>{const r=String(n??"").trim().replace(/[^a-zA-Z0-9_-]/g,"-");return r.length?r:i},_n=n=>{const i=Be(n);if(!i)return"todo";switch(i.toLowerCase().replace(/[\s_-]+/g,"")){case"todo":case"notstarted":case"pending":case"ready":case"queued":case"queue":case"idle":case"available":case"open":case"new":return"todo";case"inprogress":case"started":case"active":case"ongoing":return"inProgress";case"done":case"complete":case"completed":case"finished":case"resolved":return"done";case"overdue":case"late":return"overdue";case"frozen":case"paused":case"blocked":return"frozen";default:return"todo"}},hx=(n,i)=>{if(!Array.isArray(n)||n.length===0)return{steps:[{id:`step-${i?Tl(i,"friend"):"friend"}-quiz`,title:`Start a plan with ${i}`,status:"todo",meta:"Complete their Friend Quiz to unlock personalised steps."}],hasStructuredSteps:!1};const l=new Map,r=(f,p)=>{const g=Vt(f)||`step-${p+1}`,y=(l.get(g)??0)+1;return l.set(g,y),{clientId:y===1?g:`${g}__${y}`,baseId:g,ordinal:y}},d=(f,p)=>{const g=Math.floor(p/2)+1;if(!Lt(f))return g;const y=[f.day,f.day_number,f.dayNumber,f.day_index,f.dayIndex,f.day_id,f.dayId];for(const b of y){const S=Number(b);if(Number.isFinite(S)&&S>0)return Math.max(1,Math.round(S))}return g};return{steps:n.map((f,p)=>{const g=(A,T)=>{const _=_n(A),M=_n(T);return _===M?_:_==="todo"&&(M==="inProgress"||M==="done")||_==="inProgress"&&M==="done"||_==="todo"&&M==="overdue"?M:_!=="todo"?_:M};if(typeof f=="string"){const A=Math.floor(p/2)+1,{clientId:T,baseId:_,ordinal:M}=r(null,p);return{id:T,title:f,status:"todo",serverId:_,serverOrdinal:M,meta:"",day:A,dayNumber:A,day_number:A}}if(Lt(f)){const A=f.id??f.step_id??f.stepId??null,{clientId:T,baseId:_,ordinal:M}=r(A,p),q=Be(f.title)||Be(f.name)||`Step ${p+1}`,ne=g(f.status,f.state),$=Be(f.meta)||Be(f.hint)||Be(f.summary)||"",X=d(f,p);return{...f,id:T,serverId:_,serverOrdinal:M,title:q,status:ne,state:ne,meta:$,day:X,dayNumber:X,day_number:X}}const y=Math.floor(p/2)+1,{clientId:b,baseId:S,ordinal:w}=r(null,p);return{id:b,title:`Step ${p+1}`,status:"todo",serverId:S,serverOrdinal:w,meta:"",day:y,dayNumber:y,day_number:y}}),hasStructuredSteps:!0}},Sf=(n,i)=>{if(Lt(n)){const l=g=>g==null||g===""?null:String(g),r=l(n.id??n.challenge_id??n.challengeId),d=l(n.templateId??n.template_id??r),h=Be(n.description)||Be(n.body)||Be(n.summary)||"",f=Be(n.channel)||Be(n.mode)||null,p=Array.isArray(n.tags)?n.tags:[];return{id:r,templateId:d,title:Be(n.title)||`Plan a kindness for ${i}`,description:h,channel:f,tags:p,effort:Be(n.effort)||Be(n.level)||"Low",estMinutes:St(n.estMinutes,n.estimate_minutes,n.minutes)??5,points:St(n.points,n.xp,n.reward_points)??0,swapsLeft:St(n.swapsLeft,n.swaps_left)??0,isFallback:!1}}return{id:null,templateId:null,title:`You're all caught up${i?` for ${i}`:""}!`,description:"New surprises unlock tomorrow. Keep streaking with your steps for now.",effort:"Low",estMinutes:5,points:0,swapsLeft:0,isFallback:!0}},jf=n=>{if(!Lt(n))return{xp:0,streak:"",streakDays:0,drag:"0%",dragPercent:null};const i=St(n.xp,n.points,n.total_xp,n.totalXp)??0,l=Math.max(0,Math.round(i)),r=Be(n.streak);let d=St(n.streak_days,n.days,n.current_streak,n.currentStreak)??null;if(d===null&&r){const A=r.match(/-?\d+/);A&&(d=Number(A[0]))}Number.isFinite(d)?d=Math.max(0,Math.round(d)):d=0;const h=r||`${d} ${d===1?"day":"days"}`;let f=St(n.drag_percent,n.dragPercent);if(!Number.isFinite(f)&&(f=null,typeof n.drag=="string")){const A=n.drag.match(/-?\d+(\.\d+)?/);if(A){const T=Number(A[0]);Number.isFinite(T)&&(f=T)}}const p=Be(n.drag)||(f!==null?`${f}%`:"0%"),g=Be(n.dailySurpriseDate??n.daily_surprise_date)||null,y=St(n.dailySurpriseCount,n.daily_surprise_count),b=St(n.dailySurpriseLimit,n.daily_surprise_limit),S=Math.max(0,Number.isFinite(y)?Math.round(y):0),w=Math.max(0,Number.isFinite(b)?Math.round(b):yf);return{xp:l,streak:h,streakDays:d,drag:p,dragPercent:f!==null?f:null,dailySurpriseDate:g,dailySurpriseCount:S,dailySurpriseLimit:w}},wf=(n,i)=>{if(!n)return null;const l=Lt(n.snapshot)?n.snapshot:{},r=Lt(l.metrics)?l.metrics:{},d=Be(n.name)||`Friend ${i+1}`,h=Tl(n.id??n.friend_id??i,`arc-${i}`),f=St(n.day,l.day,l.current_day,l.currentDay,r.current_day,r.day)??0,p=St(n.length,l.length,l.total_days,l.totalDays,r.total_days,r.length)??0,g=St(n.pointsToday,l.points_today,l.pointsToday,r.points_today)??0,y=St(n.arcPoints,l.arc_points,l.arcPoints,r.arc_points)??0,b=St(n.nextThreshold,l.next_threshold,l.nextThreshold,r.next_threshold),S=Number.isFinite(b)&&b>0?b:100,w=St(n.percent,l.percent,r.percent),A=Number.isFinite(w)?w:bo(y,S),T=St(n.friendScore,n.friend_score,n.score,l.friend_score,l.score,r.friend_score,r.score),_=Be(n.friendType)||Be(n.friend_type)||Be(n.archetype_primary)||Be(n.archetypePrimary)||Be(n.archetype_secondary)||Be(l.friend_type)||Be(l.archetype_primary)||Be(l.archetypePrimary)||null,M=Lt(n.clientFlags)?n.clientFlags:Lt(l.clientFlags)?l.clientFlags:{},q=xf(M.cycleReset??M.cycle_reset??n.cycleReset??n.cycle_reset??l.cycleReset??l.cycle_reset??!1),ne=Be(M.cycleResetAt??M.cycle_reset_at??n.cycleResetAt??n.cycle_reset_at??l.cycleResetAt??l.cycle_reset_at??null)||null,{steps:$,hasStructuredSteps:X}=hx(Array.isArray(n.steps)?n.steps:Array.isArray(l.steps)?l.steps:[],d),W=Sf(Lt(n.challenge)?n.challenge:Lt(l.challenge)?l.challenge:null,d),U=jf(Lt(n.lifetime)?n.lifetime:Lt(l.lifetime)?l.lifetime:null),G=St(U.pendingDay,U.pending_day),O=Be(U.pendingDayUnlockAt??U.pending_day_unlock_at??null)||null,se=St(G,n.pendingDay,n.pending_day,l.pendingDay,l.pending_day,M.pendingDay,M.pending_day),oe=Number.isFinite(se)&&se>0?Math.round(se):null,ce=O||Be(n.pendingDayUnlockAt??n.pending_day_unlock_at??l.pendingDayUnlockAt??l.pending_day_unlock_at??M.pendingDayUnlockAt??M.pending_day_unlock_at??null)||null,we=ce?Date.parse(ce):NaN,be=xf(M.awaitingNextDay??M.awaiting_next_day??n.awaitingNextDay??n.awaiting_next_day??l.awaitingNextDay??l.awaiting_next_day??!1)||Number.isFinite(oe)&&oe>0&&(!ce||Number.isNaN(we)||we>Date.now()),ue=be?oe:null,B=be?ce:null,P={};q&&(P.cycleReset=!0),ne&&(P.cycleResetAt=ne),be&&(P.awaitingNextDay=!0),Number.isFinite(ue)&&ue>0&&(P.pendingDay=ue),B&&(P.pendingDayUnlockAt=B);const K=Array.isArray(n.recent)?n.recent:Array.isArray(l.recent)?l.recent:[],re=Lt(n.badges)?n.badges:Lt(l.badges)?l.badges:{},D=Array.isArray(n.signals)?n.signals:Array.isArray(l.signals)?l.signals:[],v=Array.isArray(n.redFlags)?n.redFlags:Array.isArray(l.red_flags)?l.red_flags:Array.isArray(n.red_flags)?n.red_flags:[],k=Lt(n.friend)?n.friend:{},j=n.photoSrc||n.picture||n.photo||n.photo_url||k.photoSrc||k.picture||k.photo||k.photo_url||l.photo||l.picture||null;return{domId:h,id:String(n.id??n.friend_id??`friend-${i}`),name:d,overdue:!!(n.overdue??l.overdue??l.is_overdue??!1),percent:A,day:f,length:p,pointsToday:g,friendScore:Number.isFinite(T)?T:null,friendType:_,photoSrc:j,steps:$,hasStructuredSteps:X,challenge:W,arcPoints:y,nextThreshold:S,lifetime:U,recent:K,badges:re,signals:D,redFlags:v,cycleReset:q,awaitingNextDay:be,pendingDay:Number.isFinite(ue)&&ue>0?ue:null,pendingDayUnlockAt:B,clientFlags:Object.keys(P).length?P:null,meta:{rawSnapshot:l,updatedAt:n.updatedAt||l.updated_at||null,notes:Be(n.notes)||Be(l.notes)||null,evidence:n.evidence||l.evidence||null}}},Tf=n=>Array.isArray(n)?n.filter(Boolean).map((i,l)=>wf(i,l)).filter(i=>i&&i.id&&i.name):[],mx=({percent:n=68,size:i="clamp(96px, 30vw, 128px)",label:l="68%"})=>{const r=ms(n),d=cx(r);return c.jsxs("div",{"aria-label":`Progress ${r}%`,role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,className:"relative grid place-items-center",style:{width:i,height:i},children:[c.jsx("div",{className:"rounded-full",style:{width:i,height:i,background:d}}),c.jsx("div",{className:"absolute inset-2 bg-white rounded-full grid place-items-center border border-slate-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xl font-semibold text-[var(--ink)]",children:l}),c.jsx("div",{className:"text-[11px] text-slate-500",children:"complete"})]})})]})},px=({state:n="todo",title:i,meta:l,onStart:r,onContinue:d,startDisabled:h=!1,continueDisabled:f=!1})=>{const p=_n(n),g=p==="done"?c.jsx(Jv,{className:"text-emerald-600",size:20,"aria-hidden":!0}):p==="inProgress"?c.jsx(vf,{className:"text-[var(--ink)]",size:20,"aria-hidden":!0}):p==="frozen"?c.jsx(vo,{className:"text-amber-600",size:20,"aria-hidden":!0}):p==="overdue"?c.jsx(vf,{className:"text-[var(--coral)]",size:20,"aria-hidden":!0}):c.jsx(Wv,{className:"text-slate-400",size:20,"aria-hidden":!0}),y=p==="overdue"?"text-[var(--coral)]":p==="frozen"?"text-amber-700":"text-slate-600",b="px-3 py-1.5 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:pointer-events-none";return c.jsxs("div",{className:"flex items-start gap-3 py-2",children:[c.jsx("div",{className:"mt-0.5",children:g}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-[15px] text-[var(--ink)] font-medium",children:i}),l&&c.jsx("div",{className:`text-xs ${y}`,children:l})]}),p==="inProgress"?c.jsx("button",{type:"button",onClick:d,disabled:f,className:`${b} bg-[var(--coral)] text-white hover:opacity-90 focus:ring-[var(--coral)]`,children:"Completed"}):p==="todo"?c.jsx("button",{type:"button",onClick:r,disabled:h,className:`${b} bg-[var(--ink)] text-white hover:opacity-90 focus:ring-[var(--ink)]`,children:"Start"}):null]})},gx={Acquaintance:1,"Casual Friend":2,Friend:3,"Close Friend":void 0,"Best Friend":void 0},yx={Acquaintance:"/images/badges/badge1.png","Casual Friend":"/images/badges/badge2.png",Friend:"/images/badges/badge3.png","Close Friend":null,"Best Friend":null},bx=(n,i,l,r)=>{if(i!=="done")return null;const d=gx[n];if(!d)return null;const h=Array.isArray(r)?r.find(f=>f&&f.id===d):null;return!h||!h.icon?null:l&&typeof l.has=="function"&&l.has(d)?h.icon:null},vx=(n,i,l,r,d)=>{const h=bx(n,i,l,r);return h||i==="done"&&d&&d[n]||null};Tf([{id:"alex",name:"Alex",overdue:!1,percent:68,day:9,length:21,pointsToday:34,friendScore:null,friendType:null,photoSrc:null,steps:[{title:"Day 7  Send a quick invite",status:"done",meta:"Completed yesterday"},{title:"Day 8  10-min check-in (Noticing)",status:"inProgress",meta:"Due today  Try a Noticing or Affirming message"},{title:"Day 9  Pick a place for coffee",status:"todo",meta:"Prep ~5m  Suggest 2 options"}],challenge:{title:"Share a small win today",effort:"Low",estMinutes:5,points:10,swapsLeft:1},arcPoints:340,nextThreshold:500,lifetime:{xp:2430,streak:"4 days",drag:"-8%"},recent:[{delta:15,reason:"Completed Day 8 step"},{delta:10,reason:"Reply in Pods"},{delta:5,reason:"Invite sent"}],badges:{Acquaintance:"done","Casual Friend":"inProgress",Friend:"locked","Close Friend":"locked","Best Friend":"locked"}},{id:"sam",name:"Sam",overdue:!0,percent:22,day:3,length:14,pointsToday:8,friendScore:null,friendType:null,photoSrc:null,steps:[{title:"Day 1  React to a story",status:"done",meta:"Completed"},{title:"Day 2  Share a link they'll enjoy",status:"overdue",meta:"Try again today"},{title:"Day 3  Suggest a quick call",status:"todo",meta:"Prep ~3m  2 time options"}],challenge:{title:"Send a 'thinking of you' gif",effort:"Low",estMinutes:2,points:6,swapsLeft:1},arcPoints:120,nextThreshold:400,lifetime:{xp:1950,streak:"2 days",drag:"-5%"},recent:[{delta:6,reason:"Reacted to story"},{delta:2,reason:"Daily check-in"}],badges:{Acquaintance:"inProgress","Casual Friend":"locked",Friend:"locked","Close Friend":"locked","Best Friend":"locked"}},{id:"priya",name:"Priya",overdue:!1,percent:48,day:6,length:21,pointsToday:16,friendScore:null,friendType:null,photoSrc:null,steps:[{title:"Day 5  Ask for a recommendation",status:"done",meta:"Completed"},{title:"Day 6  Plan a 10-min call",status:"inProgress",meta:"Scheduled for tonight"},{title:"Day 7  Confirm IRL plan",status:"todo",meta:"Add date & place"}],challenge:{title:"Affirm something they did well",effort:"Low",estMinutes:4,points:9,swapsLeft:1},arcPoints:260,nextThreshold:500,lifetime:{xp:2150,streak:"3 days",drag:"-3%"},recent:[{delta:12,reason:"Planned call"},{delta:4,reason:"Daily check-in"}],badges:{Acquaintance:"inProgress","Casual Friend":"locked",Friend:"locked","Close Friend":"locked","Best Friend":"locked"}}]),typeof process<"u"&&process.env;function xx(n={}){const{arcs:i,initialArcId:l}=n,r=Qe.useMemo(()=>Tf(i),[i]),d=r.length>0,[h,f]=C.useState(()=>d?r:[]),[p,g]=C.useState(()=>d?l&&r.some(j=>j.id===l)?l:r[0]?.id||"":"");Qe.useEffect(()=>{d&&(f(r),g(j=>j&&r.some(z=>z.id===j)?j:l&&r.some(z=>z.id===l)?l:r[0]?.id||j||""))},[d,r,l]),Qe.useEffect(()=>{h.length&&(h.some(j=>j.id===p)||g(h[0].id))},[h,p]);const y=Qe.useMemo(()=>h.find(j=>j.id===p)||h[0]||null,[h,p]),[b,S]=Qe.useState(null),[w,A]=Qe.useState(null),[T,_]=C.useState(null),[M,q]=C.useState(!1),[ne,$]=C.useState(null),X=Qe.useCallback(j=>!!j&&b===j,[b]);Qe.useEffect(()=>{if(!w)return;const j=setTimeout(()=>A(null),4e3);return()=>clearTimeout(j)},[w]);const W=Qe.useCallback(j=>{j&&($(null),_(j))},[]),U=Qe.useCallback(()=>{M||(_(null),$(null))},[M]),G=Qe.useCallback(async()=>{if(!T||!T.id)return;const j=String(T.id);q(!0),$(null);try{await Iv(j),f(z=>{const F=z.filter(I=>String(I.id)!==j);return g(I=>I&&I!==j?I:F[0]?.id||""),F}),_(null)}catch(z){console.error("Failed to delete arc",z),$(z.message||"Unable to delete arc right now.")}finally{q(!1)}},[T,f,g]),O=Qe.useCallback(j=>{j&&f(z=>{const F=Array.isArray(z)?[...z]:[],I=F.findIndex(ve=>ve.id===j.id),Q=I===-1?null:F[I];let ie=j;if(Q){const ve=Q.photoSrc||Q.picture||Q.photo||Q.meta?.rawSnapshot?.photo||Q.meta?.rawSnapshot?.picture||Q.meta?.rawSnapshot?.photo_url||null;if(!j.photoSrc&&!j.picture&&!j.photo&&ve){const Se=j.snapshot&&typeof j.snapshot=="object"?{...j.snapshot}:{};Se.photo||(Se.photo=ve),Se.picture||(Se.picture=ve),Se.photo_url||(Se.photo_url=ve),ie={...j,photoSrc:ve,picture:j.picture||ve,photo:j.photo||ve,snapshot:Se}}}const de=wf(ie,I===-1?F.length:I);return I===-1?F.push(de):F[I]=de,F})},[f]),se=Qe.useCallback(async(j,z,F={},I={})=>{S(j),A(null);let Q=null;try{typeof I.optimistic=="function"&&(Q=I.optimistic())}catch(ie){console.error(ie)}try{const ie=await Pv(z,F);if(!ie||!ie.arc)throw new Error("Server response missing arc payload");return O(ie.arc),ie}catch(ie){if(typeof Q=="function")try{Q()}catch(de){console.error("Optimistic rollback failed",de)}return console.error(ie),A(ie.message||"Action failed. Please try again."),null}finally{S(null)}},[O]),oe=Qe.useCallback((j,z)=>{if(!j||!j.id||!z)return;if(z.size>Zv){A("Please choose an image that is 2MB or smaller.");return}A(null);const F=new FileReader,I=`photo-upload:${j.id}`;F.onload=()=>{const Q=F.result;if(typeof Q!="string"||!Q.startsWith("data:image/")){A("Unsupported image type. Please choose a PNG or JPG image.");return}se(I,`/api/arcs/${encodeURIComponent(j.id)}/photo`,{picture:Q})},F.onerror=()=>{console.error(F.error),A("Could not read image file. Please try again.")},F.readAsDataURL(z)},[se,A]),ce=Qe.useCallback((j,z)=>{if(!j||!j.id)return;const F=`plan-${z}:${j.id}`,I=`/api/arcs/${encodeURIComponent(j.id)}/steps/${z}`;return se(F,I)},[se]),we=Qe.useCallback(j=>{if(!j||!Array.isArray(j.steps))return!1;const z=Math.max(1,Number.isFinite(j.day)&&j.day>0?Math.round(j.day):1);return j.steps.some((F,I)=>{const Q=Math.floor(I/2)+1,ie=St(F?.day,F?.day_number,F?.dayNumber,F?.day_index,F?.dayIndex),de=Number.isFinite(ie)&&ie>0?ie:Q;return Math.max(1,Math.round(de))!==z?!1:_n(F?.status??F?.state??"todo")==="done"})},[]),ae=Qe.useCallback((j,z)=>{const F=Vt(z?.serverId)||Vt(z?.id)||null,I=Number.isFinite(Number(z?.serverOrdinal))?Number(z.serverOrdinal):1;if(!j||!j.id||!F)return;const Q=String(j.id),ie=I>1?`${F}__${I}`:F,de=_n(z.status??z.state??"todo"),ve=()=>{let Me=!1;return f(fe=>fe.map(Ae=>{if(!Ae||String(Ae.id)!==Q||!Array.isArray(Ae.steps))return Ae;const He=Ae.steps.map(pe=>{if(!pe)return pe;const Oe=Vt(pe.serverId)||Vt(pe.id),Ne=Number.isFinite(Number(pe.serverOrdinal))?Number(pe.serverOrdinal):1;return Oe!==F||Ne!==I||(Me=!0,_n(pe.status??pe.state??"todo")==="inProgress")?pe:{...pe,status:"inProgress"}});return Me?{...Ae,steps:He}:Ae})),Me?()=>{f(fe=>fe.map(Ae=>{if(!Ae||String(Ae.id)!==Q||!Array.isArray(Ae.steps))return Ae;const He=Ae.steps.map(pe=>{if(!pe)return pe;const Oe=Vt(pe.serverId)||Vt(pe.id),Ne=Number.isFinite(Number(pe.serverOrdinal))?Number(pe.serverOrdinal):1;return Oe!==F||Ne!==I?pe:{...pe,status:de}});return{...Ae,steps:He}}))}:null},Se=`step-start:${Q}:${ie}`,ze=`/api/arcs/${encodeURIComponent(Q)}/steps/${encodeURIComponent(ie)}/start`;return se(Se,ze,{},{optimistic:ve})},[se,f]),be=Qe.useCallback((j,z)=>{const F=Vt(z?.serverId)||Vt(z?.id)||null,I=Number.isFinite(Number(z?.serverOrdinal))?Number(z.serverOrdinal):1;if(!j||!j.id||!F)return;const Q=String(j.id),ie=I>1?`${F}__${I}`:F,de=_n(z?.status??z?.state??"inProgress"),ve=()=>{let Me=!1,fe=null,Ae=null;return f(He=>He.map(pe=>{if(!pe||String(pe.id)!==Q||!Array.isArray(pe.steps))return pe;const Oe=pe.steps.map(Ne=>{if(!Ne)return Ne;const tt=Vt(Ne.serverId)||Vt(Ne.id),qt=Number.isFinite(Number(Ne.serverOrdinal))?Number(Ne.serverOrdinal):1;return tt!==F||qt!==I||(Me=!0,fe=Ne.status??null,Ae=Ne.state??null,_n(Ne.status??Ne.state??"todo")==="done")?Ne:{...Ne,status:"done",state:"done"}});return Me?{...pe,steps:Oe}:pe})),Me?()=>{f(He=>He.map(pe=>{if(!pe||String(pe.id)!==Q||!Array.isArray(pe.steps))return pe;const Oe=pe.steps.map(Ne=>{if(!Ne)return Ne;const tt=Vt(Ne.serverId)||Vt(Ne.id),qt=Number.isFinite(Number(Ne.serverOrdinal))?Number(Ne.serverOrdinal):1;return tt!==F||qt!==I?Ne:{...Ne,status:fe??de,state:Ae??de}});return{...pe,steps:Oe}}))}:null},Se=`step-complete:${Q}:${ie}`,ze=`/api/arcs/${encodeURIComponent(Q)}/steps/${encodeURIComponent(ie)}/complete`;return se(Se,ze,{},{optimistic:ve})},[se,f]),ue=Qe.useCallback(j=>{const z=j?.challenge;if(!j||!j.id||!z||z.isFallback)return;const F=z.templateId||z.template_id||z.id;if(!F)return;const I=`challenge-complete:${j.id}`,Q=`/api/arcs/${encodeURIComponent(j.id)}/challenge/${encodeURIComponent(F)}/complete`;return se(I,Q)},[se]),B=Qe.useCallback(j=>{const z=j?.challenge;if(!j||!j.id||!z||z.isFallback)return;const F=Number(z.swapsLeft??z.swaps_left??0);if(!Number.isFinite(F)||F<=0)return;const I=`challenge-swap:${j.id}`,Q=`/api/arcs/${encodeURIComponent(j.id)}/challenge/swap`;return se(I,Q)},[se]);if(!h.length||!y)return c.jsxs("div",{className:"min-h-[60vh] pb-24 bg-[var(--canvas)] text-slate-800 overflow-x-hidden",children:[c.jsx("style",{children:`
        :root{ --ink:#455a7c; --coral:#ff5656; --mist:#b5bdcb; --canvas:#f4f4f4; }
      `}),c.jsx("main",{className:"mx-auto max-w-screen-md px-3 md:px-4 py-6 md:py-8 grid gap-6",children:c.jsx(ps,{title:"Welcome to Friend Challenges",subtitle:"Add a friend to see personalised arcs and action steps",children:c.jsxs("div",{className:"grid gap-4 text-sm text-slate-600",children:[c.jsx("p",{children:"You haven't added any friends yet. Take the Friend Quiz to create your first arc and unlock tailored steps, challenges, and badges."}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("a",{href:"friendQuiz",className:"px-4 py-2 rounded-lg bg-[var(--coral)] text-white text-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",children:"Take the Friend Quiz"}),c.jsx("a",{href:"/profile",className:"px-4 py-2 rounded-lg bg-white text-[var(--ink)] border border-slate-200 text-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--ink)]/40",children:"Manage your friends"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:"Tip: once you complete a friend's quiz, their arc will appear here with personalised micro-actions and badges."})]})})})]});const[P,K]=C.useState([]),[re,D]=C.useState(new Set),v=(j,z)=>vx(j,z,re,P,yx),k=j=>{const z=j.challenge||Sf(null,j.name),F=!!z&&!z.isFallback,I=F?z.description||`Keep up the momentum with ${j.name}.`:"You're all caught up for today. New surprises unlock tomorrow.",Q=F&&Number.isFinite(z.swapsLeft)?z.swapsLeft:0,ie=jf(j.lifetime),de=Number.isFinite(ie.dailySurpriseLimit)&&ie.dailySurpriseLimit>0?ie.dailySurpriseLimit:yf,ve=Number.isFinite(ie.dailySurpriseCount)?ie.dailySurpriseCount:0,Se=Math.max(de-ve,0),ze=`${Se} surprise${Se===1?"":"s"} left today`,Me=Number.isFinite(j.arcPoints)?j.arcPoints:0,fe=Number.isFinite(j.nextThreshold)&&j.nextThreshold>0?j.nextThreshold:100,Ae=Number.isFinite(j.pointsToday)?j.pointsToday:0,He=Number.isFinite(j.day)?j.day:0,pe=Number.isFinite(j.length)?j.length:0,Oe=Number.isFinite(j.percent)?j.percent:bo(Me,fe),Ne=ms(Number.isFinite(Oe)?Oe:0),tt=`${Ne}%`,qt=Qv(He,pe),Dn=Ae>0?`+${Ae} FP today`:"0 FP logged today",le=Math.max(1,Number.isFinite(He)&&He>0?Math.round(He):1),ye=!!(j.cycleReset||j.clientFlags?.cycleReset),De=Number.isFinite(j.pendingDay)?Math.round(j.pendingDay):null,Ye=Be(j.pendingDayUnlockAt??j.clientFlags?.pendingDayUnlockAt??j.lifetime?.pendingDayUnlockAt??j.lifetime?.pending_day_unlock_at??null)||null,ft=!!(j.awaitingNextDay||j.clientFlags?.awaitingNextDay||De&&De>le),te=!j.hasStructuredSteps&&!ye&&!ft,xe=`${Ne}%`,Pe=Number.isFinite(Me)&&Me>0?Me:Math.round(Ne/100*fe),Tt=`plan-refresh:${j.id}`,ot=`plan-fail-forward:${j.id}`,Nt=`challenge-complete:${j.id}`,Xe=`challenge-swap:${j.id}`,jt=`photo-upload:${j.id}`,gt=X(jt),Vn=(Array.isArray(j.steps)?j.steps.filter((Ke,Wt)=>{const da=Math.floor(Wt/2)+1,fn=St(Ke?.day,Ke?.day_number,Ke?.dayNumber,Ke?.day_index,Ke?.dayIndex),Ai=Number.isFinite(fn)&&fn>0?fn:da;return Math.max(1,Math.round(Ai))===le}):[]).filter(Ke=>_n(Ke?.status??Ke?.state)!=="done"),wi=!ye&&!ft&&Vn.length>0,Ti=ye||ft||j.hasStructuredSteps&&!wi,Ni=Number.isFinite(De)&&De>0?De:le+1,ca=Ye?new Date(Ye):null,Ga=ca&&!Number.isNaN(ca.getTime())?ca.toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):null,Xa=ye?"Great job  today's actions are logged. Fresh prompts unlock once the next cycle opens.":ft?Ga?`Great job  Day ${Ni} unlocks ${Ga}. Check back for new actions then.`:"Great job  today's actions are logged. Check back tomorrow for new prompts.":"All actions for today are complete. Check back tomorrow for two new prompts.";return c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8 items-start",children:[c.jsxs("div",{className:"grid gap-6 md:gap-8 md:col-span-2",children:[c.jsx(ps,{children:c.jsxs("div",{className:"grid gap-5 items-start md:grid-cols-3 md:items-center",children:[c.jsxs("div",{className:"grid place-items-center gap-2 text-center",children:[c.jsx("div",{className:"text-sm font-semibold text-[var(--ink)]",children:j.name}),c.jsx(lx,{name:j.name,src:j.photoSrc||void 0,loading:gt,onPick:Ke=>oe(j,Ke)}),c.jsxs("div",{className:"grid gap-2 mt-1",children:[c.jsx(Yt,{tone:"ink",children:`Friend Score: ${ux(j.friendScore)}`}),c.jsx(Yt,{children:`Friend Type: ${dx(j.friendType)}`}),fx(j.friendScore,j.friendType)&&c.jsx("a",{href:"friendQuiz",className:"mt-2 px-3 py-2 rounded-lg bg-[var(--coral)] text-white text-sm inline-block",role:"button",children:"Do the Friend Quiz Now"})]})]}),c.jsxs("div",{className:"grid md:col-span-2 place-items-center",children:[c.jsx(mx,{percent:Oe,size:"clamp(96px, 28vw, 128px)",label:tt}),c.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs",children:[c.jsx(Yt,{tone:"ink",children:qt}),c.jsx(Yt,{tone:"coral",children:Dn})]})]}),c.jsxs("div",{className:"grid gap-2 md:col-span-3",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("h3",{className:"text-[var(--ink)] font-semibold",children:`Todays plan for ${j.name}`}),c.jsx(Yt,{children:"Quality > hours"})]}),wi?c.jsx("ul",{className:"divide-y divide-slate-100",children:Vn.map((Ke,Wt)=>{const da=Vt(Ke.serverId)||Vt(Ke.id),fn=Number.isFinite(Number(Ke.serverOrdinal))?Number(Ke.serverOrdinal):1,Ai=fn>1?`${da}__${fn}`:da,zs=`step-start:${j.id}:${Ai}`,Pl=`step-complete:${j.id}:${Ai}`,Ci=_n(Ke.status??Ke.state);return c.jsx("li",{children:c.jsx(px,{state:Ci,title:Ke.title,meta:Ke.meta,onStart:Ci==="todo"?()=>ae(j,Ke):void 0,onContinue:Ci==="inProgress"?()=>be(j,Ke):void 0,startDisabled:X(zs),continueDisabled:X(Pl)})},Ke.id||`${j.id}-step-${Wt}`)})}):Ti?c.jsx("div",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm text-slate-600",children:Xa}):null,te&&c.jsx("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 px-4 py-3 text-xs text-slate-600",children:"Complete this friends quiz to unlock a personalised daily plan."}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>ce(j,"refresh"),disabled:X(Tt)||we(j),className:"px-3 py-1.5 rounded-lg bg-[var(--ink)] text-white text-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--ink)] disabled:opacity-60 disabled:pointer-events-none",children:"Refresh"}),c.jsx("button",{type:"button",onClick:()=>ce(j,"fail-forward"),disabled:X(ot),className:"px-3 py-1.5 rounded-lg bg-white text-slate-700 border border-slate-200 text-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-300 disabled:opacity-60 disabled:pointer-events-none",children:"Skip to Tomorrow"}),c.jsxs("span",{className:"text-xs text-slate-500 ml-auto flex items-center gap-1",children:[c.jsx(nx,{size:14})," Auto-advance in ~12h"]})]}),c.jsxs("div",{className:"mt-2 hidden md:flex items-center gap-2 p-3 rounded-xl bg-amber-50 border border-amber-200 text-amber-800",children:[c.jsx(vo,{size:16}),c.jsx("span",{className:"text-sm",children:"Freeze active  youve hit this weeks cap. Log a quick quality check to unlock bigger awards."})]})]})]})}),c.jsx(ps,{title:`Daily Surprise  ${j.name}`,subtitle:"A tiny nudge for real-life progress",children:c.jsxs("div",{className:"grid md:grid-cols-[1fr_auto] gap-4 items-start",children:[c.jsxs("div",{className:"grid gap-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-[var(--ink)]",children:z.title}),c.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:I}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[F&&c.jsxs(c.Fragment,{children:[c.jsx(Yt,{tone:"ink",children:`${z.effort} effort`}),c.jsx(Yt,{tone:"coral",children:`${z.estMinutes} min`}),c.jsx(Yt,{tone:"ok",children:`+${z.points} FP`})]}),c.jsx(Yt,{tone:Se>0?"ok":"muted",children:ze})]})]}),c.jsx("div",{className:"grid gap-2 justify-items-end",children:F?c.jsxs(c.Fragment,{children:[c.jsxs("button",{type:"button",onClick:()=>ue(j),disabled:X(Nt),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-[var(--coral)] text-white text-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)] disabled:opacity-60 disabled:pointer-events-none",children:["Do it",c.jsx(ax,{size:16,"aria-hidden":!0})]}),c.jsx("button",{type:"button",onClick:()=>B(j),disabled:Q<=0||X(Xe),className:"inline-flex items-center gap-2 text-xs text-[var(--ink)] hover:underline disabled:opacity-60 disabled:pointer-events-none",children:Q>0?"Swap this idea":"No swaps left"})]}):c.jsx("div",{className:"text-xs text-slate-500 text-right max-w-[220px]",children:"You're all caught up. KAI will drop fresh surprises tomorrow."})}),F&&Number.isFinite(Q)&&c.jsx("div",{className:"justify-self-end",children:c.jsx(Yt,{tone:Q>0?"warn":"muted",children:`Swaps left: ${Q}`})})]})}),c.jsx(ps,{title:"Badges",subtitle:"Friendship levels + streak & pod-assist",children:c.jsxs("div",{className:"grid gap-4",children:[c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:rx.map(Ke=>{const Wt=(j.badges||{})[Ke]||"locked";return c.jsxs("div",{className:`rounded-xl border p-3 text-center flex flex-col items-center ${Wt==="done"?"bg-emerald-50 border-emerald-200":Wt==="inProgress"?"bg-[var(--canvas)] border-slate-200":"bg-white border-slate-200 opacity-70"}`,children:[c.jsx("div",{className:"grid place-items-center",children:c.jsx(ox,{state:Wt,label:Ke,src:v(Ke,Wt)})}),c.jsx("div",{className:"mt-2 text-center font-medium text-[13px] md:text-sm leading-tight text-[var(--ink)] break-words",children:Ke}),c.jsx("div",{className:"mt-1 text-xs text-slate-500",children:Wt==="done"?"earned":Wt==="inProgress"?"2 steps to unlock":"locked"})]},Ke)})}),c.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[c.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 flex items-center gap-3",children:[c.jsx(ex,{className:"text-[var(--coral)]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-[var(--ink)]",children:"7-Day Streak"}),c.jsx("div",{className:"text-xs text-slate-500",children:"2/7  keep your daily reps going"})]}),c.jsx("div",{className:"ml-auto text-xs",children:c.jsx(Yt,{tone:"ink",children:"+5% bonus"})})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 flex items-center gap-3",children:[c.jsx(tx,{className:"text-[var(--ink)]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-[var(--ink)]",children:"Pod Assist"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Help 3 podmates complete a step  1/3"})]}),c.jsx("div",{className:"ml-auto text-xs",children:c.jsx(Yt,{children:"accountability"})})]})]})]})})]}),c.jsx("div",{className:"grid md:col-span-1 gap-6 md:gap-8 md:sticky md:top-6 self-start",children:c.jsx(ps,{title:"Points & Rewards",subtitle:"Per-arc progress  Lifetime totals",children:c.jsxs("div",{className:"grid gap-6",children:[c.jsxs("div",{className:"grid gap-3",children:[c.jsx("div",{className:"text-sm font-medium text-[var(--ink)]",children:`Arc (${j.name})`}),c.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2.5 md:h-3 overflow-hidden",children:c.jsx("div",{className:"h-2.5 md:h-3 rounded-full bg-[var(--coral)]",style:{width:xe}})}),c.jsx("div",{className:"flex items-center justify-between text-sm",children:c.jsxs("span",{children:[Pe," / ",fe,"  Next level"]})}),c.jsx("div",{className:"text-xs text-slate-500",children:"Complete this Friend Arc to Earn Friend Points (FP)"})]}),c.jsx("div",{className:"grid gap-3",children:c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 text-center flex flex-col items-center justify-center min-h-[92px] md:min-h-[112px]",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Lifetime FP"}),c.jsx("div",{className:"text-lg font-semibold text-[var(--ink)] leading-tight",children:ie.xp})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 text-center flex flex-col items-center justify-center min-h-[92px] md:min-h-[112px]",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Current Streak"}),c.jsx("div",{className:"text-lg font-semibold text-[var(--ink)] leading-tight whitespace-pre-line",children:ie.streak})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 text-center flex flex-col items-center justify-center min-h-[92px] md:min-h-[112px]",children:[c.jsx("div",{className:"text-xs text-slate-500",children:"Drag this week"}),c.jsx("div",{className:"text-lg font-semibold text-[var(--coral)] leading-tight",children:ie.drag})]})]})})]})})})]})};return c.jsxs("div",{className:"min-h-[60vh] pb-24 bg-[var(--canvas)] text-slate-800 overflow-x-hidden",children:[c.jsx("style",{children:`
        :root{ --ink:#455a7c; --coral:#ff5656; --mist:#b5bdcb; --canvas:#f4f4f4; }
      `}),w&&c.jsx("div",{className:"fixed bottom-4 right-4 z-50 rounded-md bg-[var(--ink)] text-white text-sm px-4 py-2 shadow-lg",children:w}),T&&c.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-slate-900/40","aria-hidden":!0,onClick:U}),c.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"delete-arc-title",className:"relative z-10 w-full max-w-md rounded-2xl bg-white border border-slate-200 shadow-xl p-6",children:[c.jsx("h3",{id:"delete-arc-title",className:"text-lg font-semibold text-[var(--ink)] mb-2",children:`Delete ${T.name||"this arc"}?`}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Removing this friend pill deletes its progress, steps, and badges. This action cannot be undone."}),ne&&c.jsx("p",{className:"text-sm text-[var(--coral)] mb-4",children:ne}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:U,disabled:M,className:"px-4 py-2 rounded-lg border border-slate-200 text-sm text-[var(--ink)] hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-300 disabled:opacity-60",children:"Cancel"}),c.jsx("button",{type:"button",onClick:G,disabled:M,className:"px-4 py-2 rounded-lg bg-[var(--coral)] text-white text-sm shadow hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)] disabled:opacity-60",children:M?"Deleting":"Delete arc"})]})]})]}),c.jsxs("main",{className:"mx-auto max-w-screen-lg px-3 md:px-4 py-6 md:py-8 grid gap-6 md:gap-8",children:[c.jsx("div",{className:"overflow-x-auto pb-1 pt-1",children:c.jsxs("nav",{"aria-label":"Your Arcs",role:"tablist",className:"flex gap-2",children:[h.map((j,z)=>{const F=j.domId||Tl(j.id,`arc-${z}`),I=`arc-tab-${F}`,Q=`arc-panel-${F}`,ie=p===j.id,de=ve=>{ve.preventDefault(),ve.stopPropagation(),W(j)};return c.jsxs("div",{className:"relative shrink-0 pr-2",children:[c.jsx("button",{id:I,onClick:()=>g(j.id),role:"tab","aria-selected":ie,"aria-controls":Q,className:["shrink-0 pr-7 pl-3.5 py-2 rounded-full text-sm border transition-all",ie?"bg-[var(--ink)] text-white border-[var(--ink)] shadow-md":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50","focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[var(--ink)]"].join(" "),children:c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx("span",{className:["inline-flex items-center justify-center w-5 h-5 rounded-full text-[10px]",ie?"bg-white text-[var(--ink)]":"bg-[var(--ink)] text-white"].join(" "),children:j.name?.[0]??"?"}),c.jsx("span",{className:ie?"font-semibold":"",children:j.name}),j.overdue&&!ie&&c.jsx(Yt,{tone:"coral",children:"overdue"}),j.overdue&&ie&&c.jsx(Yt,{tone:"warn",children:"overdue"})]})}),c.jsx("button",{type:"button",onClick:de,"aria-label":`Delete ${j.name}`,className:"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-[var(--coral)] text-white text-[10px] shadow hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",children:""})]},j.id)}),c.jsx("a",{className:"ml-1 shrink-0 px-3.5 py-2 rounded-full text-sm border border-dashed text-slate-600 hover:bg-slate-50",href:"friendQuiz",children:"+ Add"})]})}),h.map((j,z)=>{const F=j.domId||Tl(j.id,`arc-${z}`),I=`arc-tab-${F}`,Q=`arc-panel-${F}`,ie=p===j.id;return c.jsx("div",{role:"tabpanel",id:Q,"aria-labelledby":I,hidden:!ie,children:ie?k(j):null},Q)})]})]})}var xo={};(function n(i,l,r,d){var h=!!(i.Worker&&i.Blob&&i.Promise&&i.OffscreenCanvas&&i.OffscreenCanvasRenderingContext2D&&i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype.transferControlToOffscreen&&i.URL&&i.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",p=(function(){if(!i.OffscreenCanvas)return!1;var D=new OffscreenCanvas(1,1),v=D.getContext("2d");v.fillRect(0,0,1,1);var k=D.transferToImageBitmap();try{v.createPattern(k,"no-repeat")}catch{return!1}return!0})();function g(){}function y(D){var v=l.exports.Promise,k=v!==void 0?v:i.Promise;return typeof k=="function"?new k(D):(D(g,g),null)}var b=(function(D,v){return{transform:function(k){if(D)return k;if(v.has(k))return v.get(k);var j=new OffscreenCanvas(k.width,k.height),z=j.getContext("2d");return z.drawImage(k,0,0),v.set(k,j),j},clear:function(){v.clear()}}})(p,new Map),S=(function(){var D=Math.floor(16.666666666666668),v,k,j={},z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(v=function(F){var I=Math.random();return j[I]=requestAnimationFrame(function Q(ie){z===ie||z+D-1<ie?(z=ie,delete j[I],F()):j[I]=requestAnimationFrame(Q)}),I},k=function(F){j[F]&&cancelAnimationFrame(j[F])}):(v=function(F){return setTimeout(F,D)},k=function(F){return clearTimeout(F)}),{frame:v,cancel:k}})(),w=(function(){var D,v,k={};function j(z){function F(I,Q){z.postMessage({options:I||{},callback:Q})}z.init=function(Q){var ie=Q.transferControlToOffscreen();z.postMessage({canvas:ie},[ie])},z.fire=function(Q,ie,de){if(v)return F(Q,null),v;var ve=Math.random().toString(36).slice(2);return v=y(function(Se){function ze(Me){Me.data.callback===ve&&(delete k[ve],z.removeEventListener("message",ze),v=null,b.clear(),de(),Se())}z.addEventListener("message",ze),F(Q,ve),k[ve]=ze.bind(null,{data:{callback:ve}})}),v},z.reset=function(){z.postMessage({reset:!0});for(var Q in k)k[Q](),delete k[Q]}}return function(){if(D)return D;if(!r&&h){var z=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{D=new Worker(URL.createObjectURL(new Blob([z])))}catch(F){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",F),null}j(D)}return D}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function T(D,v){return v?v(D):D}function _(D){return D!=null}function M(D,v,k){return T(D&&_(D[v])?D[v]:A[v],k)}function q(D){return D<0?0:Math.floor(D)}function ne(D,v){return Math.floor(Math.random()*(v-D))+D}function $(D){return parseInt(D,16)}function X(D){return D.map(W)}function W(D){var v=String(D).replace(/[^0-9a-f]/gi,"");return v.length<6&&(v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]),{r:$(v.substring(0,2)),g:$(v.substring(2,4)),b:$(v.substring(4,6))}}function U(D){var v=M(D,"origin",Object);return v.x=M(v,"x",Number),v.y=M(v,"y",Number),v}function G(D){D.width=document.documentElement.clientWidth,D.height=document.documentElement.clientHeight}function O(D){var v=D.getBoundingClientRect();D.width=v.width,D.height=v.height}function se(D){var v=document.createElement("canvas");return v.style.position="fixed",v.style.top="0px",v.style.left="0px",v.style.pointerEvents="none",v.style.zIndex=D,v}function oe(D,v,k,j,z,F,I,Q,ie){D.save(),D.translate(v,k),D.rotate(F),D.scale(j,z),D.arc(0,0,1,I,Q,ie),D.restore()}function ce(D){var v=D.angle*(Math.PI/180),k=D.spread*(Math.PI/180);return{x:D.x,y:D.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:D.startVelocity*.5+Math.random()*D.startVelocity,angle2D:-v+(.5*k-Math.random()*k),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:D.color,shape:D.shape,tick:0,totalTicks:D.ticks,decay:D.decay,drift:D.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:D.gravity*3,ovalScalar:.6,scalar:D.scalar,flat:D.flat}}function we(D,v){v.x+=Math.cos(v.angle2D)*v.velocity+v.drift,v.y+=Math.sin(v.angle2D)*v.velocity+v.gravity,v.velocity*=v.decay,v.flat?(v.wobble=0,v.wobbleX=v.x+10*v.scalar,v.wobbleY=v.y+10*v.scalar,v.tiltSin=0,v.tiltCos=0,v.random=1):(v.wobble+=v.wobbleSpeed,v.wobbleX=v.x+10*v.scalar*Math.cos(v.wobble),v.wobbleY=v.y+10*v.scalar*Math.sin(v.wobble),v.tiltAngle+=.1,v.tiltSin=Math.sin(v.tiltAngle),v.tiltCos=Math.cos(v.tiltAngle),v.random=Math.random()+2);var k=v.tick++/v.totalTicks,j=v.x+v.random*v.tiltCos,z=v.y+v.random*v.tiltSin,F=v.wobbleX+v.random*v.tiltCos,I=v.wobbleY+v.random*v.tiltSin;if(D.fillStyle="rgba("+v.color.r+", "+v.color.g+", "+v.color.b+", "+(1-k)+")",D.beginPath(),f&&v.shape.type==="path"&&typeof v.shape.path=="string"&&Array.isArray(v.shape.matrix))D.fill(P(v.shape.path,v.shape.matrix,v.x,v.y,Math.abs(F-j)*.1,Math.abs(I-z)*.1,Math.PI/10*v.wobble));else if(v.shape.type==="bitmap"){var Q=Math.PI/10*v.wobble,ie=Math.abs(F-j)*.1,de=Math.abs(I-z)*.1,ve=v.shape.bitmap.width*v.scalar,Se=v.shape.bitmap.height*v.scalar,ze=new DOMMatrix([Math.cos(Q)*ie,Math.sin(Q)*ie,-Math.sin(Q)*de,Math.cos(Q)*de,v.x,v.y]);ze.multiplySelf(new DOMMatrix(v.shape.matrix));var Me=D.createPattern(b.transform(v.shape.bitmap),"no-repeat");Me.setTransform(ze),D.globalAlpha=1-k,D.fillStyle=Me,D.fillRect(v.x-ve/2,v.y-Se/2,ve,Se),D.globalAlpha=1}else if(v.shape==="circle")D.ellipse?D.ellipse(v.x,v.y,Math.abs(F-j)*v.ovalScalar,Math.abs(I-z)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI):oe(D,v.x,v.y,Math.abs(F-j)*v.ovalScalar,Math.abs(I-z)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI);else if(v.shape==="star")for(var fe=Math.PI/2*3,Ae=4*v.scalar,He=8*v.scalar,pe=v.x,Oe=v.y,Ne=5,tt=Math.PI/Ne;Ne--;)pe=v.x+Math.cos(fe)*He,Oe=v.y+Math.sin(fe)*He,D.lineTo(pe,Oe),fe+=tt,pe=v.x+Math.cos(fe)*Ae,Oe=v.y+Math.sin(fe)*Ae,D.lineTo(pe,Oe),fe+=tt;else D.moveTo(Math.floor(v.x),Math.floor(v.y)),D.lineTo(Math.floor(v.wobbleX),Math.floor(z)),D.lineTo(Math.floor(F),Math.floor(I)),D.lineTo(Math.floor(j),Math.floor(v.wobbleY));return D.closePath(),D.fill(),v.tick<v.totalTicks}function ae(D,v,k,j,z){var F=v.slice(),I=D.getContext("2d"),Q,ie,de=y(function(ve){function Se(){Q=ie=null,I.clearRect(0,0,j.width,j.height),b.clear(),z(),ve()}function ze(){r&&!(j.width===d.width&&j.height===d.height)&&(j.width=D.width=d.width,j.height=D.height=d.height),!j.width&&!j.height&&(k(D),j.width=D.width,j.height=D.height),I.clearRect(0,0,j.width,j.height),F=F.filter(function(Me){return we(I,Me)}),F.length?Q=S.frame(ze):Se()}Q=S.frame(ze),ie=Se});return{addFettis:function(ve){return F=F.concat(ve),de},canvas:D,promise:de,reset:function(){Q&&S.cancel(Q),ie&&ie()}}}function be(D,v){var k=!D,j=!!M(v||{},"resize"),z=!1,F=M(v,"disableForReducedMotion",Boolean),I=h&&!!M(v||{},"useWorker"),Q=I?w():null,ie=k?G:O,de=D&&Q?!!D.__confetti_initialized:!1,ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Se;function ze(fe,Ae,He){for(var pe=M(fe,"particleCount",q),Oe=M(fe,"angle",Number),Ne=M(fe,"spread",Number),tt=M(fe,"startVelocity",Number),qt=M(fe,"decay",Number),Dn=M(fe,"gravity",Number),le=M(fe,"drift",Number),ye=M(fe,"colors",X),De=M(fe,"ticks",Number),Ye=M(fe,"shapes"),ft=M(fe,"scalar"),te=!!M(fe,"flat"),xe=U(fe),Pe=pe,Tt=[],ot=D.width*xe.x,Nt=D.height*xe.y;Pe--;)Tt.push(ce({x:ot,y:Nt,angle:Oe,spread:Ne,startVelocity:tt,color:ye[Pe%ye.length],shape:Ye[ne(0,Ye.length)],ticks:De,decay:qt,gravity:Dn,drift:le,scalar:ft,flat:te}));return Se?Se.addFettis(Tt):(Se=ae(D,Tt,ie,Ae,He),Se.promise)}function Me(fe){var Ae=F||M(fe,"disableForReducedMotion",Boolean),He=M(fe,"zIndex",Number);if(Ae&&ve)return y(function(tt){tt()});k&&Se?D=Se.canvas:k&&!D&&(D=se(He),document.body.appendChild(D)),j&&!de&&ie(D);var pe={width:D.width,height:D.height};Q&&!de&&Q.init(D),de=!0,Q&&(D.__confetti_initialized=!0);function Oe(){if(Q){var tt={getBoundingClientRect:function(){if(!k)return D.getBoundingClientRect()}};ie(tt),Q.postMessage({resize:{width:tt.width,height:tt.height}});return}pe.width=pe.height=null}function Ne(){Se=null,j&&(z=!1,i.removeEventListener("resize",Oe)),k&&D&&(document.body.contains(D)&&document.body.removeChild(D),D=null,de=!1)}return j&&!z&&(z=!0,i.addEventListener("resize",Oe,!1)),Q?Q.fire(fe,pe,Ne):ze(fe,pe,Ne)}return Me.reset=function(){Q&&Q.reset(),Se&&Se.reset()},Me}var ue;function B(){return ue||(ue=be(null,{useWorker:!0,resize:!0})),ue}function P(D,v,k,j,z,F,I){var Q=new Path2D(D),ie=new Path2D;ie.addPath(Q,new DOMMatrix(v));var de=new Path2D;return de.addPath(ie,new DOMMatrix([Math.cos(I)*z,Math.sin(I)*z,-Math.sin(I)*F,Math.cos(I)*F,k,j])),de}function K(D){if(!f)throw new Error("path confetti are not supported in this browser");var v,k;typeof D=="string"?v=D:(v=D.path,k=D.matrix);var j=new Path2D(v),z=document.createElement("canvas"),F=z.getContext("2d");if(!k){for(var I=1e3,Q=I,ie=I,de=0,ve=0,Se,ze,Me=0;Me<I;Me+=2)for(var fe=0;fe<I;fe+=2)F.isPointInPath(j,Me,fe,"nonzero")&&(Q=Math.min(Q,Me),ie=Math.min(ie,fe),de=Math.max(de,Me),ve=Math.max(ve,fe));Se=de-Q,ze=ve-ie;var Ae=10,He=Math.min(Ae/Se,Ae/ze);k=[He,0,0,He,-Math.round(Se/2+Q)*He,-Math.round(ze/2+ie)*He]}return{type:"path",path:v,matrix:k}}function re(D){var v,k=1,j="#000000",z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof D=="string"?v=D:(v=D.text,k="scalar"in D?D.scalar:k,z="fontFamily"in D?D.fontFamily:z,j="color"in D?D.color:j);var F=10*k,I=""+F+"px "+z,Q=new OffscreenCanvas(F,F),ie=Q.getContext("2d");ie.font=I;var de=ie.measureText(v),ve=Math.ceil(de.actualBoundingBoxRight+de.actualBoundingBoxLeft),Se=Math.ceil(de.actualBoundingBoxAscent+de.actualBoundingBoxDescent),ze=2,Me=de.actualBoundingBoxLeft+ze,fe=de.actualBoundingBoxAscent+ze;ve+=ze+ze,Se+=ze+ze,Q=new OffscreenCanvas(ve,Se),ie=Q.getContext("2d"),ie.font=I,ie.fillStyle=j,ie.fillText(v,Me,fe);var Ae=1/k;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[Ae,0,0,Ae,-ve*Ae/2,-Se*Ae/2]}}l.exports=function(){return B().apply(this,arguments)},l.exports.reset=function(){B().reset()},l.exports.create=be,l.exports.shapeFromPath=K,l.exports.shapeFromText=re})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),xo,!1);const So=xo.exports;xo.exports.create;const Nf={reliability:3,values:3,safety:3,reciprocity:2,chemistry:2,interaction:2,logistics:2,activity:1},Af=.45,jo={reliability:null,values:null,safety:null,reciprocity:null,chemistry:null,interaction:null,logistics:null,activity:null,arch_confidante:null,arch_anchor:null,arch_adventurer:null,arch_communicator:null,arch_connector:null,arch_coach:null,arch_collaborator:null,arch_caregiver:null,sig_asks:null,sig_on_time:null,sig_makes_plan:null,sig_includes:null,sig_boundaries:null,sig_energy:null},Cf=[{id:"sig_asks",round:"Signals Round",emoji:"",title:"Asks & listens",hint:"They ask follow-ups and actually listen."},{id:"sig_on_time",round:"Signals Round",emoji:"",title:"On-time / responsive",hint:"Shows up on time; replies in ~24h."},{id:"sig_makes_plan",round:"Signals Round",emoji:"",title:"Plan energy",hint:"Suggests a next hang or picks a spot."},{id:"sig_includes",round:"Signals Round",emoji:"",title:"Inclusive kindness",hint:"Kind to staff; brings people in."},{id:"sig_boundaries",round:"Signals Round",emoji:"",title:"Boundary respect",hint:"Honors pace/topics when you hint."},{id:"sig_energy",round:"Signals Round",emoji:"",title:"Energy match",hint:"Pace & humor feel aligned."},{id:"chemistry",round:"Vibes Round",emoji:"",title:"Chemistry / Fun",hint:"Do we laugh easily & want to hang?",weightKey:"chemistry"},{id:"interaction",round:"Vibes Round",emoji:"",title:"Interaction Fit",hint:"Texting style, frequency, conflict vibes match?",weightKey:"interaction"},{id:"reliability",round:"Adulting Round",emoji:"",title:"Reliability",hint:"They keep plans & follow through",weightKey:"reliability"},{id:"reciprocity",round:"Adulting Round",emoji:"",title:"Reciprocity",hint:"Effort & invites are mutual",weightKey:"reciprocity"},{id:"logistics",round:"Adulting Round",emoji:"",title:"Logistics Fit",hint:"Proximity + time overlap works",weightKey:"logistics"},{id:"values",round:"Values Round",emoji:"",title:"Values Match",hint:"Top-3 traits line up",weightKey:"values"},{id:"safety",round:"Values Round",emoji:"",title:"Emotional Safety",hint:"I feel seen, respected, not judged",weightKey:"safety"},{id:"activity",round:"Values Round",emoji:"",title:"Activity Overlap",hint:"We have 1 regular thing to do",weightKey:"activity"},{id:"arch_confidante",round:"Archetype Round",emoji:"",title:"Confidante energy",hint:"Shares honestly, listens, keeps confidence."},{id:"arch_anchor",round:"Archetype Round",emoji:"",title:"Anchor energy",hint:"Shows up on time, loves routines & traditions."},{id:"arch_adventurer",round:"Archetype Round",emoji:"",title:"Adventurer energy",hint:"Suggests new spots, down for novelty."},{id:"arch_communicator",round:"Archetype Round",emoji:"",title:"Communicator energy",hint:"Smooth plans, repairs bumps fast."},{id:"arch_connector",round:"Archetype Round",emoji:"",title:"Connector energy",hint:"Introduces people, builds group hangs."},{id:"arch_coach",round:"Archetype Round",emoji:"",title:"Coach energy",hint:"Accountability, hype, thoughtful feedback."},{id:"arch_collaborator",round:"Archetype Round",emoji:"",title:"Collaborator energy",hint:"Loves making/learning together."},{id:"arch_caregiver",round:"Archetype Round",emoji:"",title:"Caregiver energy",hint:"Warm check-ins, supportive, brings soup vibes."}],Ua=["Signals Round","Vibes Round","Adulting Round","Values Round","Archetype Round"],Sx=[{id:"flake",label:"Chronic flakiness",emoji:""},{id:"mean",label:"Put-downs / disrespect",emoji:""},{id:"gossip",label:"Gossip as a bonding strategy",emoji:""},{id:"trust",label:"Breaches confidence",emoji:""},{id:"boundary",label:"Ignores boundaries (after told)",emoji:""}];function jx(n,i){return i.direct<.35?{name:"Provisional  Low Evidence",color:"bg-gray-400",emoji:""}:n>=85?{name:"Bestie Material",color:"bg-green-500",emoji:""}:n>=70?{name:"Strong Contender",color:"bg-emerald-400",emoji:""}:n>=50?{name:"Potential Pal",color:"bg-yellow-400",emoji:""}:{name:"Acquaintance Energy",color:"bg-gray-400",emoji:""}}const wx={Confidante:{desc:"deep talks, safe space, honesty",emoji:""},Anchor:{desc:"routines, consistency, show-up energy",emoji:""},Adventurer:{desc:"fun missions, novelty, momentum",emoji:""},Communicator:{desc:"matched pace, smooth plans & repair",emoji:""},Connector:{desc:"brings people together, social bridge",emoji:""},Coach:{desc:"accountability + growth buddy",emoji:""},Collaborator:{desc:"make/learn things together",emoji:""},Caregiver:{desc:"empathy, caretaking, steady support",emoji:""}},Gt=n=>(n??3)-3,_f=(n,i,l)=>Math.max(i,Math.min(l,n));function _t(n,i){let l=0;switch(n){case"reliability":l=.6*Gt(i.sig_on_time)+.2*Gt(i.sig_makes_plan);break;case"values":l=.4*Gt(i.sig_includes)+.3*Gt(i.sig_asks)+.3*Gt(i.sig_boundaries);break;case"safety":l=.6*Gt(i.sig_boundaries)+.3*Gt(i.sig_asks);break;case"reciprocity":l=.6*Gt(i.sig_makes_plan)+.3*Gt(i.sig_asks);break;case"chemistry":l=.8*Gt(i.sig_energy);break;case"interaction":l=.5*Gt(i.sig_on_time)+.4*Gt(i.sig_energy);break;case"logistics":l=.8*Gt(i.sig_on_time);break;case"activity":l=.8*Gt(i.sig_makes_plan);break;default:l=0}const r=3+_f(l/2,-1,1);return _f(r,1,5)}const ia=n=>(n??3)-3;function Tx(n){const i={Confidante:(n.values??_t("values",n))+(n.safety??_t("safety",n)),Anchor:(n.reliability??_t("reliability",n))+(n.logistics??_t("logistics",n)),Adventurer:(n.chemistry??_t("chemistry",n))+(n.activity??_t("activity",n)),Communicator:(n.interaction??_t("interaction",n))+(n.reciprocity??_t("reciprocity",n)),Connector:(n.interaction??_t("interaction",n))+(n.activity??_t("activity",n)),Coach:(n.values??_t("values",n))+(n.reciprocity??_t("reciprocity",n)),Collaborator:(n.activity??_t("activity",n))+(n.values??_t("values",n)),Caregiver:(n.safety??_t("safety",n))+(n.reciprocity??_t("reciprocity",n))};return{Confidante:i.Confidante+ia(n.arch_confidante),Anchor:i.Anchor+ia(n.arch_anchor),Adventurer:i.Adventurer+ia(n.arch_adventurer),Communicator:i.Communicator+ia(n.arch_communicator),Connector:i.Connector+ia(n.arch_connector),Coach:i.Coach+ia(n.arch_coach),Collaborator:i.Collaborator+ia(n.arch_collaborator),Caregiver:i.Caregiver+ia(n.arch_caregiver)}}function Nx(n){const i=Tx(n);return Object.entries(i).sort((l,r)=>r[1]-l[1]).map(([l,r])=>({name:l,score:r,...wx[l]}))}function Ax(n,i,l){const r=Object.keys(i);let d=0,h=0,f=0;for(const p of r){const g=i[p];f+=g,n[p]!=null?d+=g:h+=g*l}return{direct:f?d/f:0,proxy:f?h/f:0,total:f?(d+h)/f:0,directW:d,proxyW:h,totalW:f}}function Cx(n,i){const l={reliability:"Set a small plan with a time window; see if they confirm & show on time.",values:"Ask: Whats something youre trying to get better at this season?",safety:"Share a medium-vulnerable story; notice curiosity & non-judgment.",reciprocity:"Ask them to pick the spot/time for the next hang.",chemistry:"Do a 30min game/creative mini-activity and notice ease & laughs.",interaction:"Try voice notes / set texting expectations for a day and see the flow.",logistics:"Offer two realistic time slots next week; see if scheduling is smooth.",activity:"Propose a repeating anchor (Thu walk / Sun coffee)."};return Object.entries(i).filter(([d])=>n[d]==null).sort(([,d],[,h])=>h-d).map(([d])=>({k:d,tip:l[d]})).slice(0,3)}function _x(n={}){const{onSave:i}=n,[l,r]=C.useState({...Nf}),[d,h]=C.useState(Af),[f]=C.useState(()=>typeof window<"u"&&new URLSearchParams(window.location.search).has("admin")),[p,g]=C.useState(!1),[y,b]=C.useState(""),[S,w]=C.useState(""),[A,T]=C.useState({...jo}),[_,M]=C.useState(0),[q,ne]=C.useState({}),[$,X]=C.useState([]),[W,U]=C.useState(!1),[G,O]=C.useState(""),[se,oe]=C.useState(!1),[ce,we]=C.useState(null),ae=C.useRef(null),be=C.useRef(null),ue=C.useRef(null),[B,P]=C.useState(!1);C.useEffect(()=>{try{const te=JSON.parse(localStorage.getItem("bestie_config")||"null");te&&(te.weights&&r(Pe=>({...Pe,...te.weights})),typeof te.proxyFraction=="number"&&h(te.proxyFraction));const xe=JSON.parse(localStorage.getItem("bestie_quiz_draft")||"null");xe&&(b(xe.candidateName||""),w(xe.friendEmail||""),T({...jo,...xe.answers||{}}),ne(xe.flags||{}),M(xe.roundIndex||0),we(xe.pictureData||null))}catch{}},[]),C.useEffect(()=>{try{localStorage.setItem("bestie_config",JSON.stringify({weights:l,proxyFraction:d}))}catch{}},[l,d]),C.useEffect(()=>{try{localStorage.setItem("bestie_quiz_draft",JSON.stringify({candidateName:y,friendEmail:S,answers:A,flags:q,roundIndex:_,pictureData:ce,ts:Date.now()}))}catch{}},[y,S,A,q,_,ce]),C.useEffect(()=>{try{const te=localStorage.getItem("bestie_saved");if(te){const xe=JSON.parse(te);Array.isArray(xe)&&X(xe)}}catch{}},[]),C.useEffect(()=>{try{localStorage.setItem("bestie_saved",JSON.stringify($))}catch{}},[$]);const K=C.useCallback((te={})=>{try{So({disableForReducedMotion:!1,useWorker:!1,...te})}catch(xe){console.warn("Confetti launch failed",xe)}},[]),re=C.useMemo(()=>Ax(A,l,d),[A,l,d]),D=C.useMemo(()=>{let te=0,xe=0;for(const[Tt,ot]of Object.entries(l)){const Nt=A[Tt]!=null,Xe=Nt?1:d,jt=Nt?A[Tt]:_t(Tt,A);te+=(jt||0)*ot*Xe,xe+=5*ot*Xe}if(xe===0)return 0;const Pe=Math.round(te/xe*100);return Math.min(100,Math.max(0,Pe))},[A,l,d]),v=C.useMemo(()=>Object.values(q).filter(Boolean).length,[q]),k=jx(D,re),j=C.useMemo(()=>Nx(A),[A]),z=j[0],F=j[1];Cf.filter(te=>te.round===Ua[_]);const I=_===Ua.length-1,Q=C.useMemo(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]),ie=(te,xe)=>T(Pe=>({...Pe,[te]:xe})),de=te=>{const xe=te.target.files&&te.target.files[0];if(!xe)return;const Pe=new FileReader;Pe.onload=Tt=>we(String(Tt.target?.result||"")),Pe.readAsDataURL(xe),te.target.value=""},ve=()=>{T({...jo}),ne({}),M(0),b(""),w("")},Se=()=>oe(!1),ze=()=>{typeof window<"u"&&window.location.assign("/dashboard")},Me=async()=>{const te=y.trim()||`Player ${$.length+1}`,xe=typeof window<"u"&&(window.__friendId||document.getElementById("bestie-quiz-root")?.dataset?.friendId)?String(window.__friendId||document.getElementById("bestie-quiz-root")?.dataset?.friendId):null,Pe={name:te,email:S.trim()||null,archetype_primary:z?.name,archetype_secondary:F?.name,score:D,evidence_direct:re.direct,evidence_proxy:re.proxy,flags_count:v,red_flags:Object.entries(q).filter(([,ot])=>ot).map(([ot])=>ot),snapshot:{...A},signals:Object.fromEntries(Object.entries(A).filter(([ot])=>ot.startsWith("sig_"))),picture:ce,tier:k?.name||"General",channel_pref:"mixed",effort_capacity:"medium",id:xe||void 0};U(!0),O("");try{if(typeof i=="function")await i(Pe);else if(typeof window<"u"&&typeof window.__bestie_onSave=="function")await window.__bestie_onSave(Pe);else if(typeof fetch=="function"){const Nt=xe?`/api/friends?id=${encodeURIComponent(xe)}`:"/api/friends",Xe={"Content-Type":"application/json"},jt=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null,gt=jt?jt.getAttribute("content"):null;gt&&(Xe["X-CSRF-Token"]=gt);const Ya=await fetch(Nt,{method:"POST",headers:Xe,credentials:"include",body:JSON.stringify(Pe)});if(Ya.status===401){const wi=`/login?returnTo=${encodeURIComponent("/friend-quiz")}`;O("Please log in to save."),window.location.assign(wi);return}if(!Ya.ok)throw new Error(`HTTP ${Ya.status}`)}O("Saved to friends "),D>=60&&v<2&&(K({particleCount:140,spread:80,origin:{y:.6}}),K({particleCount:80,angle:60,spread:55,origin:{x:0}}),K({particleCount:80,angle:120,spread:55,origin:{x:1}}))}catch(ot){console.error("BestieVibes: save failed",ot),O("Saved locally (API error)")}finally{U(!1)}const Tt={id:Date.now(),name:te,score:D,tier:k.name,emoji:k.emoji,arch:z?.name,archEmoji:z?.emoji,flags:v,snapshot:{...A},evidence:re};X(ot=>[Tt,...ot].slice(0,8)),ve(),oe(!0),setTimeout(()=>O(""),2e3)},fe=()=>M(te=>Math.min(te+1,Ua.length-1)),Ae=()=>M(te=>Math.max(te-1,0)),He=()=>{_>=Ua.length-1||(P(!0),fe())},pe=()=>{_<=0||(P(!0),Ae())},[Oe,Ne]=C.useState(()=>typeof window>"u"?!1:window.innerWidth>=1024);C.useEffect(()=>{if(typeof window>"u")return;const te=()=>Ne(window.innerWidth>=1024);return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]);const tt=()=>{if(I){Oe&&P(!0);return}He()};C.useEffect(()=>{if(!B)return;const te=ue.current;if(!te){P(!1);return}const xe=Q?"auto":"smooth";te.scrollIntoView({block:"start",behavior:xe}),typeof te.focus=="function"&&te.focus({preventScroll:!0}),P(!1)},[_,B,Q]);const qt=C.useMemo(()=>{const te=["Coffee walk + meme swap this week? Tue 6p or Sat 11a ","Try a new thing together: bouldering/paint night/arcade?  Sun 3p?","Low-key hang & debrief life? Thu 7p tea or Sun 10a park bench ","Volunteering shift + tacos after? Sat 12p "];return te[Math.floor(Math.random()*te.length)]},[D,z?.name]),Dn=C.useMemo(()=>Cx(A,l),[A,l]),le=c.jsxs("aside",{className:"order-2 lg:order-1 lg:col-start-2 lg:row-start-2 lg:sticky lg:top-28 space-y-4",children:[c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("h2",{className:"text-lg font-bold text-[#455a7c]",children:"Friend Snapshot"}),c.jsxs("div",{className:"mt-3 grid gap-3",children:[c.jsx("input",{value:y,onChange:te=>b(te.target.value),placeholder:"Potential/Current Friend name",className:"w-full px-3 py-2 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#455a7c]"}),c.jsx("input",{type:"email",value:S,onChange:te=>w(te.target.value),placeholder:"Friend email & KAI can contact them for you",className:"w-full px-3 py-2 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#455a7c]"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("label",{className:"px-3 py-2 rounded-xl border bg-white cursor-pointer hover:bg-[#455a7c]/5 text-sm",children:[c.jsx("input",{ref:ae,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:de})," Camera"]}),c.jsxs("label",{className:"px-3 py-2 rounded-xl border bg-white cursor-pointer hover:bg-[#455a7c]/5 text-sm",children:[c.jsx("input",{ref:be,type:"file",accept:"image/*",className:"hidden",onChange:de})," Upload"]}),ce&&c.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-slate-50 px-3 py-2",children:[c.jsx("img",{src:ce,alt:"preview",className:"h-10 w-10 rounded-xl object-cover border"}),c.jsx("button",{onClick:()=>we(null),className:"px-2 py-1 rounded-lg border bg-white hover:bg-[#455a7c]/5 text-xs",children:"Clear"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsx("button",{onClick:Me,disabled:W,className:`px-4 py-2 rounded-2xl text-white font-medium shadow active:translate-y-px ${W?"bg-[#455a7c]/40 cursor-not-allowed":"bg-[#455a7c] hover:shadow-md"}`,children:W?"Saving":"Save"}),c.jsx("span",{className:"text-xs text-[#455a7c]",children:G})]})]})]}),c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Friendship Score"}),c.jsxs("div",{className:"mt-1 flex items-end gap-3",children:[c.jsx("div",{className:"text-4xl md:text-5xl font-extrabold",children:v>=2?"":D}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"w-full h-3 rounded-full bg-slate-200 overflow-hidden",children:c.jsx("div",{className:`h-full ${v>=2?"bg-red-400":"bg-[#455a7c]"}`,style:{width:`${v>=2?100:D}%`}})}),c.jsx("div",{className:"text-xs text-[#455a7c] mt-1",children:v>=2?"2+ red flags = autopass":k.name})]})]})]}),c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Evidence"}),c.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Direct"}),c.jsxs("span",{className:"font-semibold",children:[Math.round(re.direct*100),"%"]})]}),c.jsx("div",{className:"w-full h-2 rounded-full bg-slate-200 overflow-hidden",children:c.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${re.direct*100}%`}})}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsx("span",{children:"Proxy"}),c.jsxs("span",{className:"font-semibold",children:[Math.round(re.proxy*100),"%"]})]}),c.jsx("div",{className:"w-full h-2 rounded-full bg-slate-200 overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-400",style:{width:`${re.proxy*100}%`}})})]}),c.jsx("div",{className:"text-xs text-[#455a7c] mt-2",children:"More direct answers = higher confidence and stronger tiers."})]}),c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Friend Type"}),c.jsxs("div",{className:"mt-1 text-2xl font-bold",children:[z?.emoji," ",z?.name]}),c.jsx("div",{className:"text-sm text-[#455a7c]",children:z?.desc}),c.jsxs("div",{className:"text-xs text-[#455a7c] mt-2",children:["Secondary: ",c.jsxs("span",{className:"font-medium",children:[F?.emoji," ",F?.name]})]})]}),c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Next Move"}),c.jsx("div",{className:"mt-1 text-[#455a7c]",children:qt}),c.jsx("div",{className:"text-xs text-[#455a7c] mt-2",children:"Top tests to run:"}),c.jsx("ul",{className:"text-xs text-[#455a7c] list-disc list-inside mt-1 space-y-1",children:Dn.map(te=>c.jsxs("li",{children:[c.jsx("b",{children:te.k}),": ",te.tip]},te.k))})]}),c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"MicroChallenges "}),c.jsxs("ul",{className:"list-disc list-inside text-[#455a7c] mt-2 space-y-1 text-sm",children:[c.jsxs("li",{children:[c.jsx("b",{children:"Signal reliability:"})," set a plan in 2 taps; follow up next day with a meme or link."]}),c.jsxs("li",{children:[c.jsx("b",{children:"Safety check:"})," share a mediumvulnerable story; notice how they handle it."]}),c.jsxs("li",{children:[c.jsx("b",{children:"Overlap test:"})," propose a repeating anchor (Thu walk / Sun coffee)."]})]})]}),c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Invite Scripts "}),c.jsxs("div",{className:"text-[#455a7c] mt-2 space-y-2 text-sm",children:[c.jsx("p",{children:" This week: coffee walk & catchup? Tue 6p or Sat 11a "}),c.jsx("p",{children:" Paint night / bouldering / arcade runfeel like trying one?  Sun 3p?"}),c.jsx("p",{children:" Thu minitradition: 30min walk & life debriefdown?"})]})]})]}),ye=()=>c.jsxs("section",{className:"order-1 lg:order-1 lg:col-start-1 space-y-6",children:[f&&c.jsx("div",{className:"flex items-center justify-end",children:c.jsx("button",{onClick:()=>g(te=>!te),className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:" Scoring"})}),f&&p&&c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"font-semibold",children:"Scoring Controls"}),c.jsx("button",{onClick:()=>{r({...Nf}),h(Af)},className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:"Reset defaults"})]}),c.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3 mt-3",children:Object.entries(l).map(([te,xe])=>c.jsxs("label",{className:"text-sm",children:[c.jsx("div",{className:"font-medium capitalize",children:te}),c.jsx("input",{type:"range",min:0,max:5,step:1,value:xe,onChange:Pe=>r(Tt=>({...Tt,[te]:Number(Pe.target.value)})),className:"w-full"}),c.jsxs("div",{className:"text-xs text-slate-600",children:["Weight: ",xe]})]},te))}),c.jsxs("div",{className:"mt-3",children:[c.jsx("div",{className:"font-medium text-sm",children:"Proxy fraction"}),c.jsx("input",{type:"range",min:0,max:1,step:.05,value:d,onChange:te=>h(Number(te.target.value)),className:"w-full"}),c.jsxs("div",{className:"text-xs text-slate-600",children:[Math.round(d*100),"% credit when using firstmeet signals as proxies"]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 rounded-2xl bg-rose-50 border border-rose-200",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("h2",{className:"font-semibold text-rose-700",children:"1. RedFlag Bingo: select concerns with this person you have"}),c.jsxs("div",{className:"text-sm text-rose-700 whitespace-nowrap",children:[v," / 2 triggers autopass"]})]}),c.jsx("div",{className:"grid sm:grid-cols-5 gap-2 mt-3",children:Sx.map(te=>c.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border ${q[te.id]?"bg-rose-100 border-rose-300":"bg-white"} cursor-pointer`,children:[c.jsx("input",{type:"checkbox",className:"accent-rose-500",checked:!!q[te.id],onChange:xe=>ne(Pe=>({...Pe,[te.id]:xe.target.checked}))}),c.jsxs("span",{children:[te.emoji," ",te.label]})]},te.id))}),v>=2&&c.jsx("div",{className:"mt-3 text-sm text-rose-700",children:"Good to notice early. Lower investment; keep it casual."})]}),c.jsxs("div",{ref:ue,id:"round-top",tabIndex:-1,className:"text-sm text-[#455a7c] font-bold scroll-mt-28",children:["2. ",Ua[_]," ",_+1,"/",Ua.length,": Answer all of these to assess this persons friend type and fit for you"]}),c.jsx("div",{className:"space-y-6",children:Cf.filter(te=>te.round===Ua[_]).map(te=>c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm uppercase tracking-wide text-slate-500",children:te.round}),c.jsxs("div",{className:"text-xl font-bold text-[#455a7c]",children:[te.emoji," ",te.title]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-slate-500",children:["Current: ",c.jsx("span",{className:"font-semibold",children:A[te.id]??""})]}),c.jsx("span",{className:"text-xs text-[#455a7c]",children:l[te.weightKey]?`${l[te.weightKey]}`:te.id.startsWith("sig_")?"signal":"archetype"})]})]}),c.jsx("div",{className:"text-sm text-[#455a7c] mt-1",children:te.hint}),c.jsxs("div",{className:"mt-3 flex justify-between text-xs text-[#455a7c]",children:[c.jsx("span",{children:"Low"}),c.jsx("span",{children:"High"})]}),c.jsxs("div",{className:"mt-1 grid grid-cols-6 gap-2",children:[[1,2,3,4,5].map(xe=>c.jsx("button",{onClick:()=>ie(te.id,xe),className:`h-12 inline-flex items-center justify-center rounded-xl border text-sm font-medium transition ${A[te.id]===xe?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5"}`,children:xe},xe)),c.jsx("button",{onClick:()=>ie(te.id,null),className:`h-12 inline-flex items-center justify-center rounded-xl border text-sm font-medium transition whitespace-nowrap col-span-6 sm:col-span-3 ${A[te.id]==null?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5"}`,children:" Not sure yet"})]})]},te.id))}),c.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2",children:[c.jsx("button",{onClick:pe,className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:" Previous"}),c.jsx("button",{onClick:tt,className:"inline-flex px-4 py-2 rounded-xl border border-[#ff5656] bg-[#ff5656] hover:bg-[#ff5656]/90 text-white text-base",children:"Next "})]})]})]}),De=()=>c.jsx("section",{className:"order-5 lg:order-3 lg:col-start-1",children:c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Scoreboard "}),c.jsx("button",{onClick:()=>X([]),className:"text-sm text-[#455a7c] hover:underline",children:"Clear"})]}),$.length===0?c.jsx("div",{className:"text-[#455a7c] text-sm mt-2",children:"Save a few players to compare tiers."}):c.jsx("div",{className:"mt-3 grid gap-2",children:$.map(te=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-2 h-8 rounded ${te.flags>=2?"bg-rose-400":"bg-[#455a7c]"}`}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-semibold",children:[te.emoji," ",te.name,"  ",te.score]}),c.jsxs("div",{className:"text-xs text-[#455a7c]",children:[te.tier,"  ",te.archEmoji," ",te.arch,"  Direct ",Math.round((te.evidence?.direct||0)*100),"% / Proxy ",Math.round((te.evidence?.proxy||0)*100),"%"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[te.flags>=2&&c.jsxs("span",{className:"text-xs text-rose-600",children:[te.flags," autopass"]}),c.jsx("button",{onClick:()=>X(xe=>xe.filter(Pe=>Pe.id!==te.id)),className:"px-2 py-1 rounded-lg border bg-white hover:bg-[#455a7c]/5 text-sm",children:"Remove"})]})]},te.id))})]})}),Ye=()=>c.jsx("section",{className:"order-6 lg:order-2 lg:col-start-1 lg:-mt-4",children:c.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[c.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Friendship Types  Do you have them all? Which is most important to you?"}),c.jsxs("p",{className:"text-sm text-[#455a7c] mt-2",children:["This main types of friends are: ",c.jsx("b",{children:"Depth"})," (Confidante, Caregiver), ",c.jsx("b",{children:"Stability"})," (Anchor), ",c.jsx("b",{children:"Novelty"})," (Adventurer), ",c.jsx("b",{children:"Coordination"})," (Communicator, Connector), and ",c.jsx("b",{children:"Growth"})," (Coach, Collaborator). Most close friends blend 23. Use the cards below to spot strengths, watchouts, and best microplans."]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[{key:"Confidante",emoji:"",title:"Confidante",strengths:"Listening, honesty, vulnerability, confidentiality.",plans:["Tea walks","latenight talks","journal/reading circle"],watch:"Can tilt heavy; avoid turning every hang into therapy.",invest:"Steady checkins, gentle truthtelling, celebrate their wins too."},{key:"Anchor",emoji:"",title:"Anchor",strengths:"Reliability, routines, punctuality, calm.",plans:["Weekly run","coworking block","errand + lunch"],watch:"Ruts and sameness; add tiny novelty.",invest:"Honor time blocks, be on time, set traditions."},{key:"Adventurer",emoji:"",title:"Adventurer",strengths:"Novelty, momentum, courage to try stuff.",plans:["New restaurant","day hike","class dropin"],watch:"Overscheduling or flaking; add posthang debrief.",invest:"Prebook dates, keep a shared ideas list."},{key:"Communicator",emoji:"",title:"Communicator",strengths:"Smooth plans, conflict repair, vibe calibration.",plans:["Voicenote catchups","planjam session"],watch:"Overplanning; keep space for spontaneity.",invest:"Share norms (text speed, cancel rules), say thanks for logistics labor."},{key:"Connector",emoji:"",title:"Connector",strengths:"Introductions, group glue, community builder.",plans:["Bringafriend brunch","boardgame night"],watch:"Surfacelevel time only; protect 1:1s.",invest:"Cohost, help with invites, prioritize dedicated time."},{key:"Coach",emoji:"",title:"Coach",strengths:"Accountability, feedback, goals, hype.",plans:["Gym/accountability checkins","skill swaps"],watch:"Unsolicited advice; ask consent.",invest:"Define goals, celebrate wins, rotate whose goals get focus."},{key:"Collaborator",emoji:"",title:"Collaborator",strengths:"Make/learn things together; flow state.",plans:["Build/record/paint session","hack day"],watch:"Project drift causing friction.",invest:"Set scope & roles, do small showcases."},{key:"Caregiver",emoji:"",title:"Caregiver",strengths:"Empathy, caretaking, steadying presence.",plans:["Soup + movie","soft errands","quiet cotime"],watch:"Burnout or unequal caretaking.",invest:"Reciprocate support, ask what helps, give them light, fun time too."}].map(te=>c.jsxs("div",{className:"p-3 rounded-xl border bg-white",children:[c.jsxs("div",{className:"font-semibold",children:[te.emoji," ",te.title]}),c.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[c.jsx("b",{children:"Strengths:"})," ",te.strengths]}),c.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[c.jsx("b",{children:"Best microplans:"})," ",te.plans.join(", "),"."]}),c.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[c.jsx("b",{children:"Watchouts:"})," ",te.watch]}),c.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[c.jsx("b",{children:"Invest to thrive:"})," ",te.invest]})]},te.key))})]})}),ft=()=>c.jsx("section",{className:"order-7 lg:order-4 lg:col-start-1 space-y-6",children:c.jsx("footer",{className:"text-center text-xs text-[#455a7c]",children:"Not a diagnosisjust a vibe compass. Thin-slice wisely: upgrade proxies to direct evidence over 23 microhangs. "})});return c.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-violet-50 to-white text-[#455a7c] p-6",children:[c.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6 lg:grid lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)] lg:gap-6",children:[c.jsxs("section",{className:"order-0 lg:order-0 lg:col-span-2 bg-white/80 backdrop-blur-sm border border-slate-200/70 rounded-3xl shadow-sm p-6",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Friendship Fit Quiz "}),c.jsx("p",{className:"text-[#455a7c] mt-1",children:"Complete a quiz for each person you want to be better friends with, and KAI gives you a fun Friend Arc to get closer to that person faster."}),c.jsxs("ul",{className:"text-[#455a7c] mt-1 list-disc list-inside space-y-1 text-sm",children:[c.jsx("li",{children:"In the 1st section of the quiz more then 2 Red Flags means they are not friend material."}),c.jsx("li",{children:"The 2nd section has 4 rounds of questions that determines your VIBES as friends."}),c.jsx("li",{children:"Press save Button after the quiz is completed."}),c.jsx("li",{children:"Saved friends and their scores are below, and can be found in your profile. "}),c.jsx("li",{children:"After the quiz speak with KAI, or check out your Friend Arc!"})]})]}),c.jsx(ye,{}),le,c.jsx(Ye,{}),c.jsx(De,{}),c.jsx(ft,{})]}),se&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:c.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Congrats! You have completed a Friend Quiz!"}),c.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Would you like to see your new Friend Arc?"}),c.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[c.jsx("button",{type:"button",onClick:Se,className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Do Another Quiz"}),c.jsx("button",{type:"button",onClick:ze,className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"Go to Friend Arc"})]})]})})]})}function Ex({route:n,children:i,...l}){const r=(n||"#/events").split("?")[0],d=r.startsWith("#/events/")?"#/events":r,h=Qe.Children.toArray(i),f=h.find(p=>p.props.path===d);if(!f){const p=h.find(g=>g.props.path==="#/events");return p?Qe.cloneElement(p,l):null}return Qe.cloneElement(f,l)}function Mx({open:n,onClose:i,children:l}){return c.jsxs(c.Fragment,{children:[n&&c.jsx("div",{className:"events-drawer-backdrop",onClick:i}),c.jsx("aside",{className:`events-drawer${n?" open":""}`,"aria-hidden":!n,children:l}),c.jsx("style",{children:`
        .events-drawer {
          position: fixed;
          top: 0;
          right: -480px;
          width: 480px;
          max-width: 100%;
          height: 100vh;
          background: #ffffff;
          box-shadow: -2px 0 24px rgba(0, 0, 0, 0.12);
          transition: right 0.25s ease;
          z-index: 1040;
          padding: 24px;
          overflow-y: auto;
        }
        .events-drawer.open {
          right: 0;
        }
        .events-drawer-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.25);
          z-index: 1030;
        }
      `})]})}function Ef(n){const i=(n||"#/events").split("?")[0];return i.startsWith("#/events/")?"#/events":i}function Dx({route:n}){const[i,l]=C.useState(Ef(n));C.useEffect(()=>{l(Ef(n))},[n]);const r=[{href:"#/events",label:"Events"},{href:"#/create",label:"Create"},{href:"#/my",label:"My Events"},{href:"#/invites",label:"Invites"}];return c.jsxs("nav",{className:"events-tabs",role:"tablist","aria-label":"Events navigation",children:[r.map(d=>c.jsx("a",{href:d.href,className:`tab-link${i===d.href?" active":""}`,"aria-current":i===d.href?"page":void 0,children:d.label},d.href)),c.jsx("style",{children:`
        .events-tabs {
          display:flex;
          gap:36px;
          align-items:center;
          border:1px solid #d6deeb;
          border-radius:18px;
          padding:18px 32px;
          background:#fff;
          margin:12px 0 20px;
          flex-wrap:wrap;
          box-shadow:0 12px 30px rgba(15,23,42,0.08);
        }
        .tab-link {
          font-weight:700;
          font-size:1.2rem;
          color:#455a7c;
          text-decoration:none;
        }
        .tab-link.active {
          color:#20304d;
        }
        .tab-link:hover {
          text-decoration:underline;
        }
      `})]})}function kx({feed:n=[],setFeed:i,pagination:l}){C.useEffect(()=>{if(Array.isArray(n)&&n.length>0||typeof fetch!="function")return;let d=!0;const h=new AbortController,f=l?.limit||20;return fetch(`/api/events?limit=${encodeURIComponent(f)}`,{signal:h.signal}).then(p=>p.ok?p.json():Promise.reject(new Error("Failed to load events"))).then(p=>{!d||!i||i(Array.isArray(p?.data)?p.data:[])}).catch(p=>{p?.name}),()=>{d=!1,h.abort()}},[n,l?.limit,i]);const r=Array.isArray(n)&&n.length>0;return c.jsxs("section",{className:"events-feed",children:[c.jsxs("header",{className:"feed-head",children:[c.jsx("input",{className:"search",placeholder:"Search events, people, places"}),c.jsxs("div",{className:"pills",children:[c.jsx("span",{className:"pill",children:"Date: Any"}),c.jsx("span",{className:"pill",children:"Distance: Nearby"}),c.jsx("span",{className:"pill",children:"Category: All"}),c.jsx("span",{className:"pill",children:"Friends going"}),c.jsxs("span",{className:"muted",style:{marginLeft:"auto"},children:["Sort: ",l?.sort||"relevance"," "]})]})]}),c.jsxs("div",{className:"cards",children:[r&&n.map(d=>{const h=!!d.cover_url;return c.jsxs("article",{className:"card",children:[c.jsx("div",{className:`cover${h?" has-image":""}`,"aria-hidden":!0,style:h?{backgroundImage:`url(${d.cover_url})`}:void 0}),c.jsxs("div",{className:"meta",children:[c.jsx("div",{className:"title",children:d.title||"Untitled Event"}),c.jsxs("div",{className:"sub",children:[Rx(d.start_at,d.end_at,d.tz),"  ",d.location_text||"Location TBD",c.jsx("br",{}),d?.rsvp_counts?.accepted||0,"/",d.capacity||""," going"]})]}),c.jsxs("div",{className:"actions",children:[c.jsx("button",{className:"btn",type:"button",onClick:()=>window.location.hash=`#/events/${d.id}`,children:"View"}),c.jsx("button",{className:"btn secondary",type:"button",children:"Save"})]})]},d.id)}),!r&&c.jsx("div",{className:"muted",children:"No events yet."})]}),c.jsx("style",{children:zx})]})}function Rx(n){return"When  "+(n||"?")}const zx=`
  .feed-head{margin-bottom:12px}
  .search{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:12px}
  .pills{display:flex;gap:12px;align-items:center;margin:12px 0;flex-wrap:wrap}
  .pill{background:#f3f4f6;border:1px solid #e5e7eb;padding:6px 12px;border-radius:16px;font-size:12px}
  .muted{color:#6b7280;font-size:12px}
  .cards{display:flex;flex-direction:column;gap:16px}
  .card{display:grid;grid-template-columns:180px 1fr 220px;gap:16px;align-items:center;border:1px solid #e5e7eb;border-radius:16px;padding:16px;background:#fff}
  @media (max-width: 991px){.card{grid-template-columns:1fr}}
  .cover{height:120px;background:#e5e7eb;border:1px solid #e5e7eb;border-radius:12px}
  .cover.has-image{background-size:cover;background-position:center;border:none}
  .title{font-weight:700;font-size:18px}
  .sub{color:#6b7280;font-size:13px}
  .actions{display:flex;gap:8px;justify-content:flex-end}
  .btn{background:#ff5656;border:none;color:#fff;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.secondary{background:#fff;border:1px solid #e5e7eb;color:#1f2937}
`,Ox={primary:"#ff5656",ink:"#455a7c"},Ux=[{value:"public",label:"Public"},{value:"fof",label:"Friends-of-friends"},{value:"private",label:"Private link"}],Lx=[{value:"host_code",label:"Host Code",always:!0},{value:"social_proof",label:"Social Proof",always:!0},{value:"geo",label:"Geo Check-in",requiresGeo:!0}],Vx=2*1024*1024;function wo(){if(typeof window>"u")return null;const n=window.location.hash||"",[,i=""]=n.split("?");return i?new URLSearchParams(i).get("edit"):null}function Bx(n,i){if(!n)return"";try{const r=new Intl.DateTimeFormat("en-CA",{timeZone:i||"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(new Date(n)),d=r.find(p=>p.type==="year")?.value,h=r.find(p=>p.type==="month")?.value,f=r.find(p=>p.type==="day")?.value;return d&&h&&f?`${d}-${h}-${f}`:n.slice(0,10)}catch{return n.slice(0,10)}}function Hx(n,i,l){if(!n||!i)return"";try{const r=new Intl.DateTimeFormat("en-GB",{timeZone:l||"UTC",hour12:!1,hour:"2-digit",minute:"2-digit"}),d=r.format(new Date(n)),h=r.format(new Date(i));return`${d}${h}`}catch{return""}}function qx(n){if(Array.isArray(n)&&n.length)return n;if(typeof n=="string")try{const i=JSON.parse(n);if(Array.isArray(i)&&i.length)return i}catch{}return n&&Array.isArray(n)?n:["host_code","social_proof"]}function Fx(n={}){return{title:n.title||"",category:n.category||"",date:Bx(n.start_at,n.tz||n.timezone||"UTC"),time:Hx(n.start_at,n.end_at,n.tz||n.timezone||"UTC"),tz:n.tz||"America/Vancouver",location_text:n.location_text||"",visibility:n.visibility||"public",capacity:n.capacity===null||n.capacity===void 0?"":String(n.capacity),waitlist_enabled:n.waitlist_enabled!==!1,cover_url:n.cover_url||"",description:n.description||"",reward_pool_kind:n.reward_pool_kind===null||n.reward_pool_kind===void 0?0:Number(n.reward_pool_kind),attendance_methods:qx(n.attendance_methods),safety_notes:n.safety_notes||""}}const Mf={title:"",category:"",date:"",time:"",tz:"America/Vancouver",location_text:"",visibility:"public",capacity:"",waitlist_enabled:!0,cover_url:"",description:"",reward_pool_kind:0,attendance_methods:["host_code","social_proof"],safety_notes:""};function Yx({brand:n=Ox,geoCheckinEnabled:i=!1}){const[l,r]=C.useState(Mf),[d,h]=C.useState({}),[f,p]=C.useState(!1),[g,y]=C.useState(null),[b,S]=C.useState(null),[w,A]=C.useState(""),[T,_]=C.useState(null),M=C.useRef(null),[q,ne]=C.useState(()=>typeof window>"u"?null:wo()),[$,X]=C.useState(null),[W,U]=C.useState(()=>typeof window>"u"?!1:!!wo()),[G,O]=C.useState(null),[se,oe]=C.useState(0),[ce,we]=C.useState(!1),[ae,be]=C.useState(!1),[ue,B]=C.useState(null),P=C.useMemo(()=>Df(l,{strict:!0}),[l]),K=!!q,re=$?.status||(K?"draft":null),D=f||W||Object.keys(P).length>0,v=f||W,k=K&&re==="published",j=k?"Save Changes":"Save Draft",z=k?"Update & Publish":"Publish",F=k?"Updating":"Publishing",I=K&&re==="draft"&&!W&&!G;C.useEffect(()=>{if(!g)return;const le=setTimeout(()=>y(null),4e3);return()=>clearTimeout(le)},[g]),C.useEffect(()=>{A(l.cover_url||"")},[l.cover_url]),C.useEffect(()=>{I||(we(!1),B(null),be(!1))},[I]),C.useEffect(()=>{if(typeof window>"u")return()=>{};const le=()=>ne(wo());return window.addEventListener("hashchange",le),()=>window.removeEventListener("hashchange",le)},[]),C.useEffect(()=>{let le=!1;async function ye(){if(q){U(!0),O(null);try{const De=await fetch(`/api/events/${q}?mode=edit`),Ye=await De.json().catch(()=>({}));if(!De.ok||!Ye?.ok)throw new Error(Ye?.error||"Unable to load event for editing.");if(le)return;const ft=Fx(Ye.data||{});r(ft),h({}),X({id:Ye.data?.id||q,title:Ye.data?.title||"Untitled Event",status:Ye.data?.status||"draft"}),U(!1)}catch(De){if(le)return;O(De.message||"Unable to load event for editing."),U(!1)}}}return q?(ye(),()=>{le=!0}):(X(null),O(null),U(!1),r({...Mf}),h({}),()=>{})},[q,se]);const Q=Lx.filter(le=>!le.requiresGeo||i),ie=C.useCallback(()=>{oe(le=>le+1)},[]),de=C.useCallback(()=>{typeof window>"u"||(window.location.hash="#/create")},[]),ve=C.useCallback((le,ye)=>{typeof window>"u"||!le||(sessionStorage.setItem("gkLastDraftId",le),sessionStorage.setItem("gkLastDraftTitle",ye||"Untitled Event"))},[]);function Se(le){const ye=le.target.files?.[0];if(!ye)return;if(!ye.type.startsWith("image/")){_("Please choose an image file.");return}if(ye.size>Vx){_("Image must be 2MB or less.");return}_(null);const De=new FileReader;De.onload=()=>{const Ye=De.result;r(ft=>({...ft,cover_url:typeof Ye=="string"?Ye:ft.cover_url}))},De.onerror=()=>{_("Unable to read that file. Try another image.")},De.readAsDataURL(ye)}function ze(le){_(null),r(ye=>({...ye,cover_url:le}))}function Me(){_(null),M.current&&(M.current.value=""),r(le=>({...le,cover_url:""}))}function fe(le,ye){r(De=>({...De,[le]:ye}))}function Ae(le){r(ye=>({...ye,waitlist_enabled:le}))}function He(le){r(ye=>{const De=ye.attendance_methods.includes(le);let Ye;return De?Ye=ye.attendance_methods.filter(ft=>ft!==le):Ye=[...ye.attendance_methods,le],Ye.length===0&&(Ye=[]),{...ye,attendance_methods:Ye}})}function pe(){const le=window.prompt("Paste a Google or Apple Maps link");if(typeof le=="string"&&le.trim()){const ye=le.trim();r(De=>({...De,location_text:De.location_text?`${De.location_text}
${ye}`:ye}))}}function Oe(le,ye="info",De,Ye){y({message:le,type:ye,actionLabel:De,onAction:Ye})}async function Ne(le){if(K&&W){Oe("Still loading the event details","info");return}S(le);const ye=le==="published",De=ye||k?"published":"draft",Ye=De==="published",ft=Df(l,{strict:Ye}),te=Object.keys(ft).length>0;if(h(ft),te){Oe(Ye?"Fix the highlighted fields before publishing.":"Fix the highlighted fields before saving.","error"),S(null);return}p(!0);try{const xe=Gx(l,De),Pe=K?`/api/events/${q}`:"/api/events",ot=await fetch(Pe,{method:K?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)}),Nt=await ot.json().catch(()=>({}));if(!ot.ok||!Nt?.ok)throw new Error(Nt?.error||"Unable to save event");const Xe=Nt?.data?.id||q,jt=l.title||$?.title||"Untitled Event",gt=k&&!ye;if(K&&X(Vn=>Vn&&{...Vn,title:jt,status:De}),!K){if(De==="draft"){ve(Xe,jt),window.location.hash="#/my";return}Oe("Event published! ","success","View in My Events",()=>{window.location.hash="#/my"}),Xe&&setTimeout(()=>{window.location.hash=`#/events/${Xe}`},300);return}if(gt){Oe("Changes saved.","success","View Event",()=>{Xe&&(window.location.hash=`#/events/${Xe}`)});return}if(De==="draft"){ve(Xe,jt),window.location.hash="#/my";return}Oe(k?"Event updated.":"Event published! ","success","View in My Events",()=>{window.location.hash="#/my"}),Xe&&setTimeout(()=>{window.location.hash=`#/events/${Xe}`},300)}catch(xe){console.error("Create event failed:",xe),Oe(xe.message||"Something went wrong.","error")}finally{p(!1),S(null)}}function tt(){I&&(B(null),we(!0))}function qt(){ae||(we(!1),B(null))}async function Dn(){if(q){be(!0),B(null);try{const le=await fetch(`/api/events/${q}`,{method:"DELETE"}),ye=await le.json().catch(()=>({}));if(!le.ok||!ye?.ok)throw new Error(ye?.error||"Unable to delete draft.");we(!1),typeof window<"u"&&(window.location.hash="#/my")}catch(le){console.error("delete draft failed:",le),B(le.message||"Unable to delete draft.")}finally{be(!1)}}}return c.jsxs("section",{className:"create-event",children:[g&&c.jsxs("div",{className:`toast ${g.type}`,role:"status","aria-live":"polite",children:[c.jsx("span",{children:g.message}),g.actionLabel&&c.jsx("button",{type:"button",className:"toast-action",onClick:()=>{g.onAction?.(),y(null)},children:g.actionLabel}),c.jsx("button",{type:"button",className:"toast-close",onClick:()=>y(null),"aria-label":"Dismiss",children:""})]}),c.jsxs("header",{className:"create-head",children:[c.jsxs("div",{children:[c.jsx("p",{className:"eyebrow",children:"Plan something kind"}),c.jsx("h1",{children:K?"Edit Event":"Create Event"})]}),c.jsxs("div",{className:"action-group",children:[c.jsx("button",{type:"button",className:"btn secondary",disabled:f||W,onClick:()=>Ne("draft"),children:f&&b==="draft"?"Saving":j}),c.jsx("button",{type:"button",className:"btn primary",disabled:D,onClick:()=>Ne("published"),style:{backgroundColor:n.primary,borderColor:n.primary},children:f&&b==="published"?F:z})]})]}),K&&!G&&c.jsxs("div",{className:"edit-banner",children:[c.jsxs("div",{children:[c.jsx("span",{className:"muted small",children:"Editing"}),c.jsx("strong",{children:$?.title||"This event"})]}),c.jsx("button",{type:"button",className:"ghost-link",onClick:de,children:"Start a new event"})]}),G&&c.jsxs("div",{className:"banner error",children:[c.jsx("span",{children:G}),c.jsxs("div",{className:"banner-actions",children:[c.jsx("button",{type:"button",className:"ghost-link",onClick:ie,children:"Retry"}),c.jsx("button",{type:"button",className:"ghost-link",onClick:de,children:"Exit edit mode"})]})]}),K&&W&&!G&&c.jsx("p",{className:"loading-note",children:"Loading event details"}),c.jsx("form",{className:"create-form",onSubmit:le=>le.preventDefault(),children:c.jsxs("fieldset",{disabled:v,className:"create-fieldset",children:[c.jsx(Bt,{label:"Title",required:!0,error:d.title,children:c.jsx("input",{type:"text",name:"title",placeholder:"e.g., Coffee & Co-work at Main Street",value:l.title,onChange:le=>fe("title",le.target.value)})}),c.jsxs("div",{className:"grid three",children:[c.jsx(Bt,{label:"Category",children:c.jsx("input",{type:"text",name:"category",placeholder:"Select category",value:l.category,onChange:le=>fe("category",le.target.value)})}),c.jsx(Bt,{label:"Date",required:!0,error:d.date,children:c.jsx("input",{type:"date",name:"date",value:l.date,onChange:le=>fe("date",le.target.value)})}),c.jsx(Bt,{label:"Time",required:!0,error:d.time,children:c.jsx("input",{type:"text",name:"time",placeholder:"10:0012:00",value:l.time,onChange:le=>fe("time",le.target.value)})})]}),c.jsxs("div",{className:"grid two",children:[c.jsx(Bt,{label:"Timezone",required:!0,error:d.tz,children:c.jsx("input",{type:"text",name:"tz",placeholder:"America/Vancouver",value:l.tz,onChange:le=>fe("tz",le.target.value)})}),c.jsxs(Bt,{label:"Location",required:!0,error:d.location_text,children:[c.jsx("textarea",{name:"location_text",placeholder:"123 Main St, Vancouver  or paste a map link",value:l.location_text,onChange:le=>fe("location_text",le.target.value),rows:3}),c.jsxs("div",{className:"helper-row",children:[c.jsx("button",{type:"button",className:"btn tiny",onClick:pe,children:"Get Map Link"}),c.jsx("span",{className:"muted small",children:"Add a Google/Apple Maps URL to help people find you."})]})]})]}),c.jsx(Bt,{label:"Visibility",required:!0,error:d.visibility,children:c.jsx("div",{className:"pill-row",children:Ux.map(le=>c.jsx("button",{type:"button",className:`pill${l.visibility===le.value?" active":""}`,onClick:()=>fe("visibility",le.value),children:le.label},le.value))})}),c.jsxs("div",{className:"grid two",children:[c.jsx(Bt,{label:"Capacity",error:d.capacity,children:c.jsx("input",{type:"number",min:"1",name:"capacity",placeholder:"Leave blank for unlimited",value:l.capacity,onChange:le=>fe("capacity",le.target.value)})}),c.jsx(Bt,{label:"Waitlist",error:d.waitlist_enabled,children:c.jsxs("div",{className:"pill-row",children:[c.jsx("button",{type:"button",className:`pill${l.waitlist_enabled?" active":""}`,onClick:()=>Ae(!0),children:"Enabled"}),c.jsx("button",{type:"button",className:`pill${l.waitlist_enabled?"":" active"}`,onClick:()=>Ae(!1),children:"Disabled"})]})})]}),c.jsx(Bt,{label:"Cover Image",error:T,children:c.jsxs("div",{className:"cover-uploader",children:[w?c.jsx("img",{src:w,alt:"Event cover",className:"cover-preview"}):c.jsx("div",{className:"cover-placeholder",children:"Upload a banner to make your event pop."}),c.jsxs("div",{className:"cover-actions",children:[c.jsxs("label",{className:"btn secondary tiny",style:{cursor:"pointer"},children:["Upload image",c.jsx("input",{ref:M,type:"file",accept:"image/*",style:{display:"none"},onChange:Se})]}),w&&c.jsx("button",{type:"button",className:"btn tiny",onClick:Me,children:"Remove"})]}),c.jsx("p",{className:"muted small",children:"Prefer a link? Paste a hosted image URL:"}),c.jsx("input",{type:"url",name:"cover_url",placeholder:"https://example.com/cover.jpg",value:l.cover_url?.startsWith("data:")?"":l.cover_url,onChange:le=>ze(le.target.value)})]})}),c.jsx(Bt,{label:"Description",children:c.jsx("textarea",{name:"description",rows:5,placeholder:"Tell folks what to expect, what to bring, and why it matters.",value:l.description,onChange:le=>fe("description",le.target.value)})}),c.jsxs("div",{className:"grid two",children:[c.jsx(Bt,{label:"Reward Pool ($KIND)",children:c.jsx("input",{type:"number",min:"0",name:"reward_pool_kind",value:l.reward_pool_kind,onChange:le=>fe("reward_pool_kind",Number(le.target.value)||0)})}),c.jsx(Bt,{label:"Boost visibility",children:c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>Oe("Boosting with $KIND coming soon.","info"),children:"Boost with $KIND"})})]}),c.jsx(Bt,{label:"Attendance methods",required:!0,error:d.attendance_methods,children:c.jsx("div",{className:"pill-row wrap",children:Q.map(le=>c.jsx("button",{type:"button",className:`pill${l.attendance_methods.includes(le.value)?" active":""}`,onClick:()=>He(le.value),children:le.label},le.value))})}),c.jsx(Bt,{label:"Safety notes",children:c.jsx("textarea",{name:"safety_notes",rows:4,placeholder:"Share any accessibility notes, safety reminders, or special instructions.",value:l.safety_notes,onChange:le=>fe("safety_notes",le.target.value)})}),c.jsxs("div",{className:"cta-row",children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>Oe("Invites coming soon.","info"),children:"Invite People"}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>Oe("Private links coming soon.","info"),children:"Share Private Link"})]}),c.jsx("p",{className:"legal-note",children:"By publishing, you agree to Get Kinders Community Guidelines and assume responsibility for event safety and compliance with local laws."})]})}),I&&c.jsxs("div",{className:"draft-delete-zone",children:[c.jsxs("div",{children:[c.jsx("h3",{children:"Delete this draft"}),c.jsx("p",{children:"This permanently removes the draft and all saved details."})]}),c.jsx("button",{type:"button",className:"btn danger",onClick:tt,children:"Delete draft"})]}),ce&&c.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:c.jsxs("div",{className:"delete-modal",role:"document",children:[c.jsx("h2",{children:"Delete draft?"}),c.jsx("p",{children:"This cant be undone. Are you sure you want to delete this event draft?"}),ue&&c.jsx("p",{className:"error-text",children:ue}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",className:"btn danger",onClick:Dn,disabled:ae,children:ae?"Deleting":"Delete"}),c.jsx("button",{type:"button",className:"btn secondary",onClick:qt,disabled:ae,children:"Return"})]})]})}),c.jsx("style",{children:Kx})]})}function Bt({label:n,children:i,required:l,error:r}){return c.jsxs("label",{className:`field ${r?"has-error":""}`,children:[c.jsxs("span",{className:"label",children:[n," ",l&&c.jsx("span",{className:"required",children:"*"})]}),i,r&&c.jsx("span",{className:"error-text",children:r})]})}function Gx(n,i){return{title:n.title?.trim(),category:n.category?.trim()||null,date:n.date||null,time_range:n.time||null,tz:n.tz?.trim()||"America/Vancouver",location_text:n.location_text?.trim()||"",visibility:n.visibility,capacity:n.capacity?Number(n.capacity):null,waitlist_enabled:!!n.waitlist_enabled,cover_url:n.cover_url?.trim()||null,description:n.description?.trim()||null,reward_pool_kind:Number(n.reward_pool_kind)||0,attendance_methods:n.attendance_methods,safety_notes:n.safety_notes?.trim()||null,status:i}}function Df(n,{strict:i=!1}={}){const l={};if(n.title?.trim()||(l.title="Title is required."),i&&!n.date&&(l.date="Date is required."),i&&!n.time?.trim())l.time="Time range is required.";else if(n.time?.trim()){const r=Xx(n.time);r?r.endTotal<=r.startTotal&&(l.time="End time must be after start time."):l.time="Use format HH:mmHH:mm."}return i&&!n.tz?.trim()&&(l.tz="Timezone required."),i&&!n.location_text?.trim()&&(l.location_text="Location required."),n.visibility||(l.visibility="Choose a visibility."),n.capacity&&Number(n.capacity)<1&&(l.capacity="Capacity must be at least 1."),(!n.attendance_methods||n.attendance_methods.length===0)&&(l.attendance_methods="Select at least one method."),l}function Xx(n){if(typeof n!="string")return null;const i=n.includes("")?"":"-",[l,r]=n.split(i).map(f=>f?.trim());if(!l||!r)return null;const d=kf(l),h=kf(r);return!d||!h?null:{start:d,end:h,startTotal:d.hour*60+d.minute,endTotal:h.hour*60+h.minute}}function kf(n){const i=/^(\d{1,2}):(\d{2})$/.exec(n);if(!i)return null;const l=Number(i[1]),r=Number(i[2]);return l>23||r>59?null:{hour:l,minute:r}}const Kx=`
  .create-event {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .edit-banner {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px 16px;
    border:1px solid #cbd5f5;
    border-radius:12px;
    background:#f8fafc;
    margin-bottom:16px;
  }
  .banner {
    border-radius:12px;
    padding:12px 16px;
    margin-bottom:16px;
    display:flex;
    justify-content:space-between;
    gap:12px;
    align-items:center;
  }
  .banner.error {
    background:#fee2e2;
    color:#991b1b;
    border:1px solid #fecaca;
  }
  .banner-actions {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }
  .ghost-link {
    border:none;
    background:transparent;
    color:#455a7c;
    text-decoration:underline;
    cursor:pointer;
    font-weight:600;
  }
  .loading-note {
    color:#6b7280;
    font-size:0.95rem;
    margin:4px 0 16px;
  }
  .create-head {
    display:flex;
    justify-content:space-between;
    gap:24px;
    align-items:center;
    flex-wrap:wrap;
    margin-bottom:24px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .create-head h1 {
    margin:0;
    color:#111827;
  }
  .action-group {
    display:flex;
    gap:12px;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:10px 20px;
    font-weight:600;
    cursor:pointer;
    transition:transform 0.1s ease;
  }
  .btn:disabled {
    opacity:0.6;
    cursor:not-allowed;
  }
  .btn.primary {
    color:#fff;
    background-color:#ff5656;
    border-color:#ff5656;
  }
  .btn.secondary {
    background:#fff;
    color:#1f2937;
  }
  .btn.danger {
    background:#fee2e2;
    border-color:#fecaca;
    color:#b91c1c;
  }
  .btn.tiny {
    padding:6px 12px;
    font-size:0.85rem;
  }
  .create-form {
    display:flex;
    flex-direction:column;
    gap:20px;
  }
  .create-fieldset {
    border:0;
    padding:0;
    margin:0;
    display:flex;
    flex-direction:column;
    gap:20px;
  }
  .create-fieldset:disabled {
    opacity:0.6;
  }
  .grid {
    display:grid;
    gap:18px;
  }
  .grid.two {
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  }
  .grid.three {
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  }
  .field {
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  .label {
    font-weight:600;
    color:#111827;
  }
  .required {
    color:#ff5656;
  }
  .field input,
  .field textarea {
    border:1px solid #d1d5db;
    border-radius:12px;
    padding:12px 14px;
    font-size:1rem;
    font-family:inherit;
    resize:vertical;
  }
  .field textarea {
    min-height:160px;
  }
  .field.has-error input,
  .field.has-error textarea {
    border-color:#f87171;
  }
  .error-text {
    color:#b91c1c;
    font-size:0.85rem;
  }
  .pill-row {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }
  .pill-row.wrap {
    flex-wrap:wrap;
  }
  .pill {
    border:1px solid #d1d5db;
    padding:8px 16px;
    border-radius:999px;
    background:#fff;
    cursor:pointer;
    font-weight:600;
  }
  .pill.active {
    background:#ff5656;
    color:#fff;
    border-color:#ff5656;
  }
  .helper-row {
    display:flex;
    gap:12px;
    align-items:center;
    flex-wrap:wrap;
  }
  .muted {
    color:#6b7280;
  }
  .muted.small {
    font-size:0.85rem;
  }
  .cover-uploader {
    display:flex;
    flex-direction:column;
    gap:8px;
    border:1px dashed #cbd5f5;
    padding:12px;
    border-radius:16px;
    background:#f8fafc;
  }
  .cover-preview {
    width:100%;
    max-height:220px;
    object-fit:cover;
    border-radius:12px;
    border:1px solid #e5e7eb;
  }
  .cover-placeholder {
    border:1px dashed #d1d5db;
    border-radius:12px;
    padding:24px;
    text-align:center;
    color:#6b7280;
    font-size:0.95rem;
  }
  .cover-actions {
    display:flex;
    gap:8px;
    flex-wrap:wrap;
  }
  .cta-row {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    justify-content:flex-start;
  }
  .legal-note {
    font-size:0.85rem;
    color:#6b7280;
    margin-top:16px;
  }
  .toast {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    border-radius:12px;
    padding:12px 16px;
    margin-bottom:16px;
    color:#fff;
  }
  .toast.info { background:#3b82f6; }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast-action {
    border:1px solid rgba(255,255,255,0.5);
    border-radius:999px;
    padding:6px 14px;
    font-size:0.85rem;
    background:transparent;
    color:inherit;
    cursor:pointer;
  }
  .toast-close {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .draft-delete-zone {
    margin-top:24px;
    padding:16px;
    border:1px solid #fecaca;
    border-radius:12px;
    background:#fff7f7;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
    flex-wrap:wrap;
  }
  .draft-delete-zone h3 {
    margin:0 0 6px;
  }
  .draft-delete-zone p {
    margin:0;
    color:#b91c1c;
  }
  .modal-overlay {
    position:fixed;
    inset:0;
    background:rgba(15,23,42,0.45);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:16px;
    z-index:50;
  }
  .delete-modal {
    background:#fff;
    border-radius:16px;
    padding:24px;
    width:100%;
    max-width:420px;
    box-shadow:0 32px 60px rgba(15,23,42,0.2);
  }
  .delete-modal h2 {
    margin:0 0 8px;
  }
  .delete-modal p {
    margin:0;
    color:#4b5563;
  }
  .modal-actions {
    margin-top:20px;
    display:flex;
    gap:12px;
    justify-content:flex-end;
  }
`,Qx=[{value:"friendly",label:"Friendly"},{value:"hype",label:"High-energy"},{value:"thoughtful",label:"Thoughtful"}];function gs(n){return n?`Come to ${n}`:"Join me for this event"}function Nl(n){return n?`Id love for you to join me for ${n}.

Let me know if you can make it!`:"Id love for you to join. Let me know if you can make it!"}function Rf({open:n,onClose:i,eventId:l,eventTitle:r,onSent:d}){const[h,f]=C.useState(""),[p,g]=C.useState(""),[y,b]=C.useState("friendly"),[S,w]=C.useState(gs(r)),[A,T]=C.useState(Nl(r)),[_,M]=C.useState(!1),[q,ne]=C.useState(!1),[$,X]=C.useState(!1),[W,U]=C.useState(null),[G,O]=C.useState([]),[se,oe]=C.useState(!1),ce=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.trim()),we=C.useMemo(()=>{if(!h)return G.slice(0,5);const K=h.trim().toLowerCase();return G.filter(re=>re.email.toLowerCase().includes(K)||re.name.toLowerCase().includes(K)).slice(0,5)},[G,h]);if(C.useEffect(()=>{if(!n||se)return;let K=!1;return fetch("/api/me/contacts").then(re=>re.json()).then(re=>{!K&&re?.ok&&Array.isArray(re.data)&&(O(re.data),oe(!0))}).catch(()=>{}),()=>{K=!0}},[n,se]),C.useEffect(()=>{n&&(U(null),b("friendly"),w(gs(r)),T(Nl(r)))},[n,r]),!n)return null;function ae(K=!1){return{invitee_email:h.trim(),invitee_name:p.trim(),tone:y,subject:K?void 0:S,message:K?void 0:A,send_by_kai:K}}async function be(K){if(K?.preventDefault(),!(!ce||_)){M(!0),U(null);try{const re=await fetch(`/api/events/${l}/invites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae(!1))}),D=await re.json().catch(()=>({}));if(!re.ok||!D?.ok)throw new Error(D?.error||"Unable to send invite");P(),window.dispatchEvent(new CustomEvent("gk:invite-sent",{detail:D.data})),d?.(D.data)}catch(re){U(re.message||"Unable to send invite")}finally{M(!1)}}}async function ue(){if(!(!ce||q)){ne(!0),U(null);try{const K=await fetch(`/api/events/${l}/invites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae(!0))}),re=await K.json().catch(()=>({}));if(!K.ok||!re?.ok)throw new Error(re?.error||"Unable to send invite");P(),window.dispatchEvent(new CustomEvent("gk:invite-sent",{detail:re.data})),d?.(re.data)}catch(K){U(K.message||"Unable to send invite")}finally{ne(!1)}}}async function B(){if(!$){X(!0),U(null);try{const K=await fetch(`/api/events/${l}/invite-copy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tone:y})}),re=await K.json().catch(()=>({}));if(!K.ok||!re?.ok)throw new Error(re?.error||"Unable to draft copy");w(re.data?.subject||gs(r)),T((re.data?.body||Nl(r)).trim())}catch(K){U(K.message||"Unable to draft copy")}finally{X(!1)}}}function P(){f(""),g(""),w(gs(r)),T(Nl(r))}return c.jsxs("div",{className:"invite-modal",role:"dialog","aria-modal":"true",children:[c.jsx("div",{className:"invite-backdrop",onClick:i}),c.jsxs("div",{className:"invite-panel",children:[c.jsx("h3",{children:"Invite someone"}),c.jsx("p",{className:"muted",children:r||"This event"}),c.jsxs("form",{onSubmit:be,className:"invite-form",children:[c.jsxs("label",{children:[c.jsx("span",{children:"Email *"}),c.jsx("input",{type:"email",value:h,onChange:K=>f(K.target.value),placeholder:"friend@example.com",required:!0}),!!we.length&&c.jsx("div",{className:"suggestions",role:"listbox",children:we.map(K=>c.jsxs("button",{type:"button",onClick:()=>{f(K.email),g(K.name)},children:[c.jsx("span",{children:K.name}),c.jsx("small",{children:K.email})]},K.id))})]}),c.jsxs("label",{children:[c.jsx("span",{children:"Name (optional)"}),c.jsx("input",{type:"text",value:p,onChange:K=>g(K.target.value),placeholder:"Friend's name"})]}),c.jsxs("div",{className:"tone-row",children:[c.jsx("span",{children:"Tone"}),c.jsx("div",{className:"tone-pills",children:Qx.map(K=>c.jsx("button",{type:"button",className:`pill${y===K.value?" active":""}`,onClick:()=>b(K.value),children:K.label},K.value))})]}),c.jsxs("div",{className:"draft-row",children:[c.jsx("button",{type:"button",className:"btn ghost",onClick:B,disabled:$,children:$?"Drafting":"Draft with KAI"}),c.jsx("small",{className:"muted",children:"KAI will pre-fill the message"})]}),c.jsxs("label",{children:[c.jsx("span",{children:"Subject"}),c.jsx("input",{type:"text",value:S,onChange:K=>w(K.target.value),placeholder:gs(r)})]}),c.jsxs("label",{children:[c.jsx("span",{children:"Message"}),c.jsx("textarea",{rows:4,value:A,onChange:K=>T(K.target.value),placeholder:"Add a quick personal note"})]}),W&&c.jsx("p",{className:"error-text",children:W}),c.jsxs("div",{className:"invite-actions",children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:i,disabled:_||q,children:"Close"}),c.jsx("button",{type:"submit",className:"btn primary",disabled:!ce||_,children:_?"Sending":"Send"})]}),c.jsx("button",{type:"button",className:"btn full kai",disabled:!ce||q,onClick:ue,children:q?"KAI is sending":"KAI Sends Email"})]})]}),c.jsx("style",{children:`
        .invite-modal {
          position: fixed;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1100;
        }
        .invite-backdrop {
          position: absolute;
          inset: 0;
          background: rgba(15, 23, 42, 0.55);
        }
        .invite-panel {
          position: relative;
          background: #fff;
          border-radius: 16px;
          padding: 24px;
          max-width: 460px;
          width: 90%;
          box-shadow: 0 30px 80px rgba(15, 23, 42, 0.25);
        }
        .invite-panel h3 {
          margin: 0 0 4px;
          color: #111827;
        }
        .invite-panel .muted {
          margin: 0 0 16px;
        }
        .invite-form {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        label {
          display: flex;
          flex-direction: column;
          gap: 6px;
          font-weight: 600;
          color: #111827;
        }
        label input,
        label textarea {
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 10px 12px;
          font-size: 1rem;
        }
        label textarea {
          resize: vertical;
        }
        .tone-row {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .tone-pills {
          display: flex;
          gap: 8px;
          flex-wrap: wrap;
        }
        .pill {
          border: 1px solid #d1d5db;
          border-radius: 999px;
          padding: 4px 14px;
          background: #fff;
          font-weight: 600;
          cursor: pointer;
          color: #111827;
        }
    NEW
        .pill.active {
          background: #ffebeb;
          border-color: #ff5656;
          color: #c01f1f;
        }
        .draft-row {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
        }
        .error-text {
          color: #b91c1c;
          font-size: 0.9rem;
          margin: 0;
        }
        .invite-actions {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          margin-top: 8px;
        }
        .btn {
          border: 1px solid #d1d5db;
          border-radius: 999px;
          padding: 8px 18px;
          font-weight: 600;
          cursor: pointer;
        }
        .btn.primary {
          background: #ff5656;
          border-color: #ff5656;
          color: #fff;
        }
        .btn.secondary {
          background: #fff;
        }
        .btn.ghost {
          border-color: #cbd5f5;
          color: #455a7c;
          background: #f8fafc;
        }
        .btn.full {
          width: 100%;
          justify-content: center;
          margin-top: 4px;
        }
        .btn.kai {
          background: #111827;
          border-color: #111827;
          color: #fff;
        }
        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        .suggestions {
          display: flex;
          flex-direction: column;
          border: 1px solid #e5e7eb;
          border-radius: 10px;
          margin-top: 6px;
          padding: 6px;
          background: #f9fafb;
          gap: 4px;
        }
        .suggestions button {
          display: flex;
          justify-content: space-between;
          align-items: center;
          border: none;
          background: transparent;
          font-size: 0.95rem;
          cursor: pointer;
          padding: 4px 0;
        }
        .suggestions button small { color:#6b7280; margin-left:12px; }
      `})]})}const zf=20,Zx=[{key:"upcoming",label:"Upcoming"},{key:"past",label:"Past"},{key:"drafts",label:"Drafts"}],$x={draft:"Draft",published:"Published",cancelled:"Cancelled",completed:"Completed"};function Px(){const[n,i]=C.useState("upcoming"),[l,r]=C.useState([]),[d,h]=C.useState(!0),[f,p]=C.useState(null),[g,y]=C.useState(0),[b,S]=C.useState(!0),[w,A]=C.useState(null),[T,_]=C.useState({open:!1,event:null}),[M,q]=C.useState(()=>{const O=sessionStorage.getItem("gkLastDraftId"),se=sessionStorage.getItem("gkLastDraftTitle");return O?(sessionStorage.removeItem("gkLastDraftId"),sessionStorage.removeItem("gkLastDraftTitle"),{id:O,title:se}):null});C.useEffect(()=>{M&&i("drafts")},[M]),C.useEffect(()=>{$(!1)},[n]),C.useEffect(()=>{if(!w)return;const O=setTimeout(()=>A(null),3500);return()=>clearTimeout(O)},[w]);const ne=C.useMemo(()=>{if(!M||n!=="drafts")return l;const O=l.findIndex(ce=>ce.id===M.id);if(O===-1)return l;const se=[...l],[oe]=se.splice(O,1);return[oe,...se]},[l,M,n]);async function $(O){h(!0),p(null);const se=O?g:0;try{const oe=await fetch(`/api/me/events?tab=${n}&limit=${zf}&offset=${se}`),ce=await oe.json();if(!oe.ok||!ce?.ok)throw new Error(ce?.error||"Failed to load events");r(we=>O?[...we,...ce.data||[]]:ce.data||[]),y(se+(ce?.paging?.count||0)),S((ce?.paging?.count||0)===zf)}catch(oe){console.error("load my events failed:",oe),p(oe.message||"Unable to load events")}finally{h(!1)}}async function X(O){const se=l.find(oe=>oe.id===O);if(se){r(oe=>oe.filter(ce=>ce.id!==O));try{const oe=await fetch(`/api/events/${O}/cancel`,{method:"POST"}),ce=await oe.json().catch(()=>({}));if(!oe.ok||!ce?.ok)throw new Error(ce?.error||"Unable to cancel event");A({type:"success",message:"Event cancelled."})}catch(oe){console.error("cancel event failed:",oe),A({type:"error",message:oe.message||"Unable to cancel event."}),r(ce=>[se,...ce])}}}async function W(O){try{const se=await fetch(`/api/events/${O}/complete`,{method:"POST"}),oe=await se.json().catch(()=>({}));if(!se.ok||!oe?.ok)throw new Error(oe?.error||"Unable to complete event");r(ce=>n==="past"?ce.map(we=>we.id===O?{...we,status:"completed"}:we):ce.filter(we=>we.id!==O)),A({type:"success",message:"Event marked completed."})}catch(se){console.error("complete event failed:",se),A({type:"error",message:se.message||"Unable to complete event."})}}async function U(O){try{const se=`${window.location.origin}/events#/events/${O}`;await navigator?.clipboard?.writeText(se),A({type:"success",message:"Event link copied."})}catch{A({type:"error",message:"Clipboard unavailable. Copy manually."})}}function G(O){const se=O.status==="draft",oe=O.status==="cancelled",ce=O.status==="completed",we=O.start_at?new Date(O.start_at)>new Date:!1,ae=O.end_at?new Date(O.end_at)<=new Date:!1;return c.jsxs("div",{className:"action-row",children:[!se&&!oe&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>U(O.id),children:"Copy Link"}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>A({type:"info",message:"QR tools coming soon."}),children:"Show QR / Code"}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>_({open:!0,event:O}),children:"Invite"})]}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{window.location.hash=`#/create?edit=${O.id}`},children:"Edit"}),!se&&!oe&&we&&c.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>X(O.id),children:"Cancel Event"}),!se&&!oe&&!ce&&ae&&c.jsx("button",{type:"button",className:"btn primary",onClick:()=>W(O.id),children:"Mark Completed"})]})}return c.jsxs("section",{className:"my-events-page",children:[w&&c.jsxs("div",{className:`toast ${w.type}`,children:[c.jsx("span",{children:w.message}),w.actionLabel&&c.jsx("button",{type:"button",className:"toast-action",onClick:()=>{w.onAction?.(),A(null)},children:w.actionLabel}),c.jsx("button",{type:"button",onClick:()=>A(null),"aria-label":"Dismiss",children:""})]}),c.jsx("header",{className:"page-head",children:c.jsxs("div",{children:[c.jsx("p",{className:"eyebrow",children:"Host view"}),c.jsx("h1",{children:"My Events"})]})}),c.jsx("div",{className:"tab-row",role:"tablist",children:Zx.map(O=>c.jsx("button",{role:"tab","aria-selected":n===O.key,className:`chip${n===O.key?" active":""}`,onClick:()=>{i(O.key),y(0)},children:O.label},O.key))}),M&&n==="drafts"&&c.jsxs("div",{className:"banner",children:[c.jsxs("div",{children:["Draft ",c.jsx("strong",{children:M.title||"Untitled"})," saved."]}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{q(null),window.location.hash="#/create"},children:"Continue Editing"})]}),c.jsx("div",{className:"card",children:d&&!l.length?c.jsx("div",{className:"empty muted",children:"Loading your events"}):f&&!l.length?c.jsxs("div",{className:"empty",children:[c.jsx("p",{className:"muted",children:f}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>$(!1),children:"Retry"})]}):ne.length?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"list",children:ne.map(O=>c.jsxs("div",{className:"item",children:[c.jsxs("div",{className:"meta",children:[c.jsxs("div",{className:"title-row",children:[c.jsx("p",{className:"title",children:O.title}),c.jsx("span",{className:`badge ${O.status}`,children:$x[O.status]||O.status}),c.jsx("span",{className:`badge subtle ${O.visibility}`,children:O.visibility})]}),c.jsxs("p",{className:"sub",children:[Ix(O.start_at,O.tz),"  ",O.location_text||"Location TBD"]}),O.capacity&&c.jsxs("p",{className:"meta-line",children:["RSVP: ",O?.rsvp_counts?.accepted||0,"/",O.capacity]})]}),G(O)]},O.id))}),b&&c.jsx("button",{type:"button",className:"btn secondary block",disabled:d,onClick:()=>$(!0),children:d?"Loading":"Load more"})]}):c.jsx("div",{className:"empty",children:c.jsx("p",{className:"muted",children:n==="drafts"?"No drafts yet  save from Create to pick up later.":n==="past"?"No past hosted events yet.":"You havent published any upcoming events yet."})})}),c.jsx("style",{children:Jx}),c.jsx(Rf,{open:T.open,onClose:()=>_({open:!1,event:null}),eventId:T.event?.id,eventTitle:T.event?.title,onSent:O=>{_({open:!1,event:null}),A({type:"success",message:`Invite sent to ${O?.invitee_name||O?.invitee_email}.`,actionLabel:"View in My Invites",onAction:()=>{window.location.hash="#/my-invites"}})}})]})}function Ix(n,i){if(!n)return"TBD";try{return new Date(n).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:i||"UTC"})}catch{return"Date TBD"}}const Jx=`
  .my-events-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    margin-bottom:16px;
  }
  .eyebrow {
    font-size:0.85rem;
    letter-spacing:0.08em;
    color:#94a3b8;
    text-transform:uppercase;
    margin:0 0 4px;
  }
  .page-head h1 { margin:0; color:#0f172a; }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
    margin-bottom:16px;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast.info { background:#3b82f6; }
  .toast-action {
    border:1px solid rgba(255,255,255,0.5);
    border-radius:999px;
    background:transparent;
    color:inherit;
    padding:6px 14px;
    font-size:0.85rem;
    cursor:pointer;
  }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .tab-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-bottom:16px;
  }
  .chip {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 18px;
    font-weight:600;
    cursor:pointer;
    background:#fff;
  }
  .chip.active {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .banner {
    border:1px solid #fde68a;
    background:#fffbeb;
    color:#92400e;
    padding:12px 16px;
    border-radius:12px;
    margin-bottom:16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    flex-wrap:wrap;
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:16px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:16px;
    background:#fff;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .title-row {
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
  }
  .title { margin:0; font-weight:700; color:#111827; }
  .badge {
    border-radius:999px;
    padding:4px 10px;
    font-size:0.85rem;
    font-weight:600;
    text-transform:capitalize;
    background:#e5e7eb;
    color:#1f2937;
  }
  .badge.draft { background:#fef3c7; color:#92400e; }
  .badge.published { background:#dcfce7; color:#166534; }
  .badge.cancelled { background:#fee2e2; color:#991b1b; }
  .badge.completed { background:#dbeafe; color:#1e3a8a; }
  .badge.subtle {
    border:1px solid #d1d5db;
    background:#fff;
    color:#4b5563;
  }
  .sub {
    margin:0;
    color:#6b7280;
  }
  .meta-line {
    margin:4px 0 0;
    color:#4b5563;
    font-size:0.95rem;
  }
  .action-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.primary {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .btn.secondary { background:#fff; }
  .btn.tertiary {
    background:transparent;
    border:1px dashed #d1d5db;
    color:#6b7280;
  }
  .btn.block { width:100%; margin-top:12px; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
`,Of=20,Wx={pending:"pending",accepted:"accepted",declined:"declined",expired:"expired"},e0={pending:"Pending",accepted:"Accepted",declined:"Declined",expired:"Expired"},Uf={items:[],loading:!0,error:null,offset:0,hasMore:!0};function t0(){const[n,i]=C.useState(Uf),[l,r]=C.useState(Uf),[d,h]=C.useState(null);C.useEffect(()=>{f("incoming"),f("outgoing")},[]),C.useEffect(()=>{function g(y){const b=y.detail;b&&r(S=>({...S,items:[{id:b.id,event_id:b.event_id,event_title:b.event_title||"Your event",event_starts_at:b.event_starts_at||null,event_time_label:b.event_starts_at?n0(b.event_starts_at):null,invitee_name:b.invitee_name||b.invitee_email,status:b.status||"pending"},...S.items]}))}return window.addEventListener("gk:invite-sent",g),()=>window.removeEventListener("gk:invite-sent",g)},[]),C.useEffect(()=>{if(!d)return;const g=setTimeout(()=>h(null),3500);return()=>clearTimeout(g)},[d]);const f=async(g,y=!1)=>{const b=g==="incoming"?i:r;b(A=>({...A,loading:!0,error:null}));const S=g==="incoming"?n:l,w=y?S.offset:0;try{const A=await fetch(`/api/invites?type=${g}&limit=${Of}&offset=${w}`),T=await A.json();if(!A.ok)throw new Error(T?.error||"Failed to load invites");const _=y?[...S.items,...T?.data||[]]:T?.data||[];b({items:_,loading:!1,error:null,offset:w+(T?.paging?.count||0),hasMore:(T?.paging?.count||0)===Of})}catch(A){console.error(`Load ${g} invites failed:`,A),b(T=>({...T,loading:!1,error:A.message||"Failed to load."}))}},p=async(g,y)=>{const b=n.items.findIndex(w=>w.id===g);if(b===-1)return;const S=n.items[b];i(w=>({...w,items:w.items.filter(A=>A.id!==g)}));try{const w=await fetch(`/api/invites/${g}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:y})}),A=await w.json().catch(()=>({}));if(!w.ok)throw new Error(A?.error||"Failed to update invite");h({type:"success",message:`Invite ${y==="accept"?"accepted":"declined"}.`})}catch(w){console.error("Invite action failed:",w),i(A=>({...A,items:[S,...A.items]})),h({type:"error",message:w.message||"Unable to update invite."})}};return c.jsxs("section",{className:"invites-page",children:[d&&c.jsxs("div",{className:`toast ${d.type}`,children:[c.jsx("span",{children:d.message}),c.jsx("button",{type:"button",onClick:()=>h(null),"aria-label":"Dismiss",children:""})]}),c.jsxs("header",{className:"page-head",children:[c.jsxs("div",{children:[c.jsx("p",{className:"eyebrow",children:"Your connections"}),c.jsx("h1",{children:"Invites"})]}),c.jsx("a",{className:"ghost-link",href:"#/my-invites",children:"View only my sent invites "})]}),c.jsxs("div",{className:"invites-grid",children:[c.jsxs("section",{className:"card",children:[c.jsx("div",{className:"section-head",children:c.jsx("h2",{children:"Incoming"})}),c.jsx(Lf,{type:"incoming",data:n,onLoadMore:()=>f("incoming",!0),onAccept:g=>p(g,"accept"),onDecline:g=>p(g,"decline")})]}),c.jsxs("section",{className:"card",children:[c.jsx("div",{className:"section-head",children:c.jsx("h2",{children:"Outgoing"})}),c.jsx(Lf,{type:"outgoing",data:l,onLoadMore:()=>f("outgoing",!0)})]})]}),c.jsx("style",{children:a0})]})}function Lf({type:n,data:i,onLoadMore:l,onAccept:r,onDecline:d}){const{items:h,loading:f,error:p,hasMore:g}=i,y=n==="incoming";return f&&!h.length?c.jsx("div",{className:"list",children:[...Array(3)].map((b,S)=>c.jsxs("div",{className:"item skeleton",children:[c.jsxs("div",{className:"meta",children:[c.jsx("div",{className:"line short"}),c.jsx("div",{className:"line"})]}),c.jsx("div",{className:"actions"})]},S))}):p&&!h.length?c.jsxs("div",{className:"empty",children:[c.jsx("p",{className:"muted",children:p}),c.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:"Retry"})]}):h.length?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"list",children:h.map(b=>c.jsxs("div",{className:"item",children:[c.jsxs("div",{className:"meta",children:[c.jsx("p",{className:"title",children:b.event_title}),c.jsxs("p",{className:"sub",children:[y?`From: ${b.host_name||"Someone"}`:`To: ${b.invitee_name||"Guest"}`,b.event_time_label&&c.jsxs(c.Fragment,{children:[" ",c.jsx("span",{className:"dot",children:""})," ",b.event_time_label]})]})]}),c.jsx("div",{className:"actions",children:y?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>d(b.id),children:"Decline"}),c.jsx("button",{type:"button",className:"btn primary",onClick:()=>r(b.id),children:"Accept"})]}):c.jsx("span",{className:`badge ${Wx[b.status]||"pending"}`,children:e0[b.status]||b.status})})]},b.id))}),g&&c.jsx("button",{type:"button",className:"btn secondary block",onClick:l,disabled:f,children:f?"Loading":"Load more"})]}):c.jsx("div",{className:"empty",children:c.jsx("p",{className:"muted",children:y?"No invites right now.":"You havent invited anyone yet."})})}function n0(n){try{return new Date(n).toLocaleString("en-US",{weekday:"short",hour:"numeric",minute:"2-digit"})}catch{return null}}const a0=`
  .invites-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    display:flex;
    justify-content:space-between;
    align-items:flex-end;
    gap:12px;
    margin-bottom:16px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .page-head h1 {
    margin:0;
    color:#0f172a;
  }
  .ghost-link {
    color:#455a7c;
    text-decoration:none;
    font-weight:600;
  }
  .ghost-link:hover {
    text-decoration:underline;
  }
  .invites-grid {
    display:grid;
    gap:24px;
  }
  @media (min-width: 992px) {
    .invites-grid {
      grid-template-columns:repeat(2,minmax(0,1fr));
    }
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .section-head {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:12px;
  }
  .section-head h2 {
    margin:0;
    font-size:1.1rem;
    color:#111827;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:12px 16px;
    display:flex;
    justify-content:space-between;
    gap:16px;
    align-items:center;
    background:#fff;
  }
  .item.skeleton {
    animation:pulse 1.5s ease-in-out infinite;
  }
  .meta {
    flex:1;
  }
  .title {
    font-weight:600;
    margin:0 0 4px;
    color:#111827;
  }
  .sub {
    margin:0;
    color:#6b7280;
    font-size:0.9rem;
  }
  .actions {
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.primary {
    color:#fff;
    background:#ff5656;
    border-color:#ff5656;
  }
  .btn.secondary {
    background:#fff;
    color:#111827;
  }
  .btn.block {
    width:100%;
    margin-top:12px;
  }
  .badge {
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
    text-transform:capitalize;
  }
  .badge.pending { background:#fef3c7; color:#92400e; }
  .badge.accepted { background:#dcfce7; color:#166534; }
  .badge.declined { background:#fee2e2; color:#991b1b; }
  .badge.expired { background:#e2e8f0; color:#475569; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:16px;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  @keyframes pulse {
    0% { opacity: 0.6; }
    50% { opacity: 1; }
    100% { opacity: 0.6; }
  }
  .line {
    height:10px;
    border-radius:6px;
    background:#e5e7eb;
    margin-bottom:6px;
  }
  .line.short { width:80px; }
  .dot {
    color:#9ca3af;
  }
`,Vf=20,i0=["all","pending","accepted","declined","expired"],s0=["any","upcoming","past"],Bf={pending:"Pending",accepted:"Accepted",declined:"Declined",expired:"Expired"},l0={pending:"pending",accepted:"accepted",declined:"declined",expired:"expired"},r0={loading:!0,error:null,items:[],offset:0,hasMore:!0};function o0(){const[n,i]=C.useState(r0),[l,r]=C.useState("all"),[d,h]=C.useState("any"),[f,p]=C.useState(""),[g,y]=C.useState(null);C.useEffect(()=>{S(!1)},[]),C.useEffect(()=>{if(!g)return;const T=setTimeout(()=>y(null),3500);return()=>clearTimeout(T)},[g]);const b=C.useMemo(()=>{const T=Date.now();return n.items.filter(_=>{if(l!=="all"&&_.status!==l)return!1;if(d!=="any"&&_.event_starts_at){const M=new Date(_.event_starts_at).getTime();if(Number.isFinite(M)&&(d==="upcoming"&&M<T||d==="past"&&M>=T))return!1}if(f.trim()){const M=f.trim().toLowerCase();if(![_.invitee_name,_.invitee_email,_.event_title].filter(Boolean).map(ne=>ne.toLowerCase()).some(ne=>ne.includes(M)))return!1}return!0})},[n.items,l,d,f]);async function S(T){i(M=>({...M,loading:!0,error:null}));const _=T?n.offset:0;try{const M=await fetch(`/api/invites?type=outgoing&limit=${Vf}&offset=${_}`),q=await M.json();if(!M.ok)throw new Error(q?.error||"Failed to load invites");i(ne=>({loading:!1,error:null,items:T?[...ne.items,...q?.data||[]]:q?.data||[],offset:_+(q?.paging?.count||0),hasMore:(q?.paging?.count||0)===Vf}))}catch(M){console.error("Load my invites failed:",M),i(q=>({...q,loading:!1,error:M.message||"Unable to load invites."}))}}async function w(T){const _=n.items.find(M=>M.id===T);if(_){i(M=>({...M,items:M.items.filter(q=>q.id!==T)}));try{const M=await fetch(`/api/invites/${T}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),q=await M.json().catch(()=>({}));if(!M.ok||!q?.ok)throw new Error(q?.error||"Unable to cancel invite");y({type:"success",message:"Invite cancelled."})}catch(M){console.error("Cancel invite failed:",M),y({type:"error",message:M.message||"Unable to cancel invite."}),i(q=>({...q,items:[_,...q.items]}))}}}async function A(T){try{const M=`${window.location.origin}/events#/events/${T}`;await navigator?.clipboard?.writeText(M),y({type:"success",message:"Invite link copied."})}catch{y({type:"error",message:"Clipboard unavailable. Copy manually."})}}return c.jsxs("section",{className:"my-invites-page",children:[g&&c.jsxs("div",{className:`toast ${g.type}`,role:"status","aria-live":"polite",children:[c.jsx("span",{children:g.message}),c.jsx("button",{type:"button",onClick:()=>y(null),"aria-label":"Dismiss",children:""})]}),c.jsx("header",{className:"page-head",children:c.jsxs("div",{children:[c.jsx("p",{className:"eyebrow",children:"Host tools"}),c.jsx("h1",{children:"My Invites"})]})}),c.jsxs("div",{className:"filters",children:[c.jsxs("div",{className:"pill-row",children:[c.jsx("span",{className:"filter-label",children:"Status"}),i0.map(T=>c.jsx("button",{type:"button",className:`pill${l===T?" active":""}`,onClick:()=>r(T),children:T==="all"?"All":Bf[T]},T))]}),c.jsxs("div",{className:"pill-row",children:[c.jsx("span",{className:"filter-label",children:"Date"}),s0.map(T=>c.jsx("button",{type:"button",className:`pill${d===T?" active":""}`,onClick:()=>h(T),children:T==="any"?"Any":T[0].toUpperCase()+T.slice(1)},T))]}),c.jsx("div",{className:"search-row",children:c.jsx("input",{type:"search",placeholder:"Search invitees or events",value:f,onChange:T=>p(T.target.value)})})]}),c.jsx("div",{className:"card",children:n.loading&&!n.items.length?c.jsx("div",{className:"empty muted",children:"Loading invites"}):n.error&&!n.items.length?c.jsxs("div",{className:"empty",children:[c.jsx("p",{className:"muted",children:n.error}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>S(!1),children:"Retry"})]}):b.length===0?c.jsx("div",{className:"empty",children:c.jsx("p",{className:"muted",children:"You havent sent any invites yet."})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"list",children:b.map(T=>c.jsxs("div",{className:"item",children:[c.jsxs("div",{className:"meta",children:[c.jsxs("p",{className:"title",children:[T.invitee_name||"Invitee","  ",T.event_title]}),c.jsx("p",{className:"sub",children:T.event_time_label||c0(T.event_starts_at)||"Date TBA"})]}),c.jsxs("div",{className:"actions",children:[T.status==="pending"&&c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>w(T.id),children:"Cancel"}),c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>A(T.event_id),children:"Copy Link"}),c.jsx("span",{className:`badge ${l0[T.status]||"pending"}`,children:Bf[T.status]||T.status})]})]},T.id))}),n.hasMore&&c.jsx("button",{type:"button",className:"btn secondary block",disabled:n.loading,onClick:()=>S(!0),children:n.loading?"Loading":"Load more"})]})}),c.jsx("style",{children:u0})]})}function c0(n){if(!n)return null;try{return new Date(n).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return null}}const u0=`
  .my-invites-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    margin-bottom:20px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .page-head h1 {
    margin:0;
    color:#0f172a;
  }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
    margin-bottom:16px;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .filters {
    display:flex;
    flex-direction:column;
    gap:12px;
    margin-bottom:16px;
  }
  .pill-row {
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    align-items:center;
  }
  .filter-label {
    font-weight:600;
    color:#111827;
  }
  .pill {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
    background:#fff;
    cursor:pointer;
  }
  .pill.active {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .search-row input {
    width:100%;
    border:1px solid #d1d5db;
    border-radius:12px;
    padding:10px 14px;
    font-size:1rem;
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:12px 16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
  }
  .meta {
    flex:1;
  }
  .title {
    margin:0 0 4px;
    font-weight:600;
    color:#111827;
  }
  .sub {
    margin:0;
    color:#6b7280;
    font-size:0.95rem;
  }
  .actions {
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.secondary { background:#fff; }
  .btn.block { width:100%; margin-top:12px; }
  .badge {
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
  }
  .badge.pending { background:#fef3c7; color:#92400e; }
  .badge.accepted { background:#dcfce7; color:#166534; }
  .badge.declined { background:#fee2e2; color:#991b1b; }
  .badge.expired { background:#e2e8f0; color:#475569; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
`;function d0({eventId:n}){const[i,l]=C.useState({loading:!1,data:null,error:null}),[r,d]=C.useState(!1),[h,f]=C.useState(null),[p,g]=C.useState(!1),[y,b]=C.useState(null),[S,w]=C.useState(null),A=C.useRef(null);if(C.useEffect(()=>{if(!n){l({loading:!1,data:null,error:null});return}let X=!0;const W=new AbortController;return l({loading:!0,data:null,error:null}),fetch(`/api/events/${encodeURIComponent(n)}`,{signal:W.signal}).then(U=>U.ok?U.json():Promise.reject(new Error("Failed to load event"))).then(U=>{X&&l({loading:!1,data:U?.data||null,error:null})}).catch(U=>{U?.name!=="AbortError"&&X&&l({loading:!1,data:null,error:"Unable to load event"})}),()=>{X=!1,W.abort()}},[n]),C.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]),!n)return c.jsx("p",{className:"muted",children:"Select an event to see details."});if(i.loading)return c.jsx("p",{className:"muted",children:"Loading"});if(i.error)return c.jsx("p",{className:"text-danger",children:i.error});function T(X,W=4e3){A.current&&clearTimeout(A.current),f(X),W&&(A.current=setTimeout(()=>f(null),W))}const _=i.data;if(!_)return c.jsx("p",{className:"muted",children:"Event not found."});async function M(){if(!p){g(!0);try{const X=await fetch(`/api/events/${encodeURIComponent(n)}/calendar.ics`);if(!X.ok){const se=await X.json().catch(()=>({}));throw new Error(se?.error||"Unable to generate calendar invite")}const W=await X.blob(),U=window.URL.createObjectURL(W),G=document.createElement("a");G.href=U;const O=`${(_.title||"event").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"event"}.ics`;G.download=O,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(U),T({message:"Calendar invite downloaded.",type:"success"})}catch(X){T({message:X.message||"Unable to download calendar.",type:"error"})}finally{g(!1)}}}function q(X){l(W=>W?.data?{...W,data:{...W.data,...X}}:W)}async function ne(X){if(!y){b(X);try{const W=await fetch(`/api/events/${encodeURIComponent(n)}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:X})}),U=await W.json().catch(()=>({}));if(!W.ok||!U?.ok)throw new Error(U?.error||"Unable to update RSVP");q({viewer_rsvp_status:U.data?.status||X,rsvp_counts:U.data?.rsvp_counts||i.data?.rsvp_counts,viewer_check_in_method:null,viewer_checked_in_at:null}),T({message:X==="accept"?"You're marked as going.":"Invite declined.",type:"success"})}catch(W){T({message:W.message||"Unable to update RSVP.",type:"error"})}finally{b(null)}}}async function $(X){if(!S&&!(X==="host_code"&&!window.prompt("Enter the 6-digit host code"))){w(X);try{const W=await fetch(`/api/events/${encodeURIComponent(n)}/checkins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:X})}),U=await W.json().catch(()=>({}));if(!W.ok||!U?.ok)throw new Error(U?.error||"Unable to check in");q({viewer_rsvp_status:U.data?.status||"checked_in",viewer_check_in_method:U.data?.check_in_method||X,viewer_checked_in_at:U.data?.checked_in_at||new Date().toISOString(),rsvp_counts:U.data?.rsvp_counts||i.data?.rsvp_counts}),T({message:"You're checked in!",type:"success"})}catch(W){T({message:W.message||"Unable to check in.",type:"error"})}finally{w(null)}}}return c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0},children:_.title||"Event Detail"}),c.jsx("div",{className:"muted",children:_.location_text||"Location TBD"}),_.cover_url&&c.jsx("div",{className:"detail-cover",children:c.jsx("img",{src:_.cover_url,alt:"Event cover"})}),c.jsx("div",{className:"rsvp-stats",children:c.jsxs("span",{children:["RSVP'd: ",_?.rsvp_counts?.accepted??0,_.capacity?` / ${_.capacity}`:""]})}),h&&c.jsxs("div",{className:`invite-toast ${h.type||"success"}`,children:[c.jsx("span",{children:h.message}),h.actionLabel&&c.jsx("button",{type:"button",onClick:()=>{h.onAction?.(),f(null)},children:h.actionLabel})]}),c.jsxs("div",{className:"row",style:{gap:8,margin:"12px 0",flexWrap:"wrap"},children:[c.jsx("button",{className:"btn secondary",type:"button",onClick:M,disabled:p,children:p?"Preparing":"Add to Calendar"}),c.jsx("button",{className:"btn secondary",type:"button",onClick:()=>d(!0),children:"Invite"})]}),!_.viewer_is_host&&_.status==="published"&&c.jsxs("div",{className:"card rsvp-card",children:[c.jsxs("div",{children:[c.jsx("strong",{children:_.viewer_rsvp_status==="accepted"?"You're going":_.viewer_rsvp_status==="checked_in"?"Checked in":"RSVP"}),c.jsx("p",{className:"muted mb-0",children:"Let the host know if you're attending."})]}),c.jsxs("div",{className:"rsvp-actions",children:[c.jsx("button",{type:"button",className:`btn ${_.viewer_rsvp_status==="accepted"||_.viewer_rsvp_status==="checked_in"?"primary":"secondary"}`,onClick:()=>ne("accept"),disabled:y==="accept"||_.viewer_rsvp_status==="checked_in",children:y==="accept"?"Saving":_.viewer_rsvp_status==="accepted"||_.viewer_rsvp_status==="checked_in"?"Going":"Accept"}),c.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>ne("decline"),disabled:y==="decline",children:y==="decline"?"Saving":"Decline"})]})]}),!_.viewer_is_host&&_.viewer_rsvp_status==="accepted"&&Array.isArray(_.attendance_methods)&&_.attendance_methods.length>0&&c.jsxs("div",{className:"card checkin-card",children:[c.jsx("strong",{children:"Check in"}),c.jsx("p",{className:"muted mb-0",children:"Choose one of the host's preferred methods when you arrive."}),c.jsx("div",{className:"checkin-buttons",children:_.attendance_methods.map(X=>c.jsx("button",{type:"button",className:"btn secondary",onClick:()=>$(X),disabled:!!S,children:S===X?"Submitting":m0(X)},X))})]}),c.jsxs("div",{className:"card when-card",children:[c.jsx("div",{className:"when-card__header",children:c.jsx("strong",{children:"When / Where"})}),c.jsxs("div",{className:"when-card__body",children:[c.jsxs("div",{className:"when-card__col",children:[c.jsx("span",{className:"label",children:"Date & Time"}),c.jsx("p",{className:"value",children:h0(_.start_at,_.tz)}),c.jsx("span",{className:"label",children:"Location"}),c.jsx("p",{className:"value",style:{whiteSpace:"pre-wrap"},children:_.location_text||"Location TBD"})]}),c.jsxs("div",{className:"when-card__col meta",children:[c.jsxs("div",{children:[c.jsx("span",{className:"label",children:"Capacity"}),c.jsx("p",{className:"value",children:_.capacity||"Unlimited"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"label",children:"RSVPs"}),c.jsx("p",{className:"value",children:_?.rsvp_counts?.accepted||0})]})]})]})]}),c.jsx("h3",{children:"After the event"}),c.jsxs("div",{className:"grid",children:[c.jsxs("div",{className:"box",children:[c.jsx("strong",{children:"Enter 6-digit code"}),c.jsx("p",{className:"muted mb-0",children:"Hosts can share a quick check-in code."})]}),c.jsxs("div",{className:"box",children:[c.jsx("strong",{children:"Paste public social URL"}),c.jsx("p",{className:"muted mb-0",children:"Drop proof from Instagram, TikTok, etc."})]})]}),c.jsxs("div",{className:"card row",style:{justifyContent:"space-between",gap:12},children:[c.jsx("strong",{children:"Host tools"}),c.jsx("button",{className:"btn",type:"button",children:"Show QR / Code"})]}),c.jsx("button",{className:"btn secondary w-100",type:"button",children:"Mark Completed"}),c.jsx("button",{className:"btn tertiary w-100 mt-2",type:"button",onClick:()=>{typeof window<"u"&&(window.location.hash="#/events")},children:"Back to Events"}),c.jsx(Rf,{open:r,onClose:()=>d(!1),eventId:n,eventTitle:_.title,onSent:()=>{d(!1),T({message:"Invite sent!",actionLabel:"View in My Invites",onAction:()=>{window.location.hash="#/my-invites"},type:"success"})}}),c.jsx("style",{children:f0})]})}const f0=`
  .row{display:flex;align-items:center}
  .card{border:1px solid #e5e7eb;border-radius:16px;padding:16px;background:#fff;margin:12px 0}
  .rsvp-card{display:flex;flex-direction:column;gap:12px}
  .rsvp-actions{display:flex;gap:12px;flex-wrap:wrap}
  .checkin-card{display:flex;flex-direction:column;gap:12px}
  .checkin-buttons{display:flex;flex-wrap:wrap;gap:10px}
  .rsvp-stats{margin-top:8px;color:#6b7280;font-size:0.9rem}
  .when-card__body{display:flex;gap:16px;flex-wrap:wrap;margin-top:12px}
  .when-card__col{flex:1 1 100%;min-width:0}
  .when-card__col.meta{flex:0 0 auto;min-width:140px}
  .when-card__col .label{display:block;font-size:0.8rem;text-transform:uppercase;letter-spacing:0.08em;color:#94a3b8;margin-bottom:4px}
  .when-card__col .value{margin:0 0 12px;font-weight:600;color:#1f2937;word-break:break-word}
  .when-card__col.meta .value{font-size:1.1rem}
  .card p{margin:6px 0 0}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
  .box{background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:16px}
  .detail-cover{margin:12px 0}
  .detail-cover img{width:100%;max-height:240px;object-fit:cover;border-radius:16px;border:1px solid #e5e7eb}
  .btn{background:#ff5656;border:none;color:#fff;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.secondary{background:#fff;border:1px solid #e5e7eb;color:#1f2937}
  .btn.tertiary{background:transparent;border:1px dashed #d1d5db;color:#4b5563}
  .mt-2{margin-top:0.5rem}
  .invite-toast{margin:0 0 8px;font-size:0.95rem;display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:12px}
  .invite-toast.success{background:#ecfdf5;color:#065f46}
  .invite-toast.error{background:#fef2f2;color:#b91c1c}
  .invite-toast button{border:none;background:#fff;color:#455a7c;font-weight:600;border-radius:999px;padding:4px 10px;cursor:pointer}
  .muted{color:#6b7280}
  .w-100{width:100%}
  h3{margin-top:24px}
`;function h0(n,i){if(!n)return"Date TBD";try{return new Date(n).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:i||"UTC"})}catch{return n}}function m0(n){switch(n){case"host_code":return"Host Code";case"social_proof":return"Social Proof";case"geo":return"Geo Check-in";default:return n}}function p0(n={}){const{initialRoute:i="events",initialFeed:l=[],pagination:r={limit:20,sort:"relevance"},brand:d={primary:"#ff5656",ink:"#455a7c"},geoCheckinEnabled:h=!1}=n,[f,p]=C.useState(typeof window<"u"&&window.location.hash?window.location.hash:`#/${i}`),[g,y]=C.useState(null),[b,S]=C.useState(Array.isArray(l)?l:[]);C.useEffect(()=>{if(typeof window>"u")return()=>{};(()=>{window.location.hash||(window.location.hash=`#/${i}`)})();const _=()=>p(window.location.hash||`#/${i}`);return window.addEventListener("hashchange",_),()=>window.removeEventListener("hashchange",_)},[i]),C.useEffect(()=>{if(!f){y(null);return}const T=f.match(/^#\/events\/([^/?#]+)/);y(T?T[1]:null)},[f]);const w=()=>{typeof window<"u"&&(window.location.hash="#/events")},A=T=>{!T||typeof window>"u"||(window.location.hash=`#/events/${T}`)};return c.jsxs("div",{className:"events-app-shell",style:{"--events-brand":d.primary,"--events-ink":d.ink},children:[c.jsx(Dx,{route:f}),c.jsxs(Ex,{route:f,feed:b,setFeed:S,pagination:r,geoCheckinEnabled:h,brand:d,onSelectEvent:A,children:[c.jsx(kx,{path:"#/events"}),c.jsx(Yx,{path:"#/create"}),c.jsx(Px,{path:"#/my"}),c.jsx(t0,{path:"#/invites"}),c.jsx(o0,{path:"#/my-invites"})]}),c.jsx(Mx,{open:!!g,onClose:w,children:g?c.jsx(d0,{eventId:g}):null})]})}const g0=[{code:"heart_to_heart",label:"Heart-to-Heart Friend",desc:"Deep talks, real feelings, late-night brain dumps."},{code:"low_drama_rock",label:"Low-Drama Rock",desc:"Chill routines, someone steady, low chaos."},{code:"adventure_buddy",label:"Adventure Buddy",desc:"New spots, fun plans, say yes energy."},{code:"group_chat_ceo",label:"Group Chat CEO",desc:"Planner friend, group glue, makes hangs happen."},{code:"glow_up_partner",label:"Glow-Up Partner",desc:"Goals, feedback, lets level up together."}],Hf=[{code:"chronic_flakiness",label:"Chronic flakiness",desc:"Often cancels last minute or doesnt show."},{code:"putdowns_disrespect",label:"Put-downs / disrespect",desc:"Jokes or comments that land mean, not playful."},{code:"gossip_bonding",label:"Gossip bonding",desc:"Regularly talks trash to connect."},{code:"breaches_confidence",label:"Breaches confidence",desc:"Shares what you wanted kept private."},{code:"ignores_boundaries",label:"Ignores boundaries",desc:"Keeps pushing after you say youre not okay with something."}],To=[{code:"contact_freq",label:"We text / DM / talk in person pretty much every week."},{code:"contact_overlap",label:"Our lives cross naturally (same school/work/group/server/gym/etc.)."},{code:"mutual_initiation",label:"They hit me up or start plans sometimes. Its not 100% me doing the reaching out."},{code:"mutual_response",label:"When I message, they respond in a timeframe that feels normal for them."},{code:"plan_energy",label:"In the last month, theyve suggested hanging out again or floated a specific idea."},{code:"self_disclosure_me",label:"Ive told them at least one real thing Im stressed about or insecure about this season."},{code:"self_disclosure_them",label:"Theyve shared something personal with me (not just work is busy small talk)."},{code:"emotional_safety",label:"When we talk about deeper stuff, I feel pretty safelike they get it and arent judging."},{code:"support_showup",label:"When Ive needed a small favor or emotional check-in, they mostly showed up."},{code:"support_followthrough",label:"If they say theyll call, pull up, or bring something, they usually actually do it."},{code:"shared_recent",label:"In the last month, weve done at least one fun or meaningful thing together."},{code:"shared_future",label:"Weve got at least one plan, event, or repeating thing coming up together."},{code:"global_trust",label:"If I really needed help with something important, Id feel okay asking them."}],Al=[{code:"type_vault",label:"Vault Friend",desc:"Tell me everything friend; secrets stay locked."},{code:"type_anchor",label:"Human Weighted Blanket",desc:"Steady, calm, shows up."},{code:"type_adventurer",label:"Chaos (But Fun) Adventurer",desc:"Down for new spots / plans."},{code:"type_communicator",label:"Group Chat Mod",desc:"Clarifies plans, smooths misreads."},{code:"type_connector",label:"Social Router",desc:"Introduces people, merges friend groups."},{code:"type_coach",label:"Hype Coach",desc:"Supports goals, feedback when asked."},{code:"type_collaborator",label:"Build-Something Buddy",desc:"Loves making / learning together."},{code:"type_caregiver",label:"Soft Care Friend",desc:"Notices when youre off, little gestures."}],y0={1:"lol nope",2:"kinda rare",3:"eh, sometimes",4:"mostly yeah",5:"big yes"},b0=Al.reduce((n,i)=>(n[i.code]=i.label,n),{}),No={type_vault:"Confidante",type_anchor:"Anchor",type_adventurer:"Adventurer",type_communicator:"Communicator",type_connector:"Connector",type_coach:"Coach",type_collaborator:"Collaborator",type_caregiver:"Caregiver"},qf=new Set(Object.values(No));function ci(n){const i=n.filter(l=>Number.isFinite(l));return i.length?i.reduce((l,r)=>l+r,0)/i.length:0}function v0({need:n,redFlags:i,closeness:l,types:r}){const h=Object.keys(i||{}).filter(oe=>i[oe]).length,f={Contact:ci([l.contact_freq,l.contact_overlap]),Mutual_Interest:ci([l.mutual_initiation,l.mutual_response,l.plan_energy]),Disclosure_Safety:ci([l.self_disclosure_me,l.self_disclosure_them,l.emotional_safety]),Support_Reliability:ci([l.support_showup,l.support_followthrough]),Shared_Experiences:ci([l.shared_recent,l.shared_future]),Trust:l.global_trust??0},p=[];let g=!1,y=!1;h>=3?(g=!0,p.push("Even if parts feel close, repeated patterns like disrespect or breached boundaries make it risky to invest more.")):h>=1&&(y=!0,p.push("There are a couple of caution flags. Pace yourself and add boundaries."));const{Contact:b,Mutual_Interest:S,Disclosure_Safety:w,Support_Reliability:A,Shared_Experiences:T,Trust:_}=f,M=b>=3.7&&S>=3.7&&w>=4.3&&A>=4.3&&T>=3.7&&_>=4.5,q=b>=3.7&&S>=3.7&&w>=3.7&&A>=3.7&&T>=3.7&&_>=3.7,ne=b>=3&&S>=3&&w>=3&&A>=3&&T>=3&&_>=3,$=b>=2.5&&S>=2.5&&_>=2.5&&Math.max(w,A,T)>=3;let X="acquaintance";M?X="best_friend":q?X="close_friend":ne?X="friend":$?X="casual_friend":b<2.5||S<2.5&&T<2.5?X="acquaintance":X="casual_friend";const W={acquaintance:"Acquaintance",casual_friend:"Casual Friend",friend:"Friend",close_friend:"Close Friend",best_friend:"Best Friend"},U=Object.entries(r||{}).map(([oe,ce])=>({code:oe,score:Number(ce)||0}));U.sort((oe,ce)=>ce.score-oe.score);const G=U.filter(oe=>oe.score>=3.5);let O=[];G.length===0&&U.length?O=U.slice(0,1):G.length<=2?O=G:O=G.slice(0,2),O=O.map(oe=>({...oe,label:b0[oe.code]||oe.code}));const se=ci([f.Contact,f.Mutual_Interest,f.Disclosure_Safety,f.Support_Reliability,f.Shared_Experiences,f.Trust]);return{levelCode:X,levelLabel:W[X]||"Friend",subscales:f,redflag_total:h,warnings:p,unsafeToDeepen:g,hasCautionFlags:y,topTypes:O,overallScore:Math.round(se*20),need:n}}function Ff({code:n,label:i,value:l,onChange:r}){return c.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-white p-4",children:[c.jsx("div",{className:"text-sm text-slate-700",children:i}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(d=>c.jsx("button",{type:"button",onClick:()=>r(n,d),className:`h-12 rounded-xl border text-sm font-medium transition ${l===d?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5 border-slate-200"}`,title:y0[d],children:d},d))}),c.jsx("div",{className:"text-xs text-slate-500",children:"Scale: 1 = lol nope  5 = big yes"})]})}function x0({userId:n,onScore:i,onAfterResult:l}){const[r,d]=C.useState(""),[h,f]=C.useState(null),[p,g]=C.useState(Hf.reduce((ae,be)=>({...ae,[be.code]:!1}),{})),[y,b]=C.useState(To.reduce((ae,be)=>({...ae,[be.code]:null}),{})),[S,w]=C.useState(Al.reduce((ae,be)=>({...ae,[be.code]:null}),{})),[A,T]=C.useState(null),[_,M]=C.useState({state:"idle",message:""}),[q,ne]=C.useState([]),[$,X]=C.useState(!1);C.useEffect(()=>{if($)try{So({particleCount:160,spread:70,origin:{y:.6}})}catch(ae){console.warn("confetti failed",ae)}},[$]);const W=C.useMemo(()=>{const ae=Object.values(y).filter(ue=>Number.isFinite(ue)).length,be=Object.values(S).filter(ue=>Number.isFinite(ue)).length;return{closeness:ae/To.length,types:be/Al.length}},[y,S]),U=C.useMemo(()=>{const ae=[];return h||ae.push("Pick what kind of friend youre craving right now."),W.closeness<1&&ae.push("Answer all closeness questions."),W.types<1&&ae.push("Answer all friend-type questions."),ae},[h,W]),G=()=>{if(U.length)return ne(U),null;ne([]);const ae=v0({need:h,redFlags:p,closeness:y,types:S});return T(ae),i?.(ae),l?.(),ae},O=(ae,be)=>{b(ue=>({...ue,[ae]:be}))},se=(ae,be)=>{w(ue=>({...ue,[ae]:be}))},oe=ae=>{g(be=>({...be,[ae]:!be[ae]}))},ce=()=>{const ae=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null;return ae?ae.getAttribute("content"):null},we=async()=>{let ae=A;if(!ae&&(ae=G(),!ae))return;if(!n){M({state:"error",message:"Please sign in to save your results."});return}const be=ce();if(!be){M({state:"error",message:"Missing CSRF token."});return}try{M({state:"saving",message:"Saving..."});const ue=Object.entries(p).filter(([,k])=>k).map(([k])=>k),B=ae.topTypes[0]?.code&&No[ae.topTypes[0].code]||null,P=ae.topTypes[1]?.code&&No[ae.topTypes[1].code]||null,K={name:r?.trim()||"Friend",score:ae.overallScore,archetype_primary:qf.has(B)?B:null,archetype_secondary:qf.has(P)?P:null,evidence_direct:1,evidence_proxy:0,flags_count:ae.redflag_total,red_flags:ue,snapshot:{need:h,redFlags:p,closeness:y,types:S,level:ae.levelCode},tier:ae.levelLabel,channel_pref:"mixed"},re=await fetch("/api/friends",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":be},body:JSON.stringify(K)}),D=await re.json().catch(()=>({}));if(!re.ok||!D?.ok)throw new Error(D?.error||`Save failed (${re.status})`);const v=D.id;if(v)try{await fetch("/internal/quiz/completed",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n,friend_id:v,friend_name:K.name,tier:ae.levelLabel,channel_pref:"mixed"})})}catch(k){console.warn("quiz/completed failed",k)}M({state:"saved",message:"Saved "}),l?.(),setTimeout(()=>X(!0),300)}catch(ue){M({state:"error",message:ue.message||"Save failed"})}};return c.jsxs("div",{className:"space-y-5",children:[c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:c.jsxs("label",{className:"block text-sm font-semibold text-[#455a7c]",children:["Friend name / nickname (optional)",c.jsx("input",{type:"text",value:r,onChange:ae=>d(ae.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#455a7c]",placeholder:"e.g., Sam from work"})]})}),$&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:c.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Saved!"}),c.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Your Friend Check was saved. Check your Friend Arc for next steps."}),c.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[c.jsx("button",{type:"button",onClick:()=>X(!1),className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Close"}),c.jsx("button",{type:"button",onClick:()=>{X(!1),typeof window<"u"&&window.location.assign("/dashboard")},className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"View Friend Arc"})]})]})}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:[c.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"What kind of friend are you craving right now?"}),c.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:g0.map(ae=>{const be=h===ae.code;return c.jsxs("button",{type:"button",onClick:()=>f(ae.code),className:`text-left rounded-2xl border p-3 transition ${be?"border-[#ff5656] bg-[#ff5656]/10 shadow-sm":"border-slate-200 hover:border-slate-300 bg-white"}`,children:[c.jsx("div",{className:"font-semibold text-sm",children:ae.label}),c.jsx("div",{className:"text-xs text-slate-600 mt-1",children:ae.desc})]},ae.code)})})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:[c.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Red Flag Bingo"}),c.jsx("div",{className:"text-xs text-slate-600",children:"Check anything thats been a real pattern in the last few months."}),c.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:Hf.map(ae=>c.jsxs("label",{className:`flex items-start gap-2 rounded-xl border p-3 text-sm cursor-pointer ${p[ae.code]?"border-rose-300 bg-rose-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[c.jsx("input",{type:"checkbox",className:"mt-1 accent-rose-500",checked:!!p[ae.code],onChange:()=>oe(ae.code)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:ae.label}),c.jsx("div",{className:"text-xs text-slate-600",children:ae.desc})]})]},ae.code))})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Closeness (last 23 months)"}),c.jsx("div",{className:"text-xs text-slate-600",children:"1 = lol nope  5 = big yes"})]}),c.jsx("div",{className:"space-y-3",children:To.map(ae=>c.jsx(Ff,{code:ae.code,label:ae.label,value:y[ae.code],onChange:O},ae.code))})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Friend energy they bring (15)"}),c.jsx("div",{className:"text-xs text-slate-600",children:"How often do they show this?"})]}),c.jsx("div",{className:"space-y-3",children:Al.map(ae=>c.jsx(Ff,{code:ae.code,label:`${ae.label}  ${ae.desc}`,value:S[ae.code],onChange:se},ae.code))})]}),q.length>0&&c.jsx("div",{className:"rounded-xl border border-amber-300 bg-amber-50 text-amber-900 p-3 text-sm",children:c.jsx("ul",{className:"list-disc list-inside space-y-1",children:q.map(ae=>c.jsx("li",{children:ae},ae))})}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 rounded-xl border border-[#455a7c] text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"See results"}),c.jsx("button",{type:"button",onClick:we,disabled:_.state==="saving",className:`px-4 py-2 rounded-xl text-white font-semibold shadow ${_.state==="saving"?"bg-[#455a7c]/60 cursor-not-allowed":"bg-[#ff5656] hover:bg-[#ff5656]/90"}`,children:_.state==="saving"?"Saving":"Save"}),_.message&&c.jsx("span",{className:`text-sm ${_.state==="error"?"text-rose-600":"text-[#455a7c]"}`,children:_.message})]})]})}const S0={1:"lol nope",2:"kinda rare",3:"eh, sometimes",4:"yeah, usually",5:"this is my whole personality"},Yf=[{group:"Initiation & Invitations",items:[{code:"initiation_start",label:"Im the one who slides into DMs or texts first instead of always waiting to be summoned."},{code:"initiation_invites",label:"I regularly invite people to small things (walk, coffee, game night, FaceTime, Discord hang)."},{code:"initiation_newthings",label:"Im the friend whos like, We should try ___ and actually sends a link / idea."}]},{group:"Reliability & Boundaries",items:[{code:"reliability_followthrough",label:"If I say Ill be somewhere or do something, I mostly follow through instead of last-minute disappearing."},{code:"reliability_sayno",label:"When Im not up for plans, I can say no clearly and kindly instead of ghosting or making sketchy excuses."},{code:"reliability_respect_boundaries",label:"If a friend says theyre tired / broke / not feeling it, I dont pushI respect that and drop the pressure."}]},{group:"Responsiveness & Listening",items:[{code:"responsive_comfort",label:"When a friend drops something heavy, I send more than dang that sucksI actually respond in a caring way."},{code:"responsive_followup",label:"I ask follow-up questions that show I was listening (not just cool and switching topics)."},{code:"responsive_remember",label:"I remember important stuff friends tell me and sometimes check back in about it."}]},{group:"Vulnerability & Sharing Yourself",items:[{code:"vulnerability_letin",label:"At least a couple friends know what Im actually going through this season, not just the highlight reel."},{code:"vulnerability_feelings",label:"I can say how I feel (low-key anxious about X, weirdly proud of Y) instead of only giving life updates."},{code:"vulnerability_repair",label:"If theres tension or a weird vibe, Im willing to bring it up gently instead of just fading out."}]}],Ao=[{code:"type_vault",label:"Vault Friend",desc:"People vent to me and it stays locked."},{code:"type_anchor",label:"Human Weighted Blanket",desc:"Steady, on time, keeps rituals calm."},{code:"type_adventurer",label:"Chaos (But Fun) Adventurer",desc:"Down for new spots or sure, why not plans."},{code:"type_communicator",label:"Group Chat Mod",desc:"Translate vibes, clarify plans, keep chat smooth."},{code:"type_connector",label:"Social Router",desc:"Introduce friends, end up as social glue."},{code:"type_coach",label:"Hype Coach",desc:"Ask about goals, send you got this, give feedback when wanted."},{code:"type_collaborator",label:"Build-Something Buddy",desc:"Love making / learning things together."},{code:"type_caregiver",label:"Soft Care Friend",desc:"Notice when someones off, send you good? texts, small care."}],Gf=Ao.reduce((n,i)=>(n[i.code]=i.label,n),{});function Cl(n){const i=n.filter(l=>Number.isFinite(l));return i.length?i.reduce((l,r)=>l+r,0)/i.length:0}function _l(n){return n>=3.5?"Big Strength":n>=2.5?"In Progress":"Growth Edge"}function j0({skillsRaw:n,typeRaw:i}){const l=Cl([n.initiation_start,n.initiation_invites,n.initiation_newthings]),r=Cl([n.reliability_followthrough,n.reliability_sayno,n.reliability_respect_boundaries]),d=Cl([n.responsive_comfort,n.responsive_followup,n.responsive_remember]),h=Cl([n.vulnerability_letin,n.vulnerability_feelings,n.vulnerability_repair]),f={initiation:{score:l,band:_l(l)},reliability:{score:r,band:_l(r)},responsiveness:{score:d,band:_l(d)},vulnerability:{score:h,band:_l(h)}},p=Object.entries(i||{}).map(([T,_])=>({code:T,score:Number(_)||0}));p.sort((T,_)=>_.score-T.score);const g=p.filter(T=>T.score>=3.5);let y=[];g.length===0&&p.length?y=p.slice(0,1):g.length<=2?y=g:y=g.slice(0,2);const b=p.filter(T=>!y.find(_=>_.code===T.code)).slice(0,3);y=y.map(T=>({...T,label:Gf[T.code]||T.code}));const S={scores:p.reduce((T,_)=>({...T,[_.code]:_.score}),{}),main:y,secondary:b.map(T=>({...T,label:Gf[T.code]||T.code}))},w=[],A=[];return Object.entries(f).forEach(([T,_])=>{_.band==="Big Strength"&&A.push(T),_.band==="Growth Edge"&&w.push(T)}),{skills:f,archetypes:S,growthEdges:w,strengths:A,stuckTransitions:[]}}function Xf({code:n,label:i,value:l,onChange:r}){return c.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-white p-4",children:[c.jsx("div",{className:"text-sm text-slate-700",children:i}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(d=>c.jsx("button",{type:"button",onClick:()=>r(n,d),className:`h-12 rounded-xl border text-sm font-medium transition ${l===d?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5 border-slate-200"}`,title:S0[d],children:d},d))}),c.jsx("div",{className:"text-xs text-slate-500",children:"Scale: 1 = lol nope  5 = this is my whole personality"})]})}function w0({userId:n,onScore:i,onAfterResult:l}){const[r,d]=C.useState(Yf.flatMap(U=>U.items).reduce((U,G)=>({...U,[G.code]:null}),{})),[h,f]=C.useState(Ao.reduce((U,G)=>({...U,[G.code]:null}),{})),[p,g]=C.useState(null),[y,b]=C.useState({state:"idle",message:""}),[S,w]=C.useState([]),[A,T]=C.useState(!1);C.useEffect(()=>{if(A)try{So({particleCount:160,spread:70,origin:{y:.6}})}catch(U){console.warn("confetti failed",U)}},[A]);const _=C.useMemo(()=>{const U=Object.values(r).filter(O=>Number.isFinite(O)).length,G=Object.values(h).filter(O=>Number.isFinite(O)).length;return{skills:U/Object.keys(r).length,types:G/Object.keys(h).length}},[r,h]),M=()=>{const U=[];return _.skills<1&&U.push("Answer all skill questions."),_.types<1&&U.push("Answer all friendship energy questions."),U},q=()=>{const U=M();if(U.length)return w(U),null;w([]);const G=j0({skillsRaw:r,typeRaw:h});return g(G),i?.(G),l?.(),G},ne=()=>{const U=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null;return U?U.getAttribute("content"):null},$=async()=>{let U=p;if(!U&&(U=q(),!U))return;if(!n){b({state:"error",message:"Please sign in to save your results."});return}const G=ne();if(!G){b({state:"error",message:"Missing CSRF token."});return}try{b({state:"saving",message:"Saving..."});const O={answers:{skills:r,types:h},skills:U.skills,archetypes:U.archetypes,ladderSnapshot:{},growthEdges:U.growthEdges,strengths:U.strengths,stuckTransitions:U.stuckTransitions,completedAt:new Date().toISOString()},se=await fetch("/api/friendship-energy",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":G},body:JSON.stringify(O)}),oe=await se.json().catch(()=>({}));if(!se.ok||!oe?.ok)throw new Error(oe?.error||`Save failed (${se.status})`);b({state:"saved",message:"Saved "}),l?.(),setTimeout(()=>T(!0),300)}catch(O){b({state:"error",message:O.message||"Save failed"})}},X=(U,G)=>d(O=>({...O,[U]:G})),W=(U,G)=>f(O=>({...O,[U]:G}));return c.jsxs("div",{className:"space-y-5",children:[c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:c.jsxs("div",{className:"text-sm text-[#455a7c]",children:["This quiz is about ",c.jsx("strong",{children:"you"}),", not any one friend. Think about the last 23 months. For each line, slide from lol nope  big yes to show how true it feels."]})}),A&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:c.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[c.jsx("div",{className:"text-3xl mb-2",children:""}),c.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Saved!"}),c.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Your Friendship Energy quiz was saved. Keep building those superpowers!"}),c.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[c.jsx("button",{type:"button",onClick:()=>T(!1),className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Close"}),c.jsx("button",{type:"button",onClick:()=>T(!1),className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"Great!"})]})]})}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Skills (15)"}),c.jsx("div",{className:"text-xs text-slate-600",children:"1 = lol nope  5 = this is my whole personality"})]}),c.jsx("div",{className:"space-y-4",children:Yf.map(U=>c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:U.group}),U.items.map(G=>c.jsx(Xf,{code:G.code,label:G.label,value:r[G.code],onChange:X},G.code))]},U.group))})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Friendship energy you bring (15)"}),c.jsx("div",{className:"text-xs text-slate-600",children:"How often is this you?"})]}),c.jsx("div",{className:"space-y-3",children:Ao.map(U=>c.jsx(Xf,{code:U.code,label:`${U.label}  ${U.desc}`,value:h[U.code],onChange:W},U.code))})]}),S.length>0&&c.jsx("div",{className:"rounded-xl border border-amber-300 bg-amber-50 text-amber-900 p-3 text-sm",children:c.jsx("ul",{className:"list-disc list-inside space-y-1",children:S.map(U=>c.jsx("li",{children:U},U))})}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 rounded-xl border border-[#455a7c] text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"See results"}),c.jsx("button",{type:"button",onClick:$,disabled:y.state==="saving",className:`px-4 py-2 rounded-xl text-white font-semibold shadow ${y.state==="saving"?"bg-[#455a7c]/60 cursor-not-allowed":"bg-[#ff5656] hover:bg-[#ff5656]/90"}`,children:y.state==="saving"?"Saving":"Save"}),y.message&&c.jsx("span",{className:`text-sm ${y.state==="error"?"text-rose-600":"text-[#455a7c]"}`,children:y.message})]})]})}function Kf({active:n,label:i,sublabel:l,onClick:r}){return c.jsxs("button",{type:"button",onClick:r,className:`flex flex-col items-center text-center gap-1 px-4 py-3 rounded-2xl border transition ${n?"border-[#ff5656] bg-[#ff5656]/10 text-[#455a7c] shadow-sm":"border-slate-200 bg-white hover:border-slate-300 text-[#455a7c]"}`,children:[c.jsx("span",{className:"text-sm font-semibold",children:i}),c.jsx("span",{className:"text-xs text-slate-600",children:l})]})}function T0({userId:n}){const[i,l]=C.useState("friend-check"),[r,d]=C.useState(null),[h,f]=C.useState(null),p=i==="friend-check",g=C.useRef(null),y=()=>{g.current&&g.current.scrollIntoView({behavior:"smooth",block:"start"})};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white text-[#455a7c]",children:c.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10 md:py-14 space-y-10",children:[c.jsxs("header",{className:"text-center space-y-4",children:[c.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#ff5656]/10 text-[#ff5656] text-xs font-semibold",children:"New  Friend Quizzes"}),c.jsx("div",{className:"space-y-2",children:c.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Upgrade Your Friend Circle"})}),c.jsxs("p",{className:"max-w-3xl mx-auto text-slate-600 text-sm md:text-base",children:["Take 2 minutes to complete a Friend Check quiz on a friend and find out what type of friend they are and KAI will create a Friend Arc - small simple actions you can take to connect with that person more!",c.jsx("br",{}),"or",c.jsx("br",{}),"Complete a My Friendship Energy quiz to discover your friendship superpowers and learn how you can be a better friend."]})]}),c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"inline-flex gap-3 bg-white border border-slate-200 rounded-2xl p-2 shadow-sm",children:[c.jsx(Kf,{active:p,label:"Friend Check",sublabel:"One friend at a time",onClick:()=>l("friend-check")}),c.jsx(Kf,{active:!p,label:"My Friendship Energy",sublabel:"How you show up",onClick:()=>l("my-friendship-energy")})]})}),c.jsxs("div",{className:"grid gap-6 lg:gap-8 lg:grid-cols-[minmax(0,1.2fr)_minmax(0,0.8fr)]",children:[c.jsx("section",{className:"space-y-4",children:p?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Friend Check"}),c.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Pick one person, answer a few questions about how things have actually been lately, and KAI will tell you what level that friendships at + tiny, non-cringe next moves."})]}),c.jsx(x0,{userId:n,onScore:b=>d(b),onAfterResult:y})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"My Friendship Energy"}),c.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Answer about how you show up as a friend, and KAI will map your superpowers, growth edges, and a couple of tiny quests to help you get more Close / Best Friends."})]}),c.jsx(w0,{userId:n,onScore:b=>f(b),onAfterResult:y})]})}),c.jsx("aside",{className:"lg:sticky lg:top-24",ref:g,style:{scrollMarginTop:"140px"},children:c.jsxs("div",{className:"rounded-3xl bg-[#ff5656] text-white p-6 space-y-4 shadow-xl",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-white/80",children:"What youll get"}),c.jsx("h3",{className:"text-xl font-bold mt-1",children:p?"Friend Check":"My Friendship Energy"})]}),p&&r?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm font-semibold",children:["Level: ",r.levelLabel]}),c.jsxs("p",{className:"text-sm text-slate-200",children:[r.levelCode==="best_friend"&&"This is Best Friend territory. Keep nurturing it and protect your time together.",r.levelCode==="close_friend"&&"Close Friend vibes. Add a repeat ritual and a shared plan on the calendar.",r.levelCode==="friend"&&"Solid Friend zone. A couple of intentional hangs could deepen this toward Close Friend.",r.levelCode==="casual_friend"&&"Casual Friend. Light touches plus one meaningful hang can move this up.",r.levelCode==="acquaintance"&&"Feels like an acquaintance right now. Start with small, low-pressure overlap."]}),r.topTypes?.length?c.jsxs("div",{className:"text-sm text-slate-200",children:["They feel like"," ",r.topTypes.map(b=>b.label).join(" + "),"."]}):null,r.unsafeToDeepen&&c.jsx("div",{className:"rounded-xl bg-rose-500/15 border border-rose-300/40 p-3 text-sm text-rose-100",children:"Heads up: multiple red flagspace yourself or set firmer boundaries."})]}):p?c.jsxs("ul",{className:"space-y-2 text-sm leading-relaxed",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"A Friend Level: Acquaintance  Best Friend"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"A read on what theyre great at (Vault Friend, Adventurer, etc.)"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"23 tiny experiments to try with that one friend"})]})]}):h?c.jsxs("div",{className:"space-y-3",children:[h.archetypes?.main?.length?c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm font-semibold",children:["Youre ",h.archetypes.main.map(b=>b.label).join(" + ")]}):null,c.jsxs("div",{className:"text-sm text-slate-200 space-y-1",children:[h.strengths?.length?c.jsxs("div",{children:["Strengths: ",h.strengths.join(", ").replaceAll("_"," ")]}):null,h.growthEdges?.length?c.jsxs("div",{children:["Growth edges: ",h.growthEdges.join(", ").replaceAll("_"," ")]}):null]}),h.stuckTransitions?.length?c.jsxs("div",{className:"text-sm text-slate-200",children:["Stuck transitions: ",h.stuckTransitions.join(", ").replaceAll("_"," ")]}):null,h.growthEdges?.includes("initiation")&&c.jsx("div",{className:"rounded-xl bg-amber-500/15 border border-amber-300/40 p-3 text-sm text-amber-50",children:"Quest: One-a-day ping  message one person daily with a specific invite or check-in."}),h.growthEdges?.includes("vulnerability")&&c.jsx("div",{className:"rounded-xl bg-amber-500/15 border border-amber-300/40 p-3 text-sm text-amber-50",children:"Quest: Fact  feeling swap  add how I feel about it to one update this week."})]}):c.jsxs("ul",{className:"space-y-2 text-sm leading-relaxed",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Your main friendship energies (Vault Friend, Group Chat Mod, etc.)"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Which skills might be blocking Close / Best Friend levels"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Tiny quests to train those exact muscles"})]})]})]})})]})]})})}const Co=C.createContext({});function _o(n){const i=C.useRef(null);return i.current===null&&(i.current=n()),i.current}const Eo=typeof window<"u",Qf=Eo?C.useLayoutEffect:C.useEffect,El=C.createContext(null);function Mo(n,i){n.indexOf(i)===-1&&n.push(i)}function Do(n,i){const l=n.indexOf(i);l>-1&&n.splice(l,1)}const Un=(n,i,l)=>l>i?i:l<n?n:l;let ko=()=>{};const Ln={},Zf=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function $f(n){return typeof n=="object"&&n!==null}const Pf=n=>/^0[^.\s]+$/u.test(n);function Ro(n){let i;return()=>(i===void 0&&(i=n()),i)}const on=n=>n,N0=(n,i)=>l=>i(n(l)),ys=(...n)=>n.reduce(N0),bs=(n,i,l)=>{const r=i-n;return r===0?1:(l-n)/r};class zo{constructor(){this.subscriptions=[]}add(i){return Mo(this.subscriptions,i),()=>Do(this.subscriptions,i)}notify(i,l,r){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](i,l,r);else for(let h=0;h<d;h++){const f=this.subscriptions[h];f&&f(i,l,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const En=n=>n*1e3,cn=n=>n/1e3;function If(n,i){return i?n*(1e3/i):0}const Jf=(n,i,l)=>(((1-3*l+3*i)*n+(3*l-6*i))*n+3*i)*n,A0=1e-7,C0=12;function _0(n,i,l,r,d){let h,f,p=0;do f=i+(l-i)/2,h=Jf(f,r,d)-n,h>0?l=f:i=f;while(Math.abs(h)>A0&&++p<C0);return f}function vs(n,i,l,r){if(n===i&&l===r)return on;const d=h=>_0(h,0,1,n,l);return h=>h===0||h===1?h:Jf(d(h),i,r)}const Wf=n=>i=>i<=.5?n(2*i)/2:(2-n(2*(1-i)))/2,eh=n=>i=>1-n(1-i),th=vs(.33,1.53,.69,.99),Oo=eh(th),nh=Wf(Oo),ah=n=>(n*=2)<1?.5*Oo(n):.5*(2-Math.pow(2,-10*(n-1))),Uo=n=>1-Math.sin(Math.acos(n)),ih=eh(Uo),sh=Wf(Uo),E0=vs(.42,0,1,1),M0=vs(0,0,.58,1),lh=vs(.42,0,.58,1),D0=n=>Array.isArray(n)&&typeof n[0]!="number",rh=n=>Array.isArray(n)&&typeof n[0]=="number",k0={linear:on,easeIn:E0,easeInOut:lh,easeOut:M0,circIn:Uo,circInOut:sh,circOut:ih,backIn:Oo,backInOut:nh,backOut:th,anticipate:ah},R0=n=>typeof n=="string",oh=n=>{if(rh(n)){ko(n.length===4);const[i,l,r,d]=n;return vs(i,l,r,d)}else if(R0(n))return k0[n];return n},Ml=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function z0(n,i){let l=new Set,r=new Set,d=!1,h=!1;const f=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function g(b){f.has(b)&&(y.schedule(b),n()),b(p)}const y={schedule:(b,S=!1,w=!1)=>{const T=w&&d?l:r;return S&&f.add(b),T.has(b)||T.add(b),b},cancel:b=>{r.delete(b),f.delete(b)},process:b=>{if(p=b,d){h=!0;return}d=!0,[l,r]=[r,l],l.forEach(g),l.clear(),d=!1,h&&(h=!1,y.process(b))}};return y}const O0=40;function ch(n,i){let l=!1,r=!0;const d={delta:0,timestamp:0,isProcessing:!1},h=()=>l=!0,f=Ml.reduce(($,X)=>($[X]=z0(h),$),{}),{setup:p,read:g,resolveKeyframes:y,preUpdate:b,update:S,preRender:w,render:A,postRender:T}=f,_=()=>{const $=Ln.useManualTiming?d.timestamp:performance.now();l=!1,Ln.useManualTiming||(d.delta=r?1e3/60:Math.max(Math.min($-d.timestamp,O0),1)),d.timestamp=$,d.isProcessing=!0,p.process(d),g.process(d),y.process(d),b.process(d),S.process(d),w.process(d),A.process(d),T.process(d),d.isProcessing=!1,l&&i&&(r=!1,n(_))},M=()=>{l=!0,r=!0,d.isProcessing||n(_)};return{schedule:Ml.reduce(($,X)=>{const W=f[X];return $[X]=(U,G=!1,O=!1)=>(l||M(),W.schedule(U,G,O)),$},{}),cancel:$=>{for(let X=0;X<Ml.length;X++)f[Ml[X]].cancel($)},state:d,steps:f}}const{schedule:it,cancel:sa,state:Et,steps:Lo}=ch(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0);let Dl;function U0(){Dl=void 0}const Xt={now:()=>(Dl===void 0&&Xt.set(Et.isProcessing||Ln.useManualTiming?Et.timestamp:performance.now()),Dl),set:n=>{Dl=n,queueMicrotask(U0)}},uh=n=>i=>typeof i=="string"&&i.startsWith(n),Vo=uh("--"),L0=uh("var(--"),Bo=n=>L0(n)?V0.test(n.split("/*")[0].trim()):!1,V0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ui={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},xs={...ui,transform:n=>Un(0,1,n)},kl={...ui,default:1},Ss=n=>Math.round(n*1e5)/1e5,Ho=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B0(n){return n==null}const H0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qo=(n,i)=>l=>!!(typeof l=="string"&&H0.test(l)&&l.startsWith(n)||i&&!B0(l)&&Object.prototype.hasOwnProperty.call(l,i)),dh=(n,i,l)=>r=>{if(typeof r!="string")return r;const[d,h,f,p]=r.match(Ho);return{[n]:parseFloat(d),[i]:parseFloat(h),[l]:parseFloat(f),alpha:p!==void 0?parseFloat(p):1}},q0=n=>Un(0,255,n),Fo={...ui,transform:n=>Math.round(q0(n))},La={test:qo("rgb","red"),parse:dh("red","green","blue"),transform:({red:n,green:i,blue:l,alpha:r=1})=>"rgba("+Fo.transform(n)+", "+Fo.transform(i)+", "+Fo.transform(l)+", "+Ss(xs.transform(r))+")"};function F0(n){let i="",l="",r="",d="";return n.length>5?(i=n.substring(1,3),l=n.substring(3,5),r=n.substring(5,7),d=n.substring(7,9)):(i=n.substring(1,2),l=n.substring(2,3),r=n.substring(3,4),d=n.substring(4,5),i+=i,l+=l,r+=r,d+=d),{red:parseInt(i,16),green:parseInt(l,16),blue:parseInt(r,16),alpha:d?parseInt(d,16)/255:1}}const Yo={test:qo("#"),parse:F0,transform:La.transform},js=n=>({test:i=>typeof i=="string"&&i.endsWith(n)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${n}`}),la=js("deg"),Mn=js("%"),Te=js("px"),Y0=js("vh"),G0=js("vw"),fh={...Mn,parse:n=>Mn.parse(n)/100,transform:n=>Mn.transform(n*100)},di={test:qo("hsl","hue"),parse:dh("hue","saturation","lightness"),transform:({hue:n,saturation:i,lightness:l,alpha:r=1})=>"hsla("+Math.round(n)+", "+Mn.transform(Ss(i))+", "+Mn.transform(Ss(l))+", "+Ss(xs.transform(r))+")"},pt={test:n=>La.test(n)||Yo.test(n)||di.test(n),parse:n=>La.test(n)?La.parse(n):di.test(n)?di.parse(n):Yo.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?La.transform(n):di.transform(n),getAnimatableNone:n=>{const i=pt.parse(n);return i.alpha=0,pt.transform(i)}},X0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K0(n){return isNaN(n)&&typeof n=="string"&&(n.match(Ho)?.length||0)+(n.match(X0)?.length||0)>0}const hh="number",mh="color",Q0="var",Z0="var(",ph="${}",$0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ws(n){const i=n.toString(),l=[],r={color:[],number:[],var:[]},d=[];let h=0;const p=i.replace($0,g=>(pt.test(g)?(r.color.push(h),d.push(mh),l.push(pt.parse(g))):g.startsWith(Z0)?(r.var.push(h),d.push(Q0),l.push(g)):(r.number.push(h),d.push(hh),l.push(parseFloat(g))),++h,ph)).split(ph);return{values:l,split:p,indexes:r,types:d}}function gh(n){return ws(n).values}function yh(n){const{split:i,types:l}=ws(n),r=i.length;return d=>{let h="";for(let f=0;f<r;f++)if(h+=i[f],d[f]!==void 0){const p=l[f];p===hh?h+=Ss(d[f]):p===mh?h+=pt.transform(d[f]):h+=d[f]}return h}}const P0=n=>typeof n=="number"?0:pt.test(n)?pt.getAnimatableNone(n):n;function I0(n){const i=gh(n);return yh(n)(i.map(P0))}const ra={test:K0,parse:gh,createTransformer:yh,getAnimatableNone:I0};function Go(n,i,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?n+(i-n)*6*l:l<1/2?i:l<2/3?n+(i-n)*(2/3-l)*6:n}function J0({hue:n,saturation:i,lightness:l,alpha:r}){n/=360,i/=100,l/=100;let d=0,h=0,f=0;if(!i)d=h=f=l;else{const p=l<.5?l*(1+i):l+i-l*i,g=2*l-p;d=Go(g,p,n+1/3),h=Go(g,p,n),f=Go(g,p,n-1/3)}return{red:Math.round(d*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:r}}function Rl(n,i){return l=>l>0?i:n}const lt=(n,i,l)=>n+(i-n)*l,Xo=(n,i,l)=>{const r=n*n,d=l*(i*i-r)+r;return d<0?0:Math.sqrt(d)},W0=[Yo,La,di],e1=n=>W0.find(i=>i.test(n));function bh(n){const i=e1(n);if(!i)return!1;let l=i.parse(n);return i===di&&(l=J0(l)),l}const vh=(n,i)=>{const l=bh(n),r=bh(i);if(!l||!r)return Rl(n,i);const d={...l};return h=>(d.red=Xo(l.red,r.red,h),d.green=Xo(l.green,r.green,h),d.blue=Xo(l.blue,r.blue,h),d.alpha=lt(l.alpha,r.alpha,h),La.transform(d))},Ko=new Set(["none","hidden"]);function t1(n,i){return Ko.has(n)?l=>l<=0?n:i:l=>l>=1?i:n}function n1(n,i){return l=>lt(n,i,l)}function Qo(n){return typeof n=="number"?n1:typeof n=="string"?Bo(n)?Rl:pt.test(n)?vh:s1:Array.isArray(n)?xh:typeof n=="object"?pt.test(n)?vh:a1:Rl}function xh(n,i){const l=[...n],r=l.length,d=n.map((h,f)=>Qo(h)(h,i[f]));return h=>{for(let f=0;f<r;f++)l[f]=d[f](h);return l}}function a1(n,i){const l={...n,...i},r={};for(const d in l)n[d]!==void 0&&i[d]!==void 0&&(r[d]=Qo(n[d])(n[d],i[d]));return d=>{for(const h in r)l[h]=r[h](d);return l}}function i1(n,i){const l=[],r={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const h=i.types[d],f=n.indexes[h][r[h]],p=n.values[f]??0;l[d]=p,r[h]++}return l}const s1=(n,i)=>{const l=ra.createTransformer(i),r=ws(n),d=ws(i);return r.indexes.var.length===d.indexes.var.length&&r.indexes.color.length===d.indexes.color.length&&r.indexes.number.length>=d.indexes.number.length?Ko.has(n)&&!d.values.length||Ko.has(i)&&!r.values.length?t1(n,i):ys(xh(i1(r,d),d.values),l):Rl(n,i)};function Sh(n,i,l){return typeof n=="number"&&typeof i=="number"&&typeof l=="number"?lt(n,i,l):Qo(n)(n,i)}const l1=n=>{const i=({timestamp:l})=>n(l);return{start:(l=!0)=>it.update(i,l),stop:()=>sa(i),now:()=>Et.isProcessing?Et.timestamp:Xt.now()}},jh=(n,i,l=10)=>{let r="";const d=Math.max(Math.round(i/l),2);for(let h=0;h<d;h++)r+=Math.round(n(h/(d-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zl=2e4;function Zo(n){let i=0;const l=50;let r=n.next(i);for(;!r.done&&i<zl;)i+=l,r=n.next(i);return i>=zl?1/0:i}function r1(n,i=100,l){const r=l({...n,keyframes:[0,i]}),d=Math.min(Zo(r),zl);return{type:"keyframes",ease:h=>r.next(d*h).value/i,duration:cn(d)}}const o1=5;function wh(n,i,l){const r=Math.max(i-o1,0);return If(l-n(r),i-r)}const rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$o=.001;function c1({duration:n=rt.duration,bounce:i=rt.bounce,velocity:l=rt.velocity,mass:r=rt.mass}){let d,h,f=1-i;f=Un(rt.minDamping,rt.maxDamping,f),n=Un(rt.minDuration,rt.maxDuration,cn(n)),f<1?(d=y=>{const b=y*f,S=b*n,w=b-l,A=Po(y,f),T=Math.exp(-S);return $o-w/A*T},h=y=>{const S=y*f*n,w=S*l+l,A=Math.pow(f,2)*Math.pow(y,2)*n,T=Math.exp(-S),_=Po(Math.pow(y,2),f);return(-d(y)+$o>0?-1:1)*((w-A)*T)/_}):(d=y=>{const b=Math.exp(-y*n),S=(y-l)*n+1;return-$o+b*S},h=y=>{const b=Math.exp(-y*n),S=(l-y)*(n*n);return b*S});const p=5/n,g=d1(d,h,p);if(n=En(n),isNaN(g))return{stiffness:rt.stiffness,damping:rt.damping,duration:n};{const y=Math.pow(g,2)*r;return{stiffness:y,damping:f*2*Math.sqrt(r*y),duration:n}}}const u1=12;function d1(n,i,l){let r=l;for(let d=1;d<u1;d++)r=r-n(r)/i(r);return r}function Po(n,i){return n*Math.sqrt(1-i*i)}const f1=["duration","bounce"],h1=["stiffness","damping","mass"];function Th(n,i){return i.some(l=>n[l]!==void 0)}function m1(n){let i={velocity:rt.velocity,stiffness:rt.stiffness,damping:rt.damping,mass:rt.mass,isResolvedFromDuration:!1,...n};if(!Th(n,h1)&&Th(n,f1))if(n.visualDuration){const l=n.visualDuration,r=2*Math.PI/(l*1.2),d=r*r,h=2*Un(.05,1,1-(n.bounce||0))*Math.sqrt(d);i={...i,mass:rt.mass,stiffness:d,damping:h}}else{const l=c1(n);i={...i,...l,mass:rt.mass},i.isResolvedFromDuration=!0}return i}function Ol(n=rt.visualDuration,i=rt.bounce){const l=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:i}:n;let{restSpeed:r,restDelta:d}=l;const h=l.keyframes[0],f=l.keyframes[l.keyframes.length-1],p={done:!1,value:h},{stiffness:g,damping:y,mass:b,duration:S,velocity:w,isResolvedFromDuration:A}=m1({...l,velocity:-cn(l.velocity||0)}),T=w||0,_=y/(2*Math.sqrt(g*b)),M=f-h,q=cn(Math.sqrt(g/b)),ne=Math.abs(M)<5;r||(r=ne?rt.restSpeed.granular:rt.restSpeed.default),d||(d=ne?rt.restDelta.granular:rt.restDelta.default);let $;if(_<1){const W=Po(q,_);$=U=>{const G=Math.exp(-_*q*U);return f-G*((T+_*q*M)/W*Math.sin(W*U)+M*Math.cos(W*U))}}else if(_===1)$=W=>f-Math.exp(-q*W)*(M+(T+q*M)*W);else{const W=q*Math.sqrt(_*_-1);$=U=>{const G=Math.exp(-_*q*U),O=Math.min(W*U,300);return f-G*((T+_*q*M)*Math.sinh(O)+W*M*Math.cosh(O))/W}}const X={calculatedDuration:A&&S||null,next:W=>{const U=$(W);if(A)p.done=W>=S;else{let G=W===0?T:0;_<1&&(G=W===0?En(T):wh($,W,U));const O=Math.abs(G)<=r,se=Math.abs(f-U)<=d;p.done=O&&se}return p.value=p.done?f:U,p},toString:()=>{const W=Math.min(Zo(X),zl),U=jh(G=>X.next(W*G).value,W,30);return W+"ms "+U},toTransition:()=>{}};return X}Ol.applyToOptions=n=>{const i=r1(n,100,Ol);return n.ease=i.ease,n.duration=En(i.duration),n.type="keyframes",n};function Io({keyframes:n,velocity:i=0,power:l=.8,timeConstant:r=325,bounceDamping:d=10,bounceStiffness:h=500,modifyTarget:f,min:p,max:g,restDelta:y=.5,restSpeed:b}){const S=n[0],w={done:!1,value:S},A=O=>p!==void 0&&O<p||g!==void 0&&O>g,T=O=>p===void 0?g:g===void 0||Math.abs(p-O)<Math.abs(g-O)?p:g;let _=l*i;const M=S+_,q=f===void 0?M:f(M);q!==M&&(_=q-S);const ne=O=>-_*Math.exp(-O/r),$=O=>q+ne(O),X=O=>{const se=ne(O),oe=$(O);w.done=Math.abs(se)<=y,w.value=w.done?q:oe};let W,U;const G=O=>{A(w.value)&&(W=O,U=Ol({keyframes:[w.value,T(w.value)],velocity:wh($,O,w.value),damping:d,stiffness:h,restDelta:y,restSpeed:b}))};return G(0),{calculatedDuration:null,next:O=>{let se=!1;return!U&&W===void 0&&(se=!0,X(O),G(O)),W!==void 0&&O>=W?U.next(O-W):(!se&&X(O),w)}}}function p1(n,i,l){const r=[],d=l||Ln.mix||Sh,h=n.length-1;for(let f=0;f<h;f++){let p=d(n[f],n[f+1]);if(i){const g=Array.isArray(i)?i[f]||on:i;p=ys(g,p)}r.push(p)}return r}function g1(n,i,{clamp:l=!0,ease:r,mixer:d}={}){const h=n.length;if(ko(h===i.length),h===1)return()=>i[0];if(h===2&&i[0]===i[1])return()=>i[1];const f=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),i=[...i].reverse());const p=p1(i,r,d),g=p.length,y=b=>{if(f&&b<n[0])return i[0];let S=0;if(g>1)for(;S<n.length-2&&!(b<n[S+1]);S++);const w=bs(n[S],n[S+1],b);return p[S](w)};return l?b=>y(Un(n[0],n[h-1],b)):y}function y1(n,i){const l=n[n.length-1];for(let r=1;r<=i;r++){const d=bs(0,i,r);n.push(lt(l,1,d))}}function b1(n){const i=[0];return y1(i,n.length-1),i}function v1(n,i){return n.map(l=>l*i)}function x1(n,i){return n.map(()=>i||lh).splice(0,n.length-1)}function Ts({duration:n=300,keyframes:i,times:l,ease:r="easeInOut"}){const d=D0(r)?r.map(oh):oh(r),h={done:!1,value:i[0]},f=v1(l&&l.length===i.length?l:b1(i),n),p=g1(f,i,{ease:Array.isArray(d)?d:x1(i,d)});return{calculatedDuration:n,next:g=>(h.value=p(g),h.done=g>=n,h)}}const S1=n=>n!==null;function Jo(n,{repeat:i,repeatType:l="loop"},r,d=1){const h=n.filter(S1),p=d<0||i&&l!=="loop"&&i%2===1?0:h.length-1;return!p||r===void 0?h[p]:r}const j1={decay:Io,inertia:Io,tween:Ts,keyframes:Ts,spring:Ol};function Nh(n){typeof n.type=="string"&&(n.type=j1[n.type])}class Wo{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,l){return this.finished.then(i,l)}}const w1=n=>n/100;class ec extends Wo{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:l}=this.options;l&&l.updatedAt!==Xt.now()&&this.tick(Xt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;Nh(i);const{type:l=Ts,repeat:r=0,repeatDelay:d=0,repeatType:h,velocity:f=0}=i;let{keyframes:p}=i;const g=l||Ts;g!==Ts&&typeof p[0]!="number"&&(this.mixKeyframes=ys(w1,Sh(p[0],p[1])),p=[0,100]);const y=g({...i,keyframes:p});h==="mirror"&&(this.mirroredGenerator=g({...i,keyframes:[...p].reverse(),velocity:-f})),y.calculatedDuration===null&&(y.calculatedDuration=Zo(y));const{calculatedDuration:b}=y;this.calculatedDuration=b,this.resolvedDuration=b+d,this.totalDuration=this.resolvedDuration*(r+1)-d,this.generator=y}updateTime(i){const l=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(i,l=!1){const{generator:r,totalDuration:d,mixKeyframes:h,mirroredGenerator:f,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:y=0,keyframes:b,repeat:S,repeatType:w,repeatDelay:A,type:T,onUpdate:_,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-d/this.speed,this.startTime)),l?this.currentTime=i:this.updateTime(i);const q=this.currentTime-y*(this.playbackSpeed>=0?1:-1),ne=this.playbackSpeed>=0?q<0:q>d;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let $=this.currentTime,X=r;if(S){const O=Math.min(this.currentTime,d)/p;let se=Math.floor(O),oe=O%1;!oe&&O>=1&&(oe=1),oe===1&&se--,se=Math.min(se,S+1),!!(se%2)&&(w==="reverse"?(oe=1-oe,A&&(oe-=A/p)):w==="mirror"&&(X=f)),$=Un(0,1,oe)*p}const W=ne?{done:!1,value:b[0]}:X.next($);h&&(W.value=h(W.value));let{done:U}=W;!ne&&g!==null&&(U=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return G&&T!==Io&&(W.value=Jo(b,this.options,M,this.speed)),_&&_(W.value),G&&this.finish(),W}then(i,l){return this.finished.then(i,l)}get duration(){return cn(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+cn(i)}get time(){return cn(this.currentTime)}set time(i){i=En(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Xt.now());const l=this.playbackSpeed!==i;this.playbackSpeed=i,l&&(this.time=cn(this.currentTime))}play(){if(this.isStopped)return;const{driver:i=l1,startTime:l}=this.options;this.driver||(this.driver=i(d=>this.tick(d))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=l??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),i.observe(this)}}function T1(n){for(let i=1;i<n.length;i++)n[i]??(n[i]=n[i-1])}const Va=n=>n*180/Math.PI,tc=n=>{const i=Va(Math.atan2(n[1],n[0]));return nc(i)},N1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:tc,rotateZ:tc,skewX:n=>Va(Math.atan(n[1])),skewY:n=>Va(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},nc=n=>(n=n%360,n<0&&(n+=360),n),Ah=tc,Ch=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),_h=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),A1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ch,scaleY:_h,scale:n=>(Ch(n)+_h(n))/2,rotateX:n=>nc(Va(Math.atan2(n[6],n[5]))),rotateY:n=>nc(Va(Math.atan2(-n[2],n[0]))),rotateZ:Ah,rotate:Ah,skewX:n=>Va(Math.atan(n[4])),skewY:n=>Va(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ac(n){return n.includes("scale")?1:0}function ic(n,i){if(!n||n==="none")return ac(i);const l=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,d;if(l)r=A1,d=l;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N1,d=p}if(!d)return ac(i);const h=r[i],f=d[1].split(",").map(_1);return typeof h=="function"?h(f):f[h]}const C1=(n,i)=>{const{transform:l="none"}=getComputedStyle(n);return ic(l,i)};function _1(n){return parseFloat(n.trim())}const fi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hi=new Set(fi),Eh=n=>n===ui||n===Te,E1=new Set(["x","y","z"]),M1=fi.filter(n=>!E1.has(n));function D1(n){const i=[];return M1.forEach(l=>{const r=n.getValue(l);r!==void 0&&(i.push([l,r.get()]),r.set(l.startsWith("scale")?1:0))}),i}const Ba={width:({x:n},{paddingLeft:i="0",paddingRight:l="0"})=>n.max-n.min-parseFloat(i)-parseFloat(l),height:({y:n},{paddingTop:i="0",paddingBottom:l="0"})=>n.max-n.min-parseFloat(i)-parseFloat(l),top:(n,{top:i})=>parseFloat(i),left:(n,{left:i})=>parseFloat(i),bottom:({y:n},{top:i})=>parseFloat(i)+(n.max-n.min),right:({x:n},{left:i})=>parseFloat(i)+(n.max-n.min),x:(n,{transform:i})=>ic(i,"x"),y:(n,{transform:i})=>ic(i,"y")};Ba.translateX=Ba.x,Ba.translateY=Ba.y;const Ha=new Set;let sc=!1,lc=!1,rc=!1;function Mh(){if(lc){const n=Array.from(Ha).filter(r=>r.needsMeasurement),i=new Set(n.map(r=>r.element)),l=new Map;i.forEach(r=>{const d=D1(r);d.length&&(l.set(r,d),r.render())}),n.forEach(r=>r.measureInitialState()),i.forEach(r=>{r.render();const d=l.get(r);d&&d.forEach(([h,f])=>{r.getValue(h)?.set(f)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lc=!1,sc=!1,Ha.forEach(n=>n.complete(rc)),Ha.clear()}function Dh(){Ha.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(lc=!0)})}function k1(){rc=!0,Dh(),Mh(),rc=!1}class oc{constructor(i,l,r,d,h,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=l,this.name=r,this.motionValue=d,this.element=h,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),sc||(sc=!0,it.read(Dh),it.resolveKeyframes(Mh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:l,element:r,motionValue:d}=this;if(i[0]===null){const h=d?.get(),f=i[i.length-1];if(h!==void 0)i[0]=h;else if(r&&l){const p=r.readValue(l,f);p!=null&&(i[0]=p)}i[0]===void 0&&(i[0]=f),d&&h===void 0&&d.set(i[0])}T1(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R1=n=>n.startsWith("--");function z1(n,i,l){R1(i)?n.style.setProperty(i,l):n.style[i]=l}const O1=Ro(()=>window.ScrollTimeline!==void 0),U1={};function L1(n,i){const l=Ro(n);return()=>U1[i]??l()}const kh=L1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ns=([n,i,l,r])=>`cubic-bezier(${n}, ${i}, ${l}, ${r})`,Rh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ns([0,.65,.55,1]),circOut:Ns([.55,0,1,.45]),backIn:Ns([.31,.01,.66,-.59]),backOut:Ns([.33,1.53,.69,.99])};function zh(n,i){if(n)return typeof n=="function"?kh()?jh(n,i):"ease-out":rh(n)?Ns(n):Array.isArray(n)?n.map(l=>zh(l,i)||Rh.easeOut):Rh[n]}function V1(n,i,l,{delay:r=0,duration:d=300,repeat:h=0,repeatType:f="loop",ease:p="easeOut",times:g}={},y=void 0){const b={[i]:l};g&&(b.offset=g);const S=zh(p,d);Array.isArray(S)&&(b.easing=S);const w={delay:r,duration:d,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"};return y&&(w.pseudoElement=y),n.animate(b,w)}function Oh(n){return typeof n=="function"&&"applyToOptions"in n}function B1({type:n,...i}){return Oh(n)&&kh()?n.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class H1 extends Wo{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:l,name:r,keyframes:d,pseudoElement:h,allowFlatten:f=!1,finalKeyframe:p,onComplete:g}=i;this.isPseudoElement=!!h,this.allowFlatten=f,this.options=i,ko(typeof i.type!="string");const y=B1(i);this.animation=V1(l,r,d,y,h),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const b=Jo(d,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(b):z1(l,r,b),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const i=this.animation.effect?.getComputedTiming?.().duration||0;return cn(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+cn(i)}get time(){return cn(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=En(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:l}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,i&&O1()?(this.animation.timeline=i,on):l(this)}}const Uh={anticipate:ah,backInOut:nh,circInOut:sh};function q1(n){return n in Uh}function F1(n){typeof n.ease=="string"&&q1(n.ease)&&(n.ease=Uh[n.ease])}const Lh=10;class Y1 extends H1{constructor(i){F1(i),Nh(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:l,onUpdate:r,onComplete:d,element:h,...f}=this.options;if(!l)return;if(i!==void 0){l.set(i);return}const p=new ec({...f,autoplay:!1}),g=En(this.finishedTime??this.time);l.setWithVelocity(p.sample(g-Lh).value,p.sample(g).value,Lh),p.stop()}}const Vh=(n,i)=>i==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ra.test(n)||n==="0")&&!n.startsWith("url("));function G1(n){const i=n[0];if(n.length===1)return!0;for(let l=0;l<n.length;l++)if(n[l]!==i)return!0}function X1(n,i,l,r){const d=n[0];if(d===null)return!1;if(i==="display"||i==="visibility")return!0;const h=n[n.length-1],f=Vh(d,i),p=Vh(h,i);return!f||!p?!1:G1(n)||(l==="spring"||Oh(l))&&r}function cc(n){n.duration=0,n.type="keyframes"}const K1=new Set(["opacity","clipPath","filter","transform"]),Q1=Ro(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z1(n){const{motionValue:i,name:l,repeatDelay:r,repeatType:d,damping:h,type:f}=n;if(!(i?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:y}=i.owner.getProps();return Q1()&&l&&K1.has(l)&&(l!=="transform"||!y)&&!g&&!r&&d!=="mirror"&&h!==0&&f!=="inertia"}const $1=40;class P1 extends Wo{constructor({autoplay:i=!0,delay:l=0,type:r="keyframes",repeat:d=0,repeatDelay:h=0,repeatType:f="loop",keyframes:p,name:g,motionValue:y,element:b,...S}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xt.now();const w={autoplay:i,delay:l,type:r,repeat:d,repeatDelay:h,repeatType:f,name:g,motionValue:y,element:b,...S},A=b?.KeyframeResolver||oc;this.keyframeResolver=new A(p,(T,_,M)=>this.onKeyframesResolved(T,_,w,!M),g,y,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(i,l,r,d){this.keyframeResolver=void 0;const{name:h,type:f,velocity:p,delay:g,isHandoff:y,onUpdate:b}=r;this.resolvedAt=Xt.now(),X1(i,h,f,p)||((Ln.instantAnimations||!g)&&b?.(Jo(i,r,l)),i[0]=i[i.length-1],cc(r),r.repeat=0);const w={startTime:d?this.resolvedAt?this.resolvedAt-this.createdAt>$1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...r,keyframes:i},A=!y&&Z1(w)?new Y1({...w,element:w.motionValue.owner.current}):new ec(w);A.finished.then(()=>this.notifyFinished()).catch(on),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(i,l){return this.finished.finally(i).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),k1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const I1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J1(n){const i=I1.exec(n);if(!i)return[,];const[,l,r,d]=i;return[`--${l??r}`,d]}function Bh(n,i,l=1){const[r,d]=J1(n);if(!r)return;const h=window.getComputedStyle(i).getPropertyValue(r);if(h){const f=h.trim();return Zf(f)?parseFloat(f):f}return Bo(d)?Bh(d,i,l+1):d}function uc(n,i){return n?.[i]??n?.default??n}const Hh=new Set(["width","height","top","left","right","bottom",...fi]),W1={test:n=>n==="auto",parse:n=>n},qh=n=>i=>i.test(n),Fh=[ui,Te,Mn,la,G0,Y0,W1],Yh=n=>Fh.find(qh(n));function eS(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Pf(n):!0}const tS=new Set(["brightness","contrast","saturate","opacity"]);function nS(n){const[i,l]=n.slice(0,-1).split("(");if(i==="drop-shadow")return n;const[r]=l.match(Ho)||[];if(!r)return n;const d=l.replace(r,"");let h=tS.has(i)?1:0;return r!==l&&(h*=100),i+"("+h+d+")"}const aS=/\b([a-z-]*)\(.*?\)/gu,dc={...ra,getAnimatableNone:n=>{const i=n.match(aS);return i?i.map(nS).join(" "):n}},Gh={...ui,transform:Math.round},fc={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...{rotate:la,rotateX:la,rotateY:la,rotateZ:la,scale:kl,scaleX:kl,scaleY:kl,scaleZ:kl,skew:la,skewX:la,skewY:la,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:xs,originX:fh,originY:fh,originZ:Te},zIndex:Gh,fillOpacity:xs,strokeOpacity:xs,numOctaves:Gh},iS={...fc,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:dc,WebkitFilter:dc},Xh=n=>iS[n];function Kh(n,i){let l=Xh(n);return l!==dc&&(l=ra),l.getAnimatableNone?l.getAnimatableNone(i):void 0}const sS=new Set(["auto","none","0"]);function lS(n,i,l){let r=0,d;for(;r<n.length&&!d;){const h=n[r];typeof h=="string"&&!sS.has(h)&&ws(h).values.length&&(d=n[r]),r++}if(d&&l)for(const h of i)n[h]=Kh(l,d)}class rS extends oc{constructor(i,l,r,d,h){super(i,l,r,d,h,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:l,name:r}=this;if(!l||!l.current)return;super.readKeyframes();for(let g=0;g<i.length;g++){let y=i[g];if(typeof y=="string"&&(y=y.trim(),Bo(y))){const b=Bh(y,l.current);b!==void 0&&(i[g]=b),g===i.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!Hh.has(r)||i.length!==2)return;const[d,h]=i,f=Yh(d),p=Yh(h);if(f!==p)if(Eh(f)&&Eh(p))for(let g=0;g<i.length;g++){const y=i[g];typeof y=="string"&&(i[g]=parseFloat(y))}else Ba[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:l}=this,r=[];for(let d=0;d<i.length;d++)(i[d]===null||eS(i[d]))&&r.push(d);r.length&&lS(i,r,l)}measureInitialState(){const{element:i,unresolvedKeyframes:l,name:r}=this;if(!i||!i.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[r](i.measureViewportBox(),window.getComputedStyle(i.current)),l[0]=this.measuredOrigin;const d=l[l.length-1];d!==void 0&&i.getValue(r,d).jump(d,!1)}measureEndState(){const{element:i,name:l,unresolvedKeyframes:r}=this;if(!i||!i.current)return;const d=i.getValue(l);d&&d.jump(this.measuredOrigin,!1);const h=r.length-1,f=r[h];r[h]=Ba[l](i.measureViewportBox(),window.getComputedStyle(i.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,g])=>{i.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function oS(n,i,l){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const d=l?.[n]??r.querySelectorAll(n);return d?Array.from(d):[]}return Array.from(n)}const Qh=(n,i)=>i&&typeof n=="number"?i.transform(n):n;function Zh(n){return $f(n)&&"offsetHeight"in n}const $h=30,cS=n=>!isNaN(parseFloat(n));class uS{constructor(i,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const d=Xt.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=l.owner}setCurrent(i){this.current=i,this.updatedAt=Xt.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=cS(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,l){this.events[i]||(this.events[i]=new zo);const r=this.events[i].add(l);return i==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,l){this.passiveEffect=i,this.stopPassiveEffect=l}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,l,r){this.set(l),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-r}jump(i,l=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>$h)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,$h);return If(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(i){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=i(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mi(n,i){return new uS(n,i)}const{schedule:hc}=ch(queueMicrotask,!1),wn={x:!1,y:!1};function Ph(){return wn.x||wn.y}function dS(n){return n==="x"||n==="y"?wn[n]?null:(wn[n]=!0,()=>{wn[n]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}function Ih(n,i){const l=oS(n),r=new AbortController,d={passive:!0,...i,signal:r.signal};return[l,d,()=>r.abort()]}function Jh(n){return!(n.pointerType==="touch"||Ph())}function fS(n,i,l={}){const[r,d,h]=Ih(n,l),f=p=>{if(!Jh(p))return;const{target:g}=p,y=i(g,p);if(typeof y!="function"||!g)return;const b=S=>{Jh(S)&&(y(S),g.removeEventListener("pointerleave",b))};g.addEventListener("pointerleave",b,d)};return r.forEach(p=>{p.addEventListener("pointerenter",f,d)}),h}const Wh=(n,i)=>i?n===i?!0:Wh(n,i.parentElement):!1,mc=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,hS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mS(n){return hS.has(n.tagName)||n.tabIndex!==-1}const Ul=new WeakSet;function em(n){return i=>{i.key==="Enter"&&n(i)}}function pc(n,i){n.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const pS=(n,i)=>{const l=n.currentTarget;if(!l)return;const r=em(()=>{if(Ul.has(l))return;pc(l,"down");const d=em(()=>{pc(l,"up")}),h=()=>pc(l,"cancel");l.addEventListener("keyup",d,i),l.addEventListener("blur",h,i)});l.addEventListener("keydown",r,i),l.addEventListener("blur",()=>l.removeEventListener("keydown",r),i)};function tm(n){return mc(n)&&!Ph()}function gS(n,i,l={}){const[r,d,h]=Ih(n,l),f=p=>{const g=p.currentTarget;if(!tm(p))return;Ul.add(g);const y=i(g,p),b=(A,T)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",w),Ul.has(g)&&Ul.delete(g),tm(A)&&typeof y=="function"&&y(A,{success:T})},S=A=>{b(A,g===window||g===document||l.useGlobalTarget||Wh(g,A.target))},w=A=>{b(A,!1)};window.addEventListener("pointerup",S,d),window.addEventListener("pointercancel",w,d)};return r.forEach(p=>{(l.useGlobalTarget?window:p).addEventListener("pointerdown",f,d),Zh(p)&&(p.addEventListener("focus",y=>pS(y,d)),!mS(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),h}function nm(n){return $f(n)&&"ownerSVGElement"in n}function yS(n){return nm(n)&&n.tagName==="svg"}const Ut=n=>!!(n&&n.getVelocity),bS=[...Fh,pt,ra],vS=n=>bS.find(qh(n)),gc=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function am(n,i){if(typeof n=="function")return n(i);n!=null&&(n.current=i)}function xS(...n){return i=>{let l=!1;const r=n.map(d=>{const h=am(d,i);return!l&&typeof h=="function"&&(l=!0),h});if(l)return()=>{for(let d=0;d<r.length;d++){const h=r[d];typeof h=="function"?h():am(n[d],null)}}}}function SS(...n){return C.useCallback(xS(...n),n)}class jS extends C.Component{getSnapshotBeforeUpdate(i){const l=this.props.childRef.current;if(l&&i.isPresent&&!this.props.isPresent){const r=l.offsetParent,d=Zh(r)&&r.offsetWidth||0,h=this.props.sizeRef.current;h.height=l.offsetHeight||0,h.width=l.offsetWidth||0,h.top=l.offsetTop,h.left=l.offsetLeft,h.right=d-h.width-h.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wS({children:n,isPresent:i,anchorX:l,root:r}){const d=C.useId(),h=C.useRef(null),f=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=C.useContext(gc),g=SS(h,n?.ref);return C.useInsertionEffect(()=>{const{width:y,height:b,top:S,left:w,right:A}=f.current;if(i||!h.current||!y||!b)return;const T=l==="left"?`left: ${w}`:`right: ${A}`;h.current.dataset.motionPopId=d;const _=document.createElement("style");p&&(_.nonce=p);const M=r??document.head;return M.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${b}px !important;
            ${T}px !important;
            top: ${S}px !important;
          }
        `),()=>{M.contains(_)&&M.removeChild(_)}},[i]),c.jsx(jS,{isPresent:i,childRef:h,sizeRef:f,children:C.cloneElement(n,{ref:g})})}const TS=({children:n,initial:i,isPresent:l,onExitComplete:r,custom:d,presenceAffectsLayout:h,mode:f,anchorX:p,root:g})=>{const y=_o(NS),b=C.useId();let S=!0,w=C.useMemo(()=>(S=!1,{id:b,initial:i,isPresent:l,custom:d,onExitComplete:A=>{y.set(A,!0);for(const T of y.values())if(!T)return;r&&r()},register:A=>(y.set(A,!1),()=>y.delete(A))}),[l,y,r]);return h&&S&&(w={...w}),C.useMemo(()=>{y.forEach((A,T)=>y.set(T,!1))},[l]),C.useEffect(()=>{!l&&!y.size&&r&&r()},[l]),f==="popLayout"&&(n=c.jsx(wS,{isPresent:l,anchorX:p,root:g,children:n})),c.jsx(El.Provider,{value:w,children:n})};function NS(){return new Map}function im(n=!0){const i=C.useContext(El);if(i===null)return[!0,null];const{isPresent:l,onExitComplete:r,register:d}=i,h=C.useId();C.useEffect(()=>{if(n)return d(h)},[n]);const f=C.useCallback(()=>n&&r&&r(h),[h,r,n]);return!l&&r?[!1,f]:[!0]}const Ll=n=>n.key||"";function sm(n){const i=[];return C.Children.forEach(n,l=>{C.isValidElement(l)&&i.push(l)}),i}const AS=({children:n,custom:i,initial:l=!0,onExitComplete:r,presenceAffectsLayout:d=!0,mode:h="sync",propagate:f=!1,anchorX:p="left",root:g})=>{const[y,b]=im(f),S=C.useMemo(()=>sm(n),[n]),w=f&&!y?[]:S.map(Ll),A=C.useRef(!0),T=C.useRef(S),_=_o(()=>new Map),[M,q]=C.useState(S),[ne,$]=C.useState(S);Qf(()=>{A.current=!1,T.current=S;for(let U=0;U<ne.length;U++){const G=Ll(ne[U]);w.includes(G)?_.delete(G):_.get(G)!==!0&&_.set(G,!1)}},[ne,w.length,w.join("-")]);const X=[];if(S!==M){let U=[...S];for(let G=0;G<ne.length;G++){const O=ne[G],se=Ll(O);w.includes(se)||(U.splice(G,0,O),X.push(O))}return h==="wait"&&X.length&&(U=X),$(sm(U)),q(S),null}const{forceRender:W}=C.useContext(Co);return c.jsx(c.Fragment,{children:ne.map(U=>{const G=Ll(U),O=f&&!y?!1:S===ne||w.includes(G),se=()=>{if(_.has(G))_.set(G,!0);else return;let oe=!0;_.forEach(ce=>{ce||(oe=!1)}),oe&&(W?.(),$(T.current),f&&b?.(),r&&r())};return c.jsx(TS,{isPresent:O,initial:!A.current||l?void 0:!1,custom:i,presenceAffectsLayout:d,mode:h,root:g,onExitComplete:O?void 0:se,anchorX:p,children:U},G)})})},lm=C.createContext({strict:!1}),rm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pi={};for(const n in rm)pi[n]={isEnabled:i=>rm[n].some(l=>!!i[l])};function CS(n){for(const i in n)pi[i]={...pi[i],...n[i]}}const _S=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vl(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||_S.has(n)}let om=n=>!Vl(n);function ES(n){typeof n=="function"&&(om=i=>i.startsWith("on")?!Vl(i):n(i))}try{ES(require("@emotion/is-prop-valid").default)}catch{}function MS(n,i,l){const r={};for(const d in n)d==="values"&&typeof n.values=="object"||(om(d)||l===!0&&Vl(d)||!i&&!Vl(d)||n.draggable&&d.startsWith("onDrag"))&&(r[d]=n[d]);return r}const Bl=C.createContext({});function Hl(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function As(n){return typeof n=="string"||Array.isArray(n)}const yc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bc=["initial",...yc];function ql(n){return Hl(n.animate)||bc.some(i=>As(n[i]))}function cm(n){return!!(ql(n)||n.variants)}function DS(n,i){if(ql(n)){const{initial:l,animate:r}=n;return{initial:l===!1||As(l)?l:void 0,animate:As(r)?r:void 0}}return n.inherit!==!1?i:{}}function kS(n){const{initial:i,animate:l}=DS(n,C.useContext(Bl));return C.useMemo(()=>({initial:i,animate:l}),[um(i),um(l)])}function um(n){return Array.isArray(n)?n.join(" "):n}const Cs={};function RS(n){for(const i in n)Cs[i]=n[i],Vo(i)&&(Cs[i].isCSSVariable=!0)}function dm(n,{layout:i,layoutId:l}){return hi.has(n)||n.startsWith("origin")||(i||l!==void 0)&&(!!Cs[n]||n==="opacity")}const zS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OS=fi.length;function US(n,i,l){let r="",d=!0;for(let h=0;h<OS;h++){const f=fi[h],p=n[f];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(f.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||l){const y=Qh(p,fc[f]);if(!g){d=!1;const b=zS[f]||f;r+=`${b}(${y}) `}l&&(i[f]=y)}}return r=r.trim(),l?r=l(i,d?"":r):d&&(r="none"),r}function vc(n,i,l){const{style:r,vars:d,transformOrigin:h}=n;let f=!1,p=!1;for(const g in i){const y=i[g];if(hi.has(g)){f=!0;continue}else if(Vo(g)){d[g]=y;continue}else{const b=Qh(y,fc[g]);g.startsWith("origin")?(p=!0,h[g]=b):r[g]=b}}if(i.transform||(f||l?r.transform=US(i,n.transform,l):r.transform&&(r.transform="none")),p){const{originX:g="50%",originY:y="50%",originZ:b=0}=h;r.transformOrigin=`${g} ${y} ${b}`}}const xc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fm(n,i,l){for(const r in i)!Ut(i[r])&&!dm(r,l)&&(n[r]=i[r])}function LS({transformTemplate:n},i){return C.useMemo(()=>{const l=xc();return vc(l,i,n),Object.assign({},l.vars,l.style)},[i])}function VS(n,i){const l=n.style||{},r={};return fm(r,l,n),Object.assign(r,LS(n,i)),r}function BS(n,i){const l={},r=VS(n,i);return n.drag&&n.dragListener!==!1&&(l.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(l.tabIndex=0),l.style=r,l}const HS={offset:"stroke-dashoffset",array:"stroke-dasharray"},qS={offset:"strokeDashoffset",array:"strokeDasharray"};function FS(n,i,l=1,r=0,d=!0){n.pathLength=1;const h=d?HS:qS;n[h.offset]=Te.transform(-r);const f=Te.transform(i),p=Te.transform(l);n[h.array]=`${f} ${p}`}function hm(n,{attrX:i,attrY:l,attrScale:r,pathLength:d,pathSpacing:h=1,pathOffset:f=0,...p},g,y,b){if(vc(n,p,y),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:w}=n;S.transform&&(w.transform=S.transform,delete S.transform),(w.transform||S.transformOrigin)&&(w.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),w.transform&&(w.transformBox=b?.transformBox??"fill-box",delete S.transformBox),i!==void 0&&(S.x=i),l!==void 0&&(S.y=l),r!==void 0&&(S.scale=r),d!==void 0&&FS(S,d,h,f,!1)}const mm=()=>({...xc(),attrs:{}}),pm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function YS(n,i,l,r){const d=C.useMemo(()=>{const h=mm();return hm(h,i,pm(r),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[i]);if(n.style){const h={};fm(h,n.style,n),d.style={...h,...d.style}}return d}const GS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sc(n){return typeof n!="string"||n.includes("-")?!1:!!(GS.indexOf(n)>-1||/[A-Z]/u.test(n))}function XS(n,i,l,{latestValues:r},d,h=!1){const p=(Sc(n)?YS:BS)(i,r,d,n),g=MS(i,typeof n=="string",h),y=n!==C.Fragment?{...g,...p,ref:l}:{},{children:b}=i,S=C.useMemo(()=>Ut(b)?b.get():b,[b]);return C.createElement(n,{...y,children:S})}function gm(n){const i=[{},{}];return n?.values.forEach((l,r)=>{i[0][r]=l.get(),i[1][r]=l.getVelocity()}),i}function jc(n,i,l,r){if(typeof i=="function"){const[d,h]=gm(r);i=i(l!==void 0?l:n.custom,d,h)}if(typeof i=="string"&&(i=n.variants&&n.variants[i]),typeof i=="function"){const[d,h]=gm(r);i=i(l!==void 0?l:n.custom,d,h)}return i}function Fl(n){return Ut(n)?n.get():n}function KS({scrapeMotionValuesFromProps:n,createRenderState:i},l,r,d){return{latestValues:QS(l,r,d,n),renderState:i()}}function QS(n,i,l,r){const d={},h=r(n,{});for(const w in h)d[w]=Fl(h[w]);let{initial:f,animate:p}=n;const g=ql(n),y=cm(n);i&&y&&!g&&n.inherit!==!1&&(f===void 0&&(f=i.initial),p===void 0&&(p=i.animate));let b=l?l.initial===!1:!1;b=b||f===!1;const S=b?p:f;if(S&&typeof S!="boolean"&&!Hl(S)){const w=Array.isArray(S)?S:[S];for(let A=0;A<w.length;A++){const T=jc(n,w[A]);if(T){const{transitionEnd:_,transition:M,...q}=T;for(const ne in q){let $=q[ne];if(Array.isArray($)){const X=b?$.length-1:0;$=$[X]}$!==null&&(d[ne]=$)}for(const ne in _)d[ne]=_[ne]}}}return d}const ym=n=>(i,l)=>{const r=C.useContext(Bl),d=C.useContext(El),h=()=>KS(n,i,r,d);return l?h():_o(h)};function wc(n,i,l){const{style:r}=n,d={};for(const h in r)(Ut(r[h])||i.style&&Ut(i.style[h])||dm(h,n)||l?.getValue(h)?.liveStyle!==void 0)&&(d[h]=r[h]);return d}const ZS=ym({scrapeMotionValuesFromProps:wc,createRenderState:xc});function bm(n,i,l){const r=wc(n,i,l);for(const d in n)if(Ut(n[d])||Ut(i[d])){const h=fi.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;r[h]=n[d]}return r}const $S=ym({scrapeMotionValuesFromProps:bm,createRenderState:mm}),PS=Symbol.for("motionComponentSymbol");function gi(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function IS(n,i,l){return C.useCallback(r=>{r&&n.onMount&&n.onMount(r),i&&(r?i.mount(r):i.unmount()),l&&(typeof l=="function"?l(r):gi(l)&&(l.current=r))},[i])}const Tc=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vm="data-"+Tc("framerAppearId"),xm=C.createContext({});function JS(n,i,l,r,d){const{visualElement:h}=C.useContext(Bl),f=C.useContext(lm),p=C.useContext(El),g=C.useContext(gc).reducedMotion,y=C.useRef(null);r=r||f.renderer,!y.current&&r&&(y.current=r(n,{visualState:i,parent:h,props:l,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const b=y.current,S=C.useContext(xm);b&&!b.projection&&d&&(b.type==="html"||b.type==="svg")&&WS(y.current,l,d,S);const w=C.useRef(!1);C.useInsertionEffect(()=>{b&&w.current&&b.update(l,p)});const A=l[vm],T=C.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return Qf(()=>{b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),T.current&&b.animationState&&b.animationState.animateChanges())}),C.useEffect(()=>{b&&(!T.current&&b.animationState&&b.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),T.current=!1),b.enteringChildren=void 0)}),b}function WS(n,i,l,r){const{layoutId:d,layout:h,drag:f,dragConstraints:p,layoutScroll:g,layoutRoot:y,layoutCrossfade:b}=i;n.projection=new l(n.latestValues,i["data-framer-portal-id"]?void 0:Sm(n.parent)),n.projection.setOptions({layoutId:d,layout:h,alwaysMeasureLayout:!!f||p&&gi(p),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:r,crossfade:b,layoutScroll:g,layoutRoot:y})}function Sm(n){if(n)return n.options.allowProjection!==!1?n.projection:Sm(n.parent)}function Nc(n,{forwardMotionProps:i=!1}={},l,r){l&&CS(l);const d=Sc(n)?$S:ZS;function h(p,g){let y;const b={...C.useContext(gc),...p,layoutId:ej(p)},{isStatic:S}=b,w=kS(p),A=d(p,S);if(!S&&Eo){tj();const T=nj(b);y=T.MeasureLayout,w.visualElement=JS(n,A,b,r,T.ProjectionNode)}return c.jsxs(Bl.Provider,{value:w,children:[y&&w.visualElement?c.jsx(y,{visualElement:w.visualElement,...b}):null,XS(n,p,IS(A,w.visualElement,g),A,S,i)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const f=C.forwardRef(h);return f[PS]=n,f}function ej({layoutId:n}){const i=C.useContext(Co).id;return i&&n!==void 0?i+"-"+n:n}function tj(n,i){C.useContext(lm).strict}function nj(n){const{drag:i,layout:l}=pi;if(!i&&!l)return{};const r={...i,...l};return{MeasureLayout:i?.isEnabled(n)||l?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function aj(n,i){if(typeof Proxy>"u")return Nc;const l=new Map,r=(h,f)=>Nc(h,f,n,i),d=(h,f)=>r(h,f);return new Proxy(d,{get:(h,f)=>f==="create"?r:(l.has(f)||l.set(f,Nc(f,void 0,n,i)),l.get(f))})}function jm({top:n,left:i,right:l,bottom:r}){return{x:{min:i,max:l},y:{min:n,max:r}}}function ij({x:n,y:i}){return{top:i.min,right:n.max,bottom:i.max,left:n.min}}function sj(n,i){if(!i)return n;const l=i({x:n.left,y:n.top}),r=i({x:n.right,y:n.bottom});return{top:l.y,left:l.x,bottom:r.y,right:r.x}}function Ac(n){return n===void 0||n===1}function Cc({scale:n,scaleX:i,scaleY:l}){return!Ac(n)||!Ac(i)||!Ac(l)}function qa(n){return Cc(n)||wm(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function wm(n){return Tm(n.x)||Tm(n.y)}function Tm(n){return n&&n!=="0%"}function Yl(n,i,l){const r=n-l,d=i*r;return l+d}function Nm(n,i,l,r,d){return d!==void 0&&(n=Yl(n,d,r)),Yl(n,l,r)+i}function _c(n,i=0,l=1,r,d){n.min=Nm(n.min,i,l,r,d),n.max=Nm(n.max,i,l,r,d)}function Am(n,{x:i,y:l}){_c(n.x,i.translate,i.scale,i.originPoint),_c(n.y,l.translate,l.scale,l.originPoint)}const Cm=.999999999999,_m=1.0000000000001;function lj(n,i,l,r=!1){const d=l.length;if(!d)return;i.x=i.y=1;let h,f;for(let p=0;p<d;p++){h=l[p],f=h.projectionDelta;const{visualElement:g}=h.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&h.options.layoutScroll&&h.scroll&&h!==h.root&&bi(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(i.x*=f.x.scale,i.y*=f.y.scale,Am(n,f)),r&&qa(h.latestValues)&&bi(n,h.latestValues))}i.x<_m&&i.x>Cm&&(i.x=1),i.y<_m&&i.y>Cm&&(i.y=1)}function yi(n,i){n.min=n.min+i,n.max=n.max+i}function Em(n,i,l,r,d=.5){const h=lt(n.min,n.max,d);_c(n,i,l,h,r)}function bi(n,i){Em(n.x,i.x,i.scaleX,i.scale,i.originX),Em(n.y,i.y,i.scaleY,i.scale,i.originY)}function Mm(n,i){return jm(sj(n.getBoundingClientRect(),i))}function rj(n,i,l){const r=Mm(n,l),{scroll:d}=i;return d&&(yi(r.x,d.offset.x),yi(r.y,d.offset.y)),r}const Dm=()=>({translate:0,scale:1,origin:0,originPoint:0}),vi=()=>({x:Dm(),y:Dm()}),km=()=>({min:0,max:0}),dt=()=>({x:km(),y:km()}),Ec={current:null},Rm={current:!1};function oj(){if(Rm.current=!0,!!Eo)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),i=()=>Ec.current=n.matches;n.addEventListener("change",i),i()}else Ec.current=!1}const cj=new WeakMap;function uj(n,i,l){for(const r in i){const d=i[r],h=l[r];if(Ut(d))n.addValue(r,d);else if(Ut(h))n.addValue(r,mi(d,{owner:n}));else if(h!==d)if(n.hasValue(r)){const f=n.getValue(r);f.liveStyle===!0?f.jump(d):f.hasAnimated||f.set(d)}else{const f=n.getStaticValue(r);n.addValue(r,mi(f!==void 0?f:d,{owner:n}))}}for(const r in l)i[r]===void 0&&n.removeValue(r);return i}const zm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dj{scrapeMotionValuesFromProps(i,l,r){return{}}constructor({parent:i,props:l,presenceContext:r,reducedMotionConfig:d,blockInitialAnimation:h,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Xt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,it.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=l.initial?{...g}:{},this.renderState=y,this.parent=i,this.props=l,this.presenceContext=r,this.depth=i?i.depth+1:0,this.reducedMotionConfig=d,this.options=p,this.blockInitialAnimation=!!h,this.isControllingVariants=ql(l),this.isVariantNode=cm(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:b,...S}=this.scrapeMotionValuesFromProps(l,{},this);for(const w in S){const A=S[w];g[w]!==void 0&&Ut(A)&&A.set(g[w])}}mount(i){this.current=i,cj.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,r)=>this.bindToMotionValue(r,l)),Rm.current||oj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ec.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),sa(this.notifyUpdate),sa(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const l=this.features[i];l&&(l.unmount(),l.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,l){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const r=hi.has(i);r&&this.onBindTransform&&this.onBindTransform();const d=l.on("change",f=>{this.latestValues[i]=f,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,i,l)),this.valueSubscriptions.set(i,()=>{d(),h&&h(),l.owner&&l.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in pi){const l=pi[i];if(!l)continue;const{isEnabled:r,Feature:d}=l;if(!this.features[i]&&d&&r(this.props)&&(this.features[i]=new d(this)),this.features[i]){const h=this.features[i];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,l){this.latestValues[i]=l}update(i,l){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let r=0;r<zm.length;r++){const d=zm[r];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const h="on"+d,f=i[h];f&&(this.propEventSubscriptions[d]=this.on(d,f))}this.prevMotionValues=uj(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(i),()=>l.variantChildren.delete(i)}addValue(i,l){const r=this.values.get(i);l!==r&&(r&&this.removeValue(i),this.bindToMotionValue(i,l),this.values.set(i,l),this.latestValues[i]=l.get())}removeValue(i){this.values.delete(i);const l=this.valueSubscriptions.get(i);l&&(l(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,l){if(this.props.values&&this.props.values[i])return this.props.values[i];let r=this.values.get(i);return r===void 0&&l!==void 0&&(r=mi(l===null?void 0:l,{owner:this}),this.addValue(i,r)),r}readValue(i,l){let r=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return r!=null&&(typeof r=="string"&&(Zf(r)||Pf(r))?r=parseFloat(r):!vS(r)&&ra.test(l)&&(r=Kh(i,l)),this.setBaseTarget(i,Ut(r)?r.get():r)),Ut(r)?r.get():r}setBaseTarget(i,l){this.baseTarget[i]=l}getBaseTarget(i){const{initial:l}=this.props;let r;if(typeof l=="string"||typeof l=="object"){const h=jc(this.props,l,this.presenceContext?.custom);h&&(r=h[i])}if(l&&r!==void 0)return r;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!Ut(d)?d:this.initialValues[i]!==void 0&&r===void 0?void 0:this.baseTarget[i]}on(i,l){return this.events[i]||(this.events[i]=new zo),this.events[i].add(l)}notify(i,...l){this.events[i]&&this.events[i].notify(...l)}scheduleRenderMicrotask(){hc.render(this.render)}}class Om extends dj{constructor(){super(...arguments),this.KeyframeResolver=rS}sortInstanceNodePosition(i,l){return i.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(i,l){return i.style?i.style[l]:void 0}removeValueFromRenderState(i,{vars:l,style:r}){delete l[i],delete r[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Ut(i)&&(this.childSubscription=i.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function Um(n,{style:i,vars:l},r,d){const h=n.style;let f;for(f in i)h[f]=i[f];d?.applyProjectionStyles(h,r);for(f in l)h.setProperty(f,l[f])}function fj(n){return window.getComputedStyle(n)}class hj extends Om{constructor(){super(...arguments),this.type="html",this.renderInstance=Um}readValueFromInstance(i,l){if(hi.has(l))return this.projection?.isProjecting?ac(l):C1(i,l);{const r=fj(i),d=(Vo(l)?r.getPropertyValue(l):r[l])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(i,{transformPagePoint:l}){return Mm(i,l)}build(i,l,r){vc(i,l,r.transformTemplate)}scrapeMotionValuesFromProps(i,l,r){return wc(i,l,r)}}const Lm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mj(n,i,l,r){Um(n,i,void 0,r);for(const d in i.attrs)n.setAttribute(Lm.has(d)?d:Tc(d),i.attrs[d])}class pj extends Om{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(i,l){return i[l]}readValueFromInstance(i,l){if(hi.has(l)){const r=Xh(l);return r&&r.default||0}return l=Lm.has(l)?l:Tc(l),i.getAttribute(l)}scrapeMotionValuesFromProps(i,l,r){return bm(i,l,r)}build(i,l,r){hm(i,l,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(i,l,r,d){mj(i,l,r,d)}mount(i){this.isSVGTag=pm(i.tagName),super.mount(i)}}const gj=(n,i)=>Sc(n)?new pj(i):new hj(i,{allowProjection:n!==C.Fragment});function xi(n,i,l){const r=n.getProps();return jc(r,i,l!==void 0?l:r.custom,n)}const Mc=n=>Array.isArray(n);function yj(n,i,l){n.hasValue(i)?n.getValue(i).set(l):n.addValue(i,mi(l))}function bj(n){return Mc(n)?n[n.length-1]||0:n}function vj(n,i){const l=xi(n,i);let{transitionEnd:r={},transition:d={},...h}=l||{};h={...h,...r};for(const f in h){const p=bj(h[f]);yj(n,f,p)}}function xj(n){return!!(Ut(n)&&n.add)}function Dc(n,i){const l=n.getValue("willChange");if(xj(l))return l.add(i);if(!l&&Ln.WillChange){const r=new Ln.WillChange("auto");n.addValue("willChange",r),r.add(i)}}function Vm(n){return n.props[vm]}const Sj=n=>n!==null;function jj(n,{repeat:i,repeatType:l="loop"},r){const d=n.filter(Sj),h=i&&l!=="loop"&&i%2===1?0:d.length-1;return d[h]}const wj={type:"spring",stiffness:500,damping:25,restSpeed:10},Tj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Nj={type:"keyframes",duration:.8},Aj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cj=(n,{keyframes:i})=>i.length>2?Nj:hi.has(n)?n.startsWith("scale")?Tj(i[1]):wj:Aj;function _j({when:n,delay:i,delayChildren:l,staggerChildren:r,staggerDirection:d,repeat:h,repeatType:f,repeatDelay:p,from:g,elapsed:y,...b}){return!!Object.keys(b).length}const kc=(n,i,l,r={},d,h)=>f=>{const p=uc(r,n)||{},g=p.delay||r.delay||0;let{elapsed:y=0}=r;y=y-En(g);const b={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:i.getVelocity(),...p,delay:-y,onUpdate:w=>{i.set(w),p.onUpdate&&p.onUpdate(w)},onComplete:()=>{f(),p.onComplete&&p.onComplete()},name:n,motionValue:i,element:h?void 0:d};_j(p)||Object.assign(b,Cj(n,b)),b.duration&&(b.duration=En(b.duration)),b.repeatDelay&&(b.repeatDelay=En(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let S=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(cc(b),b.delay===0&&(S=!0)),(Ln.instantAnimations||Ln.skipAnimations)&&(S=!0,cc(b),b.delay=0),b.allowFlatten=!p.type&&!p.ease,S&&!h&&i.get()!==void 0){const w=jj(b.keyframes,p);if(w!==void 0){it.update(()=>{b.onUpdate(w),b.onComplete()});return}}return p.isSync?new ec(b):new P1(b)};function Ej({protectedKeys:n,needsAnimating:i},l){const r=n.hasOwnProperty(l)&&i[l]!==!0;return i[l]=!1,r}function Bm(n,i,{delay:l=0,transitionOverride:r,type:d}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:f,...p}=i;r&&(h=r);const g=[],y=d&&n.animationState&&n.animationState.getState()[d];for(const b in p){const S=n.getValue(b,n.latestValues[b]??null),w=p[b];if(w===void 0||y&&Ej(y,b))continue;const A={delay:l,...uc(h||{},b)},T=S.get();if(T!==void 0&&!S.isAnimating&&!Array.isArray(w)&&w===T&&!A.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const q=Vm(n);if(q){const ne=window.MotionHandoffAnimation(q,b,it);ne!==null&&(A.startTime=ne,_=!0)}}Dc(n,b),S.start(kc(b,S,w,n.shouldReduceMotion&&Hh.has(b)?{type:!1}:A,n,_));const M=S.animation;M&&g.push(M)}return f&&Promise.all(g).then(()=>{it.update(()=>{f&&vj(n,f)})}),g}function Hm(n,i,l,r=0,d=1){const h=Array.from(n).sort((y,b)=>y.sortNodePosition(b)).indexOf(i),f=n.size,p=(f-1)*r;return typeof l=="function"?l(h,f):d===1?h*r:p-h*r}function Rc(n,i,l={}){const r=xi(n,i,l.type==="exit"?n.presenceContext?.custom:void 0);let{transition:d=n.getDefaultTransition()||{}}=r||{};l.transitionOverride&&(d=l.transitionOverride);const h=r?()=>Promise.all(Bm(n,r,l)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:b,staggerDirection:S}=d;return Mj(n,i,g,y,b,S,l)}:()=>Promise.resolve(),{when:p}=d;if(p){const[g,y]=p==="beforeChildren"?[h,f]:[f,h];return g().then(()=>y())}else return Promise.all([h(),f(l.delay)])}function Mj(n,i,l=0,r=0,d=0,h=1,f){const p=[];for(const g of n.variantChildren)g.notify("AnimationStart",i),p.push(Rc(g,i,{...f,delay:l+(typeof r=="function"?0:r)+Hm(n.variantChildren,g,r,d,h)}).then(()=>g.notify("AnimationComplete",i)));return Promise.all(p)}function Dj(n,i,l={}){n.notify("AnimationStart",i);let r;if(Array.isArray(i)){const d=i.map(h=>Rc(n,h,l));r=Promise.all(d)}else if(typeof i=="string")r=Rc(n,i,l);else{const d=typeof i=="function"?xi(n,i,l.custom):i;r=Promise.all(Bm(n,d,l))}return r.then(()=>{n.notify("AnimationComplete",i)})}function qm(n,i){if(!Array.isArray(i))return!1;const l=i.length;if(l!==n.length)return!1;for(let r=0;r<l;r++)if(i[r]!==n[r])return!1;return!0}const kj=bc.length;function Fm(n){if(!n)return;if(!n.isControllingVariants){const l=n.parent?Fm(n.parent)||{}:{};return n.props.initial!==void 0&&(l.initial=n.props.initial),l}const i={};for(let l=0;l<kj;l++){const r=bc[l],d=n.props[r];(As(d)||d===!1)&&(i[r]=d)}return i}const Rj=[...yc].reverse(),zj=yc.length;function Oj(n){return i=>Promise.all(i.map(({animation:l,options:r})=>Dj(n,l,r)))}function Uj(n){let i=Oj(n),l=Ym(),r=!0;const d=g=>(y,b)=>{const S=xi(n,b,g==="exit"?n.presenceContext?.custom:void 0);if(S){const{transition:w,transitionEnd:A,...T}=S;y={...y,...T,...A}}return y};function h(g){i=g(n)}function f(g){const{props:y}=n,b=Fm(n.parent)||{},S=[],w=new Set;let A={},T=1/0;for(let M=0;M<zj;M++){const q=Rj[M],ne=l[q],$=y[q]!==void 0?y[q]:b[q],X=As($),W=q===g?ne.isActive:null;W===!1&&(T=M);let U=$===b[q]&&$!==y[q]&&X;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),ne.protectedKeys={...A},!ne.isActive&&W===null||!$&&!ne.prevProp||Hl($)||typeof $=="boolean")continue;const G=Lj(ne.prevProp,$);let O=G||q===g&&ne.isActive&&!U&&X||M>T&&X,se=!1;const oe=Array.isArray($)?$:[$];let ce=oe.reduce(d(q),{});W===!1&&(ce={});const{prevResolvedValues:we={}}=ne,ae={...we,...ce},be=P=>{O=!0,w.has(P)&&(se=!0,w.delete(P)),ne.needsAnimating[P]=!0;const K=n.getValue(P);K&&(K.liveStyle=!1)};for(const P in ae){const K=ce[P],re=we[P];if(A.hasOwnProperty(P))continue;let D=!1;Mc(K)&&Mc(re)?D=!qm(K,re):D=K!==re,D?K!=null?be(P):w.add(P):K!==void 0&&w.has(P)?be(P):ne.protectedKeys[P]=!0}ne.prevProp=$,ne.prevResolvedValues=ce,ne.isActive&&(A={...A,...ce}),r&&n.blockInitialAnimation&&(O=!1);const ue=U&&G;O&&(!ue||se)&&S.push(...oe.map(P=>{const K={type:q};if(typeof P=="string"&&r&&!ue&&n.manuallyAnimateOnMount&&n.parent){const{parent:re}=n,D=xi(re,P);if(re.enteringChildren&&D){const{delayChildren:v}=D.transition||{};K.delay=Hm(re.enteringChildren,n,v)}}return{animation:P,options:K}}))}if(w.size){const M={};if(typeof y.initial!="boolean"){const q=xi(n,Array.isArray(y.initial)?y.initial[0]:y.initial);q&&q.transition&&(M.transition=q.transition)}w.forEach(q=>{const ne=n.getBaseTarget(q),$=n.getValue(q);$&&($.liveStyle=!0),M[q]=ne??null}),S.push({animation:M})}let _=!!S.length;return r&&(y.initial===!1||y.initial===y.animate)&&!n.manuallyAnimateOnMount&&(_=!1),r=!1,_?i(S):Promise.resolve()}function p(g,y){if(l[g].isActive===y)return Promise.resolve();n.variantChildren?.forEach(S=>S.animationState?.setActive(g,y)),l[g].isActive=y;const b=f(g);for(const S in l)l[S].protectedKeys={};return b}return{animateChanges:f,setActive:p,setAnimateFunction:h,getState:()=>l,reset:()=>{l=Ym()}}}function Lj(n,i){return typeof i=="string"?i!==n:Array.isArray(i)?!qm(i,n):!1}function Fa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ym(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class oa{constructor(i){this.isMounted=!1,this.node=i}update(){}}class Vj extends oa{constructor(i){super(i),i.animationState||(i.animationState=Uj(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Hl(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:l}=this.node.prevProps||{};i!==l&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Bj=0;class Hj extends oa{constructor(){super(...arguments),this.id=Bj++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:l}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===r)return;const d=this.node.animationState.setActive("exit",!i);l&&!i&&d.then(()=>{l(this.id)})}mount(){const{register:i,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const qj={animation:{Feature:Vj},exit:{Feature:Hj}};function _s(n,i,l,r={passive:!0}){return n.addEventListener(i,l,r),()=>n.removeEventListener(i,l)}function Es(n){return{point:{x:n.pageX,y:n.pageY}}}const Fj=n=>i=>mc(i)&&n(i,Es(i));function Ms(n,i,l,r){return _s(n,i,Fj(l),r)}const Gm=1e-4,Yj=1-Gm,Gj=1+Gm,Xm=.01,Xj=0-Xm,Kj=0+Xm;function Ht(n){return n.max-n.min}function Qj(n,i,l){return Math.abs(n-i)<=l}function Km(n,i,l,r=.5){n.origin=r,n.originPoint=lt(i.min,i.max,n.origin),n.scale=Ht(l)/Ht(i),n.translate=lt(l.min,l.max,n.origin)-n.originPoint,(n.scale>=Yj&&n.scale<=Gj||isNaN(n.scale))&&(n.scale=1),(n.translate>=Xj&&n.translate<=Kj||isNaN(n.translate))&&(n.translate=0)}function Ds(n,i,l,r){Km(n.x,i.x,l.x,r?r.originX:void 0),Km(n.y,i.y,l.y,r?r.originY:void 0)}function Qm(n,i,l){n.min=l.min+i.min,n.max=n.min+Ht(i)}function Zj(n,i,l){Qm(n.x,i.x,l.x),Qm(n.y,i.y,l.y)}function Zm(n,i,l){n.min=i.min-l.min,n.max=n.min+Ht(i)}function ks(n,i,l){Zm(n.x,i.x,l.x),Zm(n.y,i.y,l.y)}function un(n){return[n("x"),n("y")]}const $m=({current:n})=>n?n.ownerDocument.defaultView:null,Pm=(n,i)=>Math.abs(n-i);function $j(n,i){const l=Pm(n.x,i.x),r=Pm(n.y,i.y);return Math.sqrt(l**2+r**2)}class Im{constructor(i,l,{transformPagePoint:r,contextWindow:d=window,dragSnapToOrigin:h=!1,distanceThreshold:f=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Oc(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,T=$j(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!T)return;const{point:_}=w,{timestamp:M}=Et;this.history.push({..._,timestamp:M});const{onStart:q,onMove:ne}=this.handlers;A||(q&&q(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),ne&&ne(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=zc(A,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:T,onSessionEnd:_,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Oc(w.type==="pointercancel"?this.lastMoveEventInfo:zc(A,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,q),_&&_(w,q)},!mc(i))return;this.dragSnapToOrigin=h,this.handlers=l,this.transformPagePoint=r,this.distanceThreshold=f,this.contextWindow=d||window;const p=Es(i),g=zc(p,this.transformPagePoint),{point:y}=g,{timestamp:b}=Et;this.history=[{...y,timestamp:b}];const{onSessionStart:S}=l;S&&S(i,Oc(g,this.history)),this.removeListeners=ys(Ms(this.contextWindow,"pointermove",this.handlePointerMove),Ms(this.contextWindow,"pointerup",this.handlePointerUp),Ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),sa(this.updatePoint)}}function zc(n,i){return i?{point:i(n.point)}:n}function Jm(n,i){return{x:n.x-i.x,y:n.y-i.y}}function Oc({point:n},i){return{point:n,delta:Jm(n,Wm(i)),offset:Jm(n,Pj(i)),velocity:Ij(i,.1)}}function Pj(n){return n[0]}function Wm(n){return n[n.length-1]}function Ij(n,i){if(n.length<2)return{x:0,y:0};let l=n.length-1,r=null;const d=Wm(n);for(;l>=0&&(r=n[l],!(d.timestamp-r.timestamp>En(i)));)l--;if(!r)return{x:0,y:0};const h=cn(d.timestamp-r.timestamp);if(h===0)return{x:0,y:0};const f={x:(d.x-r.x)/h,y:(d.y-r.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function Jj(n,{min:i,max:l},r){return i!==void 0&&n<i?n=r?lt(i,n,r.min):Math.max(n,i):l!==void 0&&n>l&&(n=r?lt(l,n,r.max):Math.min(n,l)),n}function ep(n,i,l){return{min:i!==void 0?n.min+i:void 0,max:l!==void 0?n.max+l-(n.max-n.min):void 0}}function Wj(n,{top:i,left:l,bottom:r,right:d}){return{x:ep(n.x,l,d),y:ep(n.y,i,r)}}function tp(n,i){let l=i.min-n.min,r=i.max-n.max;return i.max-i.min<n.max-n.min&&([l,r]=[r,l]),{min:l,max:r}}function ew(n,i){return{x:tp(n.x,i.x),y:tp(n.y,i.y)}}function tw(n,i){let l=.5;const r=Ht(n),d=Ht(i);return d>r?l=bs(i.min,i.max-r,n.min):r>d&&(l=bs(n.min,n.max-d,i.min)),Un(0,1,l)}function nw(n,i){const l={};return i.min!==void 0&&(l.min=i.min-n.min),i.max!==void 0&&(l.max=i.max-n.min),l}const Uc=.35;function aw(n=Uc){return n===!1?n=0:n===!0&&(n=Uc),{x:np(n,"left","right"),y:np(n,"top","bottom")}}function np(n,i,l){return{min:ap(n,i),max:ap(n,l)}}function ap(n,i){return typeof n=="number"?n:n[i]||0}const iw=new WeakMap;class sw{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:l=!1,distanceThreshold:r}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const h=S=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(Es(S).point)},f=(S,w)=>{const{drag:A,dragPropagation:T,onDragStart:_}=this.getProps();if(A&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dS(A),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(q=>{let ne=this.getAxisMotionValue(q).get()||0;if(Mn.test(ne)){const{projection:$}=this.visualElement;if($&&$.layout){const X=$.layout.layoutBox[q];X&&(ne=Ht(X)*(parseFloat(ne)/100))}}this.originPoint[q]=ne}),_&&it.postRender(()=>_(S,w)),Dc(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},p=(S,w)=>{this.latestPointerEvent=S,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:T,onDirectionLock:_,onDrag:M}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:q}=w;if(T&&this.currentDirection===null){this.currentDirection=lw(q),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",w.point,q),this.updateAxis("y",w.point,q),this.visualElement.render(),M&&M(S,w)},g=(S,w)=>{this.latestPointerEvent=S,this.latestPanInfo=w,this.stop(S,w),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>un(S=>this.getAnimationState(S)==="paused"&&this.getAxisMotionValue(S).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new Im(i,{onSessionStart:h,onStart:f,onMove:p,onSessionEnd:g,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:r,contextWindow:$m(this.visualElement)})}stop(i,l){const r=i||this.latestPointerEvent,d=l||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!d||!r)return;const{velocity:f}=d;this.startAnimation(f);const{onDragEnd:p}=this.getProps();p&&it.postRender(()=>p(r,d))}cancel(){this.isDragging=!1;const{projection:i,animationState:l}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(i,l,r){const{drag:d}=this.getProps();if(!r||!Gl(i,d,this.currentDirection))return;const h=this.getAxisMotionValue(i);let f=this.originPoint[i]+r[i];this.constraints&&this.constraints[i]&&(f=Jj(f,this.constraints[i],this.elastic[i])),h.set(f)}resolveConstraints(){const{dragConstraints:i,dragElastic:l}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;i&&gi(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&r?this.constraints=Wj(r.layoutBox,i):this.constraints=!1,this.elastic=aw(l),d!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&un(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=nw(r.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:l}=this.getProps();if(!i||!gi(i))return!1;const r=i.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const h=rj(r,d.root,this.visualElement.getTransformPagePoint());let f=ew(d.layout.layoutBox,h);if(l){const p=l(ij(f));this.hasMutatedConstraints=!!p,p&&(f=jm(p))}return f}startAnimation(i){const{drag:l,dragMomentum:r,dragElastic:d,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},y=un(b=>{if(!Gl(b,l,this.currentDirection))return;let S=g&&g[b]||{};f&&(S={min:0,max:0});const w=d?200:1e6,A=d?40:1e7,T={type:"inertia",velocity:r?i[b]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...h,...S};return this.startAxisValueAnimation(b,T)});return Promise.all(y).then(p)}startAxisValueAnimation(i,l){const r=this.getAxisMotionValue(i);return Dc(this.visualElement,i),r.start(kc(i,r,0,l,this.visualElement,!1))}stopAnimation(){un(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){un(i=>this.getAxisMotionValue(i).animation?.pause())}getAnimationState(i){return this.getAxisMotionValue(i).animation?.state}getAxisMotionValue(i){const l=`_drag${i.toUpperCase()}`,r=this.visualElement.getProps(),d=r[l];return d||this.visualElement.getValue(i,(r.initial?r.initial[i]:void 0)||0)}snapToCursor(i){un(l=>{const{drag:r}=this.getProps();if(!Gl(l,r,this.currentDirection))return;const{projection:d}=this.visualElement,h=this.getAxisMotionValue(l);if(d&&d.layout){const{min:f,max:p}=d.layout.layoutBox[l];h.set(i[l]-lt(f,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:l}=this.getProps(),{projection:r}=this.visualElement;if(!gi(l)||!r||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};un(f=>{const p=this.getAxisMotionValue(f);if(p&&this.constraints!==!1){const g=p.get();d[f]=tw({min:g,max:g},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),un(f=>{if(!Gl(f,i,null))return;const p=this.getAxisMotionValue(f),{min:g,max:y}=this.constraints[f];p.set(lt(g,y,d[f]))})}addListeners(){if(!this.visualElement.current)return;iw.set(this.visualElement,this);const i=this.visualElement.current,l=Ms(i,"pointerdown",g=>{const{drag:y,dragListener:b=!0}=this.getProps();y&&b&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();gi(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,h=d.addEventListener("measure",r);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),it.read(r);const f=_s(window,"resize",()=>this.scalePositionWithinConstraints()),p=d.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(un(b=>{const S=this.getAxisMotionValue(b);S&&(this.originPoint[b]+=g[b].translate,S.set(S.get()+g[b].translate))}),this.visualElement.render())}));return()=>{f(),l(),h(),p&&p()}}getProps(){const i=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:r=!1,dragPropagation:d=!1,dragConstraints:h=!1,dragElastic:f=Uc,dragMomentum:p=!0}=i;return{...i,drag:l,dragDirectionLock:r,dragPropagation:d,dragConstraints:h,dragElastic:f,dragMomentum:p}}}function Gl(n,i,l){return(i===!0||i===n)&&(l===null||l===n)}function lw(n,i=10){let l=null;return Math.abs(n.y)>i?l="y":Math.abs(n.x)>i&&(l="x"),l}class rw extends oa{constructor(i){super(i),this.removeGroupControls=on,this.removeListeners=on,this.controls=new sw(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const ip=n=>(i,l)=>{n&&it.postRender(()=>n(i,l))};class ow extends oa{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(i){this.session=new Im(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$m(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:l,onPan:r,onPanEnd:d}=this.node.getProps();return{onSessionStart:ip(i),onStart:ip(l),onMove:r,onEnd:(h,f)=>{delete this.session,d&&it.postRender(()=>d(h,f))}}}mount(){this.removePointerDownListener=Ms(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sp(n,i){return i.max===i.min?0:n/(i.max-i.min)*100}const Rs={correct:(n,i)=>{if(!i.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const l=sp(n,i.target.x),r=sp(n,i.target.y);return`${l}% ${r}%`}},cw={correct:(n,{treeScale:i,projectionDelta:l})=>{const r=n,d=ra.parse(n);if(d.length>5)return r;const h=ra.createTransformer(n),f=typeof d[0]!="number"?1:0,p=l.x.scale*i.x,g=l.y.scale*i.y;d[0+f]/=p,d[1+f]/=g;const y=lt(p,g,.5);return typeof d[2+f]=="number"&&(d[2+f]/=y),typeof d[3+f]=="number"&&(d[3+f]/=y),h(d)}};let Lc=!1;class uw extends C.Component{componentDidMount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:r,layoutId:d}=this.props,{projection:h}=i;RS(dw),h&&(l.group&&l.group.add(h),r&&r.register&&d&&r.register(h),Lc&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Xl.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:l,visualElement:r,drag:d,isPresent:h}=this.props,{projection:f}=r;return f&&(f.isPresent=h,Lc=!0,d||i.layoutDependency!==l||l===void 0||i.isPresent!==h?f.willUpdate():this.safeToRemove(),i.isPresent!==h&&(h?f.promote():f.relegate()||it.postRender(()=>{const p=f.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),hc.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:r}=this.props,{projection:d}=i;Lc=!0,d&&(d.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(d),r&&r.deregister&&r.deregister(d))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function lp(n){const[i,l]=im(),r=C.useContext(Co);return c.jsx(uw,{...n,layoutGroup:r,switchLayoutGroup:C.useContext(xm),isPresent:i,safeToRemove:l})}const dw={borderRadius:{...Rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:cw};function fw(n,i,l){const r=Ut(n)?n:mi(n);return r.start(kc("",r,i,l)),r.animation}const hw=(n,i)=>n.depth-i.depth;class mw{constructor(){this.children=[],this.isDirty=!1}add(i){Mo(this.children,i),this.isDirty=!0}remove(i){Do(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(hw),this.isDirty=!1,this.children.forEach(i)}}function pw(n,i){const l=Xt.now(),r=({timestamp:d})=>{const h=d-l;h>=i&&(sa(r),n(h-i))};return it.setup(r,!0),()=>sa(r)}const rp=["TopLeft","TopRight","BottomLeft","BottomRight"],gw=rp.length,op=n=>typeof n=="string"?parseFloat(n):n,cp=n=>typeof n=="number"||Te.test(n);function yw(n,i,l,r,d,h){d?(n.opacity=lt(0,l.opacity??1,bw(r)),n.opacityExit=lt(i.opacity??1,0,vw(r))):h&&(n.opacity=lt(i.opacity??1,l.opacity??1,r));for(let f=0;f<gw;f++){const p=`border${rp[f]}Radius`;let g=up(i,p),y=up(l,p);if(g===void 0&&y===void 0)continue;g||(g=0),y||(y=0),g===0||y===0||cp(g)===cp(y)?(n[p]=Math.max(lt(op(g),op(y),r),0),(Mn.test(y)||Mn.test(g))&&(n[p]+="%")):n[p]=y}(i.rotate||l.rotate)&&(n.rotate=lt(i.rotate||0,l.rotate||0,r))}function up(n,i){return n[i]!==void 0?n[i]:n.borderRadius}const bw=dp(0,.5,ih),vw=dp(.5,.95,on);function dp(n,i,l){return r=>r<n?0:r>i?1:l(bs(n,i,r))}function fp(n,i){n.min=i.min,n.max=i.max}function dn(n,i){fp(n.x,i.x),fp(n.y,i.y)}function hp(n,i){n.translate=i.translate,n.scale=i.scale,n.originPoint=i.originPoint,n.origin=i.origin}function mp(n,i,l,r,d){return n-=i,n=Yl(n,1/l,r),d!==void 0&&(n=Yl(n,1/d,r)),n}function xw(n,i=0,l=1,r=.5,d,h=n,f=n){if(Mn.test(i)&&(i=parseFloat(i),i=lt(f.min,f.max,i/100)-f.min),typeof i!="number")return;let p=lt(h.min,h.max,r);n===h&&(p-=i),n.min=mp(n.min,i,l,p,d),n.max=mp(n.max,i,l,p,d)}function pp(n,i,[l,r,d],h,f){xw(n,i[l],i[r],i[d],i.scale,h,f)}const Sw=["x","scaleX","originX"],jw=["y","scaleY","originY"];function gp(n,i,l,r){pp(n.x,i,Sw,l?l.x:void 0,r?r.x:void 0),pp(n.y,i,jw,l?l.y:void 0,r?r.y:void 0)}function yp(n){return n.translate===0&&n.scale===1}function bp(n){return yp(n.x)&&yp(n.y)}function vp(n,i){return n.min===i.min&&n.max===i.max}function ww(n,i){return vp(n.x,i.x)&&vp(n.y,i.y)}function xp(n,i){return Math.round(n.min)===Math.round(i.min)&&Math.round(n.max)===Math.round(i.max)}function Sp(n,i){return xp(n.x,i.x)&&xp(n.y,i.y)}function jp(n){return Ht(n.x)/Ht(n.y)}function wp(n,i){return n.translate===i.translate&&n.scale===i.scale&&n.originPoint===i.originPoint}class Tw{constructor(){this.members=[]}add(i){Mo(this.members,i),i.scheduleRender()}remove(i){if(Do(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(i){const l=this.members.findIndex(d=>i===d);if(l===0)return!1;let r;for(let d=l;d>=0;d--){const h=this.members[d];if(h.isPresent!==!1){r=h;break}}return r?(this.promote(r),!0):!1}promote(i,l){const r=this.lead;if(i!==r&&(this.prevLead=r,this.lead=i,i.show(),r)){r.instance&&r.scheduleRender(),i.scheduleRender(),i.resumeFrom=r,l&&(i.resumeFrom.preserveOpacity=!0),r.snapshot&&(i.snapshot=r.snapshot,i.snapshot.latestValues=r.animationValues||r.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:d}=i.options;d===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:l,resumingFrom:r}=i;l.onExitComplete&&l.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nw(n,i,l){let r="";const d=n.x.translate/i.x,h=n.y.translate/i.y,f=l?.z||0;if((d||h||f)&&(r=`translate3d(${d}px, ${h}px, ${f}px) `),(i.x!==1||i.y!==1)&&(r+=`scale(${1/i.x}, ${1/i.y}) `),l){const{transformPerspective:y,rotate:b,rotateX:S,rotateY:w,skewX:A,skewY:T}=l;y&&(r=`perspective(${y}px) ${r}`),b&&(r+=`rotate(${b}deg) `),S&&(r+=`rotateX(${S}deg) `),w&&(r+=`rotateY(${w}deg) `),A&&(r+=`skewX(${A}deg) `),T&&(r+=`skewY(${T}deg) `)}const p=n.x.scale*i.x,g=n.y.scale*i.y;return(p!==1||g!==1)&&(r+=`scale(${p}, ${g})`),r||"none"}const Vc=["","X","Y","Z"],Aw=1e3;let Cw=0;function Bc(n,i,l,r){const{latestValues:d}=i;d[n]&&(l[n]=d[n],i.setStaticValue(n,0),r&&(r[n]=0))}function Tp(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:i}=n.options;if(!i)return;const l=Vm(i);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:d,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(l,"transform",it,!(d||h))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Tp(r)}function Np({attachResizeListener:n,defaultParent:i,measureScroll:l,checkIsScrollRoot:r,resetTransform:d}){return class{constructor(f={},p=i?.()){this.id=Cw++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Mw),this.nodes.forEach(zw),this.nodes.forEach(Ow),this.nodes.forEach(Dw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new mw)}addEventListener(f,p){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new zo),this.eventHandlers.get(f).add(p)}notifyListeners(f,...p){const g=this.eventHandlers.get(f);g&&g.notify(...p)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=nm(f)&&!yS(f),this.instance=f;const{layoutId:p,layout:g,visualElement:y}=this.options;if(y&&!y.current&&y.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),n){let b,S=0;const w=()=>this.root.updateBlockedByResize=!1;it.read(()=>{S=window.innerWidth}),n(f,()=>{const A=window.innerWidth;A!==S&&(S=A,this.root.updateBlockedByResize=!0,b&&b(),b=pw(w,250),Xl.hasAnimatedSinceResize&&(Xl.hasAnimatedSinceResize=!1,this.nodes.forEach(_p)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:S,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||y.getDefaultTransition()||Hw,{onLayoutAnimationStart:_,onLayoutAnimationComplete:M}=y.getProps(),q=!this.targetLayout||!Sp(this.targetLayout,A),ne=!S&&w;if(this.options.layoutRoot||this.resumeFrom||ne||S&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...uc(T,"layout"),onPlay:_,onComplete:M};(y.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(b,ne)}else S||_p(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Uw),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const S=this.path[b];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ap);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rw),this.nodes.forEach(_w),this.nodes.forEach(Ew)):this.nodes.forEach(Cp),this.clearAllSnapshots();const p=Xt.now();Et.delta=Un(0,1e3/60,p-Et.timestamp),Et.timestamp=p,Et.isProcessing=!0,Lo.update.process(Et),Lo.preRender.process(Et),Lo.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kw),this.sharedNodes.forEach(Lw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(p=!1),p&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:g,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!d)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!bp(this.projectionDelta),g=this.getTransformTemplate(),y=g?g(this.latestValues,""):void 0,b=y!==this.prevTransformTemplateValue;f&&this.instance&&(p||qa(this.latestValues)||b)&&(d(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return f&&(g=this.removeTransform(g)),qw(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return dt();const p=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fw))){const{scroll:y}=this.root;y&&(yi(p.x,y.offset.x),yi(p.y,y.offset.y))}return p}removeElementScroll(f){const p=dt();if(dn(p,f),this.scroll?.wasRoot)return p;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:b,options:S}=y;y!==this.root&&b&&S.layoutScroll&&(b.wasRoot&&dn(p,f),yi(p.x,b.offset.x),yi(p.y,b.offset.y))}return p}applyTransform(f,p=!1){const g=dt();dn(g,f);for(let y=0;y<this.path.length;y++){const b=this.path[y];!p&&b.options.layoutScroll&&b.scroll&&b!==b.root&&bi(g,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),qa(b.latestValues)&&bi(g,b.latestValues)}return qa(this.latestValues)&&bi(g,this.latestValues),g}removeTransform(f){const p=dt();dn(p,f);for(let g=0;g<this.path.length;g++){const y=this.path[g];if(!y.instance||!qa(y.latestValues))continue;Cc(y.latestValues)&&y.updateSnapshot();const b=dt(),S=y.measurePageBox();dn(b,S),gp(p,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,b)}return qa(this.latestValues)&&gp(p,this.latestValues),p}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(f||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:S}=this.options;if(!(!this.layout||!(b||S))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),ks(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),Am(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),ks(this.relativeTargetOrigin,this.target,w.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cc(this.parent.latestValues)||wm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(g=!1),g)return;const{layout:y,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||b))return;dn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,w=this.treeScale.y;lj(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=dt());const{target:A}=f;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hp(this.prevProjectionDelta.x,this.projectionDelta.x),hp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ds(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==w||!wp(this.projectionDelta.x,this.prevProjectionDelta.x)||!wp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vi(),this.projectionDelta=vi(),this.projectionDeltaWithTransform=vi()}setAnimationOrigin(f,p=!1){const g=this.snapshot,y=g?g.latestValues:{},b={...this.latestValues},S=vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const w=dt(),A=g?g.source:void 0,T=this.layout?this.layout.source:void 0,_=A!==T,M=this.getStack(),q=!M||M.members.length<=1,ne=!!(_&&!q&&this.options.crossfade===!0&&!this.path.some(Bw));this.animationProgress=0;let $;this.mixTargetDelta=X=>{const W=X/1e3;Ep(S.x,f.x,W),Ep(S.y,f.y,W),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ks(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vw(this.relativeTarget,this.relativeTargetOrigin,w,W),$&&ww(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=dt()),dn($,this.relativeTarget)),_&&(this.animationValues=b,yw(b,y,this.latestValues,W,ne,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Xl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mi(0)),this.currentAnimation=fw(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),f.onUpdate&&f.onUpdate(p)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Aw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:p,target:g,layout:y,latestValues:b}=f;if(!(!p||!g||!y)){if(this!==f&&this.layout&&y&&zp(this.options.animationType,this.layout.layoutBox,y.layoutBox)){g=this.target||dt();const S=Ht(this.layout.layoutBox.x);g.x.min=f.target.x.min,g.x.max=g.x.min+S;const w=Ht(this.layout.layoutBox.y);g.y.min=f.target.y.min,g.y.max=g.y.min+w}dn(p,g),bi(p,b),Ds(this.projectionDeltaWithTransform,this.layoutCorrected,p,b)}}registerSharedNode(f,p){this.sharedNodes.has(f)||this.sharedNodes.set(f,new Tw),this.sharedNodes.get(f).add(p);const y=p.options.initialPromotionConfig;p.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(p):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:p,preserveFollowOpacity:g}={}){const y=this.getStack();y&&y.promote(this,g),f&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let p=!1;const{latestValues:g}=f;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const y={};g.z&&Bc("z",f,y,this.animationValues);for(let b=0;b<Vc.length;b++)Bc(`rotate${Vc[b]}`,f,y,this.animationValues),Bc(`skew${Vc[b]}`,f,y,this.animationValues);f.render();for(const b in y)f.setStaticValue(b,y[b]),this.animationValues&&(this.animationValues[b]=y[b]);f.scheduleRender()}applyProjectionStyles(f,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=Fl(p?.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Fl(p?.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(f.transform=g?g({},""):"none",this.hasProjected=!1);return}f.visibility="";const b=y.animationValues||y.latestValues;this.applyTransformsToTarget();let S=Nw(this.projectionDeltaWithTransform,this.treeScale,b);g&&(S=g(b,S)),f.transform=S;const{x:w,y:A}=this.projectionDelta;f.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,y.animationValues?f.opacity=y===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=y===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const T in Cs){if(b[T]===void 0)continue;const{correct:_,applyTo:M,isCSSVariable:q}=Cs[T],ne=S==="none"?b[T]:_(b[T],y);if(M){const $=M.length;for(let X=0;X<$;X++)f[M[X]]=ne}else q?this.options.visualElement.renderState.vars[T]=ne:f[T]=ne}this.options.layoutId&&(f.pointerEvents=y===this?Fl(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(Ap),this.root.sharedNodes.clear()}}}function _w(n){n.updateLayout()}function Ew(n){const i=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&i&&n.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:r}=n.layout,{animationType:d}=n.options,h=i.source!==n.layout.source;d==="size"?un(b=>{const S=h?i.measuredBox[b]:i.layoutBox[b],w=Ht(S);S.min=l[b].min,S.max=S.min+w}):zp(d,i.layoutBox,l)&&un(b=>{const S=h?i.measuredBox[b]:i.layoutBox[b],w=Ht(l[b]);S.max=S.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[b].max=n.relativeTarget[b].min+w)});const f=vi();Ds(f,l,i.layoutBox);const p=vi();h?Ds(p,n.applyTransform(r,!0),i.measuredBox):Ds(p,l,i.layoutBox);const g=!bp(f);let y=!1;if(!n.resumeFrom){const b=n.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:S,layout:w}=b;if(S&&w){const A=dt();ks(A,i.layoutBox,S.layoutBox);const T=dt();ks(T,l,w.layoutBox),Sp(A,T)||(y=!0),b.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=A,n.relativeParent=b)}}}n.notifyListeners("didUpdate",{layout:l,snapshot:i,delta:p,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:l}=n.options;l&&l()}n.options.transition=void 0}function Mw(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Dw(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kw(n){n.clearSnapshot()}function Ap(n){n.clearMeasurements()}function Cp(n){n.isLayoutDirty=!1}function Rw(n){const{visualElement:i}=n.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),n.resetTransform()}function _p(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function zw(n){n.resolveTargetDelta()}function Ow(n){n.calcProjection()}function Uw(n){n.resetSkewAndRotation()}function Lw(n){n.removeLeadSnapshot()}function Ep(n,i,l){n.translate=lt(i.translate,0,l),n.scale=lt(i.scale,1,l),n.origin=i.origin,n.originPoint=i.originPoint}function Mp(n,i,l,r){n.min=lt(i.min,l.min,r),n.max=lt(i.max,l.max,r)}function Vw(n,i,l,r){Mp(n.x,i.x,l.x,r),Mp(n.y,i.y,l.y,r)}function Bw(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Hw={duration:.45,ease:[.4,0,.1,1]},Dp=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),kp=Dp("applewebkit/")&&!Dp("chrome/")?Math.round:on;function Rp(n){n.min=kp(n.min),n.max=kp(n.max)}function qw(n){Rp(n.x),Rp(n.y)}function zp(n,i,l){return n==="position"||n==="preserve-aspect"&&!Qj(jp(i),jp(l),.2)}function Fw(n){return n!==n.root&&n.scroll?.wasRoot}const Yw=Np({attachResizeListener:(n,i)=>_s(n,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hc={current:void 0},Op=Np({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hc.current){const n=new Yw({});n.mount(window),n.setOptions({layoutScroll:!0}),Hc.current=n}return Hc.current},resetTransform:(n,i)=>{n.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Gw={pan:{Feature:ow},drag:{Feature:rw,ProjectionNode:Op,MeasureLayout:lp}};function Up(n,i,l){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",l==="Start");const d="onHover"+l,h=r[d];h&&it.postRender(()=>h(i,Es(i)))}class Xw extends oa{mount(){const{current:i}=this.node;i&&(this.unmount=fS(i,(l,r)=>(Up(this.node,r,"Start"),d=>Up(this.node,d,"End"))))}unmount(){}}class Kw extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ys(_s(this.node.current,"focus",()=>this.onFocus()),_s(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lp(n,i,l){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",l==="Start");const d="onTap"+(l==="End"?"":l),h=r[d];h&&it.postRender(()=>h(i,Es(i)))}class Qw extends oa{mount(){const{current:i}=this.node;i&&(this.unmount=gS(i,(l,r)=>(Lp(this.node,r,"Start"),(d,{success:h})=>Lp(this.node,d,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qc=new WeakMap,Fc=new WeakMap,Zw=n=>{const i=qc.get(n.target);i&&i(n)},$w=n=>{n.forEach(Zw)};function Pw({root:n,...i}){const l=n||document;Fc.has(l)||Fc.set(l,{});const r=Fc.get(l),d=JSON.stringify(i);return r[d]||(r[d]=new IntersectionObserver($w,{root:n,...i})),r[d]}function Iw(n,i,l){const r=Pw(i);return qc.set(n,l),r.observe(n),()=>{qc.delete(n),r.unobserve(n)}}const Jw={some:0,all:1};class Ww extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:l,margin:r,amount:d="some",once:h}=i,f={root:l?l.current:void 0,rootMargin:r,threshold:typeof d=="number"?d:Jw[d]},p=g=>{const{isIntersecting:y}=g;if(this.isInView===y||(this.isInView=y,h&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:b,onViewportLeave:S}=this.node.getProps(),w=y?b:S;w&&w(g)};return Iw(this.node.current,f,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:l}=this.node;["amount","margin","root"].some(eT(i,l))&&this.startObserver()}unmount(){}}function eT({viewport:n={}},{viewport:i={}}={}){return l=>n[l]!==i[l]}const tT={...qj,...{inView:{Feature:Ww},tap:{Feature:Qw},focus:{Feature:Kw},hover:{Feature:Xw}},...Gw,...{layout:{ProjectionNode:Op,MeasureLayout:lp}}},nT=aj(tT,gj),Kl="onboarding.draft",Vp="onboarding_done";function Ql(n,i,l=31536e3){try{document.cookie=`${n}=${i}; Max-Age=${l}; Path=/`}catch{}}function Yc(n){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp(`(?:^|; )${n}=([^;]*)`));return i?decodeURIComponent(i[1]):null}function aT(n,i,l){try{localStorage.setItem(n,JSON.stringify({v:1,answers:i,index:l,ts:Date.now()}))}catch{}}function iT(n){try{const i=localStorage.getItem(n);if(!i)return null;const l=JSON.parse(i);if(l?.v===1&&typeof l.index=="number"&&l.answers)return{answers:l.answers,index:l.index}}catch{}return null}function sT(n){try{localStorage.removeItem(n)}catch{}}function lT(){if(typeof document>"u"||document.getElementById("kai-onboarding-styles"))return;const n=`
  .kai-title { color: #ff5656; }
  .kai-footer { display: flex; align-items: center; justify-content: space-between; gap: 8px; flex-wrap: nowrap; }
  .kai-actions { margin-left: auto; display: inline-flex; align-items: center; gap: 8px; }
  .kai-onboarding * { box-sizing: border-box; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
  .kai-grid { display: grid; gap: 12px; grid-template-columns: 1fr; }
  @media (min-width: 640px) { .kai-grid { grid-template-columns: 1fr 1fr; } }

  .kai-card-option { border: 1px solid #e5e7eb; padding: 16px; border-radius: 12px; background: #fff; cursor: pointer; transition: background .15s ease, border-color .15s ease, box-shadow .15s ease; text-align: left; }
  .kai-card-option:hover { background: #f9fafb; }
  .kai-card-option.is-selected { border-color: #111827; background: #f3f4f6; box-shadow: 0 0 0 2px rgba(17,24,39,0.05) inset; }

  .kai-input { width: 100%; border: 1px solid #e5e7eb; border-radius: 12px; padding: 8px 12px; font-size: 14px; color: #455a7c; }
  .kai-input::placeholder { color: #455a7c; opacity: .9; }
  .kai-input:focus { outline: none; border-color: #111827; }

  .kai-btn { border-radius: 12px; padding: 8px 16px; font-weight: 600; font-size: 14px; line-height: 1.2; display: inline-flex; align-items: center; gap: 8px; }
  .kai-btn-primary { background: #ff5656; color: #fff; border: none; }
  .kai-btn-primary:hover { filter: brightness(0.95); }
  .kai-btn-primary:disabled { opacity: .4; cursor: not-allowed; }
  .kai-btn-outline { border: 1px solid #e5e7eb; color: #455a7c; background: #fff; }
  .kai-btn-outline:hover { background: #f9fafb; }

  .kai-range { width: 100%; }
  .kai-range::-webkit-slider-runnable-track { height: 4px; background: #e5e7eb; border-radius: 999px; }
  .kai-range::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: #ff5656; border-radius: 50%; cursor: pointer; border: 2px solid #fff; box-shadow: 0 0 0 1px rgba(0,0,0,.1); margin-top: -7px; }
  .kai-range::-moz-range-track { height: 4px; background: #e5e7eb; border-radius: 999px; }
  .kai-range::-moz-range-thumb { width: 18px; height: 18px; background: #ff5656; border: none; border-radius: 50%; cursor: pointer; }
  `,i=document.createElement("style");i.id="kai-onboarding-styles",i.textContent=n,document.head.appendChild(i)}function Zl(n,i){console.debug(`[analytics] ${n}`,i||{})}function Gc(n){try{return new URLSearchParams(window.location.search).get(n)}catch{return null}}function Bp(){try{return["localhost","127.0.0.1","::1"].includes(window.location.hostname)}catch{return!1}}function Xc(){return Gc("debug")==="1"||Bp()}function $l(n){return Array.isArray(n)?n.filter(Boolean):[]}function Si(n,i){return i?Math.max(0,Math.min(n,i-1)):0}function Kc(){return[{id:"whyFriend",title:"Why are you looking for a friend?",description:"This helps KAI focus on how to help you to achieve your goal.",type:"single",required:!0,options:[{id:"move",label:"I moved"},{id:"school",label:"I am at a new school / job"},{id:"break-up",label:"I recently ended a relationship"},{id:"specific",label:"Find partner for specific activity"},{id:"lonely",label:"I just want a new friend"},{id:"other",label:"I have another reason"}]},{id:"knownConnection",title:"Do you have some people in mind that you would like to connect with?",description:"If you do the best place to start is with the friendship quiz so KAI can customize your approach to making them your new best friend.",type:"single",required:!0,options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}]},{id:"outcome",title:"What is your desired outcome?",description:"Confirm with KAI your goal for your initial friend so he can help you achieve it.",type:"single",required:!0,options:[{id:"bestie",label:"Find my next best friend"},{id:"circle",label:"Expand my current friend circle"},{id:"casual",label:"Find someone to hang out with IRL"},{id:"lonely",label:"Feel less bored or lonely"},{id:"activity",label:"Find partner for a specific activity"},{id:"another",label:"I have another desired outcome"}]},{id:"timeCommitment",title:"How many hours per week do you plan to spend on making your new friend?",description:"Making friends just got easier, but it does take time. The more quality time you spend together the better!",type:"range",required:!0,min:0,max:10},{id:"interests",title:"What are your main interests?",description:"Tell KAI what your interests are so he can find the right activities for you and your new best friend.",type:"text",placeholders:["Your interest 1","Your interest 2","Your interest 3"],required:!1},{id:"age",title:"How old are you?",description:"Tell KAI your age for age-appropriate suggestions and activities. Log in to save your answers.",type:"single",required:!0,options:[{id:"youth",label:"Under 18"},{id:"18-24",label:"18-24"},{id:"25-39",label:"25-39"},{id:"40-49",label:"40-49"},{id:"50-59",label:"50-59"},{id:"60+",label:"60+"}]}]}function Qc(n,i){const l=$l(n);if(l.length>0)return{steps:l,usingFallback:!1};const r=$l(i);return{steps:r.length>0?r:Kc(),usingFallback:!0}}function rT(){const n=Gc("onboarding"),i=Gc("forceOnboarding");return n==="1"||i==="1"}function oT(n){const i=rT(),l=Bp()&&n==null;return!!(n||i||l)}function Hp(n,i){return oT(n)?!1:Yc(i)==="1"}function cT(n=Vp,i=Kl){try{document.cookie=`${n}=; Max-Age=0; Path=/`,localStorage.removeItem(i)}catch{}}function qp({steps:n,fallbackSteps:i,forceShow:l,storageKey:r=Kl,cookieName:d=Vp,onComplete:h,onClose:f,brand:p}){C.useEffect(()=>{lT()},[]);const{steps:g,usingFallback:y}=C.useMemo(()=>Qc(n,i),[n,i]),[b,S]=C.useState(0),[w,A]=C.useState({}),[T,_]=C.useState(!1),M=g[b],q=b===g.length-1,ne=y&&n==null,$=!!(l||ne),[X,W]=C.useState(!1),[U,G]=C.useState(!1);C.useEffect(()=>{if(Hp($,d)){W(!0);return}const ue=iT(r);if(ue){const B=Si(ue.index,g.length);A(ue.answers),S(B)}_(!0),g.length>0&&Zl("onboarding_view",{step:g[0].id})},[$,d,r,g.length]),C.useEffect(()=>{T&&aT(r,w,b)},[w,b,T,r]);const O=C.useMemo(()=>{if(!M)return!1;const ue=w[M.id];return M.required?M.type==="text"?Array.isArray(ue)?ue.filter(P=>typeof P=="string"&&P.trim().length>0).length>0:!!ue&&String(ue).trim().length>0:M.type==="range"?typeof ue=="number":M.type==="single"?typeof ue=="string"&&ue.length>0:M.type==="multi"?Array.isArray(ue)&&ue.length>0:!1:!0},[w,M]);async function se(){Ql(d,"1"),sT(r),Zl("onboarding_complete",{answers:w});try{await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:w,completedAt:new Date().toISOString()})})}catch{}try{await h?.(w)}finally{G(!0),f?.()}}async function oe(){await se();try{window.location.href="login"}catch{}}function ce(){if(!M)return;if(q)return void se();const ue=Si(b+1,g.length);S(ue);const B=g[ue];Zl("onboarding_step_next",{from:M.id,to:B?.id})}function we(){if(!M)return;const ue=Si(b-1,g.length);S(ue);const B=g[ue];Zl("onboarding_step_back",{from:M.id,to:B?.id})}function ae(ue,B){A(P=>({...P,[ue]:B}))}const be=({children:ue})=>c.jsx("div",{className:"fixed bottom-4 left-4 z-[60] max-w-sm rounded-lg border border-amber-300 bg-amber-50 p-3 text-amber-900 shadow",children:ue});return X?Xc()?c.jsxs(be,{children:["Onboarding suppressed by cookie. Override by adding ",c.jsx("code",{children:"?onboarding=1"})," to the URL, or pass the ",c.jsx("code",{children:"forceShow"})," prop, or clear the ",c.jsx("code",{children:d})," cookie."]}):null:U||!T?null:M?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4 kai-onboarding",style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",padding:"16px"},children:c.jsx("div",{className:"relative w-full max-w-2xl",children:c.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-2xl",style:{background:"#fff",borderRadius:"16px",padding:"24px",boxShadow:"0 20px 50px rgba(0,0,0,0.18)"},children:[c.jsxs("header",{className:"mb-4 flex items-center gap-3",children:[c.jsx("img",{src:p?.logoUrl??"/images/logo.png",alt:"Get Kinder",style:{height:"100px",width:"150px",objectFit:"contain"},className:"rounded-sm"}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs font-medium text-[#455a7c]",children:["Step ",b+1," of ",g.length]}),c.jsx("h2",{className:"mt-1 text-2xl font-semibold kai-title",children:M.title}),M.description&&c.jsx("p",{className:"mt-1 text-sm text-[#455a7c]",children:M.description})]})]}),c.jsx("div",{className:"min-h-[180px]",children:c.jsx(AS,{mode:"wait",children:c.jsx(nT.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.18},children:c.jsx(uT,{step:M,value:w[M.id],onChange:ae})},M.id)})}),c.jsxs("footer",{className:"mt-6 kai-footer",children:[c.jsx("button",{onClick:we,disabled:b===0,className:"kai-btn kai-btn-outline",children:"Back"}),c.jsxs("div",{className:"kai-actions",children:[c.jsx("button",{onClick:ce,disabled:!O,className:`kai-btn ${q?"kai-btn-outline":"kai-btn-primary"}`,children:q?"Finish":"Continue"}),q&&c.jsx("button",{type:"button",onClick:oe,className:"kai-btn kai-btn-primary","data-testid":"login-button",children:"Log in"})]})]})]})})}):Xc()?c.jsxs(be,{children:["No steps resolved for ",c.jsx("code",{children:"<OnboardingCards/>"}),". Provide ",c.jsx("code",{children:"steps"})," or ",c.jsx("code",{children:"fallbackSteps"}),"."]}):null}function uT({step:n,value:i,onChange:l}){if(n.type==="single")return c.jsx("div",{className:"kai-grid grid grid-cols-1 gap-3 sm:grid-cols-2",role:"radiogroup","aria-label":n.title,children:n.options?.map(r=>{const d=i===r.id;return c.jsxs("label",{className:`kai-card-option ${d?"is-selected":""}`,children:[c.jsx("input",{type:"radio",name:n.id,value:r.id,checked:d,onChange:()=>l(n.id,r.id),className:"sr-only"}),c.jsx("div",{className:"text-sm font-medium text-[#455a7c]",children:r.label}),r.helper&&c.jsx("div",{className:"mt-1 text-xs text-[#455a7c]",children:r.helper})]},r.id)})});if(n.type==="multi"){let r=function(h){const f=new Set(d);f.has(h)?f.delete(h):f.add(h),l(n.id,Array.from(f))};const d=Array.isArray(i)?i:[];return c.jsx("div",{className:"kai-grid grid grid-cols-1 gap-3 sm:grid-cols-2",role:"group","aria-label":n.title,children:n.options?.map(h=>c.jsxs("button",{type:"button",onClick:()=>r(h.id),className:`kai-card-option ${d.includes(h.id)?"is-selected":""}`,"aria-pressed":d.includes(h.id),children:[c.jsx("div",{className:"text-sm font-medium text-[#455a7c]",children:h.label}),h.helper&&c.jsx("div",{className:"mt-1 text-xs text-[#455a7c]",children:h.helper})]},h.id))})}if(n.type==="range"){const r=typeof i=="number"?i:Math.round(((n.min??0)+(n.max??10))/2);return c.jsxs("div",{children:[c.jsx("input",{type:"range",min:n.min??0,max:n.max??10,value:r,onChange:d=>l(n.id,Number(d.target.value)),className:"kai-range w-full","aria-label":n.title}),c.jsx("div",{className:"mt-2 text-sm text-[#455a7c]",children:r})]})}if(Array.isArray(n.placeholders)&&n.placeholders.length>0){let r=function(f,p){const g=h.slice();g[f]=p,l(n.id,g)};const d=n.placeholders,h=Array.isArray(i)?i.slice(0,d.length):Array(d.length).fill("");return c.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.map((f,p)=>c.jsx("input",{type:"text",value:typeof h[p]=="string"?h[p]:"",onChange:g=>r(p,g.target.value),placeholder:f,className:"kai-input w-full","aria-label":`${n.title} ${p+1}`},`${n.id}-${p}`))})}return c.jsx("div",{children:c.jsx("input",{type:"text",value:typeof i=="string"?i:"",onChange:r=>l(n.id,r.target.value),placeholder:n.placeholder,className:"kai-input w-full","aria-label":n.title})})}if(typeof window<"u"&&Xc()){let n=function(f,p){p||console.error(`OnboardingCards test failed: ${f}`)};n("normalizeSteps handles undefined",$l(void 0).length===0),n("normalizeSteps passes through array",$l([{id:"a",title:"t",type:"text"}]).length===1),n("clampIndexForSteps returns 0 when stepsLen=0",Si(5,0)===0),n("clampIndexForSteps clamps to last index",Si(5,3)===2),n("clampIndexForSteps clamps to 0 for negative",Si(-3,3)===0);const i=Qc(void 0,void 0);n("resolveSteps falls back to default preset",i.steps.length>0&&i.usingFallback===!0);const l=Qc([{id:"x",title:"X",type:"text"}],[]);n("resolveSteps uses provided steps when present",l.steps[0].id==="x"&&l.usingFallback===!1);const r=Kc(),d=r.find(f=>f.id==="interests");n("default interests step exists",!!d),n("interests step has 3 placeholders",Array.isArray(d?.placeholders)&&(d?.placeholders?.length||0)===3),n("default steps count is 6",r.length===6),n("6th step is 'age'",r[5].id==="age");const h=Yc("onboarding_done");Ql("onboarding_done","1"),n("shouldSuppress is false when effective force=true",Hp(!0,"onboarding_done")===!1),Ql("onboarding_done","1"),localStorage.setItem(Kl,"x"),cT(),n("resetOnboarding clears cookie",Yc("onboarding_done")===null),n("resetOnboarding clears draft",localStorage.getItem(Kl)===null),h&&Ql("onboarding_done",h)}typeof window<"u"&&(window.process||(window.process={env:{NODE_ENV:"production"}}),window.global||(window.global=window));const Fp=new WeakMap;function ji(n){if(!n)return null;let i=Fp.get(n);return i||(i=Kv.createRoot(n),Fp.set(n,i)),i}window.renderBestieVibesQuiz=(n,i={})=>{const l=typeof n=="string"?document.querySelector(n):n;if(!l)return;ji(l).render(c.jsx(_x,{...i}))},window.renderFriendQuizzesPage=(n,i={})=>{const l=typeof n=="string"?document.querySelector(n):n;if(!l)return;ji(l).render(c.jsx(T0,{...i}))},window.renderFriendChallenges=(n="#friend-challenges-root",i={})=>{const l=typeof n=="string"?document.querySelector(n):n;if(!l)return;ji(l).render(c.jsx(Qe.StrictMode,{children:c.jsx(xx,{...i})}))};function Yp(){const n=document.getElementById("onboarding-root");if(!n)return;const i=Kc();ji(n).render(c.jsx(qp,{steps:i,brand:{productName:"Get Kinder AI",logoUrl:"/images/logo.png"}}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Yp()},{once:!0}):Yp(),window.renderOnboarding=(n="#onboarding-root",i={})=>{const l=typeof n=="string"?document.querySelector(n):n;if(!l)return;ji(l).render(c.jsx(qp,{...i}))};function dT(n="events-props"){const i=document.getElementById(n);if(!i)return{};try{return JSON.parse(i.textContent||"{}")}catch{return{}}}window.renderEventsApp=(n="#events-root",i)=>{const l=typeof n=="string"?document.querySelector(n):n;if(!l)return;const r=ji(l),d=i&&typeof i=="object"?i:dT();r.render(c.jsx(Qe.StrictMode,{children:c.jsx(p0,{...d})}))}})();
