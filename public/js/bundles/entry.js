(function(){"use strict";function Qd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Jr={exports:{}},Ji={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd;function Ex(){if(Zd)return Ji;Zd=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var y in d)y!=="key"&&(f[y]=d[y])}else f=d;return d=f.ref,{$$typeof:a,type:o,key:h,ref:d!==void 0?d:null,props:f}}return Ji.Fragment=i,Ji.jsx=l,Ji.jsxs=l,Ji}var Pd;function Mx(){return Pd||(Pd=1,Jr.exports=Ex()),Jr.exports}var r=Mx(),Ir={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d;function Dx(){if($d)return Se;$d=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),S=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function z(x,O,X){this.props=x,this.context=O,this.refs=T,this.updater=X||N}z.prototype.isReactComponent={},z.prototype.setState=function(x,O){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,O,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function V(){}V.prototype=z.prototype;function k(x,O,X){this.props=x,this.context=O,this.refs=T,this.updater=X||N}var I=k.prototype=new V;I.constructor=k,E(I,z.prototype),I.isPureReactComponent=!0;var ee=Array.isArray;function D(){}var Y={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function P(x,O,X){var M=X.ref;return{$$typeof:a,type:x,key:O,ref:M!==void 0?M:null,props:X}}function ne(x,O){return P(x.type,O,x.props)}function re(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function me(x){var O={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(X){return O[X]})}var ie=/\/+/g;function ge(x,O){return typeof x=="object"&&x!==null&&x.key!=null?me(""+x.key):O.toString(36)}function ue(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(O){x.status==="pending"&&(x.status="fulfilled",x.value=O)},function(O){x.status==="pending"&&(x.status="rejected",x.reason=O)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,O,X,M,F){var $=typeof x;($==="undefined"||$==="boolean")&&(x=null);var se=!1;if(x===null)se=!0;else switch($){case"bigint":case"string":case"number":se=!0;break;case"object":switch(x.$$typeof){case a:case i:se=!0;break;case b:return se=x._init,H(se(x._payload),O,X,M,F)}}if(se)return F=F(x),se=M===""?"."+ge(x,0):M,ee(F)?(X="",se!=null&&(X=se.replace(ie,"$&/")+"/"),H(F,O,X,"",function(De){return De})):F!=null&&(re(F)&&(F=ne(F,X+(F.key==null||x&&x.key===F.key?"":(""+F.key).replace(ie,"$&/")+"/")+se)),O.push(F)),1;se=0;var ce=M===""?".":M+":";if(ee(x))for(var fe=0;fe<x.length;fe++)M=x[fe],$=ce+ge(M,fe),se+=H(M,O,X,$,F);else if(fe=C(x),typeof fe=="function")for(x=fe.call(x),fe=0;!(M=x.next()).done;)M=M.value,$=ce+ge(M,fe++),se+=H(M,O,X,$,F);else if($==="object"){if(typeof x.then=="function")return H(ue(x),O,X,M,F);throw O=String(x),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return se}function Z(x,O,X){if(x==null)return x;var M=[],F=0;return H(x,M,"","",function($){return O.call(X,$,F++)}),M}function Q(x){if(x._status===-1){var O=x._result;O=O(),O.then(function(X){(x._status===0||x._status===-1)&&(x._status=1,x._result=X)},function(X){(x._status===0||x._status===-1)&&(x._status=2,x._result=X)}),x._status===-1&&(x._status=0,x._result=O)}if(x._status===1)return x._result.default;throw x._result}var oe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},R={map:Z,forEach:function(x,O,X){Z(x,function(){O.apply(this,arguments)},X)},count:function(x){var O=0;return Z(x,function(){O++}),O},toArray:function(x){return Z(x,function(O){return O})||[]},only:function(x){if(!re(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Se.Activity=j,Se.Children=R,Se.Component=z,Se.Fragment=l,Se.Profiler=d,Se.PureComponent=k,Se.StrictMode=o,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Se.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Y.H.useMemoCache(x)}},Se.cache=function(x){return function(){return x.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(x,O,X){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var M=E({},x.props),F=x.key;if(O!=null)for($ in O.key!==void 0&&(F=""+O.key),O)!J.call(O,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&O.ref===void 0||(M[$]=O[$]);var $=arguments.length-2;if($===1)M.children=X;else if(1<$){for(var se=Array($),ce=0;ce<$;ce++)se[ce]=arguments[ce+2];M.children=se}return P(x.type,F,M)},Se.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},Se.createElement=function(x,O,X){var M,F={},$=null;if(O!=null)for(M in O.key!==void 0&&($=""+O.key),O)J.call(O,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(F[M]=O[M]);var se=arguments.length-2;if(se===1)F.children=X;else if(1<se){for(var ce=Array(se),fe=0;fe<se;fe++)ce[fe]=arguments[fe+2];F.children=ce}if(x&&x.defaultProps)for(M in se=x.defaultProps,se)F[M]===void 0&&(F[M]=se[M]);return P(x,$,F)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(x){return{$$typeof:y,render:x}},Se.isValidElement=re,Se.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:Q}},Se.memo=function(x,O){return{$$typeof:g,type:x,compare:O===void 0?null:O}},Se.startTransition=function(x){var O=Y.T,X={};Y.T=X;try{var M=x(),F=Y.S;F!==null&&F(X,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(D,oe)}catch($){oe($)}finally{O!==null&&X.types!==null&&(O.types=X.types),Y.T=O}},Se.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Se.use=function(x){return Y.H.use(x)},Se.useActionState=function(x,O,X){return Y.H.useActionState(x,O,X)},Se.useCallback=function(x,O){return Y.H.useCallback(x,O)},Se.useContext=function(x){return Y.H.useContext(x)},Se.useDebugValue=function(){},Se.useDeferredValue=function(x,O){return Y.H.useDeferredValue(x,O)},Se.useEffect=function(x,O){return Y.H.useEffect(x,O)},Se.useEffectEvent=function(x){return Y.H.useEffectEvent(x)},Se.useId=function(){return Y.H.useId()},Se.useImperativeHandle=function(x,O,X){return Y.H.useImperativeHandle(x,O,X)},Se.useInsertionEffect=function(x,O){return Y.H.useInsertionEffect(x,O)},Se.useLayoutEffect=function(x,O){return Y.H.useLayoutEffect(x,O)},Se.useMemo=function(x,O){return Y.H.useMemo(x,O)},Se.useOptimistic=function(x,O){return Y.H.useOptimistic(x,O)},Se.useReducer=function(x,O,X){return Y.H.useReducer(x,O,X)},Se.useRef=function(x){return Y.H.useRef(x)},Se.useState=function(x){return Y.H.useState(x)},Se.useSyncExternalStore=function(x,O,X){return Y.H.useSyncExternalStore(x,O,X)},Se.useTransition=function(){return Y.H.useTransition()},Se.version="19.2.0",Se}var Jd;function Wr(){return Jd||(Jd=1,Ir.exports=Dx()),Ir.exports}var w=Wr();const Zn=Qd(w);var eo={exports:{}},Ii={},to={exports:{}},no={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function kx(){return Id||(Id=1,(function(a){function i(H,Z){var Q=H.length;H.push(Z);e:for(;0<Q;){var oe=Q-1>>>1,R=H[oe];if(0<d(R,Z))H[oe]=Z,H[Q]=R,Q=oe;else break e}}function l(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var Z=H[0],Q=H.pop();if(Q!==Z){H[0]=Q;e:for(var oe=0,R=H.length,x=R>>>1;oe<x;){var O=2*(oe+1)-1,X=H[O],M=O+1,F=H[M];if(0>d(X,Q))M<R&&0>d(F,X)?(H[oe]=F,H[M]=Q,oe=M):(H[oe]=X,H[O]=Q,oe=O);else if(M<R&&0>d(F,Q))H[oe]=F,H[M]=Q,oe=M;else break e}}return Z}function d(H,Z){var Q=H.sortIndex-Z.sortIndex;return Q!==0?Q:H.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();a.unstable_now=function(){return h.now()-y}}var m=[],g=[],b=1,j=null,S=3,C=!1,N=!1,E=!1,T=!1,z=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function I(H){for(var Z=l(g);Z!==null;){if(Z.callback===null)o(g);else if(Z.startTime<=H)o(g),Z.sortIndex=Z.expirationTime,i(m,Z);else break;Z=l(g)}}function ee(H){if(E=!1,I(H),!N)if(l(m)!==null)N=!0,D||(D=!0,me());else{var Z=l(g);Z!==null&&ue(ee,Z.startTime-H)}}var D=!1,Y=-1,J=5,P=-1;function ne(){return T?!0:!(a.unstable_now()-P<J)}function re(){if(T=!1,D){var H=a.unstable_now();P=H;var Z=!0;try{e:{N=!1,E&&(E=!1,V(Y),Y=-1),C=!0;var Q=S;try{t:{for(I(H),j=l(m);j!==null&&!(j.expirationTime>H&&ne());){var oe=j.callback;if(typeof oe=="function"){j.callback=null,S=j.priorityLevel;var R=oe(j.expirationTime<=H);if(H=a.unstable_now(),typeof R=="function"){j.callback=R,I(H),Z=!0;break t}j===l(m)&&o(m),I(H)}else o(m);j=l(m)}if(j!==null)Z=!0;else{var x=l(g);x!==null&&ue(ee,x.startTime-H),Z=!1}}break e}finally{j=null,S=Q,C=!1}Z=void 0}}finally{Z?me():D=!1}}}var me;if(typeof k=="function")me=function(){k(re)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ge=ie.port2;ie.port1.onmessage=re,me=function(){ge.postMessage(null)}}else me=function(){z(re,0)};function ue(H,Z){Y=z(function(){H(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(H){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var Q=S;S=Z;try{return H()}finally{S=Q}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=S;S=H;try{return Z()}finally{S=Q}},a.unstable_scheduleCallback=function(H,Z,Q){var oe=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,H){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Q+R,H={id:b++,callback:Z,priorityLevel:H,startTime:Q,expirationTime:R,sortIndex:-1},Q>oe?(H.sortIndex=Q,i(g,H),l(m)===null&&H===l(g)&&(E?(V(Y),Y=-1):E=!0,ue(ee,Q-oe))):(H.sortIndex=R,i(m,H),N||C||(N=!0,D||(D=!0,me()))),H},a.unstable_shouldYield=ne,a.unstable_wrapCallback=function(H){var Z=S;return function(){var Q=S;S=Z;try{return H.apply(this,arguments)}finally{S=Q}}}})(no)),no}var Wd;function Rx(){return Wd||(Wd=1,to.exports=kx()),to.exports}var ao={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function zx(){if(ef)return At;ef=1;var a=Wr();function i(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(m,g,b){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:j==null?null:""+j,children:m,containerInfo:g,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,At.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return f(m,g,null,b)},At.flushSync=function(m){var g=h.T,b=o.p;try{if(h.T=null,o.p=2,m)return m()}finally{h.T=g,o.p=b,o.d.f()}},At.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(m,g))},At.prefetchDNS=function(m){typeof m=="string"&&o.d.D(m)},At.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,j=y(b,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?o.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:j,integrity:S,fetchPriority:C}):b==="script"&&o.d.X(m,{crossOrigin:j,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},At.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=y(g.as,g.crossOrigin);o.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(m)},At.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,j=y(b,g.crossOrigin);o.d.L(m,b,{crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},At.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=y(g.as,g.crossOrigin);o.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(m)},At.requestFormReset=function(m){o.d.r(m)},At.unstable_batchedUpdates=function(m,g){return m(g)},At.useFormState=function(m,g,b){return h.H.useFormState(m,g,b)},At.useFormStatus=function(){return h.H.useHostTransitionStatus()},At.version="19.2.0",At}var tf;function Ox(){if(tf)return ao.exports;tf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),ao.exports=zx(),ao.exports}var nf;function Ux(){if(nf)return Ii;nf=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=Rx(),i=Wr(),l=Ox();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(s=c.return,s!==null){n=s;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return m(c),e;if(u===s)return m(c),t;u=u.sibling}throw Error(o(188))}if(n.return!==s.return)n=c,s=u;else{for(var p=!1,v=c.child;v;){if(v===n){p=!0,n=c,s=u;break}if(v===s){p=!0,s=c,n=u;break}v=v.sibling}if(!p){for(v=u.child;v;){if(v===n){p=!0,n=u,s=c;break}if(v===s){p=!0,s=u,n=c;break}v=v.sibling}if(!p)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case z:return"Profiler";case T:return"StrictMode";case ee:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case k:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}var ue=Array.isArray,H=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},oe=[],R=-1;function x(e){return{current:e}}function O(e){0>R||(e.current=oe[R],oe[R]=null,R--)}function X(e,t){R++,oe[R]=e.current,e.current=t}var M=x(null),F=x(null),$=x(null),se=x(null);function ce(e,t){switch(X($,t),X(F,e),X(M,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ib(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ib(t),e=Wb(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(M),X(M,e)}function fe(){O(M),O(F),O($)}function De(e){e.memoizedState!==null&&X(se,e);var t=M.current,n=Wb(t,e.type);t!==n&&(X(F,e),X(M,n))}function Me(e){F.current===e&&(O(M),O(F)),se.current===e&&(O(se),il._currentValue=Q)}var Ue,Pe;function he(e){if(Ue===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",Pe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+Pe}var et=!1;function ht(e,t){if(!e||et)return"";et=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var q=G}Reflect.construct(e,[],te)}else{try{te.call()}catch(G){q=G}e.call(te.prototype)}}else{try{throw Error()}catch(G){q=G}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),p=u[0],v=u[1];if(p&&v){var _=p.split(`
`),B=v.split(`
`);for(c=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(s===_.length||c===B.length)for(s=_.length-1,c=B.length-1;1<=s&&0<=c&&_[s]!==B[c];)c--;for(;1<=s&&0<=c;s--,c--)if(_[s]!==B[c]){if(s!==1||c!==1)do if(s--,c--,0>c||_[s]!==B[c]){var K=`
`+_[s].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=s&&0<=c);break}}}finally{et=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?he(n):""}function jt(e,t){switch(e.tag){case 26:case 27:case 5:return he(e.type);case 16:return he("Lazy");case 13:return e.child!==t&&t!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return he("Activity");default:return""}}function $e(e){try{var t="",n=null;do t+=jt(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Mt=Object.prototype.hasOwnProperty,pt=a.unstable_scheduleCallback,En=a.unstable_cancelCallback,Da=a.unstable_shouldYield,le=a.unstable_requestPaint,ve=a.unstable_now,ze=a.unstable_getCurrentPriorityLevel,Be=a.unstable_ImmediatePriority,Dt=a.unstable_UserBlockingPriority,ae=a.unstable_NormalPriority,xe=a.unstable_LowPriority,Xe=a.unstable_IdlePriority,kt=a.log,ot=a.unstable_setDisableYieldValue,Rt=null,He=null;function St(e){if(typeof kt=="function"&&ot(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Rt,e)}catch{}}var gt=Math.clz32?Math.clz32:zc,di=Math.log,fi=Math.LN2;function zc(e){return e>>>=0,e===0?32:31-(di(e)/fi|0)|0}var Ol=256,Ul=262144,Ll=4194304;function ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vl(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var c=0,u=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?c=ka(s):(p&=v,p!==0?c=ka(p):n||(n=v&~e,n!==0&&(c=ka(n))))):(v=s&~u,v!==0?c=ka(v):p!==0?c=ka(p):n||(n=s&~e,n!==0&&(c=ka(n)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:c}function ys(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function mN(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rp(){var e=Ll;return Ll<<=1,(Ll&62914560)===0&&(Ll=4194304),e}function Oc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pN(e,t,n,s,c,u){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,B=e.hiddenUpdates;for(n=p&~n;0<n;){var K=31-gt(n),te=1<<K;v[K]=0,_[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}n&=~te}s!==0&&zp(e,s,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(p&~t))}function zp(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-gt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function Op(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-gt(n),c=1<<s;c&t|e[s]&t&&(e[s]|=t),n&=~c}}function Up(e,t){var n=t&-t;return n=(n&42)!==0?1:Uc(n),(n&(e.suspendedLanes|t))!==0?0:n}function Uc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lp(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Sx(e.type))}function Vp(e,t){var n=Z.p;try{return Z.p=e,t()}finally{Z.p=n}}var ea=Math.random().toString(36).slice(2),wt="__reactFiber$"+ea,Vt="__reactProps$"+ea,hi="__reactContainer$"+ea,Vc="__reactEvents$"+ea,gN="__reactListeners$"+ea,yN="__reactHandles$"+ea,Bp="__reactResources$"+ea,xs="__reactMarker$"+ea;function Bc(e){delete e[wt],delete e[Vt],delete e[Vc],delete e[gN],delete e[yN]}function mi(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lx(e);e!==null;){if(n=e[wt])return n;e=lx(e)}return t}e=n,n=e.parentNode}return null}function pi(e){if(e=e[wt]||e[hi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function vs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function gi(e){var t=e[Bp];return t||(t=e[Bp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[xs]=!0}var Hp=new Set,qp={};function Ra(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(qp[e]=t,e=0;e<t.length;e++)Hp.add(t[e])}var bN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yp={},Gp={};function xN(e){return Mt.call(Gp,e)?!0:Mt.call(Yp,e)?!1:bN.test(e)?Gp[e]=!0:(Yp[e]=!0,!1)}function Bl(e,t,n){if(xN(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Hl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Mn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vN(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hc(e){if(!e._valueTracker){var t=Fp(e)?"checked":"value";e._valueTracker=vN(e,t,""+e[t])}}function Xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Fp(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jN=/[\n"\\]/g;function sn(e){return e.replace(jN,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qc(e,t,n,s,c,u,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+an(t)):e.value!==""+an(t)&&(e.value=""+an(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Yc(e,p,an(t)):n!=null?Yc(e,p,an(n)):s!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+an(v):e.removeAttribute("name")}function Kp(e,t,n,s,c,u,p,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Hc(e);return}n=n!=null?""+an(n):"",t=t!=null?""+an(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Hc(e)}function Yc(e,t,n){t==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bi(e,t,n,s){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&s&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Qp(e,t,n){if(t!=null&&(t=""+an(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+an(n):""}function Zp(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(o(92));if(ue(s)){if(1<s.length)throw Error(o(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=an(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Hc(e)}function xi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var SN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pp(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||SN.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $p(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&n[c]!==s&&Pp(e,c,s)}else for(var u in t)t.hasOwnProperty(u)&&Pp(e,u,t[u])}function Gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(e){return NN.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Fc=null;function Xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,ji=null;function Jp(e){var t=pi(e);if(t&&(e=t.stateNode)){var n=e[Vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(qc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var c=s[Vt]||null;if(!c)throw Error(o(90));qc(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Xp(s)}break e;case"textarea":Qp(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&bi(e,!!n.multiple,t,!1)}}}var Kc=!1;function Ip(e,t,n){if(Kc)return e(t,n);Kc=!0;try{var s=e(t);return s}finally{if(Kc=!1,(vi!==null||ji!==null)&&(Er(),vi&&(t=vi,e=ji,ji=vi=null,Jp(t),e)))for(t=0;t<e.length;t++)Jp(e[t])}}function js(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Vt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qc=!1;if(kn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Qc=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Qc=!1}var ta=null,Zc=null,Gl=null;function Wp(){if(Gl)return Gl;var e,t=Zc,n=t.length,s,c="value"in ta?ta.value:ta.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(s=1;s<=p&&t[n-s]===c[u-s];s++);return Gl=c.slice(e,1<s?1-s:void 0)}function Fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function eg(){return!1}function Bt(e){function t(n,s,c,u,p){this._reactName=n,this._targetInst=c,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Xl:eg,this.isPropagationStopped=eg,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Bt(za),ws=j({},za,{view:0,detail:0}),_N=Bt(ws),Pc,$c,Ns,Ql=j({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(Pc=e.screenX-Ns.screenX,$c=e.screenY-Ns.screenY):$c=Pc=0,Ns=e),Pc)},movementY:function(e){return"movementY"in e?e.movementY:$c}}),tg=Bt(Ql),TN=j({},Ql,{dataTransfer:0}),CN=Bt(TN),AN=j({},ws,{relatedTarget:0}),Jc=Bt(AN),EN=j({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),MN=Bt(EN),DN=j({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kN=Bt(DN),RN=j({},za,{data:0}),ng=Bt(RN),zN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ON={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UN[e])?!!t[e]:!1}function Ic(){return LN}var VN=j({},ws,{key:function(e){if(e.key){var t=zN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ON[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ic,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BN=Bt(VN),HN=j({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Bt(HN),qN=j({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ic}),YN=Bt(qN),GN=j({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),FN=Bt(GN),XN=j({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KN=Bt(XN),QN=j({},za,{newState:0,oldState:0}),ZN=Bt(QN),PN=[9,13,27,32],Wc=kn&&"CompositionEvent"in window,_s=null;kn&&"documentMode"in document&&(_s=document.documentMode);var $N=kn&&"TextEvent"in window&&!_s,ig=kn&&(!Wc||_s&&8<_s&&11>=_s),sg=" ",lg=!1;function rg(e,t){switch(e){case"keyup":return PN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function JN(e,t){switch(e){case"compositionend":return og(t);case"keypress":return t.which!==32?null:(lg=!0,sg);case"textInput":return e=t.data,e===sg&&lg?null:e;default:return null}}function IN(e,t){if(Si)return e==="compositionend"||!Wc&&rg(e,t)?(e=Wp(),Gl=Zc=ta=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ig&&t.locale!=="ko"?null:t.data;default:return null}}var WN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WN[e.type]:t==="textarea"}function ug(e,t,n,s){vi?ji?ji.push(s):ji=[s]:vi=s,t=Ur(t,"onChange"),0<t.length&&(n=new Kl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ts=null,Cs=null;function e_(e){Kb(e,0)}function Zl(e){var t=vs(e);if(Xp(t))return e}function dg(e,t){if(e==="change")return t}var fg=!1;if(kn){var eu;if(kn){var tu="oninput"in document;if(!tu){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),tu=typeof hg.oninput=="function"}eu=tu}else eu=!1;fg=eu&&(!document.documentMode||9<document.documentMode)}function mg(){Ts&&(Ts.detachEvent("onpropertychange",pg),Cs=Ts=null)}function pg(e){if(e.propertyName==="value"&&Zl(Cs)){var t=[];ug(t,Cs,e,Xc(e)),Ip(e_,t)}}function t_(e,t,n){e==="focusin"?(mg(),Ts=t,Cs=n,Ts.attachEvent("onpropertychange",pg)):e==="focusout"&&mg()}function n_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(Cs)}function a_(e,t){if(e==="click")return Zl(t)}function i_(e,t){if(e==="input"||e==="change")return Zl(t)}function s_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:s_;function As(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var c=n[s];if(!Mt.call(t,c)||!Xt(e[c],t[c]))return!1}return!0}function gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,t){var n=gg(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gg(n)}}function bg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ql(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ql(e.document)}return t}function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var l_=kn&&"documentMode"in document&&11>=document.documentMode,wi=null,au=null,Es=null,iu=!1;function vg(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||wi==null||wi!==ql(s)||(s=wi,"selectionStart"in s&&nu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Es&&As(Es,s)||(Es=s,s=Ur(au,"onSelect"),0<s.length&&(t=new Kl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=wi)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ni={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},su={},jg={};kn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Ua(e){if(su[e])return su[e];if(!Ni[e])return e;var t=Ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jg)return su[e]=t[n];return e}var Sg=Ua("animationend"),wg=Ua("animationiteration"),Ng=Ua("animationstart"),r_=Ua("transitionrun"),o_=Ua("transitionstart"),c_=Ua("transitioncancel"),_g=Ua("transitionend"),Tg=new Map,lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lu.push("scrollEnd");function pn(e,t){Tg.set(e,t),Ra(t,[e])}var Pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ln=[],_i=0,ru=0;function $l(){for(var e=_i,t=ru=_i=0;t<e;){var n=ln[t];ln[t++]=null;var s=ln[t];ln[t++]=null;var c=ln[t];ln[t++]=null;var u=ln[t];if(ln[t++]=null,s!==null&&c!==null){var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}u!==0&&Cg(n,c,u)}}function Jl(e,t,n,s){ln[_i++]=e,ln[_i++]=t,ln[_i++]=n,ln[_i++]=s,ru|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ou(e,t,n,s){return Jl(e,t,n,s),Il(e)}function La(e,t){return Jl(e,null,null,t),Il(e)}function Cg(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var c=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-gt(n),e=u.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=n|536870912),u):null}function Il(e){if(50<Js)throw Js=0,yd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ti={};function u_(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,n,s){return new u_(e,t,n,s)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var n=e.alternate;return n===null?(n=Kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ag(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wl(e,t,n,s,c,u){var p=0;if(s=e,typeof e=="function")cu(e)&&(p=1);else if(typeof e=="string")p=pT(e,n,M.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=Kt(31,n,t,c),e.elementType=P,e.lanes=u,e;case E:return Va(n.children,c,u,t);case T:p=8,c|=24;break;case z:return e=Kt(12,n,t,c|2),e.elementType=z,e.lanes=u,e;case ee:return e=Kt(13,n,t,c),e.elementType=ee,e.lanes=u,e;case D:return e=Kt(19,n,t,c),e.elementType=D,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:p=10;break e;case V:p=9;break e;case I:p=11;break e;case Y:p=14;break e;case J:p=16,s=null;break e}p=29,n=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=Kt(p,n,t,c),t.elementType=e,t.type=s,t.lanes=u,t}function Va(e,t,n,s){return e=Kt(7,e,s,t),e.lanes=n,e}function uu(e,t,n){return e=Kt(6,e,null,t),e.lanes=n,e}function Eg(e){var t=Kt(18,null,null,0);return t.stateNode=e,t}function du(e,t,n){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mg=new WeakMap;function rn(e,t){if(typeof e=="object"&&e!==null){var n=Mg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:$e(t)},Mg.set(e,t),t)}return{value:e,source:t,stack:$e(t)}}var Ci=[],Ai=0,er=null,Ms=0,on=[],cn=0,na=null,jn=1,Sn="";function zn(e,t){Ci[Ai++]=Ms,Ci[Ai++]=er,er=e,Ms=t}function Dg(e,t,n){on[cn++]=jn,on[cn++]=Sn,on[cn++]=na,na=e;var s=jn;e=Sn;var c=32-gt(s)-1;s&=~(1<<c),n+=1;var u=32-gt(t)+c;if(30<u){var p=c-c%5;u=(s&(1<<p)-1).toString(32),s>>=p,c-=p,jn=1<<32-gt(t)+c|n<<c|s,Sn=u+e}else jn=1<<u|n<<c|s,Sn=e}function fu(e){e.return!==null&&(zn(e,1),Dg(e,1,0))}function hu(e){for(;e===er;)er=Ci[--Ai],Ci[Ai]=null,Ms=Ci[--Ai],Ci[Ai]=null;for(;e===na;)na=on[--cn],on[cn]=null,Sn=on[--cn],on[cn]=null,jn=on[--cn],on[cn]=null}function kg(e,t){on[cn++]=jn,on[cn++]=Sn,on[cn++]=na,jn=t.id,Sn=t.overflow,na=e}var Nt=null,Ke=null,Ee=!1,aa=null,un=!1,mu=Error(o(519));function ia(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ds(rn(t,e)),mu}function Rg(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[wt]=e,t[Vt]=s,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Ws.length;n++)Te(Ws[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Kp(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Zp(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||$b(t.textContent,n)?(s.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),s.onScroll!=null&&Te("scroll",t),s.onScrollEnd!=null&&Te("scrollend",t),s.onClick!=null&&(t.onclick=Dn),t=!0):t=!1,t||ia(e,!0)}function zg(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:Nt=Nt.return}}function Ei(e){if(e!==Nt)return!1;if(!Ee)return zg(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||kd(e.type,e.memoizedProps)),n=!n),n&&Ke&&ia(e),zg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=sx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ke=sx(e)}else t===27?(t=Ke,ba(e.type)?(e=Ld,Ld=null,Ke=e):Ke=t):Ke=Nt?fn(e.stateNode.nextSibling):null;return!0}function Ba(){Ke=Nt=null,Ee=!1}function pu(){var e=aa;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),aa=null),e}function Ds(e){aa===null?aa=[e]:aa.push(e)}var gu=x(null),Ha=null,On=null;function sa(e,t,n){X(gu,t._currentValue),t._currentValue=n}function Un(e){e._currentValue=gu.current,O(gu)}function yu(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function bu(e,t,n,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var p=c.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=c;for(var _=0;_<t.length;_++)if(v.context===t[_]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),yu(u.return,n,e),s||(p=null);break e}u=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=n,u=p.alternate,u!==null&&(u.lanes|=n),yu(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Mi(e,t,n,s){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var v=c.type;Xt(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===se.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}c=c.return}e!==null&&bu(t,e,n,s),t.flags|=262144}function tr(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qa(e){Ha=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return Og(Ha,e)}function nr(e,t){return Ha===null&&qa(e),Og(e,t)}function Og(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},On===null){if(e===null)throw Error(o(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return n}var d_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},f_=a.unstable_scheduleCallback,h_=a.unstable_NormalPriority,ct={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xu(){return{controller:new d_,data:new Map,refCount:0}}function ks(e){e.refCount--,e.refCount===0&&f_(h_,function(){e.controller.abort()})}var Rs=null,vu=0,Di=0,ki=null;function m_(e,t){if(Rs===null){var n=Rs=[];vu=0,Di=wd(),ki={status:"pending",value:void 0,then:function(s){n.push(s)}}}return vu++,t.then(Ug,Ug),t}function Ug(){if(--vu===0&&Rs!==null){ki!==null&&(ki.status="fulfilled");var e=Rs;Rs=null,Di=0,ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function p_(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),s}var Lg=H.S;H.S=function(e,t){vb=ve(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&m_(e,t),Lg!==null&&Lg(e,t)};var Ya=x(null);function ju(){var e=Ya.current;return e!==null?e:Fe.pooledCache}function ar(e,t){t===null?X(Ya,Ya.current):X(Ya,t.pool)}function Vg(){var e=ju();return e===null?null:{parent:ct._currentValue,pool:e}}var Ri=Error(o(460)),Su=Error(o(474)),ir=Error(o(542)),sr={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Dn,Dn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yg(e),e;default:if(typeof t.status=="string")t.then(Dn,Dn);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yg(e),e}throw Fa=t,Ri}}function Ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Fa=n,Ri):n}}var Fa=null;function qg(){if(Fa===null)throw Error(o(459));var e=Fa;return Fa=null,e}function Yg(e){if(e===Ri||e===ir)throw Error(o(483))}var zi=null,zs=0;function lr(e){var t=zs;return zs+=1,zi===null&&(zi=[]),Hg(zi,e,t)}function Os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rr(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gg(e){function t(U,A){if(e){var L=U.deletions;L===null?(U.deletions=[A],U.flags|=16):L.push(A)}}function n(U,A){if(!e)return null;for(;A!==null;)t(U,A),A=A.sibling;return null}function s(U){for(var A=new Map;U!==null;)U.key!==null?A.set(U.key,U):A.set(U.index,U),U=U.sibling;return A}function c(U,A){return U=Rn(U,A),U.index=0,U.sibling=null,U}function u(U,A,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<A?(U.flags|=67108866,A):L):(U.flags|=67108866,A)):(U.flags|=1048576,A)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function v(U,A,L,W){return A===null||A.tag!==6?(A=uu(L,U.mode,W),A.return=U,A):(A=c(A,L),A.return=U,A)}function _(U,A,L,W){var ye=L.type;return ye===E?K(U,A,L.props.children,W,L.key):A!==null&&(A.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&Ga(ye)===A.type)?(A=c(A,L.props),Os(A,L),A.return=U,A):(A=Wl(L.type,L.key,L.props,null,U.mode,W),Os(A,L),A.return=U,A)}function B(U,A,L,W){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=du(L,U.mode,W),A.return=U,A):(A=c(A,L.children||[]),A.return=U,A)}function K(U,A,L,W,ye){return A===null||A.tag!==7?(A=Va(L,U.mode,W,ye),A.return=U,A):(A=c(A,L),A.return=U,A)}function te(U,A,L){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=uu(""+A,U.mode,L),A.return=U,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return L=Wl(A.type,A.key,A.props,null,U.mode,L),Os(L,A),L.return=U,L;case N:return A=du(A,U.mode,L),A.return=U,A;case J:return A=Ga(A),te(U,A,L)}if(ue(A)||me(A))return A=Va(A,U.mode,L,null),A.return=U,A;if(typeof A.then=="function")return te(U,lr(A),L);if(A.$$typeof===k)return te(U,nr(U,A),L);rr(U,A)}return null}function q(U,A,L,W){var ye=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:v(U,A,""+L,W);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===ye?_(U,A,L,W):null;case N:return L.key===ye?B(U,A,L,W):null;case J:return L=Ga(L),q(U,A,L,W)}if(ue(L)||me(L))return ye!==null?null:K(U,A,L,W,null);if(typeof L.then=="function")return q(U,A,lr(L),W);if(L.$$typeof===k)return q(U,A,nr(U,L),W);rr(U,L)}return null}function G(U,A,L,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(L)||null,v(A,U,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case C:return U=U.get(W.key===null?L:W.key)||null,_(A,U,W,ye);case N:return U=U.get(W.key===null?L:W.key)||null,B(A,U,W,ye);case J:return W=Ga(W),G(U,A,L,W,ye)}if(ue(W)||me(W))return U=U.get(L)||null,K(A,U,W,ye,null);if(typeof W.then=="function")return G(U,A,L,lr(W),ye);if(W.$$typeof===k)return G(U,A,L,nr(A,W),ye);rr(A,W)}return null}function de(U,A,L,W){for(var ye=null,ke=null,pe=A,Ne=A=0,Ae=null;pe!==null&&Ne<L.length;Ne++){pe.index>Ne?(Ae=pe,pe=null):Ae=pe.sibling;var Re=q(U,pe,L[Ne],W);if(Re===null){pe===null&&(pe=Ae);break}e&&pe&&Re.alternate===null&&t(U,pe),A=u(Re,A,Ne),ke===null?ye=Re:ke.sibling=Re,ke=Re,pe=Ae}if(Ne===L.length)return n(U,pe),Ee&&zn(U,Ne),ye;if(pe===null){for(;Ne<L.length;Ne++)pe=te(U,L[Ne],W),pe!==null&&(A=u(pe,A,Ne),ke===null?ye=pe:ke.sibling=pe,ke=pe);return Ee&&zn(U,Ne),ye}for(pe=s(pe);Ne<L.length;Ne++)Ae=G(pe,U,Ne,L[Ne],W),Ae!==null&&(e&&Ae.alternate!==null&&pe.delete(Ae.key===null?Ne:Ae.key),A=u(Ae,A,Ne),ke===null?ye=Ae:ke.sibling=Ae,ke=Ae);return e&&pe.forEach(function(wa){return t(U,wa)}),Ee&&zn(U,Ne),ye}function be(U,A,L,W){if(L==null)throw Error(o(151));for(var ye=null,ke=null,pe=A,Ne=A=0,Ae=null,Re=L.next();pe!==null&&!Re.done;Ne++,Re=L.next()){pe.index>Ne?(Ae=pe,pe=null):Ae=pe.sibling;var wa=q(U,pe,Re.value,W);if(wa===null){pe===null&&(pe=Ae);break}e&&pe&&wa.alternate===null&&t(U,pe),A=u(wa,A,Ne),ke===null?ye=wa:ke.sibling=wa,ke=wa,pe=Ae}if(Re.done)return n(U,pe),Ee&&zn(U,Ne),ye;if(pe===null){for(;!Re.done;Ne++,Re=L.next())Re=te(U,Re.value,W),Re!==null&&(A=u(Re,A,Ne),ke===null?ye=Re:ke.sibling=Re,ke=Re);return Ee&&zn(U,Ne),ye}for(pe=s(pe);!Re.done;Ne++,Re=L.next())Re=G(pe,U,Ne,Re.value,W),Re!==null&&(e&&Re.alternate!==null&&pe.delete(Re.key===null?Ne:Re.key),A=u(Re,A,Ne),ke===null?ye=Re:ke.sibling=Re,ke=Re);return e&&pe.forEach(function(TT){return t(U,TT)}),Ee&&zn(U,Ne),ye}function Ge(U,A,L,W){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:e:{for(var ye=L.key;A!==null;){if(A.key===ye){if(ye=L.type,ye===E){if(A.tag===7){n(U,A.sibling),W=c(A,L.props.children),W.return=U,U=W;break e}}else if(A.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&Ga(ye)===A.type){n(U,A.sibling),W=c(A,L.props),Os(W,L),W.return=U,U=W;break e}n(U,A);break}else t(U,A);A=A.sibling}L.type===E?(W=Va(L.props.children,U.mode,W,L.key),W.return=U,U=W):(W=Wl(L.type,L.key,L.props,null,U.mode,W),Os(W,L),W.return=U,U=W)}return p(U);case N:e:{for(ye=L.key;A!==null;){if(A.key===ye)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){n(U,A.sibling),W=c(A,L.children||[]),W.return=U,U=W;break e}else{n(U,A);break}else t(U,A);A=A.sibling}W=du(L,U.mode,W),W.return=U,U=W}return p(U);case J:return L=Ga(L),Ge(U,A,L,W)}if(ue(L))return de(U,A,L,W);if(me(L)){if(ye=me(L),typeof ye!="function")throw Error(o(150));return L=ye.call(L),be(U,A,L,W)}if(typeof L.then=="function")return Ge(U,A,lr(L),W);if(L.$$typeof===k)return Ge(U,A,nr(U,L),W);rr(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,A!==null&&A.tag===6?(n(U,A.sibling),W=c(A,L),W.return=U,U=W):(n(U,A),W=uu(L,U.mode,W),W.return=U,U=W),p(U)):n(U,A)}return function(U,A,L,W){try{zs=0;var ye=Ge(U,A,L,W);return zi=null,ye}catch(pe){if(pe===Ri||pe===ir)throw pe;var ke=Kt(29,pe,null,U.mode);return ke.lanes=W,ke.return=U,ke}finally{}}}var Xa=Gg(!0),Fg=Gg(!1),la=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Oe&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=Il(e),Cg(e,null,n),t}return Jl(e,s,t,n),Il(e)}function Us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Op(e,n)}}function _u(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?c=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tu=!1;function Ls(){if(Tu){var e=ki;if(e!==null)throw e}}function Vs(e,t,n,s){Tu=!1;var c=e.updateQueue;la=!1;var u=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var _=v,B=_.next;_.next=null,p===null?u=B:p.next=B,p=_;var K=e.alternate;K!==null&&(K=K.updateQueue,v=K.lastBaseUpdate,v!==p&&(v===null?K.firstBaseUpdate=B:v.next=B,K.lastBaseUpdate=_))}if(u!==null){var te=c.baseState;p=0,K=B=_=null,v=u;do{var q=v.lane&-536870913,G=q!==v.lane;if(G?(Ce&q)===q:(s&q)===q){q!==0&&q===Di&&(Tu=!0),K!==null&&(K=K.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var de=e,be=v;q=t;var Ge=n;switch(be.tag){case 1:if(de=be.payload,typeof de=="function"){te=de.call(Ge,te,q);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=be.payload,q=typeof de=="function"?de.call(Ge,te,q):de,q==null)break e;te=j({},te,q);break e;case 2:la=!0}}q=v.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:v.tag,payload:v.payload,callback:v.callback,next:null},K===null?(B=K=G,_=te):K=K.next=G,p|=q;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;G=v,v=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);K===null&&(_=te),c.baseState=_,c.firstBaseUpdate=B,c.lastBaseUpdate=K,u===null&&(c.shared.lanes=0),ha|=p,e.lanes=p,e.memoizedState=te}}function Xg(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Kg(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Xg(n[e],t)}var Oi=x(null),or=x(0);function Qg(e,t){e=Xn,X(or,e),X(Oi,t),Xn=e|t.baseLanes}function Cu(){X(or,Xn),X(Oi,Oi.current)}function Au(){Xn=or.current,O(Oi),O(or)}var Qt=x(null),dn=null;function ca(e){var t=e.alternate;X(st,st.current&1),X(Qt,e),dn===null&&(t===null||Oi.current!==null||t.memoizedState!==null)&&(dn=e)}function Eu(e){X(st,st.current),X(Qt,e),dn===null&&(dn=e)}function Zg(e){e.tag===22?(X(st,st.current),X(Qt,e),dn===null&&(dn=e)):ua()}function ua(){X(st,st.current),X(Qt,Qt.current)}function Zt(e){O(Qt),dn===e&&(dn=null),O(st)}var st=x(0);function cr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Od(n)||Ud(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ln=0,we=null,qe=null,ut=null,ur=!1,Ui=!1,Ka=!1,dr=0,Bs=0,Li=null,g_=0;function nt(){throw Error(o(321))}function Mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function Du(e,t,n,s,c,u){return Ln=u,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?Dy:Ku,Ka=!1,u=n(s,c),Ka=!1,Ui&&(u=$g(t,n,s,c)),Pg(e),u}function Pg(e){H.H=Ys;var t=qe!==null&&qe.next!==null;if(Ln=0,ut=qe=we=null,ur=!1,Bs=0,Li=null,t)throw Error(o(300));e===null||dt||(e=e.dependencies,e!==null&&tr(e)&&(dt=!0))}function $g(e,t,n,s){we=e;var c=0;do{if(Ui&&(Li=null),Bs=0,Ui=!1,25<=c)throw Error(o(301));if(c+=1,ut=qe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}H.H=ky,u=t(n,s)}while(Ui);return u}function y_(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Hs(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(we.flags|=1024),t}function ku(){var e=dr!==0;return dr=0,e}function Ru(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zu(e){if(ur){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ur=!1}Ln=0,ut=qe=we=null,Ui=!1,Bs=dr=0,Li=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?we.memoizedState=ut=e:ut=ut.next=e,ut}function lt(){if(qe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=ut===null?we.memoizedState:ut.next;if(t!==null)ut=t,qe=e;else{if(e===null)throw we.alternate===null?Error(o(467)):Error(o(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ut===null?we.memoizedState=ut=e:ut=ut.next=e}return ut}function fr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hs(e){var t=Bs;return Bs+=1,Li===null&&(Li=[]),e=Hg(Li,e,t),t=we,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?Dy:Ku),e}function hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hs(e);if(e.$$typeof===k)return _t(e)}throw Error(o(438,String(e)))}function Ou(e){var t=null,n=we.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=we.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=fr(),we.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=ne;return t.index++,n}function Vn(e,t){return typeof t=="function"?t(e):t}function mr(e){var t=lt();return Uu(t,qe,e)}function Uu(e,t,n){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var c=e.baseQueue,u=s.pending;if(u!==null){if(c!==null){var p=c.next;c.next=u.next,u.next=p}t.baseQueue=c=u,s.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var v=p=null,_=null,B=t,K=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(Ce&te)===te:(Ln&te)===te){var q=B.revertLane;if(q===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===Di&&(K=!0);else if((Ln&q)===q){B=B.next,q===Di&&(K=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},_===null?(v=_=te,p=u):_=_.next=te,we.lanes|=q,ha|=q;te=B.action,Ka&&n(u,te),u=B.hasEagerState?B.eagerState:n(u,te)}else q={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},_===null?(v=_=q,p=u):_=_.next=q,we.lanes|=te,ha|=te;B=B.next}while(B!==null&&B!==t);if(_===null?p=u:_.next=v,!Xt(u,e.memoizedState)&&(dt=!0,K&&(n=ki,n!==null)))throw n;e.memoizedState=u,e.baseState=p,e.baseQueue=_,s.lastRenderedState=u}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Lu(e){var t=lt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do u=e(u,p.action),p=p.next;while(p!==c);Xt(u,t.memoizedState)||(dt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function Jg(e,t,n){var s=we,c=lt(),u=Ee;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var p=!Xt((qe||c).memoizedState,n);if(p&&(c.memoizedState=n,dt=!0),c=c.queue,Hu(ey.bind(null,s,c,e),[e]),c.getSnapshot!==t||p||ut!==null&&ut.memoizedState.tag&1){if(s.flags|=2048,Vi(9,{destroy:void 0},Wg.bind(null,s,c,n,t),null),Fe===null)throw Error(o(349));u||(Ln&127)!==0||Ig(s,t,n)}return n}function Ig(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t=fr(),we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wg(e,t,n,s){t.value=n,t.getSnapshot=s,ty(t)&&ny(e)}function ey(e,t,n){return n(function(){ty(t)&&ny(e)})}function ty(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xt(e,n)}catch{return!0}}function ny(e){var t=La(e,2);t!==null&&Ft(t,e,2)}function Vu(e){var t=Ot();if(typeof e=="function"){var n=e;if(e=n(),Ka){St(!0);try{n()}finally{St(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t}function ay(e,t,n,s){return e.baseState=n,Uu(e,qe,typeof s=="function"?s:Vn)}function b_(e,t,n,s,c){if(yr(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){u.listeners.push(p)}};H.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,iy(t,u)):(u.next=n.next,t.pending=n.next=u)}}function iy(e,t){var n=t.action,s=t.payload,c=e.state;if(t.isTransition){var u=H.T,p={};H.T=p;try{var v=n(c,s),_=H.S;_!==null&&_(p,v),sy(e,t,v)}catch(B){Bu(e,t,B)}finally{u!==null&&p.types!==null&&(u.types=p.types),H.T=u}}else try{u=n(c,s),sy(e,t,u)}catch(B){Bu(e,t,B)}}function sy(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){ly(e,t,s)},function(s){return Bu(e,t,s)}):ly(e,t,n)}function ly(e,t,n){t.status="fulfilled",t.value=n,ry(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,iy(e,n)))}function Bu(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,ry(t),t=t.next;while(t!==s)}e.action=null}function ry(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oy(e,t){return t}function cy(e,t){if(Ee){var n=Fe.formState;if(n!==null){e:{var s=we;if(Ee){if(Ke){t:{for(var c=Ke,u=un;c.nodeType!==8;){if(!u){c=null;break t}if(c=fn(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){Ke=fn(c.nextSibling),s=c.data==="F!";break e}}ia(s)}s=!1}s&&(t=n[0])}}return n=Ot(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:t},n.queue=s,n=Ay.bind(null,we,s),s.dispatch=n,s=Vu(!1),u=Xu.bind(null,we,!1,s.queue),s=Ot(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,n=b_.bind(null,we,c,u,n),c.dispatch=n,s.memoizedState=e,[t,n,!1]}function uy(e){var t=lt();return dy(t,qe,e)}function dy(e,t,n){if(t=Uu(e,t,oy)[0],e=mr(Vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Hs(t)}catch(p){throw p===Ri?ir:p}else s=t;t=lt();var c=t.queue,u=c.dispatch;return n!==t.memoizedState&&(we.flags|=2048,Vi(9,{destroy:void 0},x_.bind(null,c,n),null)),[s,u,e]}function x_(e,t){e.action=t}function fy(e){var t=lt(),n=qe;if(n!==null)return dy(t,n,e);lt(),t=t.memoizedState,n=lt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Vi(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=we.updateQueue,t===null&&(t=fr(),we.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function hy(){return lt().memoizedState}function pr(e,t,n,s){var c=Ot();we.flags|=e,c.memoizedState=Vi(1|t,{destroy:void 0},n,s===void 0?null:s)}function gr(e,t,n,s){var c=lt();s=s===void 0?null:s;var u=c.memoizedState.inst;qe!==null&&s!==null&&Mu(s,qe.memoizedState.deps)?c.memoizedState=Vi(t,u,n,s):(we.flags|=e,c.memoizedState=Vi(1|t,u,n,s))}function my(e,t){pr(8390656,8,e,t)}function Hu(e,t){gr(2048,8,e,t)}function v_(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=fr(),we.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function py(e){var t=lt().memoizedState;return v_({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function gy(e,t){return gr(4,2,e,t)}function yy(e,t){return gr(4,4,e,t)}function by(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xy(e,t,n){n=n!=null?n.concat([e]):null,gr(4,4,by.bind(null,t,e),n)}function qu(){}function vy(e,t){var n=lt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Mu(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function jy(e,t){var n=lt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Mu(t,s[1]))return s[0];if(s=e(),Ka){St(!0);try{e()}finally{St(!1)}}return n.memoizedState=[s,t],s}function Yu(e,t,n){return n===void 0||(Ln&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Sb(),we.lanes|=e,ha|=e,n)}function Sy(e,t,n,s){return Xt(n,t)?n:Oi.current!==null?(e=Yu(e,n,s),Xt(e,t)||(dt=!0),e):(Ln&42)===0||(Ln&1073741824)!==0&&(Ce&261930)===0?(dt=!0,e.memoizedState=n):(e=Sb(),we.lanes|=e,ha|=e,t)}function wy(e,t,n,s,c){var u=Z.p;Z.p=u!==0&&8>u?u:8;var p=H.T,v={};H.T=v,Xu(e,!1,t,n);try{var _=c(),B=H.S;if(B!==null&&B(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var K=p_(_,s);qs(e,t,K,Jt(e))}else qs(e,t,s,Jt(e))}catch(te){qs(e,t,{then:function(){},status:"rejected",reason:te},Jt())}finally{Z.p=u,p!==null&&v.types!==null&&(p.types=v.types),H.T=p}}function j_(){}function Gu(e,t,n,s){if(e.tag!==5)throw Error(o(476));var c=Ny(e).queue;wy(e,c,t,Q,n===null?j_:function(){return _y(e),n(s)})}function Ny(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:Q},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _y(e){var t=Ny(e);t.next===null&&(t=e.alternate.memoizedState),qs(e,t.next.queue,{},Jt())}function Fu(){return _t(il)}function Ty(){return lt().memoizedState}function Cy(){return lt().memoizedState}function S_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Jt();e=ra(n);var s=oa(t,e,n);s!==null&&(Ft(s,t,n),Us(s,t,n)),t={cache:xu()},e.payload=t;return}t=t.return}}function w_(e,t,n){var s=Jt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yr(e)?Ey(t,n):(n=ou(e,t,n,s),n!==null&&(Ft(n,e,s),My(n,t,s)))}function Ay(e,t,n){var s=Jt();qs(e,t,n,s)}function qs(e,t,n,s){var c={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(yr(e))Ey(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,v=u(p,n);if(c.hasEagerState=!0,c.eagerState=v,Xt(v,p))return Jl(e,t,c,0),Fe===null&&$l(),!1}catch{}finally{}if(n=ou(e,t,c,s),n!==null)return Ft(n,e,s),My(n,t,s),!0}return!1}function Xu(e,t,n,s){if(s={lane:2,revertLane:wd(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},yr(e)){if(t)throw Error(o(479))}else t=ou(e,n,s,2),t!==null&&Ft(t,e,2)}function yr(e){var t=e.alternate;return e===we||t!==null&&t===we}function Ey(e,t){Ui=ur=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function My(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Op(e,n)}}var Ys={readContext:_t,use:hr,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Ys.useEffectEvent=nt;var Dy={readContext:_t,use:hr,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:my,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,pr(4194308,4,by.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pr(4194308,4,e,t)},useInsertionEffect:function(e,t){pr(4,2,e,t)},useMemo:function(e,t){var n=Ot();t=t===void 0?null:t;var s=e();if(Ka){St(!0);try{e()}finally{St(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Ot();if(n!==void 0){var c=n(t);if(Ka){St(!0);try{n(t)}finally{St(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=w_.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=Vu(e);var t=e.queue,n=Ay.bind(null,we,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qu,useDeferredValue:function(e,t){var n=Ot();return Yu(n,e,t)},useTransition:function(){var e=Vu(!1);return e=wy.bind(null,we,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=we,c=Ot();if(Ee){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Fe===null)throw Error(o(349));(Ce&127)!==0||Ig(s,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,my(ey.bind(null,s,u,e),[e]),s.flags|=2048,Vi(9,{destroy:void 0},Wg.bind(null,s,u,n,t),null),n},useId:function(){var e=Ot(),t=Fe.identifierPrefix;if(Ee){var n=Sn,s=jn;n=(s&~(1<<32-gt(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=dr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=g_++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fu,useFormState:cy,useActionState:cy,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Xu.bind(null,we,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ou,useCacheRefresh:function(){return Ot().memoizedState=S_.bind(null,we)},useEffectEvent:function(e){var t=Ot(),n={impl:e};return t.memoizedState=n,function(){if((Oe&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Ku={readContext:_t,use:hr,useCallback:vy,useContext:_t,useEffect:Hu,useImperativeHandle:xy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:jy,useReducer:mr,useRef:hy,useState:function(){return mr(Vn)},useDebugValue:qu,useDeferredValue:function(e,t){var n=lt();return Sy(n,qe.memoizedState,e,t)},useTransition:function(){var e=mr(Vn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Hs(e),t]},useSyncExternalStore:Jg,useId:Ty,useHostTransitionStatus:Fu,useFormState:uy,useActionState:uy,useOptimistic:function(e,t){var n=lt();return ay(n,qe,e,t)},useMemoCache:Ou,useCacheRefresh:Cy};Ku.useEffectEvent=py;var ky={readContext:_t,use:hr,useCallback:vy,useContext:_t,useEffect:Hu,useImperativeHandle:xy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:jy,useReducer:Lu,useRef:hy,useState:function(){return Lu(Vn)},useDebugValue:qu,useDeferredValue:function(e,t){var n=lt();return qe===null?Yu(n,e,t):Sy(n,qe.memoizedState,e,t)},useTransition:function(){var e=Lu(Vn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Hs(e),t]},useSyncExternalStore:Jg,useId:Ty,useHostTransitionStatus:Fu,useFormState:fy,useActionState:fy,useOptimistic:function(e,t){var n=lt();return qe!==null?ay(n,qe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ou,useCacheRefresh:Cy};ky.useEffectEvent=py;function Qu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:j({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zu={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Jt(),c=ra(s);c.payload=t,n!=null&&(c.callback=n),t=oa(e,c,s),t!==null&&(Ft(t,e,s),Us(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Jt(),c=ra(s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=oa(e,c,s),t!==null&&(Ft(t,e,s),Us(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jt(),s=ra(n);s.tag=2,t!=null&&(s.callback=t),t=oa(e,s,n),t!==null&&(Ft(t,e,n),Us(t,e,n))}};function Ry(e,t,n,s,c,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!As(n,s)||!As(c,u):!0}function zy(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function Qa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=j({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Oy(e){Pl(e)}function Uy(e){console.error(e)}function Ly(e){Pl(e)}function br(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Vy(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Pu(e,t,n){return n=ra(n),n.tag=3,n.payload={element:null},n.callback=function(){br(e,t)},n}function By(e){return e=ra(e),e.tag=3,e}function Hy(e,t,n,s){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var u=s.value;e.payload=function(){return c(u)},e.callback=function(){Vy(t,n,s)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Vy(t,n,s),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function N_(e,t,n,s,c){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Mi(t,n,c,!0),n=Qt.current,n!==null){switch(n.tag){case 31:case 13:return dn===null?Mr():n.alternate===null&&at===0&&(at=3),n.flags&=-257,n.flags|=65536,n.lanes=c,s===sr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),vd(e,s,c)),!1;case 22:return n.flags|=65536,s===sr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),vd(e,s,c)),!1}throw Error(o(435,n.tag))}return vd(e,s,c),Mr(),!1}if(Ee)return t=Qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==mu&&(e=Error(o(422),{cause:s}),Ds(rn(e,n)))):(s!==mu&&(t=Error(o(423),{cause:s}),Ds(rn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=rn(s,n),c=Pu(e.stateNode,s,c),_u(e,c),at!==4&&(at=2)),!1;var u=Error(o(520),{cause:s});if(u=rn(u,n),$s===null?$s=[u]:$s.push(u),at!==4&&(at=2),t===null)return!0;s=rn(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=Pu(n.stateNode,s,e),_u(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ma===null||!ma.has(u))))return n.flags|=65536,c&=-c,n.lanes|=c,c=By(c),Hy(c,e,n,s),_u(n,c),!1}n=n.return}while(n!==null);return!1}var $u=Error(o(461)),dt=!1;function Tt(e,t,n,s){t.child=e===null?Fg(t,null,n,s):Xa(t,e.child,n,s)}function qy(e,t,n,s,c){n=n.render;var u=t.ref;if("ref"in s){var p={};for(var v in s)v!=="ref"&&(p[v]=s[v])}else p=s;return qa(t),s=Du(e,t,n,p,u,c),v=ku(),e!==null&&!dt?(Ru(e,t,c),Bn(e,t,c)):(Ee&&v&&fu(t),t.flags|=1,Tt(e,t,s,c),t.child)}function Yy(e,t,n,s,c){if(e===null){var u=n.type;return typeof u=="function"&&!cu(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Gy(e,t,u,s,c)):(e=Wl(n.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!id(e,c)){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:As,n(p,s)&&e.ref===t.ref)return Bn(e,t,c)}return t.flags|=1,e=Rn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Gy(e,t,n,s,c){if(e!==null){var u=e.memoizedProps;if(As(u,s)&&e.ref===t.ref)if(dt=!1,t.pendingProps=s=u,id(e,c))(e.flags&131072)!==0&&(dt=!0);else return t.lanes=e.lanes,Bn(e,t,c)}return Ju(e,t,n,s,c)}function Fy(e,t,n,s){var c=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~u}else s=0,t.child=null;return Xy(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ar(t,u!==null?u.cachePool:null),u!==null?Qg(t,u):Cu(),Zg(t);else return s=t.lanes=536870912,Xy(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(ar(t,u.cachePool),Qg(t,u),ua(),t.memoizedState=null):(e!==null&&ar(t,null),Cu(),ua());return Tt(e,t,c,n),t.child}function Gs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xy(e,t,n,s,c){var u=ju();return u=u===null?null:{parent:ct._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&ar(t,null),Cu(),Zg(t),e!==null&&Mi(e,t,s,!0),t.childLanes=c,null}function xr(e,t){return t=jr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ky(e,t,n){return Xa(t,e.child,null,n),e=xr(t,t.pendingProps),e.flags|=2,Zt(t),t.memoizedState=null,e}function __(e,t,n){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=xr(t,s),t.lanes=536870912,Gs(null,e);if(Eu(t),(e=Ke)?(e=ix(e,un),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:na!==null?{id:jn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},n=Eg(e),n.return=t,t.child=n,Nt=t,Ke=null)):e=null,e===null)throw ia(t);return t.lanes=536870912,null}return xr(t,s)}var u=e.memoizedState;if(u!==null){var p=u.dehydrated;if(Eu(t),c)if(t.flags&256)t.flags&=-257,t=Ky(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(dt||Mi(e,t,n,!1),c=(n&e.childLanes)!==0,dt||c){if(s=Fe,s!==null&&(p=Up(s,n),p!==0&&p!==u.retryLane))throw u.retryLane=p,La(e,p),Ft(s,e,p),$u;Mr(),t=Ky(e,t,n)}else e=u.treeContext,Ke=fn(p.nextSibling),Nt=t,Ee=!0,aa=null,un=!1,e!==null&&kg(t,e),t=xr(t,s),t.flags|=4096;return t}return e=Rn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ju(e,t,n,s,c){return qa(t),n=Du(e,t,n,s,void 0,c),s=ku(),e!==null&&!dt?(Ru(e,t,c),Bn(e,t,c)):(Ee&&s&&fu(t),t.flags|=1,Tt(e,t,n,c),t.child)}function Qy(e,t,n,s,c,u){return qa(t),t.updateQueue=null,n=$g(t,s,n,c),Pg(e),s=ku(),e!==null&&!dt?(Ru(e,t,u),Bn(e,t,u)):(Ee&&s&&fu(t),t.flags|=1,Tt(e,t,n,u),t.child)}function Zy(e,t,n,s,c){if(qa(t),t.stateNode===null){var u=Ti,p=n.contextType;typeof p=="object"&&p!==null&&(u=_t(p)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Zu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},wu(t),p=n.contextType,u.context=typeof p=="object"&&p!==null?_t(p):Ti,u.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Qu(t,n,p,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(p=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),p!==u.state&&Zu.enqueueReplaceState(u,u.state,null),Vs(t,s,u,c),Ls(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,_=Qa(n,v);u.props=_;var B=u.context,K=n.contextType;p=Ti,typeof K=="object"&&K!==null&&(p=_t(K));var te=n.getDerivedStateFromProps;K=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,K||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||B!==p)&&zy(t,u,s,p),la=!1;var q=t.memoizedState;u.state=q,Vs(t,s,u,c),Ls(),B=t.memoizedState,v||q!==B||la?(typeof te=="function"&&(Qu(t,n,te,s),B=t.memoizedState),(_=la||Ry(t,n,_,s,q,B,p))?(K||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=B),u.props=s,u.state=B,u.context=p,s=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Nu(e,t),p=t.memoizedProps,K=Qa(n,p),u.props=K,te=t.pendingProps,q=u.context,B=n.contextType,_=Ti,typeof B=="object"&&B!==null&&(_=_t(B)),v=n.getDerivedStateFromProps,(B=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p!==te||q!==_)&&zy(t,u,s,_),la=!1,q=t.memoizedState,u.state=q,Vs(t,s,u,c),Ls();var G=t.memoizedState;p!==te||q!==G||la||e!==null&&e.dependencies!==null&&tr(e.dependencies)?(typeof v=="function"&&(Qu(t,n,v,s),G=t.memoizedState),(K=la||Ry(t,n,K,s,q,G,_)||e!==null&&e.dependencies!==null&&tr(e.dependencies))?(B||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,G,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,G,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=G),u.props=s,u.state=G,u.context=_,s=K):(typeof u.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,vr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Xa(t,e.child,null,c),t.child=Xa(t,null,n,c)):Tt(e,t,n,c),t.memoizedState=u.state,e=t.child):e=Bn(e,t,c),e}function Py(e,t,n,s){return Ba(),t.flags|=256,Tt(e,t,n,s),t.child}var Iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(e){return{baseLanes:e,cachePool:Vg()}}function ed(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$t),e}function $y(e,t,n){var s=t.pendingProps,c=!1,u=(t.flags&128)!==0,p;if((p=u)||(p=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(c?ca(t):ua(),(e=Ke)?(e=ix(e,un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:na!==null?{id:jn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},n=Eg(e),n.return=t,t.child=n,Nt=t,Ke=null)):e=null,e===null)throw ia(t);return Ud(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,c?(ua(),c=t.mode,v=jr({mode:"hidden",children:v},c),s=Va(s,c,n,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Wu(n),s.childLanes=ed(e,p,n),t.memoizedState=Iu,Gs(null,s)):(ca(t),td(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(u)t.flags&256?(ca(t),t.flags&=-257,t=nd(e,t,n)):t.memoizedState!==null?(ua(),t.child=e.child,t.flags|=128,t=null):(ua(),v=s.fallback,c=t.mode,s=jr({mode:"visible",children:s.children},c),v=Va(v,c,n,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,Xa(t,e.child,null,n),s=t.child,s.memoizedState=Wu(n),s.childLanes=ed(e,p,n),t.memoizedState=Iu,t=Gs(null,s));else if(ca(t),Ud(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var B=p.dgst;p=B,s=Error(o(419)),s.stack="",s.digest=p,Ds({value:s,source:null,stack:null}),t=nd(e,t,n)}else if(dt||Mi(e,t,n,!1),p=(n&e.childLanes)!==0,dt||p){if(p=Fe,p!==null&&(s=Up(p,n),s!==0&&s!==_.retryLane))throw _.retryLane=s,La(e,s),Ft(p,e,s),$u;Od(v)||Mr(),t=nd(e,t,n)}else Od(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ke=fn(v.nextSibling),Nt=t,Ee=!0,aa=null,un=!1,e!==null&&kg(t,e),t=td(t,s.children),t.flags|=4096);return t}return c?(ua(),v=s.fallback,c=t.mode,_=e.child,B=_.sibling,s=Rn(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,B!==null?v=Rn(B,v):(v=Va(v,c,n,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,Gs(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Wu(n):(c=v.cachePool,c!==null?(_=ct._currentValue,c=c.parent!==_?{parent:_,pool:_}:c):c=Vg(),v={baseLanes:v.baseLanes|n,cachePool:c}),s.memoizedState=v,s.childLanes=ed(e,p,n),t.memoizedState=Iu,Gs(e.child,s)):(ca(t),n=e.child,e=n.sibling,n=Rn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function td(e,t){return t=jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jr(e,t){return e=Kt(22,e,null,t),e.lanes=0,e}function nd(e,t,n){return Xa(t,e.child,null,n),e=td(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jy(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),yu(e.return,t,n)}function ad(e,t,n,s,c,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:c,treeForkCount:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=n,p.tailMode=c,p.treeForkCount=u)}function Iy(e,t,n){var s=t.pendingProps,c=s.revealOrder,u=s.tail;s=s.children;var p=st.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,X(st,p),Tt(e,t,s,n),s=Ee?Ms:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jy(e,n,t);else if(e.tag===19)Jy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&cr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),ad(t,!1,c,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&cr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}ad(t,!0,n,null,u,s);break;case"together":ad(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Mi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function id(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tr(e)))}function T_(e,t,n){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),sa(t,ct,e.memoizedState.cache),Ba();break;case 27:case 5:De(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:sa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Eu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ca(t),t.flags|=128,null):(n&t.child.childLanes)!==0?$y(e,t,n):(ca(t),e=Bn(e,t,n),e!==null?e.sibling:null);ca(t);break;case 19:var c=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Mi(e,t,n,!1),s=(n&t.childLanes)!==0),c){if(s)return Iy(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(st,st.current),s)break;return null;case 22:return t.lanes=0,Fy(e,t,n,t.pendingProps);case 24:sa(t,ct,e.memoizedState.cache)}return Bn(e,t,n)}function Wy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)dt=!0;else{if(!id(e,n)&&(t.flags&128)===0)return dt=!1,T_(e,t,n);dt=(e.flags&131072)!==0}else dt=!1,Ee&&(t.flags&1048576)!==0&&Dg(t,Ms,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ga(t.elementType),t.type=e,typeof e=="function")cu(e)?(s=Qa(e,s),t.tag=1,t=Zy(null,t,e,s,n)):(t.tag=0,t=Ju(null,t,e,s,n));else{if(e!=null){var c=e.$$typeof;if(c===I){t.tag=11,t=qy(null,t,e,s,n);break e}else if(c===Y){t.tag=14,t=Yy(null,t,e,s,n);break e}}throw t=ge(e)||e,Error(o(306,t,""))}}return t;case 0:return Ju(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,c=Qa(s,t.pendingProps),Zy(e,t,s,c,n);case 3:e:{if(ce(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var u=t.memoizedState;c=u.element,Nu(e,t),Vs(t,s,null,n);var p=t.memoizedState;if(s=p.cache,sa(t,ct,s),s!==u.cache&&bu(t,[ct],n,!0),Ls(),s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Py(e,t,s,n);break e}else if(s!==c){c=rn(Error(o(424)),t),Ds(c),t=Py(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=fn(e.firstChild),Nt=t,Ee=!0,aa=null,un=!0,n=Fg(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ba(),s===c){t=Bn(e,t,n);break e}Tt(e,t,s,n)}t=t.child}return t;case 26:return vr(e,t),e===null?(n=ux(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,s=Lr($.current).createElement(n),s[wt]=t,s[Vt]=e,Ct(s,n,e),yt(s),t.stateNode=s):t.memoizedState=ux(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return De(t),e===null&&Ee&&(s=t.stateNode=rx(t.type,t.pendingProps,$.current),Nt=t,un=!0,c=Ke,ba(t.type)?(Ld=c,Ke=fn(s.firstChild)):Ke=c),Tt(e,t,t.pendingProps.children,n),vr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((c=s=Ke)&&(s=nT(s,t.type,t.pendingProps,un),s!==null?(t.stateNode=s,Nt=t,Ke=fn(s.firstChild),un=!1,c=!0):c=!1),c||ia(t)),De(t),c=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,s=u.children,kd(c,u)?s=null:p!==null&&kd(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Du(e,t,y_,null,null,n),il._currentValue=c),vr(e,t),Tt(e,t,s,n),t.child;case 6:return e===null&&Ee&&((e=n=Ke)&&(n=aT(n,t.pendingProps,un),n!==null?(t.stateNode=n,Nt=t,Ke=null,e=!0):e=!1),e||ia(t)),null;case 13:return $y(e,t,n);case 4:return ce(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Xa(t,null,s,n):Tt(e,t,s,n),t.child;case 11:return qy(e,t,t.type,t.pendingProps,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,sa(t,t.type,s.value),Tt(e,t,s.children,n),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,qa(t),c=_t(c),s=s(c),t.flags|=1,Tt(e,t,s,n),t.child;case 14:return Yy(e,t,t.type,t.pendingProps,n);case 15:return Gy(e,t,t.type,t.pendingProps,n);case 19:return Iy(e,t,n);case 31:return __(e,t,n);case 22:return Fy(e,t,n,t.pendingProps);case 24:return qa(t),s=_t(ct),e===null?(c=ju(),c===null&&(c=Fe,u=xu(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=n),c=u),t.memoizedState={parent:s,cache:c},wu(t),sa(t,ct,c)):((e.lanes&n)!==0&&(Nu(e,t),Vs(t,null,null,n),Ls()),c=e.memoizedState,u=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),sa(t,ct,s)):(s=u.cache,sa(t,ct,s),s!==c.cache&&bu(t,[ct],n,!0))),Tt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Hn(e){e.flags|=4}function sd(e,t,n,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Tb())e.flags|=8192;else throw Fa=sr,Su}else e.flags&=-16777217}function eb(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!px(t))if(Tb())e.flags|=8192;else throw Fa=sr,Su}function Sr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rp():536870912,e.lanes|=t,Yi|=t)}function Fs(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function C_(e,t,n){var s=t.pendingProps;switch(hu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Un(ct),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ei(t)?Hn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pu())),Qe(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(Hn(t),u!==null?(Qe(t),eb(t,u)):(Qe(t),sd(t,c,null,s,n))):u?u!==e.memoizedState?(Hn(t),Qe(t),eb(t,u)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Hn(t),Qe(t),sd(t,c,e,s,n)),null;case 27:if(Me(t),n=$.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Hn(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Qe(t),null}e=M.current,Ei(t)?Rg(t):(e=rx(c,s,n),t.stateNode=e,Hn(t))}return Qe(t),null;case 5:if(Me(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Hn(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Qe(t),null}if(u=M.current,Ei(t))Rg(t);else{var p=Lr($.current);switch(u){case 1:u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=p.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?p.createElement(c,{is:s.is}):p.createElement(c)}}u[wt]=t,u[Vt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)u.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=u;e:switch(Ct(u,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Hn(t)}}return Qe(t),sd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Hn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=$.current,Ei(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,c=Nt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[wt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||$b(e.nodeValue,n)),e||ia(t,!0)}else e=Lr(e).createTextNode(s),e[wt]=t,t.stateNode=e}return Qe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ei(t),n!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[wt]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else n=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Zt(t),t):(Zt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ei(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[wt]=t}else Ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),c=!1}else c=pu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Zt(t),t):(Zt(t),null)}return Zt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==c&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Sr(t,t.updateQueue),Qe(t),null);case 4:return fe(),e===null&&Cd(t.stateNode.containerInfo),Qe(t),null;case 10:return Un(t.type),Qe(t),null;case 19:if(O(st),s=t.memoizedState,s===null)return Qe(t),null;if(c=(t.flags&128)!==0,u=s.rendering,u===null)if(c)Fs(s,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=cr(e),u!==null){for(t.flags|=128,Fs(s,!1),e=u.updateQueue,t.updateQueue=e,Sr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ag(n,e),n=n.sibling;return X(st,st.current&1|2),Ee&&zn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ve()>Cr&&(t.flags|=128,c=!0,Fs(s,!1),t.lanes=4194304)}else{if(!c)if(e=cr(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Sr(t,e),Fs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Ee)return Qe(t),null}else 2*ve()-s.renderingStartTime>Cr&&n!==536870912&&(t.flags|=128,c=!0,Fs(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ve(),e.sibling=null,n=st.current,X(st,c?n&1|2:n&1),Ee&&zn(t,s.treeForkCount),e):(Qe(t),null);case 22:case 23:return Zt(t),Au(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),n=t.updateQueue,n!==null&&Sr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&O(Ya),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Un(ct),Qe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function A_(e,t){switch(hu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(ct),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 31:if(t.memoizedState!==null){if(Zt(t),t.alternate===null)throw Error(o(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(st),null;case 4:return fe(),null;case 10:return Un(t.type),null;case 22:case 23:return Zt(t),Au(),e!==null&&O(Ya),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Un(ct),null;case 25:return null;default:return null}}function tb(e,t){switch(hu(t),t.tag){case 3:Un(ct),fe();break;case 26:case 27:case 5:Me(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&Zt(t);break;case 13:Zt(t);break;case 19:O(st);break;case 10:Un(t.type);break;case 22:case 23:Zt(t),Au(),e!==null&&O(Ya);break;case 24:Un(ct)}}function Xs(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var c=s.next;n=c;do{if((n.tag&e)===e){s=void 0;var u=n.create,p=n.inst;s=u(),p.destroy=s}n=n.next}while(n!==c)}}catch(v){Ve(t,t.return,v)}}function da(e,t,n){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var u=c.next;s=u;do{if((s.tag&e)===e){var p=s.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=t;var _=n,B=v;try{B()}catch(K){Ve(c,_,K)}}}s=s.next}while(s!==u)}}catch(K){Ve(t,t.return,K)}}function nb(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Kg(t,n)}catch(s){Ve(e,e.return,s)}}}function ab(e,t,n){n.props=Qa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ve(e,t,s)}}function Ks(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(c){Ve(e,t,c)}}function wn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(c){Ve(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ve(e,t,c)}else n.current=null}function ib(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(c){Ve(e,e.return,c)}}function ld(e,t,n){try{var s=e.stateNode;$_(s,e.type,n,t),s[Vt]=t}catch(c){Ve(e,e.return,c)}}function sb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ba(e.type)||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function od(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dn));else if(s!==4&&(s===27&&ba(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(od(e,t,n),e=e.sibling;e!==null;)od(e,t,n),e=e.sibling}function wr(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&ba(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(wr(e,t,n),e=e.sibling;e!==null;)wr(e,t,n),e=e.sibling}function lb(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Ct(t,s,n),t[wt]=e,t[Vt]=n}catch(u){Ve(e,e.return,u)}}var qn=!1,ft=!1,cd=!1,rb=typeof WeakSet=="function"?WeakSet:Set,bt=null;function E_(e,t){if(e=e.containerInfo,Md=Fr,e=xg(e),nu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var c=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,v=-1,_=-1,B=0,K=0,te=e,q=null;t:for(;;){for(var G;te!==n||c!==0&&te.nodeType!==3||(v=p+c),te!==u||s!==0&&te.nodeType!==3||(_=p+s),te.nodeType===3&&(p+=te.nodeValue.length),(G=te.firstChild)!==null;)q=te,te=G;for(;;){if(te===e)break t;if(q===n&&++B===c&&(v=p),q===u&&++K===s&&(_=p),(G=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=G}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dd={focusedElem:e,selectionRange:n},Fr=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,c=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var de=Qa(n.type,c);e=s.getSnapshotBeforeUpdate(de,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(be){Ve(n,n.return,be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function ob(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n),s&4&&Xs(5,n);break;case 1:if(Gn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Ve(n,n.return,p)}else{var c=Qa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ve(n,n.return,p)}}s&64&&nb(n),s&512&&Ks(n,n.return);break;case 3:if(Gn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Kg(e,t)}catch(p){Ve(n,n.return,p)}}break;case 27:t===null&&s&4&&lb(n);case 26:case 5:Gn(e,n),t===null&&s&4&&ib(n),s&512&&Ks(n,n.return);break;case 12:Gn(e,n);break;case 31:Gn(e,n),s&4&&db(e,n);break;case 13:Gn(e,n),s&4&&fb(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=V_.bind(null,n),iT(e,n))));break;case 22:if(s=n.memoizedState!==null||qn,!s){t=t!==null&&t.memoizedState!==null||ft,c=qn;var u=ft;qn=s,(ft=t)&&!u?Fn(e,n,(n.subtreeFlags&8772)!==0):Gn(e,n),qn=c,ft=u}break;case 30:break;default:Gn(e,n)}}function cb(e){var t=e.alternate;t!==null&&(e.alternate=null,cb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Bc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Ht=!1;function Yn(e,t,n){for(n=n.child;n!==null;)ub(e,t,n),n=n.sibling}function ub(e,t,n){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Rt,n)}catch{}switch(n.tag){case 26:ft||wn(n,t),Yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ft||wn(n,t);var s=Je,c=Ht;ba(n.type)&&(Je=n.stateNode,Ht=!1),Yn(e,t,n),tl(n.stateNode),Je=s,Ht=c;break;case 5:ft||wn(n,t);case 6:if(s=Je,c=Ht,Je=null,Yn(e,t,n),Je=s,Ht=c,Je!==null)if(Ht)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(u){Ve(n,t,u)}else try{Je.removeChild(n.stateNode)}catch(u){Ve(n,t,u)}break;case 18:Je!==null&&(Ht?(e=Je,nx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),$i(e)):nx(Je,n.stateNode));break;case 4:s=Je,c=Ht,Je=n.stateNode.containerInfo,Ht=!0,Yn(e,t,n),Je=s,Ht=c;break;case 0:case 11:case 14:case 15:da(2,n,t),ft||da(4,n,t),Yn(e,t,n);break;case 1:ft||(wn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&ab(n,t,s)),Yn(e,t,n);break;case 21:Yn(e,t,n);break;case 22:ft=(s=ft)||n.memoizedState!==null,Yn(e,t,n),ft=s;break;default:Yn(e,t,n)}}function db(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$i(e)}catch(n){Ve(t,t.return,n)}}}function fb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$i(e)}catch(n){Ve(t,t.return,n)}}function M_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rb),t;default:throw Error(o(435,e.tag))}}function Nr(e,t){var n=M_(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var c=B_.bind(null,e,s);s.then(c,c)}})}function qt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var c=n[s],u=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(ba(v.type)){Je=v.stateNode,Ht=!1;break e}break;case 5:Je=v.stateNode,Ht=!1;break e;case 3:case 4:Je=v.stateNode.containerInfo,Ht=!0;break e}v=v.return}if(Je===null)throw Error(o(160));ub(u,p,c),Je=null,Ht=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hb(t,e),t=t.sibling}var gn=null;function hb(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Yt(e),s&4&&(da(3,e,e.return),Xs(3,e),da(5,e,e.return));break;case 1:qt(t,e),Yt(e),s&512&&(ft||n===null||wn(n,n.return)),s&64&&qn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var c=gn;if(qt(t,e),Yt(e),s&512&&(ft||n===null||wn(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":u=c.getElementsByTagName("title")[0],(!u||u[xs]||u[wt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(s),c.head.insertBefore(u,c.querySelector("head > title"))),Ct(u,s,n),u[wt]=e,yt(u),s=u;break e;case"link":var p=hx("link","href",c).get(s+(n.href||""));if(p){for(var v=0;v<p.length;v++)if(u=p[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(v,1);break t}}u=c.createElement(s),Ct(u,s,n),c.head.appendChild(u);break;case"meta":if(p=hx("meta","content",c).get(s+(n.content||""))){for(v=0;v<p.length;v++)if(u=p[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(v,1);break t}}u=c.createElement(s),Ct(u,s,n),c.head.appendChild(u);break;default:throw Error(o(468,s))}u[wt]=e,yt(u),s=u}e.stateNode=s}else mx(c,e.type,e.stateNode);else e.stateNode=fx(c,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?mx(c,e.type,e.stateNode):fx(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ld(e,e.memoizedProps,n.memoizedProps)}break;case 27:qt(t,e),Yt(e),s&512&&(ft||n===null||wn(n,n.return)),n!==null&&s&4&&ld(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qt(t,e),Yt(e),s&512&&(ft||n===null||wn(n,n.return)),e.flags&32){c=e.stateNode;try{xi(c,"")}catch(de){Ve(e,e.return,de)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,ld(e,c,n!==null?n.memoizedProps:c)),s&1024&&(cd=!0);break;case 6:if(qt(t,e),Yt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(de){Ve(e,e.return,de)}}break;case 3:if(Hr=null,c=gn,gn=Vr(t.containerInfo),qt(t,e),gn=c,Yt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(de){Ve(e,e.return,de)}cd&&(cd=!1,mb(e));break;case 4:s=gn,gn=Vr(e.stateNode.containerInfo),qt(t,e),Yt(e),gn=s;break;case 12:qt(t,e),Yt(e);break;case 31:qt(t,e),Yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Nr(e,s)));break;case 13:qt(t,e),Yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Tr=ve()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Nr(e,s)));break;case 22:c=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,B=qn,K=ft;if(qn=B||c,ft=K||_,qt(t,e),ft=K,qn=B,Yt(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||_||qn||ft||Za(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(u=_.stateNode,c)p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=_.stateNode;var te=_.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(de){Ve(_,_.return,de)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=c?"":_.memoizedProps}catch(de){Ve(_,_.return,de)}}}else if(t.tag===18){if(n===null){_=t;try{var G=_.stateNode;c?ax(G,!0):ax(_.stateNode,!1)}catch(de){Ve(_,_.return,de)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Nr(e,n))));break;case 19:qt(t,e),Yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Nr(e,s)));break;case 30:break;case 21:break;default:qt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(sb(s)){n=s;break}s=s.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,u=rd(e);wr(e,u,c);break;case 5:var p=n.stateNode;n.flags&32&&(xi(p,""),n.flags&=-33);var v=rd(e);wr(e,v,p);break;case 3:case 4:var _=n.stateNode.containerInfo,B=rd(e);od(e,B,_);break;default:throw Error(o(161))}}catch(K){Ve(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ob(e,t.alternate,t),t=t.sibling}function Za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:da(4,t,t.return),Za(t);break;case 1:wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ab(t,t.return,n),Za(t);break;case 27:tl(t.stateNode);case 26:case 5:wn(t,t.return),Za(t);break;case 22:t.memoizedState===null&&Za(t);break;case 30:Za(t);break;default:Za(t)}e=e.sibling}}function Fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,u=t,p=u.flags;switch(u.tag){case 0:case 11:case 15:Fn(c,u,n),Xs(4,u);break;case 1:if(Fn(c,u,n),s=u,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Ve(s,s.return,B)}if(s=u,c=s.updateQueue,c!==null){var v=s.stateNode;try{var _=c.shared.hiddenCallbacks;if(_!==null)for(c.shared.hiddenCallbacks=null,c=0;c<_.length;c++)Xg(_[c],v)}catch(B){Ve(s,s.return,B)}}n&&p&64&&nb(u),Ks(u,u.return);break;case 27:lb(u);case 26:case 5:Fn(c,u,n),n&&s===null&&p&4&&ib(u),Ks(u,u.return);break;case 12:Fn(c,u,n);break;case 31:Fn(c,u,n),n&&p&4&&db(c,u);break;case 13:Fn(c,u,n),n&&p&4&&fb(c,u);break;case 22:u.memoizedState===null&&Fn(c,u,n),Ks(u,u.return);break;case 30:break;default:Fn(c,u,n)}t=t.sibling}}function ud(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ks(n))}function dd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e))}function yn(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pb(e,t,n,s),t=t.sibling}function pb(e,t,n,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,n,s),c&2048&&Xs(9,t);break;case 1:yn(e,t,n,s);break;case 3:yn(e,t,n,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e)));break;case 12:if(c&2048){yn(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,p=u.id,v=u.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ve(t,t.return,_)}}else yn(e,t,n,s);break;case 31:yn(e,t,n,s);break;case 13:yn(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,p=t.alternate,t.memoizedState!==null?u._visibility&2?yn(e,t,n,s):Qs(e,t):u._visibility&2?yn(e,t,n,s):(u._visibility|=2,Bi(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&ud(p,t);break;case 24:yn(e,t,n,s),c&2048&&dd(t.alternate,t);break;default:yn(e,t,n,s)}}function Bi(e,t,n,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,p=t,v=n,_=s,B=p.flags;switch(p.tag){case 0:case 11:case 15:Bi(u,p,v,_,c),Xs(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Bi(u,p,v,_,c):Qs(u,p):(K._visibility|=2,Bi(u,p,v,_,c)),c&&B&2048&&ud(p.alternate,p);break;case 24:Bi(u,p,v,_,c),c&&B&2048&&dd(p.alternate,p);break;default:Bi(u,p,v,_,c)}t=t.sibling}}function Qs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,c=s.flags;switch(s.tag){case 22:Qs(n,s),c&2048&&ud(s.alternate,s);break;case 24:Qs(n,s),c&2048&&dd(s.alternate,s);break;default:Qs(n,s)}t=t.sibling}}var Zs=8192;function Hi(e,t,n){if(e.subtreeFlags&Zs)for(e=e.child;e!==null;)gb(e,t,n),e=e.sibling}function gb(e,t,n){switch(e.tag){case 26:Hi(e,t,n),e.flags&Zs&&e.memoizedState!==null&&gT(n,gn,e.memoizedState,e.memoizedProps);break;case 5:Hi(e,t,n);break;case 3:case 4:var s=gn;gn=Vr(e.stateNode.containerInfo),Hi(e,t,n),gn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Zs,Zs=16777216,Hi(e,t,n),Zs=s):Hi(e,t,n));break;default:Hi(e,t,n)}}function yb(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];bt=s,xb(s,e)}yb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bb(e),e=e.sibling}function bb(e){switch(e.tag){case 0:case 11:case 15:Ps(e),e.flags&2048&&da(9,e,e.return);break;case 3:Ps(e);break;case 12:Ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_r(e)):Ps(e);break;default:Ps(e)}}function _r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];bt=s,xb(s,e)}yb(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:da(8,t,t.return),_r(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,_r(t));break;default:_r(t)}e=e.sibling}}function xb(e,t){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:da(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ks(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,bt=s;else e:for(n=e;bt!==null;){s=bt;var c=s.sibling,u=s.return;if(cb(s),s===n){bt=null;break e}if(c!==null){c.return=u,bt=c;break e}bt=u}}}var D_={getCacheForType:function(e){var t=_t(ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return _t(ct).controller.signal}},k_=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Fe=null,_e=null,Ce=0,Le=0,Pt=null,fa=!1,qi=!1,fd=!1,Xn=0,at=0,ha=0,Pa=0,hd=0,$t=0,Yi=0,$s=null,Gt=null,md=!1,Tr=0,vb=0,Cr=1/0,Ar=null,ma=null,mt=0,pa=null,Gi=null,Kn=0,pd=0,gd=null,jb=null,Js=0,yd=null;function Jt(){return(Oe&2)!==0&&Ce!==0?Ce&-Ce:H.T!==null?wd():Lp()}function Sb(){if($t===0)if((Ce&536870912)===0||Ee){var e=Ul;Ul<<=1,(Ul&3932160)===0&&(Ul=262144),$t=e}else $t=536870912;return e=Qt.current,e!==null&&(e.flags|=32),$t}function Ft(e,t,n){(e===Fe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Fi(e,0),ga(e,Ce,$t,!1)),bs(e,n),((Oe&2)===0||e!==Fe)&&(e===Fe&&((Oe&2)===0&&(Pa|=n),at===4&&ga(e,Ce,$t,!1)),Nn(e))}function wb(e,t,n){if((Oe&6)!==0)throw Error(o(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ys(e,t),c=s?O_(e,t):xd(e,t,!0),u=s;do{if(c===0){qi&&!s&&ga(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!R_(n)){c=xd(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;c=$s;var _=v.current.memoizedState.isDehydrated;if(_&&(Fi(v,p).flags|=256),p=xd(v,p,!1),p!==2){if(fd&&!_){v.errorRecoveryDisabledLanes|=u,Pa|=u,c=4;break e}u=Gt,Gt=c,u!==null&&(Gt===null?Gt=u:Gt.push.apply(Gt,u))}c=p}if(u=!1,c!==2)continue}}if(c===1){Fi(e,0),ga(e,t,0,!0);break}e:{switch(s=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ga(s,t,$t,!fa);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Tr+300-ve(),10<c)){if(ga(s,t,$t,!fa),Vl(s,0,!0)!==0)break e;Kn=t,s.timeoutHandle=ex(Nb.bind(null,s,n,Gt,Ar,md,t,$t,Pa,Yi,fa,u,"Throttled",-0,0),c);break e}Nb(s,n,Gt,Ar,md,t,$t,Pa,Yi,fa,u,null,-0,0)}}break}while(!0);Nn(e)}function Nb(e,t,n,s,c,u,p,v,_,B,K,te,q,G){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},gb(t,u,te);var de=(u&62914560)===u?Tr-ve():(u&4194048)===u?vb-ve():0;if(de=yT(te,de),de!==null){Kn=u,e.cancelPendingCommit=de(kb.bind(null,e,t,u,n,s,c,p,v,_,K,te,null,q,G)),ga(e,u,p,!B);return}}kb(e,t,u,n,s,c,p,v,_)}function R_(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var c=n[s],u=c.getSnapshot;c=c.value;try{if(!Xt(u(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ga(e,t,n,s){t&=~hd,t&=~Pa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var u=31-gt(c),p=1<<u;s[u]=-1,c&=~p}n!==0&&zp(e,n,t)}function Er(){return(Oe&6)===0?(Is(0),!1):!0}function bd(){if(_e!==null){if(Le===0)var e=_e.return;else e=_e,On=Ha=null,zu(e),zi=null,zs=0,e=_e;for(;e!==null;)tb(e.alternate,e),e=e.return;_e=null}}function Fi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,W_(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Kn=0,bd(),Fe=e,_e=n=Rn(e.current,null),Ce=t,Le=0,Pt=null,fa=!1,qi=ys(e,t),fd=!1,Yi=$t=hd=Pa=ha=at=0,Gt=$s=null,md=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-gt(s),u=1<<c;t|=e[c],s&=~u}return Xn=t,$l(),n}function _b(e,t){we=null,H.H=Ys,t===Ri||t===ir?(t=qg(),Le=3):t===Su?(t=qg(),Le=4):Le=t===$u?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,_e===null&&(at=1,br(e,rn(t,e.current)))}function Tb(){var e=Qt.current;return e===null?!0:(Ce&4194048)===Ce?dn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===dn:!1}function Cb(){var e=H.H;return H.H=Ys,e===null?Ys:e}function Ab(){var e=H.A;return H.A=D_,e}function Mr(){at=4,fa||(Ce&4194048)!==Ce&&Qt.current!==null||(qi=!0),(ha&134217727)===0&&(Pa&134217727)===0||Fe===null||ga(Fe,Ce,$t,!1)}function xd(e,t,n){var s=Oe;Oe|=2;var c=Cb(),u=Ab();(Fe!==e||Ce!==t)&&(Ar=null,Fi(e,t)),t=!1;var p=at;e:do try{if(Le!==0&&_e!==null){var v=_e,_=Pt;switch(Le){case 8:bd(),p=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(t=!0);var B=Le;if(Le=0,Pt=null,Xi(e,v,_,B),n&&qi){p=0;break e}break;default:B=Le,Le=0,Pt=null,Xi(e,v,_,B)}}z_(),p=at;break}catch(K){_b(e,K)}while(!0);return t&&e.shellSuspendCounter++,On=Ha=null,Oe=s,H.H=c,H.A=u,_e===null&&(Fe=null,Ce=0,$l()),p}function z_(){for(;_e!==null;)Eb(_e)}function O_(e,t){var n=Oe;Oe|=2;var s=Cb(),c=Ab();Fe!==e||Ce!==t?(Ar=null,Cr=ve()+500,Fi(e,t)):qi=ys(e,t);e:do try{if(Le!==0&&_e!==null){t=_e;var u=Pt;t:switch(Le){case 1:Le=0,Pt=null,Xi(e,t,u,1);break;case 2:case 9:if(Bg(u)){Le=0,Pt=null,Mb(t);break}t=function(){Le!==2&&Le!==9||Fe!==e||(Le=7),Nn(e)},u.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Bg(u)?(Le=0,Pt=null,Mb(t)):(Le=0,Pt=null,Xi(e,t,u,7));break;case 5:var p=null;switch(_e.tag){case 26:p=_e.memoizedState;case 5:case 27:var v=_e;if(p?px(p):v.stateNode.complete){Le=0,Pt=null;var _=v.sibling;if(_!==null)_e=_;else{var B=v.return;B!==null?(_e=B,Dr(B)):_e=null}break t}}Le=0,Pt=null,Xi(e,t,u,5);break;case 6:Le=0,Pt=null,Xi(e,t,u,6);break;case 8:bd(),at=6;break e;default:throw Error(o(462))}}U_();break}catch(K){_b(e,K)}while(!0);return On=Ha=null,H.H=s,H.A=c,Oe=n,_e!==null?0:(Fe=null,Ce=0,$l(),at)}function U_(){for(;_e!==null&&!Da();)Eb(_e)}function Eb(e){var t=Wy(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?Dr(e):_e=t}function Mb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qy(n,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=Qy(n,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:zu(t);default:tb(n,t),t=_e=Ag(t,Xn),t=Wy(n,t,Xn)}e.memoizedProps=e.pendingProps,t===null?Dr(e):_e=t}function Xi(e,t,n,s){On=Ha=null,zu(t),zi=null,zs=0;var c=t.return;try{if(N_(e,c,t,n,Ce)){at=1,br(e,rn(n,e.current)),_e=null;return}}catch(u){if(c!==null)throw _e=c,u;at=1,br(e,rn(n,e.current)),_e=null;return}t.flags&32768?(Ee||s===1?e=!0:qi||(Ce&536870912)!==0?e=!1:(fa=e=!0,(s===2||s===9||s===3||s===6)&&(s=Qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Db(t,e)):Dr(t)}function Dr(e){var t=e;do{if((t.flags&32768)!==0){Db(t,fa);return}e=t.return;var n=C_(t.alternate,t,Xn);if(n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);at===0&&(at=5)}function Db(e,t){do{var n=A_(e.alternate,e);if(n!==null){n.flags&=32767,_e=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=n}while(e!==null);at=6,_e=null}function kb(e,t,n,s,c,u,p,v,_){e.cancelPendingCommit=null;do kr();while(mt!==0);if((Oe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=ru,pN(e,n,u,p,v,_),e===Fe&&(_e=Fe=null,Ce=0),Gi=t,pa=e,Kn=n,pd=u,gd=c,jb=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H_(ae,function(){return Lb(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,c=Z.p,Z.p=2,p=Oe,Oe|=4;try{E_(e,t,n)}finally{Oe=p,Z.p=c,H.T=s}}mt=1,Rb(),zb(),Ob()}}function Rb(){if(mt===1){mt=0;var e=pa,t=Gi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=H.T,H.T=null;var s=Z.p;Z.p=2;var c=Oe;Oe|=4;try{hb(t,e);var u=Dd,p=xg(e.containerInfo),v=u.focusedElem,_=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&bg(v.ownerDocument.documentElement,v)){if(_!==null&&nu(v)){var B=_.start,K=_.end;if(K===void 0&&(K=B),"selectionStart"in v)v.selectionStart=B,v.selectionEnd=Math.min(K,v.value.length);else{var te=v.ownerDocument||document,q=te&&te.defaultView||window;if(q.getSelection){var G=q.getSelection(),de=v.textContent.length,be=Math.min(_.start,de),Ge=_.end===void 0?be:Math.min(_.end,de);!G.extend&&be>Ge&&(p=Ge,Ge=be,be=p);var U=yg(v,be),A=yg(v,Ge);if(U&&A&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==A.node||G.focusOffset!==A.offset)){var L=te.createRange();L.setStart(U.node,U.offset),G.removeAllRanges(),be>Ge?(G.addRange(L),G.extend(A.node,A.offset)):(L.setEnd(A.node,A.offset),G.addRange(L))}}}}for(te=[],G=v;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<te.length;v++){var W=te[v];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Fr=!!Md,Dd=Md=null}finally{Oe=c,Z.p=s,H.T=n}}e.current=t,mt=2}}function zb(){if(mt===2){mt=0;var e=pa,t=Gi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=H.T,H.T=null;var s=Z.p;Z.p=2;var c=Oe;Oe|=4;try{ob(e,t.alternate,t)}finally{Oe=c,Z.p=s,H.T=n}}mt=3}}function Ob(){if(mt===4||mt===3){mt=0,le();var e=pa,t=Gi,n=Kn,s=jb;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Gi=pa=null,Ub(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ma=null),Lc(n),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Rt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=H.T,c=Z.p,Z.p=2,H.T=null;try{for(var u=e.onRecoverableError,p=0;p<s.length;p++){var v=s[p];u(v.value,{componentStack:v.stack})}}finally{H.T=t,Z.p=c}}(Kn&3)!==0&&kr(),Nn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===yd?Js++:(Js=0,yd=e):Js=0,Is(0)}}function Ub(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ks(t)))}function kr(){return Rb(),zb(),Ob(),Lb()}function Lb(){if(mt!==5)return!1;var e=pa,t=pd;pd=0;var n=Lc(Kn),s=H.T,c=Z.p;try{Z.p=32>n?32:n,H.T=null,n=gd,gd=null;var u=pa,p=Kn;if(mt=0,Gi=pa=null,Kn=0,(Oe&6)!==0)throw Error(o(331));var v=Oe;if(Oe|=4,bb(u.current),pb(u,u.current,p,n),Oe=v,Is(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Rt,u)}catch{}return!0}finally{Z.p=c,H.T=s,Ub(e,t)}}function Vb(e,t,n){t=rn(n,t),t=Pu(e.stateNode,t,2),e=oa(e,t,2),e!==null&&(bs(e,2),Nn(e))}function Ve(e,t,n){if(e.tag===3)Vb(e,e,n);else for(;t!==null;){if(t.tag===3){Vb(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ma===null||!ma.has(s))){e=rn(n,e),n=By(2),s=oa(t,n,2),s!==null&&(Hy(n,s,t,e),bs(s,2),Nn(s));break}}t=t.return}}function vd(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new k_;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(n)||(fd=!0,c.add(n),e=L_.bind(null,e,t,n),t.then(e,e))}function L_(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(Ce&n)===n&&(at===4||at===3&&(Ce&62914560)===Ce&&300>ve()-Tr?(Oe&2)===0&&Fi(e,0):hd|=n,Yi===Ce&&(Yi=0)),Nn(e)}function Bb(e,t){t===0&&(t=Rp()),e=La(e,t),e!==null&&(bs(e,t),Nn(e))}function V_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bb(e,n)}function B_(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),Bb(e,n)}function H_(e,t){return pt(e,t)}var Rr=null,Ki=null,jd=!1,zr=!1,Sd=!1,ya=0;function Nn(e){e!==Ki&&e.next===null&&(Ki===null?Rr=Ki=e:Ki=Ki.next=e),zr=!0,jd||(jd=!0,Y_())}function Is(e,t){if(!Sd&&zr){Sd=!0;do for(var n=!1,s=Rr;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var u=0;else{var p=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-gt(42|e)+1)-1,u&=c&~(p&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Gb(s,u))}else u=Ce,u=Vl(s,s===Fe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||ys(s,u)||(n=!0,Gb(s,u));s=s.next}while(n);Sd=!1}}function q_(){Hb()}function Hb(){zr=jd=!1;var e=0;ya!==0&&I_()&&(e=ya);for(var t=ve(),n=null,s=Rr;s!==null;){var c=s.next,u=qb(s,t);u===0?(s.next=null,n===null?Rr=c:n.next=c,c===null&&(Ki=n)):(n=s,(e!==0||(u&3)!==0)&&(zr=!0)),s=c}mt!==0&&mt!==5||Is(e),ya!==0&&(ya=0)}function qb(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var p=31-gt(u),v=1<<p,_=c[p];_===-1?((v&n)===0||(v&s)!==0)&&(c[p]=mN(v,t)):_<=t&&(e.expiredLanes|=v),u&=~v}if(t=Fe,n=Ce,n=Vl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&En(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ys(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&En(s),Lc(n)){case 2:case 8:n=Dt;break;case 32:n=ae;break;case 268435456:n=Xe;break;default:n=ae}return s=Yb.bind(null,e),n=pt(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&En(s),e.callbackPriority=2,e.callbackNode=null,2}function Yb(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(kr()&&e.callbackNode!==n)return null;var s=Ce;return s=Vl(e,e===Fe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(wb(e,s,t),qb(e,ve()),e.callbackNode!=null&&e.callbackNode===n?Yb.bind(null,e):null)}function Gb(e,t){if(kr())return null;wb(e,t,!0)}function Y_(){eT(function(){(Oe&6)!==0?pt(Be,q_):Hb()})}function wd(){if(ya===0){var e=Di;e===0&&(e=Ol,Ol<<=1,(Ol&261888)===0&&(Ol=256)),ya=e}return ya}function Fb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yl(""+e)}function Xb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function G_(e,t,n,s,c){if(t==="submit"&&n&&n.stateNode===c){var u=Fb((c[Vt]||null).action),p=s.submitter;p&&(t=(t=p[Vt]||null)?Fb(t.formAction):p.getAttribute("formAction"),t!==null&&(u=t,p=null));var v=new Kl("action","action",null,s,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ya!==0){var _=p?Xb(c,p):new FormData(c);Gu(n,{pending:!0,data:_,method:c.method,action:u},null,_)}}else typeof u=="function"&&(v.preventDefault(),_=p?Xb(c,p):new FormData(c),Gu(n,{pending:!0,data:_,method:c.method,action:u},u,_))},currentTarget:c}]})}}for(var Nd=0;Nd<lu.length;Nd++){var _d=lu[Nd],F_=_d.toLowerCase(),X_=_d[0].toUpperCase()+_d.slice(1);pn(F_,"on"+X_)}pn(Sg,"onAnimationEnd"),pn(wg,"onAnimationIteration"),pn(Ng,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(r_,"onTransitionRun"),pn(o_,"onTransitionStart"),pn(c_,"onTransitionCancel"),pn(_g,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ws));function Kb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],c=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],_=v.instance,B=v.currentTarget;if(v=v.listener,_!==u&&c.isPropagationStopped())break e;u=v,c.currentTarget=B;try{u(c)}catch(K){Pl(K)}c.currentTarget=null,u=_}else for(p=0;p<s.length;p++){if(v=s[p],_=v.instance,B=v.currentTarget,v=v.listener,_!==u&&c.isPropagationStopped())break e;u=v,c.currentTarget=B;try{u(c)}catch(K){Pl(K)}c.currentTarget=null,u=_}}}}function Te(e,t){var n=t[Vc];n===void 0&&(n=t[Vc]=new Set);var s=e+"__bubble";n.has(s)||(Qb(t,e,2,!1),n.add(s))}function Td(e,t,n){var s=0;t&&(s|=4),Qb(n,e,s,t)}var Or="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[Or]){e[Or]=!0,Hp.forEach(function(n){n!=="selectionchange"&&(K_.has(n)||Td(n,!1,e),Td(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Or]||(t[Or]=!0,Td("selectionchange",!1,t))}}function Qb(e,t,n,s){switch(Sx(t)){case 2:var c=vT;break;case 8:c=jT;break;default:c=Yd}n=c.bind(null,t,n,e),c=void 0,!Qc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Ad(e,t,n,s,c){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=s.return;p!==null;){var _=p.tag;if((_===3||_===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=mi(v),p===null)return;if(_=p.tag,_===5||_===6||_===26||_===27){s=u=p;continue e}v=v.parentNode}}s=s.return}Ip(function(){var B=u,K=Xc(n),te=[];e:{var q=Tg.get(e);if(q!==void 0){var G=Kl,de=e;switch(e){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":G=BN;break;case"focusin":de="focus",G=Jc;break;case"focusout":de="blur",G=Jc;break;case"beforeblur":case"afterblur":G=Jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=CN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=YN;break;case Sg:case wg:case Ng:G=MN;break;case _g:G=FN;break;case"scroll":case"scrollend":G=_N;break;case"wheel":G=KN;break;case"copy":case"cut":case"paste":G=kN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ag;break;case"toggle":case"beforetoggle":G=ZN}var be=(t&4)!==0,Ge=!be&&(e==="scroll"||e==="scrollend"),U=be?q!==null?q+"Capture":null:q;be=[];for(var A=B,L;A!==null;){var W=A;if(L=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||L===null||U===null||(W=js(A,U),W!=null&&be.push(el(A,W,L))),Ge)break;A=A.return}0<be.length&&(q=new G(q,de,null,n,K),te.push({event:q,listeners:be}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&n!==Fc&&(de=n.relatedTarget||n.fromElement)&&(mi(de)||de[hi]))break e;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(de=n.relatedTarget||n.toElement,G=B,de=de?mi(de):null,de!==null&&(Ge=f(de),be=de.tag,de!==Ge||be!==5&&be!==27&&be!==6)&&(de=null)):(G=null,de=B),G!==de)){if(be=tg,W="onMouseLeave",U="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(be=ag,W="onPointerLeave",U="onPointerEnter",A="pointer"),Ge=G==null?q:vs(G),L=de==null?q:vs(de),q=new be(W,A+"leave",G,n,K),q.target=Ge,q.relatedTarget=L,W=null,mi(K)===B&&(be=new be(U,A+"enter",de,n,K),be.target=L,be.relatedTarget=Ge,W=be),Ge=W,G&&de)t:{for(be=Q_,U=G,A=de,L=0,W=U;W;W=be(W))L++;W=0;for(var ye=A;ye;ye=be(ye))W++;for(;0<L-W;)U=be(U),L--;for(;0<W-L;)A=be(A),W--;for(;L--;){if(U===A||A!==null&&U===A.alternate){be=U;break t}U=be(U),A=be(A)}be=null}else be=null;G!==null&&Zb(te,q,G,be,!1),de!==null&&Ge!==null&&Zb(te,Ge,de,be,!0)}}e:{if(q=B?vs(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ke=dg;else if(cg(q))if(fg)ke=i_;else{ke=n_;var pe=t_}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Gc(B.elementType)&&(ke=dg):ke=a_;if(ke&&(ke=ke(e,B))){ug(te,ke,n,K);break e}pe&&pe(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Yc(q,"number",q.value)}switch(pe=B?vs(B):window,e){case"focusin":(cg(pe)||pe.contentEditable==="true")&&(wi=pe,au=B,Es=null);break;case"focusout":Es=au=wi=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,vg(te,n,K);break;case"selectionchange":if(l_)break;case"keydown":case"keyup":vg(te,n,K)}var Ne;if(Wc)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Si?rg(e,n)&&(Ae="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ae="onCompositionStart");Ae&&(ig&&n.locale!=="ko"&&(Si||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Si&&(Ne=Wp()):(ta=K,Zc="value"in ta?ta.value:ta.textContent,Si=!0)),pe=Ur(B,Ae),0<pe.length&&(Ae=new ng(Ae,e,null,n,K),te.push({event:Ae,listeners:pe}),Ne?Ae.data=Ne:(Ne=og(n),Ne!==null&&(Ae.data=Ne)))),(Ne=$N?JN(e,n):IN(e,n))&&(Ae=Ur(B,"onBeforeInput"),0<Ae.length&&(pe=new ng("onBeforeInput","beforeinput",null,n,K),te.push({event:pe,listeners:Ae}),pe.data=Ne)),G_(te,e,B,n,K)}Kb(te,t)})}function el(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",s=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=js(e,n),c!=null&&s.unshift(el(e,c,u)),c=js(e,t),c!=null&&s.push(el(e,c,u))),e.tag===3)return s;e=e.return}return[]}function Q_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zb(e,t,n,s,c){for(var u=t._reactName,p=[];n!==null&&n!==s;){var v=n,_=v.alternate,B=v.stateNode;if(v=v.tag,_!==null&&_===s)break;v!==5&&v!==26&&v!==27||B===null||(_=B,c?(B=js(n,u),B!=null&&p.unshift(el(n,B,_))):c||(B=js(n,u),B!=null&&p.push(el(n,B,_)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Z_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function Pb(e){return(typeof e=="string"?e:""+e).replace(Z_,`
`).replace(P_,"")}function $b(e,t){return t=Pb(t),Pb(e)===t}function Ye(e,t,n,s,c,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||xi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&xi(e,""+s);break;case"className":Hl(e,"class",s);break;case"tabIndex":Hl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Hl(e,n,s);break;case"style":$p(e,s,u);break;case"data":if(t!=="object"){Hl(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Yl(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ye(e,t,"name",c.name,c,null),Ye(e,t,"formEncType",c.formEncType,c,null),Ye(e,t,"formMethod",c.formMethod,c,null),Ye(e,t,"formTarget",c.formTarget,c,null)):(Ye(e,t,"encType",c.encType,c,null),Ye(e,t,"method",c.method,c,null),Ye(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Yl(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=Dn);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Yl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Bl(e,"popover",s);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Bl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=wN.get(n)||n,Bl(e,n,s))}}function Ed(e,t,n,s,c,u){switch(n){case"style":$p(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof s=="string"?xi(e,s):(typeof s=="number"||typeof s=="bigint")&&xi(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qp.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),u=e[Vt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,c);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Bl(e,n,s)}}}function Ct(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,c=!1,u;for(u in n)if(n.hasOwnProperty(u)){var p=n[u];if(p!=null)switch(u){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ye(e,t,u,p,n,null)}}c&&Ye(e,t,"srcSet",n.srcSet,n,null),s&&Ye(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var v=u=p=c=null,_=null,B=null;for(s in n)if(n.hasOwnProperty(s)){var K=n[s];if(K!=null)switch(s){case"name":c=K;break;case"type":p=K;break;case"checked":_=K;break;case"defaultChecked":B=K;break;case"value":u=K;break;case"defaultValue":v=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:Ye(e,t,s,K,n,null)}}Kp(e,u,v,_,B,p,c,!1);return;case"select":Te("invalid",e),s=p=u=null;for(c in n)if(n.hasOwnProperty(c)&&(v=n[c],v!=null))switch(c){case"value":u=v;break;case"defaultValue":p=v;break;case"multiple":s=v;default:Ye(e,t,c,v,n,null)}t=u,n=p,e.multiple=!!s,t!=null?bi(e,!!s,t,!1):n!=null&&bi(e,!!s,n,!0);return;case"textarea":Te("invalid",e),u=c=s=null;for(p in n)if(n.hasOwnProperty(p)&&(v=n[p],v!=null))switch(p){case"value":s=v;break;case"defaultValue":c=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:Ye(e,t,p,v,n,null)}Zp(e,s,c,u);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(s=n[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ye(e,t,_,s,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<Ws.length;s++)Te(Ws[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in n)if(n.hasOwnProperty(B)&&(s=n[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ye(e,t,B,s,n,null)}return;default:if(Gc(t)){for(K in n)n.hasOwnProperty(K)&&(s=n[K],s!==void 0&&Ed(e,t,K,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&Ye(e,t,v,s,n,null))}function $_(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,p=null,v=null,_=null,B=null,K=null;for(G in n){var te=n[G];if(n.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":_=te;default:s.hasOwnProperty(G)||Ye(e,t,G,null,s,te)}}for(var q in s){var G=s[q];if(te=n[q],s.hasOwnProperty(q)&&(G!=null||te!=null))switch(q){case"type":u=G;break;case"name":c=G;break;case"checked":B=G;break;case"defaultChecked":K=G;break;case"value":p=G;break;case"defaultValue":v=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,t));break;default:G!==te&&Ye(e,t,q,G,s,te)}}qc(e,p,v,_,B,K,u,c);return;case"select":G=p=v=q=null;for(u in n)if(_=n[u],n.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":G=_;default:s.hasOwnProperty(u)||Ye(e,t,u,null,s,_)}for(c in s)if(u=s[c],_=n[c],s.hasOwnProperty(c)&&(u!=null||_!=null))switch(c){case"value":q=u;break;case"defaultValue":v=u;break;case"multiple":p=u;default:u!==_&&Ye(e,t,c,u,s,_)}t=v,n=p,s=G,q!=null?bi(e,!!n,q,!1):!!s!=!!n&&(t!=null?bi(e,!!n,t,!0):bi(e,!!n,n?[]:"",!1));return;case"textarea":G=q=null;for(v in n)if(c=n[v],n.hasOwnProperty(v)&&c!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ye(e,t,v,null,s,c)}for(p in s)if(c=s[p],u=n[p],s.hasOwnProperty(p)&&(c!=null||u!=null))switch(p){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&Ye(e,t,p,c,s,u)}Qp(e,q,G);return;case"option":for(var de in n)if(q=n[de],n.hasOwnProperty(de)&&q!=null&&!s.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Ye(e,t,de,null,s,q)}for(_ in s)if(q=s[_],G=n[_],s.hasOwnProperty(_)&&q!==G&&(q!=null||G!=null))switch(_){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(e,t,_,q,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in n)q=n[be],n.hasOwnProperty(be)&&q!=null&&!s.hasOwnProperty(be)&&Ye(e,t,be,null,s,q);for(B in s)if(q=s[B],G=n[B],s.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:Ye(e,t,B,q,s,G)}return;default:if(Gc(t)){for(var Ge in n)q=n[Ge],n.hasOwnProperty(Ge)&&q!==void 0&&!s.hasOwnProperty(Ge)&&Ed(e,t,Ge,void 0,s,q);for(K in s)q=s[K],G=n[K],!s.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||Ed(e,t,K,q,s,G);return}}for(var U in n)q=n[U],n.hasOwnProperty(U)&&q!=null&&!s.hasOwnProperty(U)&&Ye(e,t,U,null,s,q);for(te in s)q=s[te],G=n[te],!s.hasOwnProperty(te)||q===G||q==null&&G==null||Ye(e,t,te,q,s,G)}function Jb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var c=n[s],u=c.transferSize,p=c.initiatorType,v=c.duration;if(u&&v&&Jb(p)){for(p=0,v=c.responseEnd,s+=1;s<n.length;s++){var _=n[s],B=_.startTime;if(B>v)break;var K=_.transferSize,te=_.initiatorType;K&&Jb(te)&&(_=_.responseEnd,p+=K*(_<v?1:(v-B)/(_-B)))}if(--s,t+=8*(u+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Md=null,Dd=null;function Lr(e){return e.nodeType===9?e:e.ownerDocument}function Ib(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wb(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rd=null;function I_(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var ex=typeof setTimeout=="function"?setTimeout:void 0,W_=typeof clearTimeout=="function"?clearTimeout:void 0,tx=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof tx<"u"?function(e){return tx.resolve(null).then(e).catch(tT)}:ex;function tT(e){setTimeout(function(){throw e})}function ba(e){return e==="head"}function nx(e,t){var n=t,s=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(c),$i(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")tl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,tl(n);for(var u=n.firstChild;u;){var p=u.nextSibling,v=u.nodeName;u[xs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=p}}else n==="body"&&tl(e.ownerDocument.body);n=c}while(n);$i(t)}function ax(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function zd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zd(n),Bc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function nT(e,t,n,s){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function aT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fn(e.nextSibling),e===null))return null;return e}function ix(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fn(e.nextSibling),e===null))return null;return e}function Od(e){return e.data==="$?"||e.data==="$~"}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ld=null;function sx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return fn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function lx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function rx(e,t,n){switch(t=Lr(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function tl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Bc(e)}var hn=new Map,ox=new Set;function Vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=Z.d;Z.d={f:sT,r:lT,D:rT,C:oT,L:cT,m:uT,X:fT,S:dT,M:hT};function sT(){var e=Qn.f(),t=Er();return e||t}function lT(e){var t=pi(e);t!==null&&t.tag===5&&t.type==="form"?_y(t):Qn.r(e)}var Qi=typeof document>"u"?null:document;function cx(e,t,n){var s=Qi;if(s&&typeof t=="string"&&t){var c=sn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),ox.has(c)||(ox.add(c),e={rel:e,crossOrigin:n,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),Ct(t,"link",e),yt(t),s.head.appendChild(t)))}}function rT(e){Qn.D(e),cx("dns-prefetch",e,null)}function oT(e,t){Qn.C(e,t),cx("preconnect",e,t)}function cT(e,t,n){Qn.L(e,t,n);var s=Qi;if(s&&e&&t){var c='link[rel="preload"][as="'+sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+sn(n.imageSizes)+'"]')):c+='[href="'+sn(e)+'"]';var u=c;switch(t){case"style":u=Zi(e);break;case"script":u=Pi(e)}hn.has(u)||(e=j({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),hn.set(u,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(nl(u))||t==="script"&&s.querySelector(al(u))||(t=s.createElement("link"),Ct(t,"link",e),yt(t),s.head.appendChild(t)))}}function uT(e,t){Qn.m(e,t);var n=Qi;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+sn(s)+'"][href="'+sn(e)+'"]',u=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Pi(e)}if(!hn.has(u)&&(e=j({rel:"modulepreload",href:e},t),hn.set(u,e),n.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(al(u)))return}s=n.createElement("link"),Ct(s,"link",e),yt(s),n.head.appendChild(s)}}}function dT(e,t,n){Qn.S(e,t,n);var s=Qi;if(s&&e){var c=gi(s).hoistableStyles,u=Zi(e);t=t||"default";var p=c.get(u);if(!p){var v={loading:0,preload:null};if(p=s.querySelector(nl(u)))v.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},n),(n=hn.get(u))&&Vd(e,n);var _=p=s.createElement("link");yt(_),Ct(_,"link",e),_._p=new Promise(function(B,K){_.onload=B,_.onerror=K}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Br(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(u,p)}}}function fT(e,t){Qn.X(e,t);var n=Qi;if(n&&e){var s=gi(n).hoistableScripts,c=Pi(e),u=s.get(c);u||(u=n.querySelector(al(c)),u||(e=j({src:e,async:!0},t),(t=hn.get(c))&&Bd(e,t),u=n.createElement("script"),yt(u),Ct(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(c,u))}}function hT(e,t){Qn.M(e,t);var n=Qi;if(n&&e){var s=gi(n).hoistableScripts,c=Pi(e),u=s.get(c);u||(u=n.querySelector(al(c)),u||(e=j({src:e,async:!0,type:"module"},t),(t=hn.get(c))&&Bd(e,t),u=n.createElement("script"),yt(u),Ct(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(c,u))}}function ux(e,t,n,s){var c=(c=$.current)?Vr(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Zi(n.href),n=gi(c).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Zi(n.href);var u=gi(c).hoistableStyles,p=u.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,p),(u=c.querySelector(nl(e)))&&!u._p&&(p.instance=u,p.state.loading=5),hn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hn.set(e,n),u||mT(c,e,n,p.state))),t&&s===null)throw Error(o(528,""));return p}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pi(n),n=gi(c).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Zi(e){return'href="'+sn(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function dx(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function mT(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ct(t,"link",n),yt(t),e.head.appendChild(t))}function Pi(e){return'[src="'+sn(e)+'"]'}function al(e){return"script[async]"+e}function fx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+sn(n.href)+'"]');if(s)return t.instance=s,yt(s),s;var c=j({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),yt(s),Ct(s,"style",c),Br(s,n.precedence,e),t.instance=s;case"stylesheet":c=Zi(n.href);var u=e.querySelector(nl(c));if(u)return t.state.loading|=4,t.instance=u,yt(u),u;s=dx(n),(c=hn.get(c))&&Vd(s,c),u=(e.ownerDocument||e).createElement("link"),yt(u);var p=u;return p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),Ct(u,"link",s),t.state.loading|=4,Br(u,n.precedence,e),t.instance=u;case"script":return u=Pi(n.src),(c=e.querySelector(al(u)))?(t.instance=c,yt(c),c):(s=n,(c=hn.get(u))&&(s=j({},n),Bd(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),yt(c),Ct(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Br(s,n.precedence,e));return t.instance}function Br(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,u=c,p=0;p<s.length;p++){var v=s[p];if(v.dataset.precedence===t)u=v;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Vd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hr=null;function hx(e,t,n){if(Hr===null){var s=new Map,c=Hr=new Map;c.set(n,s)}else c=Hr,s=c.get(n),s||(s=new Map,c.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var u=n[c];if(!(u[xs]||u[wt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var p=u.getAttribute(t)||"";p=e+p;var v=s.get(p);v?v.push(u):s.set(p,[u])}}return s}function mx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function pT(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function px(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gT(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Zi(s.href),u=t.querySelector(nl(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=qr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,yt(u);return}u=t.ownerDocument||t,s=dx(s),(c=hn.get(c))&&Vd(s,c),u=u.createElement("link"),yt(u);var p=u;p._p=new Promise(function(v,_){p.onload=v,p.onerror=_}),Ct(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=qr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Hd=0;function yT(e,t){return e.stylesheets&&e.count===0&&Gr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Hd===0&&(Hd=62500*J_());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Hd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function qr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yr=null;function Gr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yr=new Map,t.forEach(bT,e),Yr=null,qr.call(e))}function bT(e,t){if(!(t.state.loading&4)){var n=Yr.get(e);if(n)var s=n.get(null);else{n=new Map,Yr.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var p=c[u];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),s=p)}s&&n.set(null,s)}c=t.instance,p=c.getAttribute("data-precedence"),u=n.get(p)||s,u===s&&n.set(null,c),n.set(p,c),this.count++,s=qr.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var il={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function xT(e,t,n,s,c,u,p,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.hiddenUpdates=Oc(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function gx(e,t,n,s,c,u,p,v,_,B,K,te){return e=new xT(e,t,n,p,_,B,K,te,v),t=1,u===!0&&(t|=24),u=Kt(3,null,null,t),e.current=u,u.stateNode=e,t=xu(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},wu(u),e}function yx(e){return e?(e=Ti,e):Ti}function bx(e,t,n,s,c,u){c=yx(c),s.context===null?s.context=c:s.pendingContext=c,s=ra(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=oa(e,s,t),n!==null&&(Ft(n,e,t),Us(n,e,t))}function xx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qd(e,t){xx(e,t),(e=e.alternate)&&xx(e,t)}function vx(e){if(e.tag===13||e.tag===31){var t=La(e,67108864);t!==null&&Ft(t,e,67108864),qd(e,67108864)}}function jx(e){if(e.tag===13||e.tag===31){var t=Jt();t=Uc(t);var n=La(e,t);n!==null&&Ft(n,e,t),qd(e,t)}}var Fr=!0;function vT(e,t,n,s){var c=H.T;H.T=null;var u=Z.p;try{Z.p=2,Yd(e,t,n,s)}finally{Z.p=u,H.T=c}}function jT(e,t,n,s){var c=H.T;H.T=null;var u=Z.p;try{Z.p=8,Yd(e,t,n,s)}finally{Z.p=u,H.T=c}}function Yd(e,t,n,s){if(Fr){var c=Gd(s);if(c===null)Ad(e,t,s,Xr,n),wx(e,s);else if(wT(c,e,t,n,s))s.stopPropagation();else if(wx(e,s),t&4&&-1<ST.indexOf(e)){for(;c!==null;){var u=pi(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var p=ka(u.pendingLanes);if(p!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var _=1<<31-gt(p);v.entanglements[1]|=_,p&=~_}Nn(u),(Oe&6)===0&&(Cr=ve()+500,Is(0))}}break;case 31:case 13:v=La(u,2),v!==null&&Ft(v,u,2),Er(),qd(u,2)}if(u=Gd(s),u===null&&Ad(e,t,s,Xr,n),u===c)break;c=u}c!==null&&s.stopPropagation()}else Ad(e,t,s,null,n)}}function Gd(e){return e=Xc(e),Fd(e)}var Xr=null;function Fd(e){if(Xr=null,e=mi(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xr=e,null}function Sx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case Be:return 2;case Dt:return 8;case ae:case xe:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var Xd=!1,xa=null,va=null,ja=null,sl=new Map,ll=new Map,Sa=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wx(e,t){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function rl(e,t,n,s,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[c]},t!==null&&(t=pi(t),t!==null&&vx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function wT(e,t,n,s,c){switch(t){case"focusin":return xa=rl(xa,e,t,n,s,c),!0;case"dragenter":return va=rl(va,e,t,n,s,c),!0;case"mouseover":return ja=rl(ja,e,t,n,s,c),!0;case"pointerover":var u=c.pointerId;return sl.set(u,rl(sl.get(u)||null,e,t,n,s,c)),!0;case"gotpointercapture":return u=c.pointerId,ll.set(u,rl(ll.get(u)||null,e,t,n,s,c)),!0}return!1}function Nx(e){var t=mi(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Vp(e.priority,function(){jx(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Vp(e.priority,function(){jx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gd(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Fc=s,n.target.dispatchEvent(s),Fc=null}else return t=pi(n),t!==null&&vx(t),e.blockedOn=n,!1;t.shift()}return!0}function _x(e,t,n){Kr(e)&&n.delete(t)}function NT(){Xd=!1,xa!==null&&Kr(xa)&&(xa=null),va!==null&&Kr(va)&&(va=null),ja!==null&&Kr(ja)&&(ja=null),sl.forEach(_x),ll.forEach(_x)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,NT)))}var Zr=null;function Tx(e){Zr!==e&&(Zr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zr===e&&(Zr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(Fd(s||n)===null)continue;break}var u=pi(n);u!==null&&(e.splice(t,3),t-=3,Gu(u,{pending:!0,data:c,method:n.method,action:s},s,c))}}))}function $i(e){function t(_){return Qr(_,e)}xa!==null&&Qr(xa,e),va!==null&&Qr(va,e),ja!==null&&Qr(ja,e),sl.forEach(t),ll.forEach(t);for(var n=0;n<Sa.length;n++){var s=Sa[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Sa.length&&(n=Sa[0],n.blockedOn===null);)Nx(n),n.blockedOn===null&&Sa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var c=n[s],u=n[s+1],p=c[Vt]||null;if(typeof u=="function")p||Tx(n);else if(p){var v=null;if(u&&u.hasAttribute("formAction")){if(c=u,p=u[Vt]||null)v=p.formAction;else if(Fd(c)!==null)continue}else v=p.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),Tx(n)}}}function Cx(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Kd(e){this._internalRoot=e}Pr.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,s=Jt();bx(n,s,e,t,null,null)},Pr.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bx(e.current,2,null,e,null,null),Er(),t[hi]=null}};function Pr(e){this._internalRoot=e}Pr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sa.length&&t!==0&&t<Sa[n].priority;n++);Sa.splice(n,0,e),n===0&&Nx(e)}};var Ax=i.version;if(Ax!=="19.2.0")throw Error(o(527,Ax,"19.2.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var _T={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$r.isDisabled&&$r.supportsFiber)try{Rt=$r.inject(_T),He=$r}catch{}}return Ii.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,s="",c=Oy,u=Uy,p=Ly;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=gx(e,1,!1,null,null,n,s,null,c,u,p,Cx),e[hi]=t.current,Cd(e),new Kd(t)},Ii.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var s=!1,c="",u=Oy,p=Uy,v=Ly,_=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=gx(e,1,!0,t,n??null,s,c,_,u,p,v,Cx),t.context=yx(null),n=t.current,s=Jt(),s=Uc(s),c=ra(s),c.callback=null,oa(n,c,s),n=s,t.current.lanes=n,bs(t,n),Nn(t),e[hi]=t.current,Cd(e),new Pr(t)},Ii.version="19.2.0",Ii}var af;function Lx(){if(af)return eo.exports;af=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),eo.exports=Ux(),eo.exports}var Vx=Lx();const Bx=Qd(Vx);var io={};(function a(i,l,o,d){var f=!!(i.Worker&&i.Blob&&i.Promise&&i.OffscreenCanvas&&i.OffscreenCanvasRenderingContext2D&&i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype.transferControlToOffscreen&&i.URL&&i.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",y=(function(){if(!i.OffscreenCanvas)return!1;var R=new OffscreenCanvas(1,1),x=R.getContext("2d");x.fillRect(0,0,1,1);var O=R.transferToImageBitmap();try{x.createPattern(O,"no-repeat")}catch{return!1}return!0})();function m(){}function g(R){var x=l.exports.Promise,O=x!==void 0?x:i.Promise;return typeof O=="function"?new O(R):(R(m,m),null)}var b=(function(R,x){return{transform:function(O){if(R)return O;if(x.has(O))return x.get(O);var X=new OffscreenCanvas(O.width,O.height),M=X.getContext("2d");return M.drawImage(O,0,0),x.set(O,X),X},clear:function(){x.clear()}}})(y,new Map),j=(function(){var R=Math.floor(16.666666666666668),x,O,X={},M=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(F){var $=Math.random();return X[$]=requestAnimationFrame(function se(ce){M===ce||M+R-1<ce?(M=ce,delete X[$],F()):X[$]=requestAnimationFrame(se)}),$},O=function(F){X[F]&&cancelAnimationFrame(X[F])}):(x=function(F){return setTimeout(F,R)},O=function(F){return clearTimeout(F)}),{frame:x,cancel:O}})(),S=(function(){var R,x,O={};function X(M){function F($,se){M.postMessage({options:$||{},callback:se})}M.init=function(se){var ce=se.transferControlToOffscreen();M.postMessage({canvas:ce},[ce])},M.fire=function(se,ce,fe){if(x)return F(se,null),x;var De=Math.random().toString(36).slice(2);return x=g(function(Me){function Ue(Pe){Pe.data.callback===De&&(delete O[De],M.removeEventListener("message",Ue),x=null,b.clear(),fe(),Me())}M.addEventListener("message",Ue),F(se,De),O[De]=Ue.bind(null,{data:{callback:De}})}),x},M.reset=function(){M.postMessage({reset:!0});for(var se in O)O[se](),delete O[se]}}return function(){if(R)return R;if(!o&&f){var M=["var CONFETTI, SIZE = {}, module = {};","("+a.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{R=new Worker(URL.createObjectURL(new Blob([M])))}catch(F){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",F),null}X(R)}return R}})(),C={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(R,x){return x?x(R):R}function E(R){return R!=null}function T(R,x,O){return N(R&&E(R[x])?R[x]:C[x],O)}function z(R){return R<0?0:Math.floor(R)}function V(R,x){return Math.floor(Math.random()*(x-R))+R}function k(R){return parseInt(R,16)}function I(R){return R.map(ee)}function ee(R){var x=String(R).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:k(x.substring(0,2)),g:k(x.substring(2,4)),b:k(x.substring(4,6))}}function D(R){var x=T(R,"origin",Object);return x.x=T(x,"x",Number),x.y=T(x,"y",Number),x}function Y(R){R.width=document.documentElement.clientWidth,R.height=document.documentElement.clientHeight}function J(R){var x=R.getBoundingClientRect();R.width=x.width,R.height=x.height}function P(R){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=R,x}function ne(R,x,O,X,M,F,$,se,ce){R.save(),R.translate(x,O),R.rotate(F),R.scale(X,M),R.arc(0,0,1,$,se,ce),R.restore()}function re(R){var x=R.angle*(Math.PI/180),O=R.spread*(Math.PI/180);return{x:R.x,y:R.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:R.startVelocity*.5+Math.random()*R.startVelocity,angle2D:-x+(.5*O-Math.random()*O),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:R.color,shape:R.shape,tick:0,totalTicks:R.ticks,decay:R.decay,drift:R.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:R.gravity*3,ovalScalar:.6,scalar:R.scalar,flat:R.flat}}function me(R,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var O=x.tick++/x.totalTicks,X=x.x+x.random*x.tiltCos,M=x.y+x.random*x.tiltSin,F=x.wobbleX+x.random*x.tiltCos,$=x.wobbleY+x.random*x.tiltSin;if(R.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-O)+")",R.beginPath(),h&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))R.fill(Z(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(F-X)*.1,Math.abs($-M)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var se=Math.PI/10*x.wobble,ce=Math.abs(F-X)*.1,fe=Math.abs($-M)*.1,De=x.shape.bitmap.width*x.scalar,Me=x.shape.bitmap.height*x.scalar,Ue=new DOMMatrix([Math.cos(se)*ce,Math.sin(se)*ce,-Math.sin(se)*fe,Math.cos(se)*fe,x.x,x.y]);Ue.multiplySelf(new DOMMatrix(x.shape.matrix));var Pe=R.createPattern(b.transform(x.shape.bitmap),"no-repeat");Pe.setTransform(Ue),R.globalAlpha=1-O,R.fillStyle=Pe,R.fillRect(x.x-De/2,x.y-Me/2,De,Me),R.globalAlpha=1}else if(x.shape==="circle")R.ellipse?R.ellipse(x.x,x.y,Math.abs(F-X)*x.ovalScalar,Math.abs($-M)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):ne(R,x.x,x.y,Math.abs(F-X)*x.ovalScalar,Math.abs($-M)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var he=Math.PI/2*3,et=4*x.scalar,ht=8*x.scalar,jt=x.x,$e=x.y,Mt=5,pt=Math.PI/Mt;Mt--;)jt=x.x+Math.cos(he)*ht,$e=x.y+Math.sin(he)*ht,R.lineTo(jt,$e),he+=pt,jt=x.x+Math.cos(he)*et,$e=x.y+Math.sin(he)*et,R.lineTo(jt,$e),he+=pt;else R.moveTo(Math.floor(x.x),Math.floor(x.y)),R.lineTo(Math.floor(x.wobbleX),Math.floor(M)),R.lineTo(Math.floor(F),Math.floor($)),R.lineTo(Math.floor(X),Math.floor(x.wobbleY));return R.closePath(),R.fill(),x.tick<x.totalTicks}function ie(R,x,O,X,M){var F=x.slice(),$=R.getContext("2d"),se,ce,fe=g(function(De){function Me(){se=ce=null,$.clearRect(0,0,X.width,X.height),b.clear(),M(),De()}function Ue(){o&&!(X.width===d.width&&X.height===d.height)&&(X.width=R.width=d.width,X.height=R.height=d.height),!X.width&&!X.height&&(O(R),X.width=R.width,X.height=R.height),$.clearRect(0,0,X.width,X.height),F=F.filter(function(Pe){return me($,Pe)}),F.length?se=j.frame(Ue):Me()}se=j.frame(Ue),ce=Me});return{addFettis:function(De){return F=F.concat(De),fe},canvas:R,promise:fe,reset:function(){se&&j.cancel(se),ce&&ce()}}}function ge(R,x){var O=!R,X=!!T(x||{},"resize"),M=!1,F=T(x,"disableForReducedMotion",Boolean),$=f&&!!T(x||{},"useWorker"),se=$?S():null,ce=O?Y:J,fe=R&&se?!!R.__confetti_initialized:!1,De=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Me;function Ue(he,et,ht){for(var jt=T(he,"particleCount",z),$e=T(he,"angle",Number),Mt=T(he,"spread",Number),pt=T(he,"startVelocity",Number),En=T(he,"decay",Number),Da=T(he,"gravity",Number),le=T(he,"drift",Number),ve=T(he,"colors",I),ze=T(he,"ticks",Number),Be=T(he,"shapes"),Dt=T(he,"scalar"),ae=!!T(he,"flat"),xe=D(he),Xe=jt,kt=[],ot=R.width*xe.x,Rt=R.height*xe.y;Xe--;)kt.push(re({x:ot,y:Rt,angle:$e,spread:Mt,startVelocity:pt,color:ve[Xe%ve.length],shape:Be[V(0,Be.length)],ticks:ze,decay:En,gravity:Da,drift:le,scalar:Dt,flat:ae}));return Me?Me.addFettis(kt):(Me=ie(R,kt,ce,et,ht),Me.promise)}function Pe(he){var et=F||T(he,"disableForReducedMotion",Boolean),ht=T(he,"zIndex",Number);if(et&&De)return g(function(pt){pt()});O&&Me?R=Me.canvas:O&&!R&&(R=P(ht),document.body.appendChild(R)),X&&!fe&&ce(R);var jt={width:R.width,height:R.height};se&&!fe&&se.init(R),fe=!0,se&&(R.__confetti_initialized=!0);function $e(){if(se){var pt={getBoundingClientRect:function(){if(!O)return R.getBoundingClientRect()}};ce(pt),se.postMessage({resize:{width:pt.width,height:pt.height}});return}jt.width=jt.height=null}function Mt(){Me=null,X&&(M=!1,i.removeEventListener("resize",$e)),O&&R&&(document.body.contains(R)&&document.body.removeChild(R),R=null,fe=!1)}return X&&!M&&(M=!0,i.addEventListener("resize",$e,!1)),se?se.fire(he,jt,Mt):Ue(he,jt,Mt)}return Pe.reset=function(){se&&se.reset(),Me&&Me.reset()},Pe}var ue;function H(){return ue||(ue=ge(null,{useWorker:!0,resize:!0})),ue}function Z(R,x,O,X,M,F,$){var se=new Path2D(R),ce=new Path2D;ce.addPath(se,new DOMMatrix(x));var fe=new Path2D;return fe.addPath(ce,new DOMMatrix([Math.cos($)*M,Math.sin($)*M,-Math.sin($)*F,Math.cos($)*F,O,X])),fe}function Q(R){if(!h)throw new Error("path confetti are not supported in this browser");var x,O;typeof R=="string"?x=R:(x=R.path,O=R.matrix);var X=new Path2D(x),M=document.createElement("canvas"),F=M.getContext("2d");if(!O){for(var $=1e3,se=$,ce=$,fe=0,De=0,Me,Ue,Pe=0;Pe<$;Pe+=2)for(var he=0;he<$;he+=2)F.isPointInPath(X,Pe,he,"nonzero")&&(se=Math.min(se,Pe),ce=Math.min(ce,he),fe=Math.max(fe,Pe),De=Math.max(De,he));Me=fe-se,Ue=De-ce;var et=10,ht=Math.min(et/Me,et/Ue);O=[ht,0,0,ht,-Math.round(Me/2+se)*ht,-Math.round(Ue/2+ce)*ht]}return{type:"path",path:x,matrix:O}}function oe(R){var x,O=1,X="#000000",M='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof R=="string"?x=R:(x=R.text,O="scalar"in R?R.scalar:O,M="fontFamily"in R?R.fontFamily:M,X="color"in R?R.color:X);var F=10*O,$=""+F+"px "+M,se=new OffscreenCanvas(F,F),ce=se.getContext("2d");ce.font=$;var fe=ce.measureText(x),De=Math.ceil(fe.actualBoundingBoxRight+fe.actualBoundingBoxLeft),Me=Math.ceil(fe.actualBoundingBoxAscent+fe.actualBoundingBoxDescent),Ue=2,Pe=fe.actualBoundingBoxLeft+Ue,he=fe.actualBoundingBoxAscent+Ue;De+=Ue+Ue,Me+=Ue+Ue,se=new OffscreenCanvas(De,Me),ce=se.getContext("2d"),ce.font=$,ce.fillStyle=X,ce.fillText(x,Pe,he);var et=1/O;return{type:"bitmap",bitmap:se.transferToImageBitmap(),matrix:[et,0,0,et,-De*et/2,-Me*et/2]}}l.exports=function(){return H().apply(this,arguments)},l.exports.reset=function(){H().reset()},l.exports.create=ge,l.exports.shapeFromPath=Q,l.exports.shapeFromText=oe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),io,!1);const so=io.exports;io.exports.create;const sf={reliability:3,values:3,safety:3,reciprocity:2,chemistry:2,interaction:2,logistics:2,activity:1},lf=.45,lo={reliability:null,values:null,safety:null,reciprocity:null,chemistry:null,interaction:null,logistics:null,activity:null,arch_confidante:null,arch_anchor:null,arch_adventurer:null,arch_communicator:null,arch_connector:null,arch_coach:null,arch_collaborator:null,arch_caregiver:null,sig_asks:null,sig_on_time:null,sig_makes_plan:null,sig_includes:null,sig_boundaries:null,sig_energy:null},rf=[{id:"sig_asks",round:"Signals Round",emoji:"",title:"Asks & listens",hint:"They ask follow-ups and actually listen."},{id:"sig_on_time",round:"Signals Round",emoji:"",title:"On-time / responsive",hint:"Shows up on time; replies in ~24h."},{id:"sig_makes_plan",round:"Signals Round",emoji:"",title:"Plan energy",hint:"Suggests a next hang or picks a spot."},{id:"sig_includes",round:"Signals Round",emoji:"",title:"Inclusive kindness",hint:"Kind to staff; brings people in."},{id:"sig_boundaries",round:"Signals Round",emoji:"",title:"Boundary respect",hint:"Honors pace/topics when you hint."},{id:"sig_energy",round:"Signals Round",emoji:"",title:"Energy match",hint:"Pace & humor feel aligned."},{id:"chemistry",round:"Vibes Round",emoji:"",title:"Chemistry / Fun",hint:"Do we laugh easily & want to hang?",weightKey:"chemistry"},{id:"interaction",round:"Vibes Round",emoji:"",title:"Interaction Fit",hint:"Texting style, frequency, conflict vibes match?",weightKey:"interaction"},{id:"reliability",round:"Adulting Round",emoji:"",title:"Reliability",hint:"They keep plans & follow through",weightKey:"reliability"},{id:"reciprocity",round:"Adulting Round",emoji:"",title:"Reciprocity",hint:"Effort & invites are mutual",weightKey:"reciprocity"},{id:"logistics",round:"Adulting Round",emoji:"",title:"Logistics Fit",hint:"Proximity + time overlap works",weightKey:"logistics"},{id:"values",round:"Values Round",emoji:"",title:"Values Match",hint:"Top-3 traits line up",weightKey:"values"},{id:"safety",round:"Values Round",emoji:"",title:"Emotional Safety",hint:"I feel seen, respected, not judged",weightKey:"safety"},{id:"activity",round:"Values Round",emoji:"",title:"Activity Overlap",hint:"We have 1 regular thing to do",weightKey:"activity"},{id:"arch_confidante",round:"Archetype Round",emoji:"",title:"Confidante energy",hint:"Shares honestly, listens, keeps confidence."},{id:"arch_anchor",round:"Archetype Round",emoji:"",title:"Anchor energy",hint:"Shows up on time, loves routines & traditions."},{id:"arch_adventurer",round:"Archetype Round",emoji:"",title:"Adventurer energy",hint:"Suggests new spots, down for novelty."},{id:"arch_communicator",round:"Archetype Round",emoji:"",title:"Communicator energy",hint:"Smooth plans, repairs bumps fast."},{id:"arch_connector",round:"Archetype Round",emoji:"",title:"Connector energy",hint:"Introduces people, builds group hangs."},{id:"arch_coach",round:"Archetype Round",emoji:"",title:"Coach energy",hint:"Accountability, hype, thoughtful feedback."},{id:"arch_collaborator",round:"Archetype Round",emoji:"",title:"Collaborator energy",hint:"Loves making/learning together."},{id:"arch_caregiver",round:"Archetype Round",emoji:"",title:"Caregiver energy",hint:"Warm check-ins, supportive, brings soup vibes."}],Na=["Signals Round","Vibes Round","Adulting Round","Values Round","Archetype Round"],Hx=[{id:"flake",label:"Chronic flakiness",emoji:""},{id:"mean",label:"Put-downs / disrespect",emoji:""},{id:"gossip",label:"Gossip as a bonding strategy",emoji:""},{id:"trust",label:"Breaches confidence",emoji:""},{id:"boundary",label:"Ignores boundaries (after told)",emoji:""}];function qx(a,i){return i.direct<.35?{name:"Provisional  Low Evidence",color:"bg-gray-400",emoji:""}:a>=85?{name:"Bestie Material",color:"bg-green-500",emoji:""}:a>=70?{name:"Strong Contender",color:"bg-emerald-400",emoji:""}:a>=50?{name:"Potential Pal",color:"bg-yellow-400",emoji:""}:{name:"Acquaintance Energy",color:"bg-gray-400",emoji:""}}const Yx={Confidante:{desc:"deep talks, safe space, honesty",emoji:""},Anchor:{desc:"routines, consistency, show-up energy",emoji:""},Adventurer:{desc:"fun missions, novelty, momentum",emoji:""},Communicator:{desc:"matched pace, smooth plans & repair",emoji:""},Connector:{desc:"brings people together, social bridge",emoji:""},Coach:{desc:"accountability + growth buddy",emoji:""},Collaborator:{desc:"make/learn things together",emoji:""},Caregiver:{desc:"empathy, caretaking, steady support",emoji:""}},Ut=a=>(a??3)-3,of=(a,i,l)=>Math.max(i,Math.min(l,a));function xt(a,i){let l=0;switch(a){case"reliability":l=.6*Ut(i.sig_on_time)+.2*Ut(i.sig_makes_plan);break;case"values":l=.4*Ut(i.sig_includes)+.3*Ut(i.sig_asks)+.3*Ut(i.sig_boundaries);break;case"safety":l=.6*Ut(i.sig_boundaries)+.3*Ut(i.sig_asks);break;case"reciprocity":l=.6*Ut(i.sig_makes_plan)+.3*Ut(i.sig_asks);break;case"chemistry":l=.8*Ut(i.sig_energy);break;case"interaction":l=.5*Ut(i.sig_on_time)+.4*Ut(i.sig_energy);break;case"logistics":l=.8*Ut(i.sig_on_time);break;case"activity":l=.8*Ut(i.sig_makes_plan);break;default:l=0}const o=3+of(l/2,-1,1);return of(o,1,5)}const Pn=a=>(a??3)-3;function Gx(a){const i={Confidante:(a.values??xt("values",a))+(a.safety??xt("safety",a)),Anchor:(a.reliability??xt("reliability",a))+(a.logistics??xt("logistics",a)),Adventurer:(a.chemistry??xt("chemistry",a))+(a.activity??xt("activity",a)),Communicator:(a.interaction??xt("interaction",a))+(a.reciprocity??xt("reciprocity",a)),Connector:(a.interaction??xt("interaction",a))+(a.activity??xt("activity",a)),Coach:(a.values??xt("values",a))+(a.reciprocity??xt("reciprocity",a)),Collaborator:(a.activity??xt("activity",a))+(a.values??xt("values",a)),Caregiver:(a.safety??xt("safety",a))+(a.reciprocity??xt("reciprocity",a))};return{Confidante:i.Confidante+Pn(a.arch_confidante),Anchor:i.Anchor+Pn(a.arch_anchor),Adventurer:i.Adventurer+Pn(a.arch_adventurer),Communicator:i.Communicator+Pn(a.arch_communicator),Connector:i.Connector+Pn(a.arch_connector),Coach:i.Coach+Pn(a.arch_coach),Collaborator:i.Collaborator+Pn(a.arch_collaborator),Caregiver:i.Caregiver+Pn(a.arch_caregiver)}}function Fx(a){const i=Gx(a);return Object.entries(i).sort((l,o)=>o[1]-l[1]).map(([l,o])=>({name:l,score:o,...Yx[l]}))}function Xx(a,i,l){const o=Object.keys(i);let d=0,f=0,h=0;for(const y of o){const m=i[y];h+=m,a[y]!=null?d+=m:f+=m*l}return{direct:h?d/h:0,proxy:h?f/h:0,total:h?(d+f)/h:0,directW:d,proxyW:f,totalW:h}}function Kx(a,i){const l={reliability:"Set a small plan with a time window; see if they confirm & show on time.",values:"Ask: Whats something youre trying to get better at this season?",safety:"Share a medium-vulnerable story; notice curiosity & non-judgment.",reciprocity:"Ask them to pick the spot/time for the next hang.",chemistry:"Do a 30min game/creative mini-activity and notice ease & laughs.",interaction:"Try voice notes / set texting expectations for a day and see the flow.",logistics:"Offer two realistic time slots next week; see if scheduling is smooth.",activity:"Propose a repeating anchor (Thu walk / Sun coffee)."};return Object.entries(i).filter(([d])=>a[d]==null).sort(([,d],[,f])=>f-d).map(([d])=>({k:d,tip:l[d]})).slice(0,3)}function Qx(a={}){const{onSave:i}=a,[l,o]=w.useState({...sf}),[d,f]=w.useState(lf),[h]=w.useState(()=>typeof window<"u"&&new URLSearchParams(window.location.search).has("admin")),[y,m]=w.useState(!1),[g,b]=w.useState(""),[j,S]=w.useState(""),[C,N]=w.useState({...lo}),[E,T]=w.useState(0),[z,V]=w.useState({}),[k,I]=w.useState([]),[ee,D]=w.useState(!1),[Y,J]=w.useState(""),[P,ne]=w.useState(!1),[re,me]=w.useState(null),ie=w.useRef(null),ge=w.useRef(null),ue=w.useRef(null),[H,Z]=w.useState(!1);w.useEffect(()=>{try{const ae=JSON.parse(localStorage.getItem("bestie_config")||"null");ae&&(ae.weights&&o(Xe=>({...Xe,...ae.weights})),typeof ae.proxyFraction=="number"&&f(ae.proxyFraction));const xe=JSON.parse(localStorage.getItem("bestie_quiz_draft")||"null");xe&&(b(xe.candidateName||""),S(xe.friendEmail||""),N({...lo,...xe.answers||{}}),V(xe.flags||{}),T(xe.roundIndex||0),me(xe.pictureData||null))}catch{}},[]),w.useEffect(()=>{try{localStorage.setItem("bestie_config",JSON.stringify({weights:l,proxyFraction:d}))}catch{}},[l,d]),w.useEffect(()=>{try{localStorage.setItem("bestie_quiz_draft",JSON.stringify({candidateName:g,friendEmail:j,answers:C,flags:z,roundIndex:E,pictureData:re,ts:Date.now()}))}catch{}},[g,j,C,z,E,re]),w.useEffect(()=>{try{const ae=localStorage.getItem("bestie_saved");if(ae){const xe=JSON.parse(ae);Array.isArray(xe)&&I(xe)}}catch{}},[]),w.useEffect(()=>{try{localStorage.setItem("bestie_saved",JSON.stringify(k))}catch{}},[k]);const Q=w.useCallback((ae={})=>{try{so({disableForReducedMotion:!1,useWorker:!1,...ae})}catch(xe){console.warn("Confetti launch failed",xe)}},[]),oe=w.useMemo(()=>Xx(C,l,d),[C,l,d]),R=w.useMemo(()=>{let ae=0,xe=0;for(const[kt,ot]of Object.entries(l)){const Rt=C[kt]!=null,He=Rt?1:d,St=Rt?C[kt]:xt(kt,C);ae+=(St||0)*ot*He,xe+=5*ot*He}if(xe===0)return 0;const Xe=Math.round(ae/xe*100);return Math.min(100,Math.max(0,Xe))},[C,l,d]),x=w.useMemo(()=>Object.values(z).filter(Boolean).length,[z]),O=qx(R,oe),X=w.useMemo(()=>Fx(C),[C]),M=X[0],F=X[1];rf.filter(ae=>ae.round===Na[E]);const $=E===Na.length-1,se=w.useMemo(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches,[]),ce=(ae,xe)=>N(Xe=>({...Xe,[ae]:xe})),fe=ae=>{const xe=ae.target.files&&ae.target.files[0];if(!xe)return;const Xe=new FileReader;Xe.onload=kt=>me(String(kt.target?.result||"")),Xe.readAsDataURL(xe),ae.target.value=""},De=()=>{N({...lo}),V({}),T(0),b(""),S("")},Me=()=>ne(!1),Ue=()=>{typeof window<"u"&&window.location.assign("/dashboard")},Pe=async()=>{const ae=g.trim()||`Player ${k.length+1}`,xe=typeof window<"u"&&(window.__friendId||document.getElementById("bestie-quiz-root")?.dataset?.friendId)?String(window.__friendId||document.getElementById("bestie-quiz-root")?.dataset?.friendId):null,Xe={name:ae,email:j.trim()||null,archetype_primary:M?.name,archetype_secondary:F?.name,score:R,evidence_direct:oe.direct,evidence_proxy:oe.proxy,flags_count:x,red_flags:Object.entries(z).filter(([,ot])=>ot).map(([ot])=>ot),snapshot:{...C},signals:Object.fromEntries(Object.entries(C).filter(([ot])=>ot.startsWith("sig_"))),picture:re,tier:O?.name||"General",channel_pref:"mixed",effort_capacity:"medium",id:xe||void 0};D(!0),J("");try{if(typeof i=="function")await i(Xe);else if(typeof window<"u"&&typeof window.__bestie_onSave=="function")await window.__bestie_onSave(Xe);else if(typeof fetch=="function"){const Rt=xe?`/api/friends?id=${encodeURIComponent(xe)}`:"/api/friends",He={"Content-Type":"application/json"},St=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null,gt=St?St.getAttribute("content"):null;gt&&(He["X-CSRF-Token"]=gt);const di=await fetch(Rt,{method:"POST",headers:He,credentials:"include",body:JSON.stringify(Xe)});if(di.status===401){const zc=`/login?returnTo=${encodeURIComponent("/friend-quiz")}`;J("Please log in to save."),window.location.assign(zc);return}if(!di.ok)throw new Error(`HTTP ${di.status}`)}J("Saved to friends "),R>=60&&x<2&&(Q({particleCount:140,spread:80,origin:{y:.6}}),Q({particleCount:80,angle:60,spread:55,origin:{x:0}}),Q({particleCount:80,angle:120,spread:55,origin:{x:1}}))}catch(ot){console.error("BestieVibes: save failed",ot),J("Saved locally (API error)")}finally{D(!1)}const kt={id:Date.now(),name:ae,score:R,tier:O.name,emoji:O.emoji,arch:M?.name,archEmoji:M?.emoji,flags:x,snapshot:{...C},evidence:oe};I(ot=>[kt,...ot].slice(0,8)),De(),ne(!0),setTimeout(()=>J(""),2e3)},he=()=>T(ae=>Math.min(ae+1,Na.length-1)),et=()=>T(ae=>Math.max(ae-1,0)),ht=()=>{E>=Na.length-1||(Z(!0),he())},jt=()=>{E<=0||(Z(!0),et())},[$e,Mt]=w.useState(()=>typeof window>"u"?!1:window.innerWidth>=1024);w.useEffect(()=>{if(typeof window>"u")return;const ae=()=>Mt(window.innerWidth>=1024);return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]);const pt=()=>{if($){$e&&Z(!0);return}ht()};w.useEffect(()=>{if(!H)return;const ae=ue.current;if(!ae){Z(!1);return}const xe=se?"auto":"smooth";ae.scrollIntoView({block:"start",behavior:xe}),typeof ae.focus=="function"&&ae.focus({preventScroll:!0}),Z(!1)},[E,H,se]);const En=w.useMemo(()=>{const ae=["Coffee walk + meme swap this week? Tue 6p or Sat 11a ","Try a new thing together: bouldering/paint night/arcade?  Sun 3p?","Low-key hang & debrief life? Thu 7p tea or Sun 10a park bench ","Volunteering shift + tacos after? Sat 12p "];return ae[Math.floor(Math.random()*ae.length)]},[R,M?.name]),Da=w.useMemo(()=>Kx(C,l),[C,l]),le=r.jsxs("aside",{className:"order-2 lg:order-1 lg:col-start-2 lg:row-start-2 lg:sticky lg:top-28 space-y-4",children:[r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("h2",{className:"text-lg font-bold text-[#455a7c]",children:"Friend Snapshot"}),r.jsxs("div",{className:"mt-3 grid gap-3",children:[r.jsx("input",{value:g,onChange:ae=>b(ae.target.value),placeholder:"Potential/Current Friend name",className:"w-full px-3 py-2 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#455a7c]"}),r.jsx("input",{type:"email",value:j,onChange:ae=>S(ae.target.value),placeholder:"Friend email & KAI can contact them for you",className:"w-full px-3 py-2 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-[#455a7c]"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("label",{className:"px-3 py-2 rounded-xl border bg-white cursor-pointer hover:bg-[#455a7c]/5 text-sm",children:[r.jsx("input",{ref:ie,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:fe})," Camera"]}),r.jsxs("label",{className:"px-3 py-2 rounded-xl border bg-white cursor-pointer hover:bg-[#455a7c]/5 text-sm",children:[r.jsx("input",{ref:ge,type:"file",accept:"image/*",className:"hidden",onChange:fe})," Upload"]}),re&&r.jsxs("div",{className:"flex items-center gap-2 rounded-xl border bg-slate-50 px-3 py-2",children:[r.jsx("img",{src:re,alt:"preview",className:"h-10 w-10 rounded-xl object-cover border"}),r.jsx("button",{onClick:()=>me(null),className:"px-2 py-1 rounded-lg border bg-white hover:bg-[#455a7c]/5 text-xs",children:"Clear"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsx("button",{onClick:Pe,disabled:ee,className:`px-4 py-2 rounded-2xl text-white font-medium shadow active:translate-y-px ${ee?"bg-[#455a7c]/40 cursor-not-allowed":"bg-[#455a7c] hover:shadow-md"}`,children:ee?"Saving":"Save"}),r.jsx("span",{className:"text-xs text-[#455a7c]",children:Y})]})]})]}),r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Friendship Score"}),r.jsxs("div",{className:"mt-1 flex items-end gap-3",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-extrabold",children:x>=2?"":R}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"w-full h-3 rounded-full bg-slate-200 overflow-hidden",children:r.jsx("div",{className:`h-full ${x>=2?"bg-red-400":"bg-[#455a7c]"}`,style:{width:`${x>=2?100:R}%`}})}),r.jsx("div",{className:"text-xs text-[#455a7c] mt-1",children:x>=2?"2+ red flags = autopass":O.name})]})]})]}),r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Evidence"}),r.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Direct"}),r.jsxs("span",{className:"font-semibold",children:[Math.round(oe.direct*100),"%"]})]}),r.jsx("div",{className:"w-full h-2 rounded-full bg-slate-200 overflow-hidden",children:r.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${oe.direct*100}%`}})}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("span",{children:"Proxy"}),r.jsxs("span",{className:"font-semibold",children:[Math.round(oe.proxy*100),"%"]})]}),r.jsx("div",{className:"w-full h-2 rounded-full bg-slate-200 overflow-hidden",children:r.jsx("div",{className:"h-full bg-indigo-400",style:{width:`${oe.proxy*100}%`}})})]}),r.jsx("div",{className:"text-xs text-[#455a7c] mt-2",children:"More direct answers = higher confidence and stronger tiers."})]}),r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Friend Type"}),r.jsxs("div",{className:"mt-1 text-2xl font-bold",children:[M?.emoji," ",M?.name]}),r.jsx("div",{className:"text-sm text-[#455a7c]",children:M?.desc}),r.jsxs("div",{className:"text-xs text-[#455a7c] mt-2",children:["Secondary: ",r.jsxs("span",{className:"font-medium",children:[F?.emoji," ",F?.name]})]})]}),r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("div",{className:"text-lg font-bold text-[#455a7c]",children:"Next Move"}),r.jsx("div",{className:"mt-1 text-[#455a7c]",children:En}),r.jsx("div",{className:"text-xs text-[#455a7c] mt-2",children:"Top tests to run:"}),r.jsx("ul",{className:"text-xs text-[#455a7c] list-disc list-inside mt-1 space-y-1",children:Da.map(ae=>r.jsxs("li",{children:[r.jsx("b",{children:ae.k}),": ",ae.tip]},ae.k))})]}),r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"MicroChallenges "}),r.jsxs("ul",{className:"list-disc list-inside text-[#455a7c] mt-2 space-y-1 text-sm",children:[r.jsxs("li",{children:[r.jsx("b",{children:"Signal reliability:"})," set a plan in 2 taps; follow up next day with a meme or link."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Safety check:"})," share a mediumvulnerable story; notice how they handle it."]}),r.jsxs("li",{children:[r.jsx("b",{children:"Overlap test:"})," propose a repeating anchor (Thu walk / Sun coffee)."]})]})]}),r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Invite Scripts "}),r.jsxs("div",{className:"text-[#455a7c] mt-2 space-y-2 text-sm",children:[r.jsx("p",{children:" This week: coffee walk & catchup? Tue 6p or Sat 11a "}),r.jsx("p",{children:" Paint night / bouldering / arcade runfeel like trying one?  Sun 3p?"}),r.jsx("p",{children:" Thu minitradition: 30min walk & life debriefdown?"})]})]})]}),ve=()=>r.jsxs("section",{className:"order-1 lg:order-1 lg:col-start-1 space-y-6",children:[h&&r.jsx("div",{className:"flex items-center justify-end",children:r.jsx("button",{onClick:()=>m(ae=>!ae),className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:" Scoring"})}),h&&y&&r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"font-semibold",children:"Scoring Controls"}),r.jsx("button",{onClick:()=>{o({...sf}),f(lf)},className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:"Reset defaults"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-3 mt-3",children:Object.entries(l).map(([ae,xe])=>r.jsxs("label",{className:"text-sm",children:[r.jsx("div",{className:"font-medium capitalize",children:ae}),r.jsx("input",{type:"range",min:0,max:5,step:1,value:xe,onChange:Xe=>o(kt=>({...kt,[ae]:Number(Xe.target.value)})),className:"w-full"}),r.jsxs("div",{className:"text-xs text-slate-600",children:["Weight: ",xe]})]},ae))}),r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"font-medium text-sm",children:"Proxy fraction"}),r.jsx("input",{type:"range",min:0,max:1,step:.05,value:d,onChange:ae=>f(Number(ae.target.value)),className:"w-full"}),r.jsxs("div",{className:"text-xs text-slate-600",children:[Math.round(d*100),"% credit when using firstmeet signals as proxies"]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 rounded-2xl bg-rose-50 border border-rose-200",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("h2",{className:"font-semibold text-rose-700",children:"1. RedFlag Bingo: select concerns with this person you have"}),r.jsxs("div",{className:"text-sm text-rose-700 whitespace-nowrap",children:[x," / 2 triggers autopass"]})]}),r.jsx("div",{className:"grid sm:grid-cols-5 gap-2 mt-3",children:Hx.map(ae=>r.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border ${z[ae.id]?"bg-rose-100 border-rose-300":"bg-white"} cursor-pointer`,children:[r.jsx("input",{type:"checkbox",className:"accent-rose-500",checked:!!z[ae.id],onChange:xe=>V(Xe=>({...Xe,[ae.id]:xe.target.checked}))}),r.jsxs("span",{children:[ae.emoji," ",ae.label]})]},ae.id))}),x>=2&&r.jsx("div",{className:"mt-3 text-sm text-rose-700",children:"Good to notice early. Lower investment; keep it casual."})]}),r.jsxs("div",{ref:ue,id:"round-top",tabIndex:-1,className:"text-sm text-[#455a7c] font-bold scroll-mt-28",children:["2. ",Na[E]," ",E+1,"/",Na.length,": Answer all of these to assess this persons friend type and fit for you"]}),r.jsx("div",{className:"space-y-6",children:rf.filter(ae=>ae.round===Na[E]).map(ae=>r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm uppercase tracking-wide text-slate-500",children:ae.round}),r.jsxs("div",{className:"text-xl font-bold text-[#455a7c]",children:[ae.emoji," ",ae.title]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm text-slate-500",children:["Current: ",r.jsx("span",{className:"font-semibold",children:C[ae.id]??""})]}),r.jsx("span",{className:"text-xs text-[#455a7c]",children:l[ae.weightKey]?`${l[ae.weightKey]}`:ae.id.startsWith("sig_")?"signal":"archetype"})]})]}),r.jsx("div",{className:"text-sm text-[#455a7c] mt-1",children:ae.hint}),r.jsxs("div",{className:"mt-3 flex justify-between text-xs text-[#455a7c]",children:[r.jsx("span",{children:"Low"}),r.jsx("span",{children:"High"})]}),r.jsxs("div",{className:"mt-1 grid grid-cols-6 gap-2",children:[[1,2,3,4,5].map(xe=>r.jsx("button",{onClick:()=>ce(ae.id,xe),className:`h-12 inline-flex items-center justify-center rounded-xl border text-sm font-medium transition ${C[ae.id]===xe?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5"}`,children:xe},xe)),r.jsx("button",{onClick:()=>ce(ae.id,null),className:`h-12 inline-flex items-center justify-center rounded-xl border text-sm font-medium transition whitespace-nowrap col-span-6 sm:col-span-3 ${C[ae.id]==null?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5"}`,children:" Not sure yet"})]})]},ae.id))}),r.jsxs("div",{className:"flex items-center justify-between gap-2 pt-2",children:[r.jsx("button",{onClick:jt,className:"px-3 py-1.5 rounded-xl border bg-white hover:bg-[#455a7c]/5 text-sm",children:" Previous"}),r.jsx("button",{onClick:pt,className:"inline-flex px-4 py-2 rounded-xl border border-[#ff5656] bg-[#ff5656] hover:bg-[#ff5656]/90 text-white text-base",children:"Next "})]})]})]}),ze=()=>r.jsx("section",{className:"order-5 lg:order-3 lg:col-start-1",children:r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Scoreboard "}),r.jsx("button",{onClick:()=>I([]),className:"text-sm text-[#455a7c] hover:underline",children:"Clear"})]}),k.length===0?r.jsx("div",{className:"text-[#455a7c] text-sm mt-2",children:"Save a few players to compare tiers."}):r.jsx("div",{className:"mt-3 grid gap-2",children:k.map(ae=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-2 h-8 rounded ${ae.flags>=2?"bg-rose-400":"bg-[#455a7c]"}`}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold",children:[ae.emoji," ",ae.name,"  ",ae.score]}),r.jsxs("div",{className:"text-xs text-[#455a7c]",children:[ae.tier,"  ",ae.archEmoji," ",ae.arch,"  Direct ",Math.round((ae.evidence?.direct||0)*100),"% / Proxy ",Math.round((ae.evidence?.proxy||0)*100),"%"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[ae.flags>=2&&r.jsxs("span",{className:"text-xs text-rose-600",children:[ae.flags," autopass"]}),r.jsx("button",{onClick:()=>I(xe=>xe.filter(Xe=>Xe.id!==ae.id)),className:"px-2 py-1 rounded-lg border bg-white hover:bg-[#455a7c]/5 text-sm",children:"Remove"})]})]},ae.id))})]})}),Be=()=>r.jsx("section",{className:"order-6 lg:order-2 lg:col-start-1 lg:-mt-4",children:r.jsxs("div",{className:"p-4 rounded-2xl bg-white shadow-sm border",children:[r.jsx("h3",{className:"text-lg font-bold text-[#455a7c]",children:"Friendship Types  Do you have them all? Which is most important to you?"}),r.jsxs("p",{className:"text-sm text-[#455a7c] mt-2",children:["This main types of friends are: ",r.jsx("b",{children:"Depth"})," (Confidante, Caregiver), ",r.jsx("b",{children:"Stability"})," (Anchor), ",r.jsx("b",{children:"Novelty"})," (Adventurer), ",r.jsx("b",{children:"Coordination"})," (Communicator, Connector), and ",r.jsx("b",{children:"Growth"})," (Coach, Collaborator). Most close friends blend 23. Use the cards below to spot strengths, watchouts, and best microplans."]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[{key:"Confidante",emoji:"",title:"Confidante",strengths:"Listening, honesty, vulnerability, confidentiality.",plans:["Tea walks","latenight talks","journal/reading circle"],watch:"Can tilt heavy; avoid turning every hang into therapy.",invest:"Steady checkins, gentle truthtelling, celebrate their wins too."},{key:"Anchor",emoji:"",title:"Anchor",strengths:"Reliability, routines, punctuality, calm.",plans:["Weekly run","coworking block","errand + lunch"],watch:"Ruts and sameness; add tiny novelty.",invest:"Honor time blocks, be on time, set traditions."},{key:"Adventurer",emoji:"",title:"Adventurer",strengths:"Novelty, momentum, courage to try stuff.",plans:["New restaurant","day hike","class dropin"],watch:"Overscheduling or flaking; add posthang debrief.",invest:"Prebook dates, keep a shared ideas list."},{key:"Communicator",emoji:"",title:"Communicator",strengths:"Smooth plans, conflict repair, vibe calibration.",plans:["Voicenote catchups","planjam session"],watch:"Overplanning; keep space for spontaneity.",invest:"Share norms (text speed, cancel rules), say thanks for logistics labor."},{key:"Connector",emoji:"",title:"Connector",strengths:"Introductions, group glue, community builder.",plans:["Bringafriend brunch","boardgame night"],watch:"Surfacelevel time only; protect 1:1s.",invest:"Cohost, help with invites, prioritize dedicated time."},{key:"Coach",emoji:"",title:"Coach",strengths:"Accountability, feedback, goals, hype.",plans:["Gym/accountability checkins","skill swaps"],watch:"Unsolicited advice; ask consent.",invest:"Define goals, celebrate wins, rotate whose goals get focus."},{key:"Collaborator",emoji:"",title:"Collaborator",strengths:"Make/learn things together; flow state.",plans:["Build/record/paint session","hack day"],watch:"Project drift causing friction.",invest:"Set scope & roles, do small showcases."},{key:"Caregiver",emoji:"",title:"Caregiver",strengths:"Empathy, caretaking, steadying presence.",plans:["Soup + movie","soft errands","quiet cotime"],watch:"Burnout or unequal caretaking.",invest:"Reciprocate support, ask what helps, give them light, fun time too."}].map(ae=>r.jsxs("div",{className:"p-3 rounded-xl border bg-white",children:[r.jsxs("div",{className:"font-semibold",children:[ae.emoji," ",ae.title]}),r.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[r.jsx("b",{children:"Strengths:"})," ",ae.strengths]}),r.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[r.jsx("b",{children:"Best microplans:"})," ",ae.plans.join(", "),"."]}),r.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[r.jsx("b",{children:"Watchouts:"})," ",ae.watch]}),r.jsxs("div",{className:"text-xs text-[#455a7c] mt-1",children:[r.jsx("b",{children:"Invest to thrive:"})," ",ae.invest]})]},ae.key))})]})}),Dt=()=>r.jsx("section",{className:"order-7 lg:order-4 lg:col-start-1 space-y-6",children:r.jsx("footer",{className:"text-center text-xs text-[#455a7c]",children:"Not a diagnosisjust a vibe compass. Thin-slice wisely: upgrade proxies to direct evidence over 23 microhangs. "})});return r.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-violet-50 to-white text-[#455a7c] p-6",children:[r.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6 lg:grid lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)] lg:gap-6",children:[r.jsxs("section",{className:"order-0 lg:order-0 lg:col-span-2 bg-white/80 backdrop-blur-sm border border-slate-200/70 rounded-3xl shadow-sm p-6",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Friendship Fit Quiz "}),r.jsx("p",{className:"text-[#455a7c] mt-1",children:"Complete a quiz for each person you want to be better friends with, and KAI gives you a fun Friend Arc to get closer to that person faster."}),r.jsxs("ul",{className:"text-[#455a7c] mt-1 list-disc list-inside space-y-1 text-sm",children:[r.jsx("li",{children:"In the 1st section of the quiz more then 2 Red Flags means they are not friend material."}),r.jsx("li",{children:"The 2nd section has 4 rounds of questions that determines your VIBES as friends."}),r.jsx("li",{children:"Press save Button after the quiz is completed."}),r.jsx("li",{children:"Saved friends and their scores are below, and can be found in your profile. "}),r.jsx("li",{children:"After the quiz speak with KAI, or check out your Friend Arc!"})]})]}),r.jsx(ve,{}),le,r.jsx(Be,{}),r.jsx(ze,{}),r.jsx(Dt,{})]}),P&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Congrats! You have completed a Friend Quiz!"}),r.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Would you like to see your new Friend Arc?"}),r.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[r.jsx("button",{type:"button",onClick:Me,className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Do Another Quiz"}),r.jsx("button",{type:"button",onClick:Ue,className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"Go to Friend Arc"})]})]})})]})}function Zx({route:a,children:i,...l}){const o=(a||"#/events").split("?")[0],d=o.startsWith("#/events/")?"#/events":o,f=Zn.Children.toArray(i),h=f.find(y=>y.props.path===d);if(!h){const y=f.find(m=>m.props.path==="#/events");return y?Zn.cloneElement(y,l):null}return Zn.cloneElement(h,l)}function Px({open:a,onClose:i,children:l}){return r.jsxs(r.Fragment,{children:[a&&r.jsx("div",{className:"events-drawer-backdrop",onClick:i}),r.jsx("aside",{className:`events-drawer${a?" open":""}`,"aria-hidden":!a,children:l}),r.jsx("style",{children:`
        .events-drawer {
          position: fixed;
          top: 0;
          right: -480px;
          width: 480px;
          max-width: 100%;
          height: 100vh;
          background: #ffffff;
          box-shadow: -2px 0 24px rgba(0, 0, 0, 0.12);
          transition: right 0.25s ease;
          z-index: 1040;
          padding: 24px;
          overflow-y: auto;
        }
        .events-drawer.open {
          right: 0;
        }
        .events-drawer-backdrop {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.25);
          z-index: 1030;
        }
      `})]})}function cf(a){const i=(a||"#/events").split("?")[0];return i.startsWith("#/events/")?"#/events":i}function $x({route:a}){const[i,l]=w.useState(cf(a));w.useEffect(()=>{l(cf(a))},[a]);const o=[{href:"#/events",label:"Events"},{href:"#/create",label:"Create"},{href:"#/my",label:"My Events"},{href:"#/invites",label:"Invites"}];return r.jsxs("nav",{className:"events-tabs",role:"tablist","aria-label":"Events navigation",children:[o.map(d=>r.jsx("a",{href:d.href,className:`tab-link${i===d.href?" active":""}`,"aria-current":i===d.href?"page":void 0,children:d.label},d.href)),r.jsx("style",{children:`
        .events-tabs {
          display:flex;
          gap:36px;
          align-items:center;
          border:1px solid #d6deeb;
          border-radius:18px;
          padding:18px 32px;
          background:#fff;
          margin:12px 0 20px;
          flex-wrap:wrap;
          box-shadow:0 12px 30px rgba(15,23,42,0.08);
        }
        .tab-link {
          font-weight:700;
          font-size:1.2rem;
          color:#455a7c;
          text-decoration:none;
        }
        .tab-link.active {
          color:#20304d;
        }
        .tab-link:hover {
          text-decoration:underline;
        }
      `})]})}async function Jx(a,i={}){const l=await fetch(`/api/events/${encodeURIComponent(a)}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)}),o=await l.json().catch(()=>({}));if(!l.ok||!o?.ok){const d=o?.error||"Unable to verify attendee";throw new Error(d)}return o}async function Ix(a,{signal:i}={}){const l=await fetch(`/api/events/${encodeURIComponent(a)}/roster`,{signal:i,credentials:"include"}),o=await l.json().catch(()=>({}));if(!l.ok||!o?.ok){const d=o?.error||"Unable to load roster";throw new Error(d)}return Array.isArray(o?.data)?o.data:[]}async function Wx({limit:a=20,communityTag:i,causeTag:l,signal:o}={}){const d=new URLSearchParams;d.set("limit",String(a)),i&&d.set("community_tag",i),l&&d.set("cause_tag",l);const f=await fetch(`/api/events?${d.toString()}`,{signal:o,credentials:"include"}),h=await f.json().catch(()=>({}));if(!f.ok||!h?.ok){const y=h?.error||"Failed to load events";throw new Error(y)}return Array.isArray(h?.data)?h.data:[]}function ev({feed:a=[],setFeed:i,pagination:l}){const[o,d]=w.useState(""),[f,h]=w.useState("");w.useEffect(()=>{if(typeof fetch!="function")return;let m=!0;const g=new AbortController,b=l?.limit||20,j=setTimeout(()=>{Wx({limit:b,communityTag:o,causeTag:f,signal:g.signal}).then(S=>{!m||!i||i(S)}).catch(S=>{S?.name})},300);return()=>{m=!1,clearTimeout(j),g.abort()}},[o,f,l?.limit,i]);const y=Array.isArray(a)&&a.length>0;return r.jsxs("section",{className:"events-feed",children:[r.jsxs("header",{className:"feed-head",children:[r.jsx("input",{className:"search",placeholder:"Search events, people, places"}),r.jsxs("div",{className:"pills",children:[r.jsxs("label",{className:"pill-input",children:["Community tag",r.jsx("input",{type:"text",value:o,onChange:m=>d(m.target.value),placeholder:"e.g., vancouver"})]}),r.jsxs("label",{className:"pill-input",children:["Cause tag",r.jsx("input",{type:"text",value:f,onChange:m=>h(m.target.value),placeholder:"e.g., Environment"})]}),r.jsx("button",{type:"button",className:"pill clear",onClick:()=>{d(""),h("")},disabled:!o&&!f,children:"Clear filters"}),r.jsxs("span",{className:"muted",style:{marginLeft:"auto"},children:["Sort: ",l?.sort||"relevance"," "]})]}),r.jsx("div",{className:"helper-text",children:"Filters apply within your current community. Clear to see all."})]}),r.jsxs("div",{className:"cards",children:[y&&a.map(m=>{const g=!!m.cover_url,b=m.org_name||"Independent organizer",j=m.community_tag||"",S=Array.isArray(m.cause_tags)?m.cause_tags.filter(Boolean):[],C=S.slice(0,3),N=S.length-C.length,E=typeof m.requirements=="string"?m.requirements.trim():"",T=E.length>90?`${E.slice(0,90)}`:E,z=nv(m.verification_method),V=Number.isFinite(Number(m.impact_credits_base))?Number(m.impact_credits_base):25,ee=`Capacity: ${m.capacity!==null&&m.capacity!==void 0?m.capacity:""}`,D=typeof m?.rsvp_counts?.accepted=="number"?m.rsvp_counts.accepted:null,Y=D!==null&&Number.isFinite(Number(m.capacity))&&Number(m.capacity)>0?`Filled: ${D}/${m.capacity}`:"",J=typeof m.viewer_rsvp_status=="string"?m.viewer_rsvp_status:"",P=J==="accepted"||J==="interested"?"View":J==="declined"?"Reconsider":"View & Sign Up";return r.jsxs("article",{className:"card",children:[r.jsx("div",{className:`cover${g?" has-image":""}`,"aria-hidden":!0,style:g?{backgroundImage:`url(${m.cover_url})`}:void 0}),r.jsxs("div",{className:"meta",children:[r.jsx("div",{className:"title",children:m.title||"Untitled Event"}),r.jsxs("div",{className:"org-row",children:[r.jsx("span",{className:"org-name",children:b}),j&&r.jsx("span",{className:"community-pill",children:j})]}),r.jsxs("div",{className:"sub",children:[tv(m.start_at,m.end_at,m.tz),"  ",m.location_text||"Location TBD"]}),(ee||Y)&&r.jsxs("div",{className:"capacity-row",children:[ee&&r.jsx("span",{children:ee}),Y&&r.jsx("span",{children:Y})]}),C.length>0&&r.jsxs("div",{className:"tag-row",children:[C.map(ne=>r.jsx("span",{className:"tag",children:ne},ne)),N>0&&r.jsxs("span",{className:"tag",children:["+",N]})]}),T&&r.jsx("div",{className:"requirements",children:T}),r.jsxs("div",{className:"meta-row",children:[r.jsx("span",{className:"meta-pill",children:z}),r.jsxs("span",{className:"meta-pill",children:["Earn: ",V," Impact Credits"]})]})]}),r.jsxs("div",{className:"actions",children:[r.jsx("button",{className:"btn",type:"button",onClick:()=>window.location.hash=`#/events/${m.id}`,children:P}),r.jsx("button",{className:"btn secondary",type:"button",children:"Save"})]})]},m.id)}),!y&&r.jsx("div",{className:"muted",children:"No events yet."})]}),r.jsx("style",{children:av})]})}function tv(a,i,l){if(!a)return"When  ?";try{const o=new Date(a),d=i?new Date(i):null,f=o.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:l||"UTC"});if(d&&!Number.isNaN(d.getTime())){const h=d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZone:l||"UTC"});return`When  ${f}${h}`}return`When  ${f}`}catch{return`When  ${a}`}}function nv(a){switch(a){case"host_attest":return"Host attestation";case"qr_stub":return"QR check-in (stub)";case"social_proof":return"Social proof";default:return"Host attestation"}}const av=`
  .feed-head{margin-bottom:12px}
  .search{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:12px}
  .pills{display:flex;gap:12px;align-items:center;margin:12px 0;flex-wrap:wrap}
  .pill{background:#f3f4f6;border:1px solid #e5e7eb;padding:6px 12px;border-radius:16px;font-size:12px}
  .pill.clear{background:#fff}
  .pill-input{display:flex;align-items:center;gap:8px;background:#f3f4f6;border:1px solid #e5e7eb;padding:6px 12px;border-radius:16px;font-size:12px}
  .pill-input input{border:none;background:transparent;min-width:120px;outline:none}
  .helper-text{font-size:12px;color:#6b7280;margin-top:-4px}
  .muted{color:#6b7280;font-size:12px}
  .cards{display:flex;flex-direction:column;gap:16px}
  .card{display:grid;grid-template-columns:180px 1fr 220px;gap:16px;align-items:center;border:1px solid #e5e7eb;border-radius:16px;padding:16px;background:#fff}
  @media (max-width: 991px){.card{grid-template-columns:1fr}}
  .cover{height:120px;background:#e5e7eb;border:1px solid #e5e7eb;border-radius:12px}
  .cover.has-image{background-size:cover;background-position:center;border:none}
  .title{font-weight:700;font-size:18px}
  .sub{color:#6b7280;font-size:13px}
  .org-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-top:4px}
  .org-name{font-weight:600;color:#1f2937}
  .community-pill{background:#fff;border:1px solid #e5e7eb;border-radius:999px;padding:3px 10px;font-size:11px;color:#1f2937}
  .tag-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
  .tag{background:#f3f4f6;border:1px solid #e5e7eb;border-radius:999px;padding:3px 10px;font-size:11px;color:#374151}
  .requirements{color:#4b5563;font-size:12px;margin-top:6px}
  .meta-row{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
  .meta-pill{background:#fff;border:1px dashed #d1d5db;border-radius:999px;padding:3px 10px;font-size:11px;color:#4b5563}
  .capacity-row{display:flex;gap:10px;font-size:12px;color:#6b7280;margin-top:4px}
  .actions{display:flex;gap:8px;justify-content:flex-end}
  .btn{background:#ff5656;border:none;color:#fff;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.secondary{background:#fff;border:1px solid #e5e7eb;color:#1f2937}
`,iv={primary:"#ff5656",ink:"#455a7c"},sv=[{value:"public",label:"Public"},{value:"fof",label:"Friends-of-friends"},{value:"private",label:"Private link"}],lv=[{value:"host_code",label:"Host Code",always:!0},{value:"social_proof",label:"Social Proof",always:!0},{value:"geo",label:"Geo Check-in",requiresGeo:!0}],rv=2*1024*1024,ov=/^[a-z0-9][a-z0-9_-]{0,63}$/;function ro(){if(typeof window>"u")return null;const a=window.location.hash||"",[,i=""]=a.split("?");return i?new URLSearchParams(i).get("edit"):null}function cv(a,i){if(!a)return"";try{const o=new Intl.DateTimeFormat("en-CA",{timeZone:i||"UTC",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(new Date(a)),d=o.find(y=>y.type==="year")?.value,f=o.find(y=>y.type==="month")?.value,h=o.find(y=>y.type==="day")?.value;return d&&f&&h?`${d}-${f}-${h}`:a.slice(0,10)}catch{return a.slice(0,10)}}function uv(a,i,l){if(!a||!i)return"";try{const o=new Intl.DateTimeFormat("en-GB",{timeZone:l||"UTC",hour12:!1,hour:"2-digit",minute:"2-digit"}),d=o.format(new Date(a)),f=o.format(new Date(i));return`${d}${f}`}catch{return""}}function dv(a){if(Array.isArray(a)&&a.length)return a;if(typeof a=="string")try{const i=JSON.parse(a);if(Array.isArray(i)&&i.length)return i}catch{}return a&&Array.isArray(a)?a:["host_code","social_proof"]}function fv(a){return Array.isArray(a)?a.map(i=>typeof i=="string"?i.trim():"").filter(Boolean):typeof a=="string"?a.split(",").map(i=>i.trim()).filter(Boolean):[]}function uf(a){return["host_attest","qr_stub","social_proof"].includes(a)?a:"host_attest"}function hv(a={}){const i=Array.isArray(a.cause_tags)?a.cause_tags:[];return{title:a.title||"",category:a.category||"",date:cv(a.start_at,a.tz||a.timezone||"UTC"),time:uv(a.start_at,a.end_at,a.tz||a.timezone||"UTC"),tz:a.tz||"America/Vancouver",location_text:a.location_text||"",visibility:a.visibility||"public",capacity:a.capacity===null||a.capacity===void 0?"":String(a.capacity),waitlist_enabled:a.waitlist_enabled!==!1,cover_url:a.cover_url||"",description:a.description||"",org_name:a.org_name||"",community_tag:a.community_tag||"",cause_tags:i.join(", "),requirements:a.requirements||"",verification_method:uf(a.verification_method),impact_credits_base:a.impact_credits_base===null||a.impact_credits_base===void 0?"25":String(a.impact_credits_base),reliability_weight:a.reliability_weight===null||a.reliability_weight===void 0?"1":String(a.reliability_weight),reward_pool_kind:a.reward_pool_kind===null||a.reward_pool_kind===void 0?0:Number(a.reward_pool_kind),funding_pool_slug:(a.funding_pool_slug||"general").toLowerCase(),attendance_methods:dv(a.attendance_methods),safety_notes:a.safety_notes||""}}const df={title:"",category:"",date:"",time:"",tz:"America/Vancouver",location_text:"",visibility:"public",capacity:"",waitlist_enabled:!0,cover_url:"",description:"",org_name:"",community_tag:"",cause_tags:"",requirements:"",verification_method:"host_attest",impact_credits_base:"25",reliability_weight:"1",reward_pool_kind:0,funding_pool_slug:"general",attendance_methods:["host_code","social_proof"],safety_notes:""};function mv({brand:a=iv,geoCheckinEnabled:i=!1}){const[l,o]=w.useState(df),[d,f]=w.useState({}),[h,y]=w.useState(!1),[m,g]=w.useState(null),[b,j]=w.useState(null),[S,C]=w.useState(""),[N,E]=w.useState(null),T=w.useRef(null),[z,V]=w.useState(()=>typeof window>"u"?null:ro()),[k,I]=w.useState(null),[ee,D]=w.useState(()=>typeof window>"u"?!1:!!ro()),[Y,J]=w.useState(null),[P,ne]=w.useState(0),[re,me]=w.useState(!1),[ie,ge]=w.useState(!1),[ue,H]=w.useState(null),Z=w.useMemo(()=>ff(l,{strict:!0}),[l]),Q=!!z,oe=k?.status||(Q?"draft":null),R=h||ee||Object.keys(Z).length>0,x=h||ee,O=Q&&oe==="published",X=O?"Save Changes":"Save Draft",M=O?"Update & Publish":"Publish",F=O?"Updating":"Publishing",$=Q&&oe==="draft"&&!ee&&!Y;w.useEffect(()=>{if(!m)return;const le=setTimeout(()=>g(null),4e3);return()=>clearTimeout(le)},[m]),w.useEffect(()=>{C(l.cover_url||"")},[l.cover_url]),w.useEffect(()=>{$||(me(!1),H(null),ge(!1))},[$]),w.useEffect(()=>{if(typeof window>"u")return()=>{};const le=()=>V(ro());return window.addEventListener("hashchange",le),()=>window.removeEventListener("hashchange",le)},[]),w.useEffect(()=>{let le=!1;async function ve(){if(z){D(!0),J(null);try{const ze=await fetch(`/api/events/${z}?mode=edit`),Be=await ze.json().catch(()=>({}));if(!ze.ok||!Be?.ok)throw new Error(Be?.error||"Unable to load event for editing.");if(le)return;const Dt=hv(Be.data||{});o(Dt),f({}),I({id:Be.data?.id||z,title:Be.data?.title||"Untitled Event",status:Be.data?.status||"draft"}),D(!1)}catch(ze){if(le)return;J(ze.message||"Unable to load event for editing."),D(!1)}}}return z?(ve(),()=>{le=!0}):(I(null),J(null),D(!1),o({...df}),f({}),()=>{})},[z,P]);const se=lv.filter(le=>!le.requiresGeo||i),ce=w.useCallback(()=>{ne(le=>le+1)},[]),fe=w.useCallback(()=>{typeof window>"u"||(window.location.hash="#/create")},[]),De=w.useCallback((le,ve)=>{typeof window>"u"||!le||(sessionStorage.setItem("gkLastDraftId",le),sessionStorage.setItem("gkLastDraftTitle",ve||"Untitled Event"))},[]);function Me(le){const ve=le.target.files?.[0];if(!ve)return;if(!ve.type.startsWith("image/")){E("Please choose an image file.");return}if(ve.size>rv){E("Image must be 2MB or less.");return}E(null);const ze=new FileReader;ze.onload=()=>{const Be=ze.result;o(Dt=>({...Dt,cover_url:typeof Be=="string"?Be:Dt.cover_url}))},ze.onerror=()=>{E("Unable to read that file. Try another image.")},ze.readAsDataURL(ve)}function Ue(le){E(null),o(ve=>({...ve,cover_url:le}))}function Pe(){E(null),T.current&&(T.current.value=""),o(le=>({...le,cover_url:""}))}function he(le,ve){o(ze=>({...ze,[le]:ve}))}function et(le){o(ve=>({...ve,waitlist_enabled:le}))}function ht(le){o(ve=>{const ze=ve.attendance_methods.includes(le);let Be;return ze?Be=ve.attendance_methods.filter(Dt=>Dt!==le):Be=[...ve.attendance_methods,le],Be.length===0&&(Be=[]),{...ve,attendance_methods:Be}})}function jt(){const le=window.prompt("Paste a Google or Apple Maps link");if(typeof le=="string"&&le.trim()){const ve=le.trim();o(ze=>({...ze,location_text:ze.location_text?`${ze.location_text}
${ve}`:ve}))}}function $e(le,ve="info",ze,Be){g({message:le,type:ve,actionLabel:ze,onAction:Be})}async function Mt(le){if(Q&&ee){$e("Still loading the event details","info");return}j(le);const ve=le==="published",ze=ve||O?"published":"draft",Be=ze==="published",Dt=ff(l,{strict:Be}),ae=Object.keys(Dt).length>0;if(f(Dt),ae){$e(Be?"Fix the highlighted fields before publishing.":"Fix the highlighted fields before saving.","error"),j(null);return}y(!0);try{const xe=pv(l,ze),Xe=Q?`/api/events/${z}`:"/api/events",ot=await fetch(Xe,{method:Q?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)}),Rt=await ot.json().catch(()=>({}));if(!ot.ok||!Rt?.ok)throw new Error(Rt?.error||"Unable to save event");const He=Rt?.data?.id||z,St=l.title||k?.title||"Untitled Event",gt=O&&!ve;if(Q&&I(fi=>fi&&{...fi,title:St,status:ze}),!Q){if(ze==="draft"){De(He,St),window.location.hash="#/my";return}$e("Event published! ","success","View in My Events",()=>{window.location.hash="#/my"}),He&&setTimeout(()=>{window.location.hash=`#/events/${He}`},300);return}if(gt){$e("Changes saved.","success","View Event",()=>{He&&(window.location.hash=`#/events/${He}`)});return}if(ze==="draft"){De(He,St),window.location.hash="#/my";return}$e(O?"Event updated.":"Event published! ","success","View in My Events",()=>{window.location.hash="#/my"}),He&&setTimeout(()=>{window.location.hash=`#/events/${He}`},300)}catch(xe){console.error("Create event failed:",xe),$e(xe.message||"Something went wrong.","error")}finally{y(!1),j(null)}}function pt(){$&&(H(null),me(!0))}function En(){ie||(me(!1),H(null))}async function Da(){if(z){ge(!0),H(null);try{const le=await fetch(`/api/events/${z}`,{method:"DELETE"}),ve=await le.json().catch(()=>({}));if(!le.ok||!ve?.ok)throw new Error(ve?.error||"Unable to delete draft.");me(!1),typeof window<"u"&&(window.location.hash="#/my")}catch(le){console.error("delete draft failed:",le),H(le.message||"Unable to delete draft.")}finally{ge(!1)}}}return r.jsxs("section",{className:"create-event",children:[m&&r.jsxs("div",{className:`toast ${m.type}`,role:"status","aria-live":"polite",children:[r.jsx("span",{children:m.message}),m.actionLabel&&r.jsx("button",{type:"button",className:"toast-action",onClick:()=>{m.onAction?.(),g(null)},children:m.actionLabel}),r.jsx("button",{type:"button",className:"toast-close",onClick:()=>g(null),"aria-label":"Dismiss",children:""})]}),r.jsxs("header",{className:"create-head",children:[r.jsxs("div",{children:[r.jsx("p",{className:"eyebrow",children:"Plan something kind"}),r.jsx("h1",{children:Q?"Edit Event":"Create Event"})]}),r.jsxs("div",{className:"action-group",children:[r.jsx("button",{type:"button",className:"btn secondary",disabled:h||ee,onClick:()=>Mt("draft"),children:h&&b==="draft"?"Saving":X}),r.jsx("button",{type:"button",className:"btn primary",disabled:R,onClick:()=>Mt("published"),style:{backgroundColor:a.primary,borderColor:a.primary},children:h&&b==="published"?F:M})]})]}),Q&&!Y&&r.jsxs("div",{className:"edit-banner",children:[r.jsxs("div",{children:[r.jsx("span",{className:"muted small",children:"Editing"}),r.jsx("strong",{children:k?.title||"This event"})]}),r.jsx("button",{type:"button",className:"ghost-link",onClick:fe,children:"Start a new event"})]}),Y&&r.jsxs("div",{className:"banner error",children:[r.jsx("span",{children:Y}),r.jsxs("div",{className:"banner-actions",children:[r.jsx("button",{type:"button",className:"ghost-link",onClick:ce,children:"Retry"}),r.jsx("button",{type:"button",className:"ghost-link",onClick:fe,children:"Exit edit mode"})]})]}),Q&&ee&&!Y&&r.jsx("p",{className:"loading-note",children:"Loading event details"}),r.jsx("form",{className:"create-form",onSubmit:le=>le.preventDefault(),children:r.jsxs("fieldset",{disabled:x,className:"create-fieldset",children:[r.jsx(Ie,{label:"Title",required:!0,error:d.title,children:r.jsx("input",{type:"text",name:"title",placeholder:"e.g., Coffee & Co-work at Main Street",value:l.title,onChange:le=>he("title",le.target.value)})}),r.jsxs("div",{className:"grid three",children:[r.jsx(Ie,{label:"Category",children:r.jsx("input",{type:"text",name:"category",placeholder:"Select category",value:l.category,onChange:le=>he("category",le.target.value)})}),r.jsx(Ie,{label:"Date",required:!0,error:d.date,children:r.jsx("input",{type:"date",name:"date",value:l.date,onChange:le=>he("date",le.target.value)})}),r.jsx(Ie,{label:"Time",required:!0,error:d.time,children:r.jsx("input",{type:"text",name:"time",placeholder:"10:0012:00",value:l.time,onChange:le=>he("time",le.target.value)})})]}),r.jsxs("div",{className:"grid two",children:[r.jsx(Ie,{label:"Timezone",required:!0,error:d.tz,children:r.jsx("input",{type:"text",name:"tz",placeholder:"America/Vancouver",value:l.tz,onChange:le=>he("tz",le.target.value)})}),r.jsxs(Ie,{label:"Location",required:!0,error:d.location_text,children:[r.jsx("textarea",{name:"location_text",placeholder:"123 Main St, Vancouver  or paste a map link",value:l.location_text,onChange:le=>he("location_text",le.target.value),rows:3}),r.jsxs("div",{className:"helper-row",children:[r.jsx("button",{type:"button",className:"btn tiny",onClick:jt,children:"Get Map Link"}),r.jsx("span",{className:"muted small",children:"Add a Google/Apple Maps URL to help people find you."})]})]})]}),r.jsxs("div",{className:"grid two",children:[r.jsx(Ie,{label:"Organization",children:r.jsx("input",{type:"text",name:"org_name",placeholder:"e.g., Vancouver Green Crew",value:l.org_name,onChange:le=>he("org_name",le.target.value)})}),r.jsx(Ie,{label:"Community tag",children:r.jsx("input",{type:"text",name:"community_tag",placeholder:"e.g., vancouver",value:l.community_tag,onChange:le=>he("community_tag",le.target.value)})})]}),r.jsx(Ie,{label:"Cause tags",children:r.jsx("input",{type:"text",name:"cause_tags",placeholder:"Hunger, Seniors, Environment",value:l.cause_tags,onChange:le=>he("cause_tags",le.target.value)})}),r.jsx(Ie,{label:"Requirements",children:r.jsx("textarea",{name:"requirements",rows:3,placeholder:"e.g., Closed-toe shoes, arrive 10 minutes early.",value:l.requirements,onChange:le=>he("requirements",le.target.value)})}),r.jsx(Ie,{label:"Visibility",required:!0,error:d.visibility,children:r.jsx("div",{className:"pill-row",children:sv.map(le=>r.jsx("button",{type:"button",className:`pill${l.visibility===le.value?" active":""}`,onClick:()=>he("visibility",le.value),children:le.label},le.value))})}),r.jsxs("div",{className:"grid two",children:[r.jsx(Ie,{label:"Capacity",error:d.capacity,children:r.jsx("input",{type:"number",min:"1",name:"capacity",placeholder:"Leave blank for unlimited",value:l.capacity,onChange:le=>he("capacity",le.target.value)})}),r.jsx(Ie,{label:"Waitlist",error:d.waitlist_enabled,children:r.jsxs("div",{className:"pill-row",children:[r.jsx("button",{type:"button",className:`pill${l.waitlist_enabled?" active":""}`,onClick:()=>et(!0),children:"Enabled"}),r.jsx("button",{type:"button",className:`pill${l.waitlist_enabled?"":" active"}`,onClick:()=>et(!1),children:"Disabled"})]})})]}),r.jsx(Ie,{label:"Cover Image",error:N,children:r.jsxs("div",{className:"cover-uploader",children:[S?r.jsx("img",{src:S,alt:"Event cover",className:"cover-preview"}):r.jsx("div",{className:"cover-placeholder",children:"Upload a banner to make your event pop."}),r.jsxs("div",{className:"cover-actions",children:[r.jsxs("label",{className:"btn secondary tiny",style:{cursor:"pointer"},children:["Upload image",r.jsx("input",{ref:T,type:"file",accept:"image/*",style:{display:"none"},onChange:Me})]}),S&&r.jsx("button",{type:"button",className:"btn tiny",onClick:Pe,children:"Remove"})]}),r.jsx("p",{className:"muted small",children:"Prefer a link? Paste a hosted image URL:"}),r.jsx("input",{type:"url",name:"cover_url",placeholder:"https://example.com/cover.jpg",value:l.cover_url?.startsWith("data:")?"":l.cover_url,onChange:le=>Ue(le.target.value)})]})}),r.jsx(Ie,{label:"Description",children:r.jsx("textarea",{name:"description",rows:5,placeholder:"Tell folks what to expect, what to bring, and why it matters.",value:l.description,onChange:le=>he("description",le.target.value)})}),r.jsxs("div",{className:"grid three",children:[r.jsx(Ie,{label:"Verification method",children:r.jsxs("select",{name:"verification_method",value:l.verification_method,onChange:le=>he("verification_method",le.target.value),children:[r.jsx("option",{value:"host_attest",children:"Host attestation"}),r.jsx("option",{value:"qr_stub",children:"QR check-in (stub)"}),r.jsx("option",{value:"social_proof",children:"Social proof"})]})}),r.jsx(Ie,{label:"Impact Credits (base)",children:r.jsx("input",{type:"number",min:"0",name:"impact_credits_base",value:l.impact_credits_base,onChange:le=>he("impact_credits_base",le.target.value)})}),r.jsx(Ie,{label:"Reliability weight",children:r.jsx("input",{type:"number",min:"0",name:"reliability_weight",value:l.reliability_weight,onChange:le=>he("reliability_weight",le.target.value)})})]}),r.jsxs("div",{className:"grid three",children:[r.jsx(Ie,{label:"Reward Pool ($KIND)",children:r.jsx("input",{type:"number",min:"0",name:"reward_pool_kind",value:l.reward_pool_kind,onChange:le=>he("reward_pool_kind",Number(le.target.value)||0)})}),r.jsx(Ie,{label:"Funding pool slug",error:d.funding_pool_slug,children:r.jsx("input",{type:"text",name:"funding_pool_slug",value:l.funding_pool_slug,onChange:le=>he("funding_pool_slug",(le.target.value||"").toLowerCase()),placeholder:"general"})}),r.jsx(Ie,{label:"Boost visibility",children:r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>$e("Boosting with $KIND coming soon.","info"),children:"Boost with $KIND"})})]}),r.jsx(Ie,{label:"Attendance methods",required:!0,error:d.attendance_methods,children:r.jsx("div",{className:"pill-row wrap",children:se.map(le=>r.jsx("button",{type:"button",className:`pill${l.attendance_methods.includes(le.value)?" active":""}`,onClick:()=>ht(le.value),children:le.label},le.value))})}),r.jsx(Ie,{label:"Safety notes",children:r.jsx("textarea",{name:"safety_notes",rows:4,placeholder:"Share any accessibility notes, safety reminders, or special instructions.",value:l.safety_notes,onChange:le=>he("safety_notes",le.target.value)})}),r.jsxs("div",{className:"cta-row",children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>$e("Invites coming soon.","info"),children:"Invite People"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>$e("Private links coming soon.","info"),children:"Share Private Link"})]}),r.jsx("p",{className:"legal-note",children:"By publishing, you agree to Get Kinders Community Guidelines and assume responsibility for event safety and compliance with local laws."})]})}),$&&r.jsxs("div",{className:"draft-delete-zone",children:[r.jsxs("div",{children:[r.jsx("h3",{children:"Delete this draft"}),r.jsx("p",{children:"This permanently removes the draft and all saved details."})]}),r.jsx("button",{type:"button",className:"btn danger",onClick:pt,children:"Delete draft"})]}),re&&r.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true",children:r.jsxs("div",{className:"delete-modal",role:"document",children:[r.jsx("h2",{children:"Delete draft?"}),r.jsx("p",{children:"This cant be undone. Are you sure you want to delete this event draft?"}),ue&&r.jsx("p",{className:"error-text",children:ue}),r.jsxs("div",{className:"modal-actions",children:[r.jsx("button",{type:"button",className:"btn danger",onClick:Da,disabled:ie,children:ie?"Deleting":"Delete"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:En,disabled:ie,children:"Return"})]})]})}),r.jsx("style",{children:yv})]})}function Ie({label:a,children:i,required:l,error:o}){return r.jsxs("label",{className:`field ${o?"has-error":""}`,children:[r.jsxs("span",{className:"label",children:[a," ",l&&r.jsx("span",{className:"required",children:"*"})]}),i,o&&r.jsx("span",{className:"error-text",children:o})]})}function pv(a,i){const l=fv(a.cause_tags),o=uf(a.verification_method),d=typeof a.impact_credits_base=="string"?a.impact_credits_base.trim():a.impact_credits_base,f=typeof a.reliability_weight=="string"?a.reliability_weight.trim():a.reliability_weight,h=d===""||d===null||d===void 0?NaN:Number(d),y=f===""||f===null||f===void 0?NaN:Number(f),m=Number.isFinite(h)?h:25,g=Number.isFinite(y)?y:1,b=(a.funding_pool_slug||"").trim().toLowerCase()||"general";return{title:a.title?.trim(),category:a.category?.trim()||null,date:a.date||null,time_range:a.time||null,tz:a.tz?.trim()||"America/Vancouver",location_text:a.location_text?.trim()||"",visibility:a.visibility,capacity:a.capacity?Number(a.capacity):null,waitlist_enabled:!!a.waitlist_enabled,cover_url:a.cover_url?.trim()||null,description:a.description?.trim()||null,org_name:a.org_name?.trim()||null,community_tag:a.community_tag?.trim()||null,cause_tags:l,requirements:a.requirements?.trim()||null,verification_method:o,impact_credits_base:m,reliability_weight:g,reward_pool_kind:Number(a.reward_pool_kind)||0,funding_pool_slug:b,attendance_methods:a.attendance_methods,safety_notes:a.safety_notes?.trim()||null,status:i}}function ff(a,{strict:i=!1}={}){const l={};if(a.title?.trim()||(l.title="Title is required."),i&&!a.date&&(l.date="Date is required."),i&&!a.time?.trim())l.time="Time range is required.";else if(a.time?.trim()){const d=gv(a.time);d?d.endTotal<=d.startTotal&&(l.time="End time must be after start time."):l.time="Use format HH:mmHH:mm."}i&&!a.tz?.trim()&&(l.tz="Timezone required."),i&&!a.location_text?.trim()&&(l.location_text="Location required."),a.visibility||(l.visibility="Choose a visibility."),a.capacity&&Number(a.capacity)<1&&(l.capacity="Capacity must be at least 1.");const o=(a.funding_pool_slug||"").trim().toLowerCase();return o?ov.test(o)||(l.funding_pool_slug="Use lowercase letters/numbers plus - or _."):l.funding_pool_slug="Funding pool slug is required.",(!a.attendance_methods||a.attendance_methods.length===0)&&(l.attendance_methods="Select at least one method."),l}function gv(a){if(typeof a!="string")return null;const i=a.includes("")?"":"-",[l,o]=a.split(i).map(h=>h?.trim());if(!l||!o)return null;const d=hf(l),f=hf(o);return!d||!f?null:{start:d,end:f,startTotal:d.hour*60+d.minute,endTotal:f.hour*60+f.minute}}function hf(a){const i=/^(\d{1,2}):(\d{2})$/.exec(a);if(!i)return null;const l=Number(i[1]),o=Number(i[2]);return l>23||o>59?null:{hour:l,minute:o}}const yv=`
  .create-event {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .edit-banner {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:12px 16px;
    border:1px solid #cbd5f5;
    border-radius:12px;
    background:#f8fafc;
    margin-bottom:16px;
  }
  .banner {
    border-radius:12px;
    padding:12px 16px;
    margin-bottom:16px;
    display:flex;
    justify-content:space-between;
    gap:12px;
    align-items:center;
  }
  .banner.error {
    background:#fee2e2;
    color:#991b1b;
    border:1px solid #fecaca;
  }
  .banner-actions {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }
  .ghost-link {
    border:none;
    background:transparent;
    color:#455a7c;
    text-decoration:underline;
    cursor:pointer;
    font-weight:600;
  }
  .loading-note {
    color:#6b7280;
    font-size:0.95rem;
    margin:4px 0 16px;
  }
  .create-head {
    display:flex;
    justify-content:space-between;
    gap:24px;
    align-items:center;
    flex-wrap:wrap;
    margin-bottom:24px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .create-head h1 {
    margin:0;
    color:#111827;
  }
  .action-group {
    display:flex;
    gap:12px;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:10px 20px;
    font-weight:600;
    cursor:pointer;
    transition:transform 0.1s ease;
  }
  .btn:disabled {
    opacity:0.6;
    cursor:not-allowed;
  }
  .btn.primary {
    color:#fff;
    background-color:#ff5656;
    border-color:#ff5656;
  }
  .btn.secondary {
    background:#fff;
    color:#1f2937;
  }
  .btn.danger {
    background:#fee2e2;
    border-color:#fecaca;
    color:#b91c1c;
  }
  .btn.tiny {
    padding:6px 12px;
    font-size:0.85rem;
  }
  .create-form {
    display:flex;
    flex-direction:column;
    gap:20px;
  }
  .create-fieldset {
    border:0;
    padding:0;
    margin:0;
    display:flex;
    flex-direction:column;
    gap:20px;
  }
  .create-fieldset:disabled {
    opacity:0.6;
  }
  .grid {
    display:grid;
    gap:18px;
  }
  .grid.two {
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  }
  .grid.three {
    grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  }
  .field {
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  .label {
    font-weight:600;
    color:#111827;
  }
  .required {
    color:#ff5656;
  }
  .field input,
  .field textarea {
    border:1px solid #d1d5db;
    border-radius:12px;
    padding:12px 14px;
    font-size:1rem;
    font-family:inherit;
    resize:vertical;
  }
  .field textarea {
    min-height:160px;
  }
  .field.has-error input,
  .field.has-error textarea {
    border-color:#f87171;
  }
  .error-text {
    color:#b91c1c;
    font-size:0.85rem;
  }
  .pill-row {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }
  .pill-row.wrap {
    flex-wrap:wrap;
  }
  .pill {
    border:1px solid #d1d5db;
    padding:8px 16px;
    border-radius:999px;
    background:#fff;
    cursor:pointer;
    font-weight:600;
  }
  .pill.active {
    background:#ff5656;
    color:#fff;
    border-color:#ff5656;
  }
  .helper-row {
    display:flex;
    gap:12px;
    align-items:center;
    flex-wrap:wrap;
  }
  .muted {
    color:#6b7280;
  }
  .muted.small {
    font-size:0.85rem;
  }
  .cover-uploader {
    display:flex;
    flex-direction:column;
    gap:8px;
    border:1px dashed #cbd5f5;
    padding:12px;
    border-radius:16px;
    background:#f8fafc;
  }
  .cover-preview {
    width:100%;
    max-height:220px;
    object-fit:cover;
    border-radius:12px;
    border:1px solid #e5e7eb;
  }
  .cover-placeholder {
    border:1px dashed #d1d5db;
    border-radius:12px;
    padding:24px;
    text-align:center;
    color:#6b7280;
    font-size:0.95rem;
  }
  .cover-actions {
    display:flex;
    gap:8px;
    flex-wrap:wrap;
  }
  .cta-row {
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    justify-content:flex-start;
  }
  .legal-note {
    font-size:0.85rem;
    color:#6b7280;
    margin-top:16px;
  }
  .toast {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    border-radius:12px;
    padding:12px 16px;
    margin-bottom:16px;
    color:#fff;
  }
  .toast.info { background:#3b82f6; }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast-action {
    border:1px solid rgba(255,255,255,0.5);
    border-radius:999px;
    padding:6px 14px;
    font-size:0.85rem;
    background:transparent;
    color:inherit;
    cursor:pointer;
  }
  .toast-close {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .draft-delete-zone {
    margin-top:24px;
    padding:16px;
    border:1px solid #fecaca;
    border-radius:12px;
    background:#fff7f7;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
    flex-wrap:wrap;
  }
  .draft-delete-zone h3 {
    margin:0 0 6px;
  }
  .draft-delete-zone p {
    margin:0;
    color:#b91c1c;
  }
  .modal-overlay {
    position:fixed;
    inset:0;
    background:rgba(15,23,42,0.45);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:16px;
    z-index:50;
  }
  .delete-modal {
    background:#fff;
    border-radius:16px;
    padding:24px;
    width:100%;
    max-width:420px;
    box-shadow:0 32px 60px rgba(15,23,42,0.2);
  }
  .delete-modal h2 {
    margin:0 0 8px;
  }
  .delete-modal p {
    margin:0;
    color:#4b5563;
  }
  .modal-actions {
    margin-top:20px;
    display:flex;
    gap:12px;
    justify-content:flex-end;
  }
`,bv=[{value:"friendly",label:"Friendly"},{value:"hype",label:"High-energy"},{value:"thoughtful",label:"Thoughtful"}];function Wi(a){return a?`Come to ${a}`:"Join me for this event"}function ol(a){return a?`Id love for you to join me for ${a}.

Let me know if you can make it!`:"Id love for you to join. Let me know if you can make it!"}function mf({open:a,onClose:i,eventId:l,eventTitle:o,onSent:d}){const[f,h]=w.useState(""),[y,m]=w.useState(""),[g,b]=w.useState("friendly"),[j,S]=w.useState(Wi(o)),[C,N]=w.useState(ol(o)),[E,T]=w.useState(!1),[z,V]=w.useState(!1),[k,I]=w.useState(!1),[ee,D]=w.useState(null),[Y,J]=w.useState([]),[P,ne]=w.useState(!1),re=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.trim()),me=w.useMemo(()=>{if(!f)return Y.slice(0,5);const Q=f.trim().toLowerCase();return Y.filter(oe=>oe.email.toLowerCase().includes(Q)||oe.name.toLowerCase().includes(Q)).slice(0,5)},[Y,f]);if(w.useEffect(()=>{if(!a||P)return;let Q=!1;return fetch("/api/me/contacts").then(oe=>oe.json()).then(oe=>{!Q&&oe?.ok&&Array.isArray(oe.data)&&(J(oe.data),ne(!0))}).catch(()=>{}),()=>{Q=!0}},[a,P]),w.useEffect(()=>{a&&(D(null),b("friendly"),S(Wi(o)),N(ol(o)))},[a,o]),!a)return null;function ie(Q=!1){return{invitee_email:f.trim(),invitee_name:y.trim(),tone:g,subject:Q?void 0:j,message:Q?void 0:C,send_by_kai:Q}}async function ge(Q){if(Q?.preventDefault(),!(!re||E)){T(!0),D(null);try{const oe=await fetch(`/api/events/${l}/invites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie(!1))}),R=await oe.json().catch(()=>({}));if(!oe.ok||!R?.ok)throw new Error(R?.error||"Unable to send invite");Z(),window.dispatchEvent(new CustomEvent("gk:invite-sent",{detail:R.data})),d?.(R.data)}catch(oe){D(oe.message||"Unable to send invite")}finally{T(!1)}}}async function ue(){if(!(!re||z)){V(!0),D(null);try{const Q=await fetch(`/api/events/${l}/invites`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ie(!0))}),oe=await Q.json().catch(()=>({}));if(!Q.ok||!oe?.ok)throw new Error(oe?.error||"Unable to send invite");Z(),window.dispatchEvent(new CustomEvent("gk:invite-sent",{detail:oe.data})),d?.(oe.data)}catch(Q){D(Q.message||"Unable to send invite")}finally{V(!1)}}}async function H(){if(!k){I(!0),D(null);try{const Q=await fetch(`/api/events/${l}/invite-copy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tone:g})}),oe=await Q.json().catch(()=>({}));if(!Q.ok||!oe?.ok)throw new Error(oe?.error||"Unable to draft copy");S(oe.data?.subject||Wi(o)),N((oe.data?.body||ol(o)).trim())}catch(Q){D(Q.message||"Unable to draft copy")}finally{I(!1)}}}function Z(){h(""),m(""),S(Wi(o)),N(ol(o))}return r.jsxs("div",{className:"invite-modal",role:"dialog","aria-modal":"true",children:[r.jsx("div",{className:"invite-backdrop",onClick:i}),r.jsxs("div",{className:"invite-panel",children:[r.jsx("h3",{children:"Invite someone"}),r.jsx("p",{className:"muted",children:o||"This event"}),r.jsxs("form",{onSubmit:ge,className:"invite-form",children:[r.jsxs("label",{children:[r.jsx("span",{children:"Email *"}),r.jsx("input",{type:"email",value:f,onChange:Q=>h(Q.target.value),placeholder:"friend@example.com",required:!0}),!!me.length&&r.jsx("div",{className:"suggestions",role:"listbox",children:me.map(Q=>r.jsxs("button",{type:"button",onClick:()=>{h(Q.email),m(Q.name)},children:[r.jsx("span",{children:Q.name}),r.jsx("small",{children:Q.email})]},Q.id))})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Name (optional)"}),r.jsx("input",{type:"text",value:y,onChange:Q=>m(Q.target.value),placeholder:"Friend's name"})]}),r.jsxs("div",{className:"tone-row",children:[r.jsx("span",{children:"Tone"}),r.jsx("div",{className:"tone-pills",children:bv.map(Q=>r.jsx("button",{type:"button",className:`pill${g===Q.value?" active":""}`,onClick:()=>b(Q.value),children:Q.label},Q.value))})]}),r.jsxs("div",{className:"draft-row",children:[r.jsx("button",{type:"button",className:"btn ghost",onClick:H,disabled:k,children:k?"Drafting":"Draft with KAI"}),r.jsx("small",{className:"muted",children:"KAI will pre-fill the message"})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Subject"}),r.jsx("input",{type:"text",value:j,onChange:Q=>S(Q.target.value),placeholder:Wi(o)})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Message"}),r.jsx("textarea",{rows:4,value:C,onChange:Q=>N(Q.target.value),placeholder:"Add a quick personal note"})]}),ee&&r.jsx("p",{className:"error-text",children:ee}),r.jsxs("div",{className:"invite-actions",children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:i,disabled:E||z,children:"Close"}),r.jsx("button",{type:"submit",className:"btn primary",disabled:!re||E,children:E?"Sending":"Send"})]}),r.jsx("button",{type:"button",className:"btn full kai",disabled:!re||z,onClick:ue,children:z?"KAI is sending":"KAI Sends Email"})]})]}),r.jsx("style",{children:`
        .invite-modal {
          position: fixed;
          inset: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1100;
        }
        .invite-backdrop {
          position: absolute;
          inset: 0;
          background: rgba(15, 23, 42, 0.55);
        }
        .invite-panel {
          position: relative;
          background: #fff;
          border-radius: 16px;
          padding: 24px;
          max-width: 460px;
          width: 90%;
          box-shadow: 0 30px 80px rgba(15, 23, 42, 0.25);
        }
        .invite-panel h3 {
          margin: 0 0 4px;
          color: #111827;
        }
        .invite-panel .muted {
          margin: 0 0 16px;
        }
        .invite-form {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        label {
          display: flex;
          flex-direction: column;
          gap: 6px;
          font-weight: 600;
          color: #111827;
        }
        label input,
        label textarea {
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 10px 12px;
          font-size: 1rem;
        }
        label textarea {
          resize: vertical;
        }
        .tone-row {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .tone-pills {
          display: flex;
          gap: 8px;
          flex-wrap: wrap;
        }
        .pill {
          border: 1px solid #d1d5db;
          border-radius: 999px;
          padding: 4px 14px;
          background: #fff;
          font-weight: 600;
          cursor: pointer;
          color: #111827;
        }
    NEW
        .pill.active {
          background: #ffebeb;
          border-color: #ff5656;
          color: #c01f1f;
        }
        .draft-row {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
        }
        .error-text {
          color: #b91c1c;
          font-size: 0.9rem;
          margin: 0;
        }
        .invite-actions {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          margin-top: 8px;
        }
        .btn {
          border: 1px solid #d1d5db;
          border-radius: 999px;
          padding: 8px 18px;
          font-weight: 600;
          cursor: pointer;
        }
        .btn.primary {
          background: #ff5656;
          border-color: #ff5656;
          color: #fff;
        }
        .btn.secondary {
          background: #fff;
        }
        .btn.ghost {
          border-color: #cbd5f5;
          color: #455a7c;
          background: #f8fafc;
        }
        .btn.full {
          width: 100%;
          justify-content: center;
          margin-top: 4px;
        }
        .btn.kai {
          background: #111827;
          border-color: #111827;
          color: #fff;
        }
        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        .suggestions {
          display: flex;
          flex-direction: column;
          border: 1px solid #e5e7eb;
          border-radius: 10px;
          margin-top: 6px;
          padding: 6px;
          background: #f9fafb;
          gap: 4px;
        }
        .suggestions button {
          display: flex;
          justify-content: space-between;
          align-items: center;
          border: none;
          background: transparent;
          font-size: 0.95rem;
          cursor: pointer;
          padding: 4px 0;
        }
        .suggestions button small { color:#6b7280; margin-left:12px; }
      `})]})}const xv=25,_n="all",$a="all";function vv({open:a,initialPoolSlug:i=_n,onClose:l}){const[o,d]=w.useState(_n),[f,h]=w.useState($a),[y,m]=w.useState([]),[g,b]=w.useState(!1),[j,S]=w.useState(null),[C,N]=w.useState(0),[E,T]=w.useState(!1),[z,V]=w.useState([_n,"general"]),[k,I]=w.useState([{value:$a,label:"All Reasons"}]);if(w.useEffect(()=>{if(!a)return;const D=typeof i=="string"&&i.trim()?i.trim().toLowerCase():_n;d(D),h($a),m([]),N(0),T(!1),S(null)},[a,i]),w.useEffect(()=>{a&&ee(!1)},[a,o,f]),!a)return null;async function ee(D){b(!0),D||S(null);const Y=D?C:0;try{const J=new URLSearchParams({limit:String(xv),offset:String(Y)});o&&o!==_n&&J.set("pool_slug",o),f&&f!==$a&&J.set("reason",f);const P=await fetch(`/api/me/events/pools/transactions?${J.toString()}`),ne=await P.json().catch(()=>({}));if(!P.ok||!ne?.ok)throw new Error(ne?.error||"Unable to load pool ledger");const re=Array.isArray(ne?.data?.items)?ne.data.items:[],me=Array.isArray(ne?.data?.pool_options)?ne.data.pool_options:[],ie=Array.isArray(ne?.data?.reason_options)?ne.data.reason_options:[],ge=Array.from(new Set([_n,"general",...me.map(ue=>String(ue||"").trim()).filter(Boolean)]));o!==_n&&!ge.includes(o)&&ge.push(o),V(ge),I(ie.length?ie:[{value:$a,label:"All Reasons"}]),m(ue=>D?[...ue,...re]:re),N(Number(ne?.paging?.next_offset)||Y+re.length),T(!!ne?.paging?.has_more)}catch(J){console.error("load pool transactions failed:",J),S(J.message||"Unable to load pool ledger")}finally{b(!1)}}return r.jsxs("div",{className:"ledger-modal",role:"dialog","aria-modal":"true","aria-label":"Pool Ledger",children:[r.jsx("button",{type:"button",className:"ledger-backdrop",onClick:l,"aria-label":"Close ledger"}),r.jsxs("div",{className:"ledger-panel",children:[r.jsxs("header",{className:"ledger-header",children:[r.jsxs("div",{children:[r.jsx("h3",{children:"Pool Ledger"}),r.jsx("p",{className:"muted",children:"Track exactly why pool balances changed."})]}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:"Close"})]}),r.jsxs("div",{className:"ledger-filters",children:[r.jsxs("label",{children:[r.jsx("span",{children:"Funding Pool"}),r.jsx("select",{value:o,onChange:D=>d(D.target.value||_n),children:z.map(D=>r.jsx("option",{value:D,children:D===_n?"All pools":D},D))})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Reason"}),r.jsx("select",{value:f,onChange:D=>h(D.target.value||$a),children:k.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),j&&r.jsx("div",{className:"ledger-error",children:j}),!g&&!y.length?r.jsx("div",{className:"ledger-empty muted",children:"No pool transactions found for this filter."}):r.jsx("div",{className:"ledger-list",children:y.map(D=>{const Y=Number(D.amount_credits)||0,J=D.direction==="credit",P=`${J?"+":"-"}${Y}`;return r.jsxs("div",{className:"ledger-item",children:[r.jsxs("div",{className:"ledger-top",children:[r.jsx("span",{className:`amount ${J?"credit":"debit"}`,children:P}),r.jsx("span",{className:"reason",children:D.reason_label||D.reason}),r.jsx("span",{className:"time",children:jv(D.created_at)})]}),r.jsxs("div",{className:"ledger-meta",children:[r.jsxs("span",{children:["Pool: ",r.jsx("strong",{children:D.funding_pool_slug||"general"})]}),D.event_title&&r.jsxs("span",{children:["Event: ",r.jsx("strong",{children:D.event_title})]}),D.donation_id&&r.jsxs("span",{children:["Donation #",D.donation_id,D.donation_amount_cents!=null?` (${Sv(D.donation_amount_cents,D.donation_currency)})`:""]})]})]},D.id||`${D.created_at}-${D.wallet_tx_id||D.event_id||Y}`)})}),r.jsxs("div",{className:"ledger-actions",children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>ee(!1),disabled:g,children:g?"Refreshing...":"Refresh"}),E&&r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>ee(!0),disabled:g,children:g?"Loading...":"Load more"})]})]}),r.jsx("style",{children:`
        .ledger-modal {
          position: fixed;
          inset: 0;
          z-index: 1150;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 16px;
        }
        .ledger-backdrop {
          position: absolute;
          inset: 0;
          border: 0;
          background: rgba(15, 23, 42, 0.5);
          cursor: pointer;
        }
        .ledger-panel {
          position: relative;
          width: min(760px, 100%);
          max-height: min(86vh, 900px);
          overflow: auto;
          background: #fff;
          border: 1px solid #e2e8f0;
          border-radius: 16px;
          padding: 18px;
          box-shadow: 0 24px 56px rgba(15, 23, 42, 0.24);
        }
        .ledger-header {
          display: flex;
          justify-content: space-between;
          gap: 10px;
          align-items: center;
          margin-bottom: 14px;
          flex-wrap: wrap;
        }
        .ledger-header h3 {
          margin: 0;
          color: #0f172a;
        }
        .ledger-header .muted {
          margin: 2px 0 0;
          color: #64748b;
        }
        .ledger-filters {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 10px;
          margin-bottom: 12px;
        }
        .ledger-filters label {
          display: grid;
          gap: 6px;
        }
        .ledger-filters span {
          font-size: 0.85rem;
          font-weight: 600;
          color: #334155;
        }
        .ledger-filters select {
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 8px 10px;
          background: #fff;
        }
        .ledger-error {
          border: 1px solid #fecaca;
          background: #fef2f2;
          color: #991b1b;
          border-radius: 10px;
          padding: 8px 10px;
          margin-bottom: 10px;
        }
        .ledger-empty {
          border: 1px dashed #cbd5e1;
          border-radius: 12px;
          padding: 18px;
          text-align: center;
        }
        .ledger-list {
          display: grid;
          gap: 10px;
        }
        .ledger-item {
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          padding: 10px 12px;
          background: #f8fafc;
        }
        .ledger-top {
          display: flex;
          gap: 10px;
          align-items: center;
          flex-wrap: wrap;
        }
        .amount {
          font-weight: 700;
          font-size: 1rem;
        }
        .amount.credit {
          color: #166534;
        }
        .amount.debit {
          color: #b91c1c;
        }
        .reason {
          font-weight: 600;
          color: #0f172a;
        }
        .time {
          margin-left: auto;
          color: #64748b;
          font-size: 0.85rem;
        }
        .ledger-meta {
          margin-top: 6px;
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
          color: #475569;
          font-size: 0.9rem;
        }
        .ledger-actions {
          margin-top: 12px;
          display: flex;
          justify-content: flex-end;
          gap: 8px;
        }
      `})]})}function jv(a){if(!a)return"Unknown time";try{return new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return"Unknown time"}}function Sv(a,i="CAD"){const l=Number(a);return Number.isFinite(l)?new Intl.NumberFormat("en-US",{style:"currency",currency:i||"CAD"}).format(l/100):`${i} 0.00`}const oo=1e6,pf=[{value:"org_allocation",label:"Org allocation"},{value:"subscription",label:"Subscription"}];function wv({open:a,poolSlug:i,onClose:l,onSubmit:o}){const[d,f]=w.useState("100"),[h,y]=w.useState("org_allocation"),[m,g]=w.useState(null),[b,j]=w.useState(!1),S=w.useMemo(()=>typeof i=="string"&&i.trim()?i.trim():"general",[i]);if(w.useEffect(()=>{a&&(f("100"),y("org_allocation"),g(null),j(!1))},[a,S]),!a)return null;async function C(N){if(N.preventDefault(),b)return;const E=Number(d);if(!Number.isInteger(E)||E<=0||E>oo){g(`Amount must be a whole number between 1 and ${oo}.`);return}if(!pf.some(T=>T.value===h)){g("Top-up source must be org allocation or subscription.");return}j(!0),g(null);try{await o?.({amountCredits:E,source:h}),l?.()}catch(T){g(T?.message||"Unable to add pool credits.")}finally{j(!1)}}return r.jsxs("div",{className:"topup-modal",role:"dialog","aria-modal":"true","aria-label":"Add pool credits",children:[r.jsx("button",{type:"button",className:"topup-backdrop",onClick:l,"aria-label":"Close dialog"}),r.jsxs("div",{className:"topup-panel",children:[r.jsx("h3",{children:"Add Credits"}),r.jsxs("p",{className:"muted",children:["Funding Pool: ",r.jsx("strong",{children:S})]}),r.jsxs("form",{className:"topup-form",onSubmit:C,children:[r.jsxs("label",{children:[r.jsx("span",{children:"Amount (credits)"}),r.jsx("input",{type:"number",min:1,max:oo,step:1,inputMode:"numeric",value:d,onChange:N=>f(N.target.value),required:!0})]}),r.jsxs("label",{children:[r.jsx("span",{children:"Top-up Source"}),r.jsx("select",{value:h,onChange:N=>y(N.target.value),children:pf.map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]}),m&&r.jsx("p",{className:"error-text",children:m}),r.jsxs("div",{className:"topup-actions",children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:l,disabled:b,children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn primary",disabled:b,children:b?"Adding...":"Add Credits"})]})]})]}),r.jsx("style",{children:`
        .topup-modal {
          position: fixed;
          inset: 0;
          z-index: 1200;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 16px;
        }
        .topup-backdrop {
          position: absolute;
          inset: 0;
          border: 0;
          background: rgba(15, 23, 42, 0.46);
          cursor: pointer;
        }
        .topup-panel {
          position: relative;
          width: min(440px, 100%);
          background: #fff;
          border: 1px solid #e2e8f0;
          border-radius: 16px;
          padding: 18px;
          box-shadow: 0 24px 48px rgba(15, 23, 42, 0.2);
        }
        .topup-panel h3 {
          margin: 0 0 6px;
          color: #0f172a;
        }
        .topup-panel .muted {
          margin: 0 0 14px;
          color: #64748b;
        }
        .topup-form {
          display: grid;
          gap: 12px;
        }
        .topup-form label {
          display: grid;
          gap: 6px;
        }
        .topup-form span {
          font-size: 0.9rem;
          color: #334155;
          font-weight: 600;
        }
        .topup-form input,
        .topup-form select {
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 10px 12px;
          font-size: 0.95rem;
          background: #fff;
        }
        .error-text {
          margin: 0;
          color: #b91c1c;
          font-size: 0.9rem;
        }
        .topup-actions {
          display: flex;
          justify-content: flex-end;
          gap: 8px;
          margin-top: 4px;
        }
      `})]})}const gf=20,It="all",cl="general",bn="any",yf={any:"All events",funded:"Funded events",deficit:"Pending deficit events",unfunded:"Unfunded events"},ul={events_count:0,published_events_count:0,reward_pool_kind_total:0,verified_credits_total:0,funded_credits_total:0,deficit_credits_total:0,pool_credits_in_total:0,pool_credits_out_total:0,pool_credits_remaining:0},Nv=[{key:"upcoming",label:"Upcoming"},{key:"past",label:"Past"},{key:"drafts",label:"Drafts"}],_v={draft:"Draft",published:"Published",cancelled:"Cancelled",completed:"Completed"};function Tv(){const[a,i]=w.useState("upcoming"),[l,o]=w.useState(It),[d,f]=w.useState(bn),[h,y]=w.useState([]),[m,g]=w.useState(!0),[b,j]=w.useState(null),[S,C]=w.useState(0),[N,E]=w.useState(!0),[T,z]=w.useState({loading:!0,error:null,pools:[],totals:{...ul}}),[V,k]=w.useState(null),[I,ee]=w.useState(!1),[D,Y]=w.useState({open:!1,poolSlug:cl}),[J,P]=w.useState({open:!1,event:null}),[ne,re]=w.useState(()=>{const M=sessionStorage.getItem("gkLastDraftId"),F=sessionStorage.getItem("gkLastDraftTitle");return M?(sessionStorage.removeItem("gkLastDraftId"),sessionStorage.removeItem("gkLastDraftTitle"),{id:M,title:F}):null});w.useEffect(()=>{ne&&i("drafts")},[ne]),w.useEffect(()=>{H(!1)},[a,l,d]),w.useEffect(()=>{ue()},[]),w.useEffect(()=>{if(!V)return;const M=setTimeout(()=>k(null),3500);return()=>clearTimeout(M)},[V]);const me=w.useMemo(()=>{if(!ne||a!=="drafts")return h;const M=h.findIndex(se=>se.id===ne.id);if(M===-1)return h;const F=[...h],[$]=F.splice(M,1);return[$,...F]},[h,ne,a]),ie=w.useMemo(()=>{const M=Array.isArray(T.pools)?T.pools.map($=>$?.funding_pool_slug).filter($=>typeof $=="string"&&$.trim()):[],F=Array.from(new Set([cl,...M])).sort();return l!==It&&!F.includes(l)&&F.unshift(l),[It,...F]},[T.pools,l]),ge=w.useMemo(()=>{if(l===It)return{funding_pool_slug:It,...T.totals||ul};const M=(T.pools||[]).find(F=>F.funding_pool_slug===l);return M||{funding_pool_slug:l,...ul}},[l,T.pools,T.totals]);async function ue({includeSlug:M=null}={}){z(F=>({...F,loading:!0,error:null}));try{const F=new URLSearchParams;M&&M!==It&&F.set("include_pool_slug",M);const $=F.toString(),se=await fetch(`/api/me/events/pools/summary${$?`?${$}`:""}`),ce=await se.json().catch(()=>({}));if(!se.ok||!ce?.ok)throw new Error(ce?.error||"Unable to load pool summary");const fe=ce?.data||{};z({loading:!1,error:null,pools:Array.isArray(fe.pools)?fe.pools:[],totals:fe.totals||{...ul}})}catch(F){console.error("load pool summary failed:",F),z($=>({...$,loading:!1,error:F.message||"Unable to load pool summary"}))}}async function H(M){g(!0),j(null);const F=M?S:0;try{const $=new URLSearchParams({tab:a,limit:String(gf),offset:String(F)});l!==It&&$.set("funding_pool_slug",l),d!==bn&&$.set("funding_state",d);const se=await fetch(`/api/me/events?${$.toString()}`),ce=await se.json();if(!se.ok||!ce?.ok)throw new Error(ce?.error||"Failed to load events");y(fe=>M?[...fe,...ce.data||[]]:ce.data||[]),C(F+(ce?.paging?.count||0)),E((ce?.paging?.count||0)===gf)}catch($){console.error("load my events failed:",$),j($.message||"Unable to load events")}finally{g(!1)}}function Z(M,{targetTab:F=null}={}){const $=M||bn;F&&i(F),f($),C(0)}function Q(){if(l===It){k({type:"error",message:"Choose a specific funding pool first."});return}Y({open:!0,poolSlug:l||cl})}async function oe({amountCredits:M,source:F}){const $=D.poolSlug||l||cl,se=await fetch("/api/me/events/pools/topups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({funding_pool_slug:$,amount_credits:M,source:F})}),ce=await se.json().catch(()=>({}));if(!se.ok||!ce?.ok)throw new Error(ce?.error||"Unable to add pool credits");const fe=Number(ce?.data?.pool_credits_remaining)||0;k({type:"success",message:`Added ${M} credits to "${$}". Balance: ${fe}.`}),await Promise.all([ue({includeSlug:$}),H(!1)])}async function R(M){const F=h.find($=>$.id===M);if(F){y($=>$.filter(se=>se.id!==M));try{const $=await fetch(`/api/events/${M}/cancel`,{method:"POST"}),se=await $.json().catch(()=>({}));if(!$.ok||!se?.ok)throw new Error(se?.error||"Unable to cancel event");k({type:"success",message:"Event cancelled."}),ue()}catch($){console.error("cancel event failed:",$),k({type:"error",message:$.message||"Unable to cancel event."}),y(se=>[F,...se])}}}async function x(M){try{const F=await fetch(`/api/events/${M}/complete`,{method:"POST"}),$=await F.json().catch(()=>({}));if(!F.ok||!$?.ok)throw new Error($?.error||"Unable to complete event");y(se=>a==="past"?se.map(ce=>ce.id===M?{...ce,status:"completed"}:ce):se.filter(ce=>ce.id!==M)),k({type:"success",message:"Event marked completed."}),ue()}catch(F){console.error("complete event failed:",F),k({type:"error",message:F.message||"Unable to complete event."})}}async function O(M){try{const F=`${window.location.origin}/events#/events/${M}`;await navigator?.clipboard?.writeText(F),k({type:"success",message:"Event link copied."})}catch{k({type:"error",message:"Clipboard unavailable. Copy manually."})}}function X(M){const F=M.status==="draft",$=M.status==="cancelled",se=M.status==="completed",ce=M.start_at?new Date(M.start_at)>new Date:!1,fe=M.end_at?new Date(M.end_at)<=new Date:!1;return r.jsxs("div",{className:"action-row",children:[!F&&!$&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{window.location.hash=`#/events/${M.id}`},children:"Open Roster"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>O(M.id),children:"Copy Link"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>k({type:"info",message:"QR tools coming soon."}),children:"Show QR / Code"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>P({open:!0,event:M}),children:"Invite"})]}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{window.location.hash=`#/create?edit=${M.id}`},children:"Edit"}),!F&&!$&&ce&&r.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>R(M.id),children:"Cancel Event"}),!F&&!$&&!se&&fe&&r.jsx("button",{type:"button",className:"btn primary",onClick:()=>x(M.id),children:"Mark Completed"})]})}return r.jsxs("section",{className:"my-events-page",children:[V&&r.jsxs("div",{className:`toast ${V.type}`,children:[r.jsx("span",{children:V.message}),V.actionLabel&&r.jsx("button",{type:"button",className:"toast-action",onClick:()=>{V.onAction?.(),k(null)},children:V.actionLabel}),r.jsx("button",{type:"button",onClick:()=>k(null),"aria-label":"Dismiss",children:""})]}),r.jsx("header",{className:"page-head",children:r.jsxs("div",{children:[r.jsx("p",{className:"eyebrow",children:"Host view"}),r.jsx("h1",{children:"My Events"})]})}),r.jsx("div",{className:"tab-row",role:"tablist",children:Nv.map(M=>r.jsx("button",{role:"tab","aria-selected":a===M.key,className:`chip${a===M.key?" active":""}`,onClick:()=>{i(M.key),C(0)},children:M.label},M.key))}),r.jsxs("div",{className:"pool-toolbar",children:[r.jsxs("label",{className:"pool-filter",children:[r.jsx("span",{children:"Funding Pool"}),r.jsx("select",{value:l,onChange:M=>{o(M.target.value||It),C(0)},children:ie.map(M=>r.jsx("option",{value:M,children:M===It?"All pools":M},M))})]}),r.jsxs("div",{className:"pool-actions",children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>ue({includeSlug:l}),disabled:T.loading,children:T.loading?"Refreshing":"Refresh Pool Stats"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>ee(!0),children:"View Pool Ledger"}),r.jsx("button",{type:"button",className:"btn primary",onClick:Q,disabled:l===It,title:l===It?"Select a pool to top up":"Add pool credits",children:"Add Credits"})]})]}),r.jsxs("div",{className:"filter-chip-row",children:[r.jsx("span",{className:"filter-chip active",children:yf[d]||yf.any}),d!==bn&&r.jsx("button",{type:"button",className:"filter-chip clear",onClick:()=>Z(bn),children:"Clear Filter"})]}),T.error&&r.jsx("div",{className:"pool-error",children:T.error}),r.jsxs("div",{className:"pool-summary-grid",children:[r.jsxs("button",{type:"button",className:`pool-card${d===bn?" active":""}`,onClick:()=>Z(bn),children:[r.jsx("div",{className:"pool-label",children:"Pool Balance"}),r.jsx("div",{className:"pool-value",children:ge.pool_credits_remaining||0})]}),r.jsxs("button",{type:"button",className:`pool-card${d==="funded"?" active":""}`,onClick:()=>Z("funded",{targetTab:"past"}),children:[r.jsx("div",{className:"pool-label",children:"Funded Credits"}),r.jsx("div",{className:"pool-value",children:ge.funded_credits_total||0})]}),r.jsxs("button",{type:"button",className:`pool-card${d==="deficit"?" active":""}`,onClick:()=>Z("deficit",{targetTab:"past"}),children:[r.jsx("div",{className:"pool-label",children:"Pending Deficit"}),r.jsx("div",{className:"pool-value",children:ge.deficit_credits_total||0})]}),r.jsxs("button",{type:"button",className:`pool-card${d===bn?" active":""}`,onClick:()=>Z(bn),children:[r.jsx("div",{className:"pool-label",children:"Events in Pool"}),r.jsx("div",{className:"pool-value",children:ge.events_count||0})]})]}),ne&&a==="drafts"&&r.jsxs("div",{className:"banner",children:[r.jsxs("div",{children:["Draft ",r.jsx("strong",{children:ne.title||"Untitled"})," saved."]}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>{re(null),window.location.hash="#/create"},children:"Continue Editing"})]}),r.jsx("div",{className:"card",children:m&&!h.length?r.jsx("div",{className:"empty muted",children:"Loading your events"}):b&&!h.length?r.jsxs("div",{className:"empty",children:[r.jsx("p",{className:"muted",children:b}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>H(!1),children:"Retry"})]}):me.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"list",children:me.map(M=>r.jsxs("div",{className:"item",children:[r.jsxs("div",{className:"meta",children:[r.jsxs("div",{className:"title-row",children:[r.jsx("p",{className:"title",children:M.title}),r.jsx("span",{className:`badge ${M.status}`,children:_v[M.status]||M.status}),r.jsx("span",{className:`badge subtle ${M.visibility}`,children:M.visibility})]}),r.jsxs("p",{className:"sub",children:[Cv(M.start_at,M.tz),"  ",M.location_text||"Location TBD"]}),M.capacity&&r.jsxs("p",{className:"meta-line",children:["RSVP: ",M?.rsvp_counts?.accepted||0,"/",M.capacity]}),r.jsxs("p",{className:"meta-line",children:["Pool: ",r.jsx("strong",{children:M.funding_pool_slug||"general"}),"  Reward budget: ",Number(M.reward_pool_kind)||0]}),(Number(M.verified_credits_total)||0)>0&&r.jsxs("p",{className:"meta-line",children:["Funding: ",Number(M.funded_credits_total)||0," funded / ",Number(M.verified_credits_total)||0," verified  deficit ",Number(M.deficit_credits_total)||0]})]}),X(M)]},M.id))}),N&&r.jsx("button",{type:"button",className:"btn secondary block",disabled:m,onClick:()=>H(!0),children:m?"Loading":"Load more"})]}):r.jsx("div",{className:"empty",children:r.jsx("p",{className:"muted",children:d!==bn?"No events match the active funding filter.":a==="drafts"?"No drafts yet  save from Create to pick up later.":a==="past"?"No past hosted events yet.":"You havent published any upcoming events yet."})})}),r.jsx("style",{children:Av}),r.jsx(mf,{open:J.open,onClose:()=>P({open:!1,event:null}),eventId:J.event?.id,eventTitle:J.event?.title,onSent:M=>{P({open:!1,event:null}),k({type:"success",message:`Invite sent to ${M?.invitee_name||M?.invitee_email}.`,actionLabel:"View in My Invites",onAction:()=>{window.location.hash="#/my-invites"}})}}),r.jsx(wv,{open:D.open,poolSlug:D.poolSlug,onClose:()=>Y(M=>({...M,open:!1})),onSubmit:oe}),r.jsx(vv,{open:I,initialPoolSlug:l,onClose:()=>ee(!1)})]})}function Cv(a,i){if(!a)return"TBD";try{return new Date(a).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:i||"UTC"})}catch{return"Date TBD"}}const Av=`
  .my-events-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    margin-bottom:16px;
  }
  .eyebrow {
    font-size:0.85rem;
    letter-spacing:0.08em;
    color:#94a3b8;
    text-transform:uppercase;
    margin:0 0 4px;
  }
  .page-head h1 { margin:0; color:#0f172a; }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
    margin-bottom:16px;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast.info { background:#3b82f6; }
  .toast-action {
    border:1px solid rgba(255,255,255,0.5);
    border-radius:999px;
    background:transparent;
    color:inherit;
    padding:6px 14px;
    font-size:0.85rem;
    cursor:pointer;
  }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .tab-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-bottom:16px;
  }
  .pool-toolbar {
    display:flex;
    justify-content:space-between;
    align-items:flex-end;
    gap:10px;
    margin-bottom:12px;
    flex-wrap:wrap;
  }
  .pool-actions {
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
  }
  .pool-filter {
    display:flex;
    flex-direction:column;
    gap:6px;
    color:#334155;
    font-size:0.9rem;
    font-weight:600;
  }
  .pool-filter select {
    border:1px solid #d1d5db;
    border-radius:10px;
    padding:8px 10px;
    min-width:180px;
    background:#fff;
  }
  .pool-summary-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));
    gap:10px;
    margin-bottom:14px;
  }
  .pool-card {
    border:1px solid #e2e8f0;
    border-radius:12px;
    padding:10px 12px;
    background:#f8fafc;
    text-align:left;
    cursor:pointer;
    transition:border-color 0.2s ease, box-shadow 0.2s ease;
  }
  .pool-card:hover {
    border-color:#94a3b8;
  }
  .pool-card.active {
    border-color:#ff5656;
    box-shadow:0 0 0 2px rgba(255,86,86,0.12) inset;
  }
  .pool-label {
    font-size:0.78rem;
    text-transform:uppercase;
    letter-spacing:0.05em;
    color:#64748b;
  }
  .pool-value {
    margin-top:4px;
    font-size:1.25rem;
    font-weight:700;
    color:#0f172a;
  }
  .pool-error {
    border:1px solid #fecaca;
    background:#fef2f2;
    color:#991b1b;
    border-radius:10px;
    padding:8px 10px;
    margin-bottom:10px;
    font-size:0.9rem;
  }
  .filter-chip-row {
    display:flex;
    gap:8px;
    align-items:center;
    margin-bottom:10px;
    flex-wrap:wrap;
  }
  .filter-chip {
    border:1px solid #cbd5e1;
    border-radius:999px;
    padding:4px 10px;
    font-size:0.8rem;
    color:#334155;
    background:#f8fafc;
    font-weight:600;
  }
  .filter-chip.active {
    border-color:#ff5656;
    color:#9f1239;
    background:#fff1f2;
  }
  .filter-chip.clear {
    background:#fff;
    cursor:pointer;
  }
  .chip {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 18px;
    font-weight:600;
    cursor:pointer;
    background:#fff;
  }
  .chip.active {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .banner {
    border:1px solid #fde68a;
    background:#fffbeb;
    color:#92400e;
    padding:12px 16px;
    border-radius:12px;
    margin-bottom:16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:12px;
    flex-wrap:wrap;
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:16px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:16px;
    background:#fff;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .title-row {
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap;
  }
  .title { margin:0; font-weight:700; color:#111827; }
  .badge {
    border-radius:999px;
    padding:4px 10px;
    font-size:0.85rem;
    font-weight:600;
    text-transform:capitalize;
    background:#e5e7eb;
    color:#1f2937;
  }
  .badge.draft { background:#fef3c7; color:#92400e; }
  .badge.published { background:#dcfce7; color:#166534; }
  .badge.cancelled { background:#fee2e2; color:#991b1b; }
  .badge.completed { background:#dbeafe; color:#1e3a8a; }
  .badge.subtle {
    border:1px solid #d1d5db;
    background:#fff;
    color:#4b5563;
  }
  .sub {
    margin:0;
    color:#6b7280;
  }
  .meta-line {
    margin:4px 0 0;
    color:#4b5563;
    font-size:0.95rem;
  }
  .action-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.primary {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .btn.secondary { background:#fff; }
  .btn.tertiary {
    background:transparent;
    border:1px dashed #d1d5db;
    color:#6b7280;
  }
  .btn.block { width:100%; margin-top:12px; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
`,bf=20,Ev={pending:"pending",accepted:"accepted",declined:"declined",expired:"expired"},Mv={pending:"Pending",accepted:"Accepted",declined:"Declined",expired:"Expired"},xf={items:[],loading:!0,error:null,offset:0,hasMore:!0};function Dv(){const[a,i]=w.useState(xf),[l,o]=w.useState(xf),[d,f]=w.useState(null);w.useEffect(()=>{h("incoming"),h("outgoing")},[]),w.useEffect(()=>{function m(g){const b=g.detail;b&&o(j=>({...j,items:[{id:b.id,event_id:b.event_id,event_title:b.event_title||"Your event",event_starts_at:b.event_starts_at||null,event_time_label:b.event_starts_at?kv(b.event_starts_at):null,invitee_name:b.invitee_name||b.invitee_email,status:b.status||"pending"},...j.items]}))}return window.addEventListener("gk:invite-sent",m),()=>window.removeEventListener("gk:invite-sent",m)},[]),w.useEffect(()=>{if(!d)return;const m=setTimeout(()=>f(null),3500);return()=>clearTimeout(m)},[d]);const h=async(m,g=!1)=>{const b=m==="incoming"?i:o;b(C=>({...C,loading:!0,error:null}));const j=m==="incoming"?a:l,S=g?j.offset:0;try{const C=await fetch(`/api/invites?type=${m}&limit=${bf}&offset=${S}`),N=await C.json();if(!C.ok)throw new Error(N?.error||"Failed to load invites");const E=g?[...j.items,...N?.data||[]]:N?.data||[];b({items:E,loading:!1,error:null,offset:S+(N?.paging?.count||0),hasMore:(N?.paging?.count||0)===bf})}catch(C){console.error(`Load ${m} invites failed:`,C),b(N=>({...N,loading:!1,error:C.message||"Failed to load."}))}},y=async(m,g)=>{const b=a.items.findIndex(S=>S.id===m);if(b===-1)return;const j=a.items[b];i(S=>({...S,items:S.items.filter(C=>C.id!==m)}));try{const S=await fetch(`/api/invites/${m}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:g})}),C=await S.json().catch(()=>({}));if(!S.ok)throw new Error(C?.error||"Failed to update invite");f({type:"success",message:`Invite ${g==="accept"?"accepted":"declined"}.`})}catch(S){console.error("Invite action failed:",S),i(C=>({...C,items:[j,...C.items]})),f({type:"error",message:S.message||"Unable to update invite."})}};return r.jsxs("section",{className:"invites-page",children:[d&&r.jsxs("div",{className:`toast ${d.type}`,children:[r.jsx("span",{children:d.message}),r.jsx("button",{type:"button",onClick:()=>f(null),"aria-label":"Dismiss",children:""})]}),r.jsxs("header",{className:"page-head",children:[r.jsxs("div",{children:[r.jsx("p",{className:"eyebrow",children:"Your connections"}),r.jsx("h1",{children:"Invites"})]}),r.jsx("a",{className:"ghost-link",href:"#/my-invites",children:"View only my sent invites "})]}),r.jsxs("div",{className:"invites-grid",children:[r.jsxs("section",{className:"card",children:[r.jsx("div",{className:"section-head",children:r.jsx("h2",{children:"Incoming"})}),r.jsx(vf,{type:"incoming",data:a,onLoadMore:()=>h("incoming",!0),onAccept:m=>y(m,"accept"),onDecline:m=>y(m,"decline")})]}),r.jsxs("section",{className:"card",children:[r.jsx("div",{className:"section-head",children:r.jsx("h2",{children:"Outgoing"})}),r.jsx(vf,{type:"outgoing",data:l,onLoadMore:()=>h("outgoing",!0)})]})]}),r.jsx("style",{children:Rv})]})}function vf({type:a,data:i,onLoadMore:l,onAccept:o,onDecline:d}){const{items:f,loading:h,error:y,hasMore:m}=i,g=a==="incoming";return h&&!f.length?r.jsx("div",{className:"list",children:[...Array(3)].map((b,j)=>r.jsxs("div",{className:"item skeleton",children:[r.jsxs("div",{className:"meta",children:[r.jsx("div",{className:"line short"}),r.jsx("div",{className:"line"})]}),r.jsx("div",{className:"actions"})]},j))}):y&&!f.length?r.jsxs("div",{className:"empty",children:[r.jsx("p",{className:"muted",children:y}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:"Retry"})]}):f.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"list",children:f.map(b=>r.jsxs("div",{className:"item",children:[r.jsxs("div",{className:"meta",children:[r.jsx("p",{className:"title",children:b.event_title}),r.jsxs("p",{className:"sub",children:[g?`From: ${b.host_name||"Someone"}`:`To: ${b.invitee_name||"Guest"}`,b.event_time_label&&r.jsxs(r.Fragment,{children:[" ",r.jsx("span",{className:"dot",children:""})," ",b.event_time_label]})]})]}),r.jsx("div",{className:"actions",children:g?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>d(b.id),children:"Decline"}),r.jsx("button",{type:"button",className:"btn primary",onClick:()=>o(b.id),children:"Accept"})]}):r.jsx("span",{className:`badge ${Ev[b.status]||"pending"}`,children:Mv[b.status]||b.status})})]},b.id))}),m&&r.jsx("button",{type:"button",className:"btn secondary block",onClick:l,disabled:h,children:h?"Loading":"Load more"})]}):r.jsx("div",{className:"empty",children:r.jsx("p",{className:"muted",children:g?"No invites right now.":"You havent invited anyone yet."})})}function kv(a){try{return new Date(a).toLocaleString("en-US",{weekday:"short",hour:"numeric",minute:"2-digit"})}catch{return null}}const Rv=`
  .invites-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    display:flex;
    justify-content:space-between;
    align-items:flex-end;
    gap:12px;
    margin-bottom:16px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .page-head h1 {
    margin:0;
    color:#0f172a;
  }
  .ghost-link {
    color:#455a7c;
    text-decoration:none;
    font-weight:600;
  }
  .ghost-link:hover {
    text-decoration:underline;
  }
  .invites-grid {
    display:grid;
    gap:24px;
  }
  @media (min-width: 992px) {
    .invites-grid {
      grid-template-columns:repeat(2,minmax(0,1fr));
    }
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .section-head {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:12px;
  }
  .section-head h2 {
    margin:0;
    font-size:1.1rem;
    color:#111827;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:12px 16px;
    display:flex;
    justify-content:space-between;
    gap:16px;
    align-items:center;
    background:#fff;
  }
  .item.skeleton {
    animation:pulse 1.5s ease-in-out infinite;
  }
  .meta {
    flex:1;
  }
  .title {
    font-weight:600;
    margin:0 0 4px;
    color:#111827;
  }
  .sub {
    margin:0;
    color:#6b7280;
    font-size:0.9rem;
  }
  .actions {
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.primary {
    color:#fff;
    background:#ff5656;
    border-color:#ff5656;
  }
  .btn.secondary {
    background:#fff;
    color:#111827;
  }
  .btn.block {
    width:100%;
    margin-top:12px;
  }
  .badge {
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
    text-transform:capitalize;
  }
  .badge.pending { background:#fef3c7; color:#92400e; }
  .badge.accepted { background:#dcfce7; color:#166534; }
  .badge.declined { background:#fee2e2; color:#991b1b; }
  .badge.expired { background:#e2e8f0; color:#475569; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:16px;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  @keyframes pulse {
    0% { opacity: 0.6; }
    50% { opacity: 1; }
    100% { opacity: 0.6; }
  }
  .line {
    height:10px;
    border-radius:6px;
    background:#e5e7eb;
    margin-bottom:6px;
  }
  .line.short { width:80px; }
  .dot {
    color:#9ca3af;
  }
`,jf=20,zv=["all","pending","accepted","declined","expired"],Ov=["any","upcoming","past"],Sf={pending:"Pending",accepted:"Accepted",declined:"Declined",expired:"Expired"},Uv={pending:"pending",accepted:"accepted",declined:"declined",expired:"expired"},Lv={loading:!0,error:null,items:[],offset:0,hasMore:!0};function Vv(){const[a,i]=w.useState(Lv),[l,o]=w.useState("all"),[d,f]=w.useState("any"),[h,y]=w.useState(""),[m,g]=w.useState(null);w.useEffect(()=>{j(!1)},[]),w.useEffect(()=>{if(!m)return;const N=setTimeout(()=>g(null),3500);return()=>clearTimeout(N)},[m]);const b=w.useMemo(()=>{const N=Date.now();return a.items.filter(E=>{if(l!=="all"&&E.status!==l)return!1;if(d!=="any"&&E.event_starts_at){const T=new Date(E.event_starts_at).getTime();if(Number.isFinite(T)&&(d==="upcoming"&&T<N||d==="past"&&T>=N))return!1}if(h.trim()){const T=h.trim().toLowerCase();if(![E.invitee_name,E.invitee_email,E.event_title].filter(Boolean).map(V=>V.toLowerCase()).some(V=>V.includes(T)))return!1}return!0})},[a.items,l,d,h]);async function j(N){i(T=>({...T,loading:!0,error:null}));const E=N?a.offset:0;try{const T=await fetch(`/api/invites?type=outgoing&limit=${jf}&offset=${E}`),z=await T.json();if(!T.ok)throw new Error(z?.error||"Failed to load invites");i(V=>({loading:!1,error:null,items:N?[...V.items,...z?.data||[]]:z?.data||[],offset:E+(z?.paging?.count||0),hasMore:(z?.paging?.count||0)===jf}))}catch(T){console.error("Load my invites failed:",T),i(z=>({...z,loading:!1,error:T.message||"Unable to load invites."}))}}async function S(N){const E=a.items.find(T=>T.id===N);if(E){i(T=>({...T,items:T.items.filter(z=>z.id!==N)}));try{const T=await fetch(`/api/invites/${N}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),z=await T.json().catch(()=>({}));if(!T.ok||!z?.ok)throw new Error(z?.error||"Unable to cancel invite");g({type:"success",message:"Invite cancelled."})}catch(T){console.error("Cancel invite failed:",T),g({type:"error",message:T.message||"Unable to cancel invite."}),i(z=>({...z,items:[E,...z.items]}))}}}async function C(N){try{const T=`${window.location.origin}/events#/events/${N}`;await navigator?.clipboard?.writeText(T),g({type:"success",message:"Invite link copied."})}catch{g({type:"error",message:"Clipboard unavailable. Copy manually."})}}return r.jsxs("section",{className:"my-invites-page",children:[m&&r.jsxs("div",{className:`toast ${m.type}`,role:"status","aria-live":"polite",children:[r.jsx("span",{children:m.message}),r.jsx("button",{type:"button",onClick:()=>g(null),"aria-label":"Dismiss",children:""})]}),r.jsx("header",{className:"page-head",children:r.jsxs("div",{children:[r.jsx("p",{className:"eyebrow",children:"Host tools"}),r.jsx("h1",{children:"My Invites"})]})}),r.jsxs("div",{className:"filters",children:[r.jsxs("div",{className:"pill-row",children:[r.jsx("span",{className:"filter-label",children:"Status"}),zv.map(N=>r.jsx("button",{type:"button",className:`pill${l===N?" active":""}`,onClick:()=>o(N),children:N==="all"?"All":Sf[N]},N))]}),r.jsxs("div",{className:"pill-row",children:[r.jsx("span",{className:"filter-label",children:"Date"}),Ov.map(N=>r.jsx("button",{type:"button",className:`pill${d===N?" active":""}`,onClick:()=>f(N),children:N==="any"?"Any":N[0].toUpperCase()+N.slice(1)},N))]}),r.jsx("div",{className:"search-row",children:r.jsx("input",{type:"search",placeholder:"Search invitees or events",value:h,onChange:N=>y(N.target.value)})})]}),r.jsx("div",{className:"card",children:a.loading&&!a.items.length?r.jsx("div",{className:"empty muted",children:"Loading invites"}):a.error&&!a.items.length?r.jsxs("div",{className:"empty",children:[r.jsx("p",{className:"muted",children:a.error}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>j(!1),children:"Retry"})]}):b.length===0?r.jsx("div",{className:"empty",children:r.jsx("p",{className:"muted",children:"You havent sent any invites yet."})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"list",children:b.map(N=>r.jsxs("div",{className:"item",children:[r.jsxs("div",{className:"meta",children:[r.jsxs("p",{className:"title",children:[N.invitee_name||"Invitee","  ",N.event_title]}),r.jsx("p",{className:"sub",children:N.event_time_label||Bv(N.event_starts_at)||"Date TBA"})]}),r.jsxs("div",{className:"actions",children:[N.status==="pending"&&r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>S(N.id),children:"Cancel"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>C(N.event_id),children:"Copy Link"}),r.jsx("span",{className:`badge ${Uv[N.status]||"pending"}`,children:Sf[N.status]||N.status})]})]},N.id))}),a.hasMore&&r.jsx("button",{type:"button",className:"btn secondary block",disabled:a.loading,onClick:()=>j(!0),children:a.loading?"Loading":"Load more"})]})}),r.jsx("style",{children:Hv})]})}function Bv(a){if(!a)return null;try{return new Date(a).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return null}}const Hv=`
  .my-invites-page {
    background:#fff;
    border:1px solid #e5e7eb;
    border-radius:20px;
    padding:24px;
    box-shadow:0 20px 40px rgba(15,23,42,0.08);
  }
  .page-head {
    margin-bottom:20px;
  }
  .eyebrow {
    font-size:0.85rem;
    text-transform:uppercase;
    letter-spacing:0.08em;
    color:#94a3b8;
    margin:0 0 4px;
  }
  .page-head h1 {
    margin:0;
    color:#0f172a;
  }
  .toast {
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-radius:12px;
    padding:12px 16px;
    color:#fff;
    margin-bottom:16px;
  }
  .toast.success { background:#16a34a; }
  .toast.error { background:#ef4444; }
  .toast button {
    background:transparent;
    border:none;
    color:inherit;
    font-size:1.2rem;
    cursor:pointer;
  }
  .filters {
    display:flex;
    flex-direction:column;
    gap:12px;
    margin-bottom:16px;
  }
  .pill-row {
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    align-items:center;
  }
  .filter-label {
    font-weight:600;
    color:#111827;
  }
  .pill {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
    background:#fff;
    cursor:pointer;
  }
  .pill.active {
    background:#ff5656;
    border-color:#ff5656;
    color:#fff;
  }
  .search-row input {
    width:100%;
    border:1px solid #d1d5db;
    border-radius:12px;
    padding:10px 14px;
    font-size:1rem;
  }
  .card {
    border:1px solid #e2e8f0;
    border-radius:16px;
    padding:16px;
    background:#fff;
  }
  .list {
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .item {
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:12px 16px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:16px;
  }
  .meta {
    flex:1;
  }
  .title {
    margin:0 0 4px;
    font-weight:600;
    color:#111827;
  }
  .sub {
    margin:0;
    color:#6b7280;
    font-size:0.95rem;
  }
  .actions {
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn {
    border:1px solid #d1d5db;
    border-radius:999px;
    padding:8px 16px;
    font-weight:600;
    cursor:pointer;
  }
  .btn.secondary { background:#fff; }
  .btn.block { width:100%; margin-top:12px; }
  .badge {
    border-radius:999px;
    padding:6px 14px;
    font-weight:600;
  }
  .badge.pending { background:#fef3c7; color:#92400e; }
  .badge.accepted { background:#dcfce7; color:#166534; }
  .badge.declined { background:#fee2e2; color:#991b1b; }
  .badge.expired { background:#e2e8f0; color:#475569; }
  .empty {
    text-align:center;
    padding:24px 12px;
    color:#6b7280;
  }
`;function qv({eventId:a}){const[i,l]=w.useState({loading:!1,data:null,error:null}),[o,d]=w.useState(!1),[f,h]=w.useState(null),[y,m]=w.useState(!1),[g,b]=w.useState(null),[j,S]=w.useState(null),[C,N]=w.useState({loading:!1,data:[],error:null,hidden:!0}),[E,T]=w.useState(null),z=w.useRef(null);if(w.useEffect(()=>{if(!a){l({loading:!1,data:null,error:null});return}let P=!0;const ne=new AbortController;return l({loading:!0,data:null,error:null}),fetch(`/api/events/${encodeURIComponent(a)}`,{signal:ne.signal}).then(re=>re.ok?re.json():Promise.reject(new Error("Failed to load event"))).then(re=>{P&&l({loading:!1,data:re?.data||null,error:null})}).catch(re=>{re?.name!=="AbortError"&&P&&l({loading:!1,data:null,error:"Unable to load event"})}),()=>{P=!1,ne.abort()}},[a]),w.useEffect(()=>()=>{z.current&&clearTimeout(z.current)},[]),w.useEffect(()=>{if(!a){N({loading:!1,data:[],error:null,hidden:!0});return}let P=!0;const ne=new AbortController;return N({loading:!0,data:[],error:null,hidden:!1}),Ix(a,{signal:ne.signal}).then(re=>{P&&N({loading:!1,data:re,error:null,hidden:!1})}).catch(re=>{if(re?.name==="AbortError"||!P)return;const me=re?.message||"Unable to load roster";if(me==="Forbidden"){N({loading:!1,data:[],error:null,hidden:!0});return}N({loading:!1,data:[],error:me,hidden:!1})}),()=>{P=!1,ne.abort()}},[a]),!a)return r.jsx("p",{className:"muted",children:"Select an event to see details."});if(i.loading)return r.jsx("p",{className:"muted",children:"Loading"});if(i.error)return r.jsx("p",{className:"text-danger",children:i.error});function V(P,ne=4e3){z.current&&clearTimeout(z.current),h(P),ne&&(z.current=setTimeout(()=>h(null),ne))}const k=i.data;if(!k)return r.jsx("p",{className:"muted",children:"Event not found."});async function I(P,ne){const re=P?.attendee_user_id||P?.id||P;if(!(!re||E)){T(`${re}:${ne}`);try{const me={attendee_user_id:re,decision:ne};ne==="verified"&&(me.attended_minutes=P?.attended_minutes||90);const ie=await Jx(a,me);N(H=>({...H,data:(H.data||[]).map(Z=>Z.attendee_user_id===re?{...Z,verification_status:ie.verification_status||ne,attended_minutes:ie.attended_minutes??Z.attended_minutes}:Z)}));const ge=ie?.impact_credits_awarded||0,ue=ne==="rejected"?"Marked as rejected.":ie?.already_verified?`Already verified. Credits: ${ge}`:`Verified. Credits awarded: ${ge}`;V({message:ue,type:"success"})}catch(me){V({message:me.message||"Unable to verify attendee.",type:"error"})}finally{T(null)}}}async function ee(){if(!y){m(!0);try{const P=await fetch(`/api/events/${encodeURIComponent(a)}/calendar.ics`);if(!P.ok){const ge=await P.json().catch(()=>({}));throw new Error(ge?.error||"Unable to generate calendar invite")}const ne=await P.blob(),re=window.URL.createObjectURL(ne),me=document.createElement("a");me.href=re;const ie=`${(k.title||"event").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"event"}.ics`;me.download=ie,document.body.appendChild(me),me.click(),document.body.removeChild(me),window.URL.revokeObjectURL(re),V({message:"Calendar invite downloaded.",type:"success"})}catch(P){V({message:P.message||"Unable to download calendar.",type:"error"})}finally{m(!1)}}}function D(P){l(ne=>ne?.data?{...ne,data:{...ne.data,...P}}:ne)}async function Y(P){if(!g){b(P);try{const ne=await fetch(`/api/events/${encodeURIComponent(a)}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:P})}),re=await ne.json().catch(()=>({}));if(!ne.ok||!re?.ok)throw new Error(re?.error||"Unable to update RSVP");D({viewer_rsvp_status:re.data?.status||P,rsvp_counts:re.data?.rsvp_counts||i.data?.rsvp_counts,viewer_check_in_method:null,viewer_checked_in_at:null}),V({message:P==="accept"?"You're marked as going.":"Invite declined.",type:"success"})}catch(ne){V({message:ne.message||"Unable to update RSVP.",type:"error"})}finally{b(null)}}}async function J(P){if(!j&&!(P==="host_code"&&!window.prompt("Enter the 6-digit host code"))){S(P);try{const ne=await fetch(`/api/events/${encodeURIComponent(a)}/checkins`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:P})}),re=await ne.json().catch(()=>({}));if(!ne.ok||!re?.ok)throw new Error(re?.error||"Unable to check in");D({viewer_rsvp_status:re.data?.status||"checked_in",viewer_check_in_method:re.data?.check_in_method||P,viewer_checked_in_at:re.data?.checked_in_at||new Date().toISOString(),rsvp_counts:re.data?.rsvp_counts||i.data?.rsvp_counts}),V({message:"You're checked in!",type:"success"})}catch(ne){V({message:ne.message||"Unable to check in.",type:"error"})}finally{S(null)}}}return r.jsxs("div",{children:[r.jsx("h2",{style:{marginTop:0},children:k.title||"Event Detail"}),r.jsx("div",{className:"muted",children:k.location_text||"Location TBD"}),k.cover_url&&r.jsx("div",{className:"detail-cover",children:r.jsx("img",{src:k.cover_url,alt:"Event cover"})}),r.jsx("div",{className:"rsvp-stats",children:r.jsxs("span",{children:["RSVP'd: ",k?.rsvp_counts?.accepted??0,k.capacity?` / ${k.capacity}`:""]})}),f&&r.jsxs("div",{className:`invite-toast ${f.type||"success"}`,children:[r.jsx("span",{children:f.message}),f.actionLabel&&r.jsx("button",{type:"button",onClick:()=>{f.onAction?.(),h(null)},children:f.actionLabel})]}),r.jsxs("div",{className:"row",style:{gap:8,margin:"12px 0",flexWrap:"wrap"},children:[r.jsx("button",{className:"btn secondary",type:"button",onClick:ee,disabled:y,children:y?"Preparing":"Add to Calendar"}),r.jsx("button",{className:"btn secondary",type:"button",onClick:()=>d(!0),children:"Invite"})]}),!k.viewer_is_host&&k.status==="published"&&r.jsxs("div",{className:"card rsvp-card",children:[r.jsxs("div",{children:[r.jsx("strong",{children:k.viewer_rsvp_status==="accepted"?"You're going":k.viewer_rsvp_status==="checked_in"?"Checked in":"RSVP"}),r.jsx("p",{className:"muted mb-0",children:"Let the host know if you're attending."})]}),r.jsxs("div",{className:"rsvp-actions",children:[r.jsx("button",{type:"button",className:`btn ${k.viewer_rsvp_status==="accepted"||k.viewer_rsvp_status==="checked_in"?"primary":"secondary"}`,onClick:()=>Y("accept"),disabled:g==="accept"||k.viewer_rsvp_status==="checked_in",children:g==="accept"?"Saving":k.viewer_rsvp_status==="accepted"||k.viewer_rsvp_status==="checked_in"?"Going":"Accept"}),r.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>Y("decline"),disabled:g==="decline",children:g==="decline"?"Saving":"Decline"})]})]}),!k.viewer_is_host&&k.viewer_rsvp_status==="accepted"&&Array.isArray(k.attendance_methods)&&k.attendance_methods.length>0&&r.jsxs("div",{className:"card checkin-card",children:[r.jsx("strong",{children:"Check in"}),r.jsx("p",{className:"muted mb-0",children:"Choose one of the host's preferred methods when you arrive."}),r.jsx("div",{className:"checkin-buttons",children:k.attendance_methods.map(P=>r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>J(P),disabled:!!j,children:j===P?"Submitting":Fv(P)},P))})]}),r.jsxs("div",{className:"card when-card",children:[r.jsx("div",{className:"when-card__header",children:r.jsx("strong",{children:"When / Where"})}),r.jsxs("div",{className:"when-card__body",children:[r.jsxs("div",{className:"when-card__col",children:[r.jsx("span",{className:"label",children:"Date & Time"}),r.jsx("p",{className:"value",children:Gv(k.start_at,k.tz)}),r.jsx("span",{className:"label",children:"Location"}),r.jsx("p",{className:"value",style:{whiteSpace:"pre-wrap"},children:k.location_text||"Location TBD"})]}),r.jsxs("div",{className:"when-card__col meta",children:[r.jsxs("div",{children:[r.jsx("span",{className:"label",children:"Capacity"}),r.jsx("p",{className:"value",children:k.capacity||"Unlimited"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"label",children:"RSVPs"}),r.jsx("p",{className:"value",children:k?.rsvp_counts?.accepted||0})]})]})]})]}),r.jsxs("div",{className:"card info-card",children:[r.jsxs("div",{className:"info-grid",children:[r.jsxs("div",{children:[r.jsx("span",{className:"label",children:"Organization"}),r.jsx("p",{className:"value",children:k.org_name||"Independent organizer"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"label",children:"Community tag"}),r.jsx("p",{className:"value",children:k.community_tag||"General"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"label",children:"Verification"}),r.jsx("p",{className:"value",children:Xv(k.verification_method)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"label",children:"Impact Credits on verification"}),r.jsx("p",{className:"value",children:Number.isFinite(Number(k.impact_credits_base))?Number(k.impact_credits_base):25})]})]}),r.jsxs("div",{className:"info-tags",children:[r.jsx("span",{className:"label",children:"Cause tags"}),Array.isArray(k.cause_tags)&&k.cause_tags.length>0?r.jsx("div",{className:"tag-row",children:k.cause_tags.map(P=>r.jsx("span",{className:"tag",children:P},P))}):r.jsx("p",{className:"muted small",children:"No cause tags yet."})]}),k.requirements&&r.jsxs("div",{className:"info-reqs",children:[r.jsx("span",{className:"label",children:"Requirements"}),r.jsx("p",{className:"value",style:{whiteSpace:"pre-wrap"},children:k.requirements})]})]}),r.jsx("h3",{children:"After the event"}),r.jsxs("div",{className:"grid",children:[r.jsxs("div",{className:"box",children:[r.jsx("strong",{children:"Enter 6-digit code"}),r.jsx("p",{className:"muted mb-0",children:"Hosts can share a quick check-in code."})]}),r.jsxs("div",{className:"box",children:[r.jsx("strong",{children:"Paste public social URL"}),r.jsx("p",{className:"muted mb-0",children:"Drop proof from Instagram, TikTok, etc."})]})]}),!C.hidden&&r.jsxs("div",{className:"card roster-card",children:[r.jsxs("div",{className:"roster-head",children:[r.jsx("strong",{children:"Organizer roster"}),r.jsxs("span",{className:"muted",children:[C.data?.length||0," RSVPs"]})]}),C.loading&&r.jsx("div",{className:"muted",children:"Loading roster"}),C.error&&r.jsx("div",{className:"text-danger",children:C.error}),!C.loading&&!C.error&&C.data.length===0&&r.jsx("div",{className:"muted",children:"No RSVPs yet."}),!C.loading&&!C.error&&C.data.length>0&&r.jsx("div",{className:"roster-list",children:C.data.map(P=>{const ne=[P.firstname,P.lastname].filter(Boolean).join(" ")||P.email||P.attendee_user_id,re=P.verification_status==="verified",me=P.verification_status==="rejected";return`${P.attendee_user_id}`,r.jsxs("div",{className:"roster-row",children:[r.jsxs("div",{children:[r.jsx("div",{className:"roster-name",children:ne}),r.jsxs("div",{className:"muted small",children:["Status: ",P.status||"unknown","  Verification: ",P.verification_status||"pending",Number.isFinite(Number(P.attended_minutes))?`  ${P.attended_minutes} mins`:""]})]}),r.jsxs("div",{className:"roster-actions",children:[r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>I(P,"verified"),disabled:re||E===`${P.attendee_user_id}:verified`,children:re?"Verified":E===`${P.attendee_user_id}:verified`?"Verifying":"Verify"}),r.jsx("button",{type:"button",className:"btn tertiary",onClick:()=>I(P,"rejected"),disabled:me||E===`${P.attendee_user_id}:rejected`,children:me?"Rejected":E===`${P.attendee_user_id}:rejected`?"Rejecting":"Reject"})]})]},P.attendee_user_id)})})]}),r.jsxs("div",{className:"card row",style:{justifyContent:"space-between",gap:12},children:[r.jsx("strong",{children:"Host tools"}),r.jsx("button",{className:"btn",type:"button",children:"Show QR / Code"})]}),r.jsx("button",{className:"btn secondary w-100",type:"button",children:"Mark Completed"}),r.jsx("button",{className:"btn tertiary w-100 mt-2",type:"button",onClick:()=>{typeof window<"u"&&(window.location.hash="#/events")},children:"Back to Events"}),r.jsx(mf,{open:o,onClose:()=>d(!1),eventId:a,eventTitle:k.title,onSent:()=>{d(!1),V({message:"Invite sent!",actionLabel:"View in My Invites",onAction:()=>{window.location.hash="#/my-invites"},type:"success"})}}),r.jsx("style",{children:Yv})]})}const Yv=`
  .row{display:flex;align-items:center}
  .card{border:1px solid #e5e7eb;border-radius:16px;padding:16px;background:#fff;margin:12px 0}
  .rsvp-card{display:flex;flex-direction:column;gap:12px}
  .rsvp-actions{display:flex;gap:12px;flex-wrap:wrap}
  .checkin-card{display:flex;flex-direction:column;gap:12px}
  .checkin-buttons{display:flex;flex-wrap:wrap;gap:10px}
  .rsvp-stats{margin-top:8px;color:#6b7280;font-size:0.9rem}
  .when-card__body{display:flex;gap:16px;flex-wrap:wrap;margin-top:12px}
  .when-card__col{flex:1 1 100%;min-width:0}
  .when-card__col.meta{flex:0 0 auto;min-width:140px}
  .when-card__col .label{display:block;font-size:0.8rem;text-transform:uppercase;letter-spacing:0.08em;color:#94a3b8;margin-bottom:4px}
  .when-card__col .value{margin:0 0 12px;font-weight:600;color:#1f2937;word-break:break-word}
  .when-card__col.meta .value{font-size:1.1rem}
  .info-card{display:flex;flex-direction:column;gap:12px}
  .info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
  .info-tags .tag-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
  .tag{background:#f3f4f6;border:1px solid #e5e7eb;border-radius:999px;padding:4px 10px;font-size:0.85rem}
  .info-reqs .value{margin-top:4px}
  .card p{margin:6px 0 0}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
  .box{background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:16px}
  .detail-cover{margin:12px 0}
  .detail-cover img{width:100%;max-height:240px;object-fit:cover;border-radius:16px;border:1px solid #e5e7eb}
  .btn{background:#ff5656;border:none;color:#fff;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn.secondary{background:#fff;border:1px solid #e5e7eb;color:#1f2937}
  .btn.tertiary{background:transparent;border:1px dashed #d1d5db;color:#4b5563}
  .mt-2{margin-top:0.5rem}
  .invite-toast{margin:0 0 8px;font-size:0.95rem;display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:12px}
  .invite-toast.success{background:#ecfdf5;color:#065f46}
  .invite-toast.error{background:#fef2f2;color:#b91c1c}
  .invite-toast button{border:none;background:#fff;color:#455a7c;font-weight:600;border-radius:999px;padding:4px 10px;cursor:pointer}
  .muted{color:#6b7280}
  .roster-card{display:flex;flex-direction:column;gap:12px}
  .roster-head{display:flex;justify-content:space-between;align-items:center}
  .roster-list{display:flex;flex-direction:column;gap:10px}
  .roster-row{display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap}
  .roster-name{font-weight:600;color:#1f2937}
  .roster-actions{display:flex;gap:8px;flex-wrap:wrap}
  .small{font-size:0.85rem}
  .w-100{width:100%}
  h3{margin-top:24px}
`;function Gv(a,i){if(!a)return"Date TBD";try{return new Date(a).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",timeZone:i||"UTC"})}catch{return a}}function Fv(a){switch(a){case"host_code":return"Host Code";case"social_proof":return"Social Proof";case"geo":return"Geo Check-in";default:return a}}function Xv(a){switch(a){case"host_attest":return"Host attestation";case"qr_stub":return"QR check-in (stub)";case"social_proof":return"Social proof";default:return"Host attestation"}}function Kv(a={}){const{initialRoute:i="events",initialFeed:l=[],pagination:o={limit:20,sort:"relevance"},brand:d={primary:"#ff5656",ink:"#455a7c"},geoCheckinEnabled:f=!1}=a,[h,y]=w.useState(typeof window<"u"&&window.location.hash?window.location.hash:`#/${i}`),[m,g]=w.useState(null),[b,j]=w.useState(Array.isArray(l)?l:[]);w.useEffect(()=>{if(typeof window>"u")return()=>{};(()=>{window.location.hash||(window.location.hash=`#/${i}`)})();const E=()=>y(window.location.hash||`#/${i}`);return window.addEventListener("hashchange",E),()=>window.removeEventListener("hashchange",E)},[i]),w.useEffect(()=>{if(!h){g(null);return}const N=h.match(/^#\/events\/([^/?#]+)/);g(N?N[1]:null)},[h]);const S=()=>{typeof window<"u"&&(window.location.hash="#/events")},C=N=>{!N||typeof window>"u"||(window.location.hash=`#/events/${N}`)};return r.jsxs("div",{className:"events-app-shell",style:{"--events-brand":d.primary,"--events-ink":d.ink},children:[r.jsx($x,{route:h}),r.jsxs(Zx,{route:h,feed:b,setFeed:j,pagination:o,geoCheckinEnabled:f,brand:d,onSelectEvent:C,children:[r.jsx(ev,{path:"#/events"}),r.jsx(mv,{path:"#/create"}),r.jsx(Tv,{path:"#/my"}),r.jsx(Dv,{path:"#/invites"}),r.jsx(Vv,{path:"#/my-invites"})]}),r.jsx(Px,{open:!!m,onClose:S,children:m?r.jsx(qv,{eventId:m}):null})]})}const Qv=[{code:"heart_to_heart",label:"Heart-to-Heart Friend",desc:"Deep talks, real feelings, late-night brain dumps."},{code:"low_drama_rock",label:"Low-Drama Rock",desc:"Chill routines, someone steady, low chaos."},{code:"adventure_buddy",label:"Adventure Buddy",desc:"New spots, fun plans, say yes energy."},{code:"group_chat_ceo",label:"Group Chat CEO",desc:"Planner friend, group glue, makes hangs happen."},{code:"glow_up_partner",label:"Glow-Up Partner",desc:"Goals, feedback, lets level up together."}],wf=[{code:"chronic_flakiness",label:"Chronic flakiness",desc:"Often cancels last minute or doesnt show."},{code:"putdowns_disrespect",label:"Put-downs / disrespect",desc:"Jokes or comments that land mean, not playful."},{code:"gossip_bonding",label:"Gossip bonding",desc:"Regularly talks trash to connect."},{code:"breaches_confidence",label:"Breaches confidence",desc:"Shares what you wanted kept private."},{code:"ignores_boundaries",label:"Ignores boundaries",desc:"Keeps pushing after you say youre not okay with something."}],co=[{code:"contact_freq",label:"We text / DM / talk in person pretty much every week."},{code:"contact_overlap",label:"Our lives cross naturally (same school/work/group/server/gym/etc.)."},{code:"mutual_initiation",label:"They hit me up or start plans sometimes. Its not 100% me doing the reaching out."},{code:"mutual_response",label:"When I message, they respond in a timeframe that feels normal for them."},{code:"plan_energy",label:"In the last month, theyve suggested hanging out again or floated a specific idea."},{code:"self_disclosure_me",label:"Ive told them at least one real thing Im stressed about or insecure about this season."},{code:"self_disclosure_them",label:"Theyve shared something personal with me (not just work is busy small talk)."},{code:"emotional_safety",label:"When we talk about deeper stuff, I feel pretty safelike they get it and arent judging."},{code:"support_showup",label:"When Ive needed a small favor or emotional check-in, they mostly showed up."},{code:"support_followthrough",label:"If they say theyll call, pull up, or bring something, they usually actually do it."},{code:"shared_recent",label:"In the last month, weve done at least one fun or meaningful thing together."},{code:"shared_future",label:"Weve got at least one plan, event, or repeating thing coming up together."},{code:"global_trust",label:"If I really needed help with something important, Id feel okay asking them."}],dl=[{code:"type_vault",label:"Vault Friend",desc:"Tell me everything friend; secrets stay locked."},{code:"type_anchor",label:"Human Weighted Blanket",desc:"Steady, calm, shows up."},{code:"type_adventurer",label:"Chaos (But Fun) Adventurer",desc:"Down for new spots / plans."},{code:"type_communicator",label:"Group Chat Mod",desc:"Clarifies plans, smooths misreads."},{code:"type_connector",label:"Social Router",desc:"Introduces people, merges friend groups."},{code:"type_coach",label:"Hype Coach",desc:"Supports goals, feedback when asked."},{code:"type_collaborator",label:"Build-Something Buddy",desc:"Loves making / learning together."},{code:"type_caregiver",label:"Soft Care Friend",desc:"Notices when youre off, little gestures."}],Zv={1:"lol nope",2:"kinda rare",3:"eh, sometimes",4:"mostly yeah",5:"big yes"},Pv=dl.reduce((a,i)=>(a[i.code]=i.label,a),{}),uo={type_vault:"Confidante",type_anchor:"Anchor",type_adventurer:"Adventurer",type_communicator:"Communicator",type_connector:"Connector",type_coach:"Coach",type_collaborator:"Collaborator",type_caregiver:"Caregiver"},Nf=new Set(Object.values(uo));function Ja(a){const i=a.filter(l=>Number.isFinite(l));return i.length?i.reduce((l,o)=>l+o,0)/i.length:0}function $v({need:a,redFlags:i,closeness:l,types:o}){const f=Object.keys(i||{}).filter(ne=>i[ne]).length,h={Contact:Ja([l.contact_freq,l.contact_overlap]),Mutual_Interest:Ja([l.mutual_initiation,l.mutual_response,l.plan_energy]),Disclosure_Safety:Ja([l.self_disclosure_me,l.self_disclosure_them,l.emotional_safety]),Support_Reliability:Ja([l.support_showup,l.support_followthrough]),Shared_Experiences:Ja([l.shared_recent,l.shared_future]),Trust:l.global_trust??0},y=[];let m=!1,g=!1;f>=3?(m=!0,y.push("Even if parts feel close, repeated patterns like disrespect or breached boundaries make it risky to invest more.")):f>=1&&(g=!0,y.push("There are a couple of caution flags. Pace yourself and add boundaries."));const{Contact:b,Mutual_Interest:j,Disclosure_Safety:S,Support_Reliability:C,Shared_Experiences:N,Trust:E}=h,T=b>=3.7&&j>=3.7&&S>=4.3&&C>=4.3&&N>=3.7&&E>=4.5,z=b>=3.7&&j>=3.7&&S>=3.7&&C>=3.7&&N>=3.7&&E>=3.7,V=b>=3&&j>=3&&S>=3&&C>=3&&N>=3&&E>=3,k=b>=2.5&&j>=2.5&&E>=2.5&&Math.max(S,C,N)>=3;let I="acquaintance";T?I="best_friend":z?I="close_friend":V?I="friend":k?I="casual_friend":b<2.5||j<2.5&&N<2.5?I="acquaintance":I="casual_friend";const ee={acquaintance:"Acquaintance",casual_friend:"Casual Friend",friend:"Friend",close_friend:"Close Friend",best_friend:"Best Friend"},D=Object.entries(o||{}).map(([ne,re])=>({code:ne,score:Number(re)||0}));D.sort((ne,re)=>re.score-ne.score);const Y=D.filter(ne=>ne.score>=3.5);let J=[];Y.length===0&&D.length?J=D.slice(0,1):Y.length<=2?J=Y:J=Y.slice(0,2),J=J.map(ne=>({...ne,label:Pv[ne.code]||ne.code}));const P=Ja([h.Contact,h.Mutual_Interest,h.Disclosure_Safety,h.Support_Reliability,h.Shared_Experiences,h.Trust]);return{levelCode:I,levelLabel:ee[I]||"Friend",subscales:h,redflag_total:f,warnings:y,unsafeToDeepen:m,hasCautionFlags:g,topTypes:J,overallScore:Math.round(P*20),need:a}}function _f({code:a,label:i,value:l,onChange:o}){return r.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsx("div",{className:"text-sm text-slate-700",children:i}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(d=>r.jsx("button",{type:"button",onClick:()=>o(a,d),className:`h-12 rounded-xl border text-sm font-medium transition ${l===d?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5 border-slate-200"}`,title:Zv[d],children:d},d))}),r.jsx("div",{className:"text-xs text-slate-500",children:"Scale: 1 = lol nope  5 = big yes"})]})}function Jv({userId:a,onScore:i,onAfterResult:l}){const[o,d]=w.useState(""),[f,h]=w.useState(null),[y,m]=w.useState(wf.reduce((ie,ge)=>({...ie,[ge.code]:!1}),{})),[g,b]=w.useState(co.reduce((ie,ge)=>({...ie,[ge.code]:null}),{})),[j,S]=w.useState(dl.reduce((ie,ge)=>({...ie,[ge.code]:null}),{})),[C,N]=w.useState(null),[E,T]=w.useState({state:"idle",message:""}),[z,V]=w.useState([]),[k,I]=w.useState(!1);w.useEffect(()=>{if(k)try{so({particleCount:160,spread:70,origin:{y:.6}})}catch(ie){console.warn("confetti failed",ie)}},[k]);const ee=w.useMemo(()=>{const ie=Object.values(g).filter(ue=>Number.isFinite(ue)).length,ge=Object.values(j).filter(ue=>Number.isFinite(ue)).length;return{closeness:ie/co.length,types:ge/dl.length}},[g,j]),D=w.useMemo(()=>{const ie=[];return f||ie.push("Pick what kind of friend youre craving right now."),ee.closeness<1&&ie.push("Answer all closeness questions."),ee.types<1&&ie.push("Answer all friend-type questions."),ie},[f,ee]),Y=()=>{if(D.length)return V(D),null;V([]);const ie=$v({need:f,redFlags:y,closeness:g,types:j});return N(ie),i?.(ie),l?.(),ie},J=(ie,ge)=>{b(ue=>({...ue,[ie]:ge}))},P=(ie,ge)=>{S(ue=>({...ue,[ie]:ge}))},ne=ie=>{m(ge=>({...ge,[ie]:!ge[ie]}))},re=()=>{const ie=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null;return ie?ie.getAttribute("content"):null},me=async()=>{let ie=C;if(!ie&&(ie=Y(),!ie))return;if(!a){T({state:"error",message:"Please sign in to save your results."});return}const ge=re();if(!ge){T({state:"error",message:"Missing CSRF token."});return}try{T({state:"saving",message:"Saving..."});const ue=Object.entries(y).filter(([,O])=>O).map(([O])=>O),H=ie.topTypes[0]?.code&&uo[ie.topTypes[0].code]||null,Z=ie.topTypes[1]?.code&&uo[ie.topTypes[1].code]||null,Q={name:o?.trim()||"Friend",score:ie.overallScore,archetype_primary:Nf.has(H)?H:null,archetype_secondary:Nf.has(Z)?Z:null,evidence_direct:1,evidence_proxy:0,flags_count:ie.redflag_total,red_flags:ue,snapshot:{need:f,redFlags:y,closeness:g,types:j,level:ie.levelCode},tier:ie.levelLabel,channel_pref:"mixed"},oe=await fetch("/api/friends",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":ge},body:JSON.stringify(Q)}),R=await oe.json().catch(()=>({}));if(!oe.ok||!R?.ok)throw new Error(R?.error||`Save failed (${oe.status})`);const x=R.id;if(x)try{await fetch("/internal/quiz/completed",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a,friend_id:x,friend_name:Q.name,tier:ie.levelLabel,channel_pref:"mixed"})})}catch(O){console.warn("quiz/completed failed",O)}T({state:"saved",message:"Saved "}),l?.(),setTimeout(()=>I(!0),300)}catch(ue){T({state:"error",message:ue.message||"Save failed"})}};return r.jsxs("div",{className:"space-y-5",children:[r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:r.jsxs("label",{className:"block text-sm font-semibold text-[#455a7c]",children:["Friend name / nickname (optional)",r.jsx("input",{type:"text",value:o,onChange:ie=>d(ie.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#455a7c]",placeholder:"e.g., Sam from work"})]})}),k&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Saved!"}),r.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Your Friend Check was saved. Check your Friend Arc for next steps."}),r.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[r.jsx("button",{type:"button",onClick:()=>I(!1),className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Close"}),r.jsx("button",{type:"button",onClick:()=>{I(!1),typeof window<"u"&&window.location.assign("/dashboard")},className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"View Friend Arc"})]})]})}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:[r.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"What kind of friend are you craving right now?"}),r.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:Qv.map(ie=>{const ge=f===ie.code;return r.jsxs("button",{type:"button",onClick:()=>h(ie.code),className:`text-left rounded-2xl border p-3 transition ${ge?"border-[#ff5656] bg-[#ff5656]/10 shadow-sm":"border-slate-200 hover:border-slate-300 bg-white"}`,children:[r.jsx("div",{className:"font-semibold text-sm",children:ie.label}),r.jsx("div",{className:"text-xs text-slate-600 mt-1",children:ie.desc})]},ie.code)})})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:[r.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Red Flag Bingo"}),r.jsx("div",{className:"text-xs text-slate-600",children:"Check anything thats been a real pattern in the last few months."}),r.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:wf.map(ie=>r.jsxs("label",{className:`flex items-start gap-2 rounded-xl border p-3 text-sm cursor-pointer ${y[ie.code]?"border-rose-300 bg-rose-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[r.jsx("input",{type:"checkbox",className:"mt-1 accent-rose-500",checked:!!y[ie.code],onChange:()=>ne(ie.code)}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:ie.label}),r.jsx("div",{className:"text-xs text-slate-600",children:ie.desc})]})]},ie.code))})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Closeness (last 23 months)"}),r.jsx("div",{className:"text-xs text-slate-600",children:"1 = lol nope  5 = big yes"})]}),r.jsx("div",{className:"space-y-3",children:co.map(ie=>r.jsx(_f,{code:ie.code,label:ie.label,value:g[ie.code],onChange:J},ie.code))})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Friend energy they bring (15)"}),r.jsx("div",{className:"text-xs text-slate-600",children:"How often do they show this?"})]}),r.jsx("div",{className:"space-y-3",children:dl.map(ie=>r.jsx(_f,{code:ie.code,label:`${ie.label}  ${ie.desc}`,value:j[ie.code],onChange:P},ie.code))})]}),z.length>0&&r.jsx("div",{className:"rounded-xl border border-amber-300 bg-amber-50 text-amber-900 p-3 text-sm",children:r.jsx("ul",{className:"list-disc list-inside space-y-1",children:z.map(ie=>r.jsx("li",{children:ie},ie))})}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 rounded-xl border border-[#455a7c] text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"See results"}),r.jsx("button",{type:"button",onClick:me,disabled:E.state==="saving",className:`px-4 py-2 rounded-xl text-white font-semibold shadow ${E.state==="saving"?"bg-[#455a7c]/60 cursor-not-allowed":"bg-[#ff5656] hover:bg-[#ff5656]/90"}`,children:E.state==="saving"?"Saving":"Save"}),E.message&&r.jsx("span",{className:`text-sm ${E.state==="error"?"text-rose-600":"text-[#455a7c]"}`,children:E.message})]})]})}const Iv={1:"lol nope",2:"kinda rare",3:"eh, sometimes",4:"yeah, usually",5:"this is my whole personality"},Tf=[{group:"Initiation & Invitations",items:[{code:"initiation_start",label:"Im the one who slides into DMs or texts first instead of always waiting to be summoned."},{code:"initiation_invites",label:"I regularly invite people to small things (walk, coffee, game night, FaceTime, Discord hang)."},{code:"initiation_newthings",label:"Im the friend whos like, We should try ___ and actually sends a link / idea."}]},{group:"Reliability & Boundaries",items:[{code:"reliability_followthrough",label:"If I say Ill be somewhere or do something, I mostly follow through instead of last-minute disappearing."},{code:"reliability_sayno",label:"When Im not up for plans, I can say no clearly and kindly instead of ghosting or making sketchy excuses."},{code:"reliability_respect_boundaries",label:"If a friend says theyre tired / broke / not feeling it, I dont pushI respect that and drop the pressure."}]},{group:"Responsiveness & Listening",items:[{code:"responsive_comfort",label:"When a friend drops something heavy, I send more than dang that sucksI actually respond in a caring way."},{code:"responsive_followup",label:"I ask follow-up questions that show I was listening (not just cool and switching topics)."},{code:"responsive_remember",label:"I remember important stuff friends tell me and sometimes check back in about it."}]},{group:"Vulnerability & Sharing Yourself",items:[{code:"vulnerability_letin",label:"At least a couple friends know what Im actually going through this season, not just the highlight reel."},{code:"vulnerability_feelings",label:"I can say how I feel (low-key anxious about X, weirdly proud of Y) instead of only giving life updates."},{code:"vulnerability_repair",label:"If theres tension or a weird vibe, Im willing to bring it up gently instead of just fading out."}]}],fo=[{code:"type_vault",label:"Vault Friend",desc:"People vent to me and it stays locked."},{code:"type_anchor",label:"Human Weighted Blanket",desc:"Steady, on time, keeps rituals calm."},{code:"type_adventurer",label:"Chaos (But Fun) Adventurer",desc:"Down for new spots or sure, why not plans."},{code:"type_communicator",label:"Group Chat Mod",desc:"Translate vibes, clarify plans, keep chat smooth."},{code:"type_connector",label:"Social Router",desc:"Introduce friends, end up as social glue."},{code:"type_coach",label:"Hype Coach",desc:"Ask about goals, send you got this, give feedback when wanted."},{code:"type_collaborator",label:"Build-Something Buddy",desc:"Love making / learning things together."},{code:"type_caregiver",label:"Soft Care Friend",desc:"Notice when someones off, send you good? texts, small care."}],Cf=fo.reduce((a,i)=>(a[i.code]=i.label,a),{});function fl(a){const i=a.filter(l=>Number.isFinite(l));return i.length?i.reduce((l,o)=>l+o,0)/i.length:0}function hl(a){return a>=3.5?"Big Strength":a>=2.5?"In Progress":"Growth Edge"}function Wv({skillsRaw:a,typeRaw:i}){const l=fl([a.initiation_start,a.initiation_invites,a.initiation_newthings]),o=fl([a.reliability_followthrough,a.reliability_sayno,a.reliability_respect_boundaries]),d=fl([a.responsive_comfort,a.responsive_followup,a.responsive_remember]),f=fl([a.vulnerability_letin,a.vulnerability_feelings,a.vulnerability_repair]),h={initiation:{score:l,band:hl(l)},reliability:{score:o,band:hl(o)},responsiveness:{score:d,band:hl(d)},vulnerability:{score:f,band:hl(f)}},y=Object.entries(i||{}).map(([N,E])=>({code:N,score:Number(E)||0}));y.sort((N,E)=>E.score-N.score);const m=y.filter(N=>N.score>=3.5);let g=[];m.length===0&&y.length?g=y.slice(0,1):m.length<=2?g=m:g=m.slice(0,2);const b=y.filter(N=>!g.find(E=>E.code===N.code)).slice(0,3);g=g.map(N=>({...N,label:Cf[N.code]||N.code}));const j={scores:y.reduce((N,E)=>({...N,[E.code]:E.score}),{}),main:g,secondary:b.map(N=>({...N,label:Cf[N.code]||N.code}))},S=[],C=[];return Object.entries(h).forEach(([N,E])=>{E.band==="Big Strength"&&C.push(N),E.band==="Growth Edge"&&S.push(N)}),{skills:h,archetypes:j,growthEdges:S,strengths:C,stuckTransitions:[]}}function Af({code:a,label:i,value:l,onChange:o}){return r.jsxs("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-white p-4",children:[r.jsx("div",{className:"text-sm text-slate-700",children:i}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:[1,2,3,4,5].map(d=>r.jsx("button",{type:"button",onClick:()=>o(a,d),className:`h-12 rounded-xl border text-sm font-medium transition ${l===d?"bg-[#455a7c] text-white border-[#455a7c]":"bg-white hover:bg-[#455a7c]/5 border-slate-200"}`,title:Iv[d],children:d},d))}),r.jsx("div",{className:"text-xs text-slate-500",children:"Scale: 1 = lol nope  5 = this is my whole personality"})]})}function e0({userId:a,onScore:i,onAfterResult:l}){const[o,d]=w.useState(Tf.flatMap(D=>D.items).reduce((D,Y)=>({...D,[Y.code]:null}),{})),[f,h]=w.useState(fo.reduce((D,Y)=>({...D,[Y.code]:null}),{})),[y,m]=w.useState(null),[g,b]=w.useState({state:"idle",message:""}),[j,S]=w.useState([]),[C,N]=w.useState(!1);w.useEffect(()=>{if(C)try{so({particleCount:160,spread:70,origin:{y:.6}})}catch(D){console.warn("confetti failed",D)}},[C]);const E=w.useMemo(()=>{const D=Object.values(o).filter(J=>Number.isFinite(J)).length,Y=Object.values(f).filter(J=>Number.isFinite(J)).length;return{skills:D/Object.keys(o).length,types:Y/Object.keys(f).length}},[o,f]),T=()=>{const D=[];return E.skills<1&&D.push("Answer all skill questions."),E.types<1&&D.push("Answer all friendship energy questions."),D},z=()=>{const D=T();if(D.length)return S(D),null;S([]);const Y=Wv({skillsRaw:o,typeRaw:f});return m(Y),i?.(Y),l?.(),Y},V=()=>{const D=typeof document<"u"?document.querySelector('meta[name="csrf-token"]'):null;return D?D.getAttribute("content"):null},k=async()=>{let D=y;if(!D&&(D=z(),!D))return;if(!a){b({state:"error",message:"Please sign in to save your results."});return}const Y=V();if(!Y){b({state:"error",message:"Missing CSRF token."});return}try{b({state:"saving",message:"Saving..."});const J={answers:{skills:o,types:f},skills:D.skills,archetypes:D.archetypes,ladderSnapshot:{},growthEdges:D.growthEdges,strengths:D.strengths,stuckTransitions:D.stuckTransitions,completedAt:new Date().toISOString()},P=await fetch("/api/friendship-energy",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":Y},body:JSON.stringify(J)}),ne=await P.json().catch(()=>({}));if(!P.ok||!ne?.ok)throw new Error(ne?.error||`Save failed (${P.status})`);b({state:"saved",message:"Saved "}),l?.(),setTimeout(()=>N(!0),300)}catch(J){b({state:"error",message:J.message||"Save failed"})}},I=(D,Y)=>d(J=>({...J,[D]:Y})),ee=(D,Y)=>h(J=>({...J,[D]:Y}));return r.jsxs("div",{className:"space-y-5",children:[r.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-3",children:r.jsxs("div",{className:"text-sm text-[#455a7c]",children:["This quiz is about ",r.jsx("strong",{children:"you"}),", not any one friend. Think about the last 23 months. For each line, slide from lol nope  big yes to show how true it feels."]})}),C&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:r.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white p-6 text-center shadow-2xl border border-slate-100",children:[r.jsx("div",{className:"text-3xl mb-2",children:""}),r.jsx("h2",{className:"text-2xl font-bold text-[#455a7c]",children:"Saved!"}),r.jsx("p",{className:"mt-2 text-sm text-[#455a7c]",children:"Your Friendship Energy quiz was saved. Keep building those superpowers!"}),r.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[r.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 rounded-2xl border border-[#455a7c] px-4 py-2 text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"Close"}),r.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 rounded-2xl bg-[#ff5656] px-4 py-2 font-semibold text-white shadow hover:bg-[#ff5656]/90",children:"Great!"})]})]})}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Skills (15)"}),r.jsx("div",{className:"text-xs text-slate-600",children:"1 = lol nope  5 = this is my whole personality"})]}),r.jsx("div",{className:"space-y-4",children:Tf.map(D=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:D.group}),D.items.map(Y=>r.jsx(Af,{code:Y.code,label:Y.label,value:o[Y.code],onChange:I},Y.code))]},D.group))})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 md:p-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-[#455a7c]",children:"Friendship energy you bring (15)"}),r.jsx("div",{className:"text-xs text-slate-600",children:"How often is this you?"})]}),r.jsx("div",{className:"space-y-3",children:fo.map(D=>r.jsx(Af,{code:D.code,label:`${D.label}  ${D.desc}`,value:f[D.code],onChange:ee},D.code))})]}),j.length>0&&r.jsx("div",{className:"rounded-xl border border-amber-300 bg-amber-50 text-amber-900 p-3 text-sm",children:r.jsx("ul",{className:"list-disc list-inside space-y-1",children:j.map(D=>r.jsx("li",{children:D},D))})}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 rounded-xl border border-[#455a7c] text-[#455a7c] font-semibold hover:bg-[#455a7c]/5",children:"See results"}),r.jsx("button",{type:"button",onClick:k,disabled:g.state==="saving",className:`px-4 py-2 rounded-xl text-white font-semibold shadow ${g.state==="saving"?"bg-[#455a7c]/60 cursor-not-allowed":"bg-[#ff5656] hover:bg-[#ff5656]/90"}`,children:g.state==="saving"?"Saving":"Save"}),g.message&&r.jsx("span",{className:`text-sm ${g.state==="error"?"text-rose-600":"text-[#455a7c]"}`,children:g.message})]})]})}function Ef({active:a,label:i,sublabel:l,onClick:o}){return r.jsxs("button",{type:"button",onClick:o,className:`flex flex-col items-center text-center gap-1 px-4 py-3 rounded-2xl border transition ${a?"border-[#ff5656] bg-[#ff5656]/10 text-[#455a7c] shadow-sm":"border-slate-200 bg-white hover:border-slate-300 text-[#455a7c]"}`,children:[r.jsx("span",{className:"text-sm font-semibold",children:i}),r.jsx("span",{className:"text-xs text-slate-600",children:l})]})}function t0({userId:a}){const[i,l]=w.useState("friend-check"),[o,d]=w.useState(null),[f,h]=w.useState(null),y=i==="friend-check",m=w.useRef(null),g=()=>{m.current&&m.current.scrollIntoView({behavior:"smooth",block:"start"})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white text-[#455a7c]",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10 md:py-14 space-y-10",children:[r.jsxs("header",{className:"text-center space-y-4",children:[r.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#ff5656]/10 text-[#ff5656] text-xs font-semibold",children:"New  Friend Quizzes"}),r.jsx("div",{className:"space-y-2",children:r.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:"Upgrade Your Friend Circle"})}),r.jsxs("p",{className:"max-w-3xl mx-auto text-slate-600 text-sm md:text-base",children:["Take 2 minutes to complete a Friend Check quiz on a friend and find out what type of friend they are and KAI will create a Friend Arc - small simple actions you can take to connect with that person more!",r.jsx("br",{}),"or",r.jsx("br",{}),"Complete a My Friendship Energy quiz to discover your friendship superpowers and learn how you can be a better friend."]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"inline-flex gap-3 bg-white border border-slate-200 rounded-2xl p-2 shadow-sm",children:[r.jsx(Ef,{active:y,label:"Friend Check",sublabel:"One friend at a time",onClick:()=>l("friend-check")}),r.jsx(Ef,{active:!y,label:"My Friendship Energy",sublabel:"How you show up",onClick:()=>l("my-friendship-energy")})]})}),r.jsxs("div",{className:"grid gap-6 lg:gap-8 lg:grid-cols-[minmax(0,1.2fr)_minmax(0,0.8fr)]",children:[r.jsx("section",{className:"space-y-4",children:y?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Friend Check"}),r.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Pick one person, answer a few questions about how things have actually been lately, and KAI will tell you what level that friendships at + tiny, non-cringe next moves."})]}),r.jsx(Jv,{userId:a,onScore:b=>d(b),onAfterResult:g})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"My Friendship Energy"}),r.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Answer about how you show up as a friend, and KAI will map your superpowers, growth edges, and a couple of tiny quests to help you get more Close / Best Friends."})]}),r.jsx(e0,{userId:a,onScore:b=>h(b),onAfterResult:g})]})}),r.jsx("aside",{className:"lg:sticky lg:top-24",ref:m,style:{scrollMarginTop:"140px"},children:r.jsxs("div",{className:"rounded-3xl bg-[#ff5656] text-white p-6 space-y-4 shadow-xl",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-white/80",children:"What youll get"}),r.jsx("h3",{className:"text-xl font-bold mt-1",children:y?"Friend Check":"My Friendship Energy"})]}),y&&o?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm font-semibold",children:["Level: ",o.levelLabel]}),r.jsxs("p",{className:"text-sm text-slate-200",children:[o.levelCode==="best_friend"&&"This is Best Friend territory. Keep nurturing it and protect your time together.",o.levelCode==="close_friend"&&"Close Friend vibes. Add a repeat ritual and a shared plan on the calendar.",o.levelCode==="friend"&&"Solid Friend zone. A couple of intentional hangs could deepen this toward Close Friend.",o.levelCode==="casual_friend"&&"Casual Friend. Light touches plus one meaningful hang can move this up.",o.levelCode==="acquaintance"&&"Feels like an acquaintance right now. Start with small, low-pressure overlap."]}),o.topTypes?.length?r.jsxs("div",{className:"text-sm text-slate-200",children:["They feel like"," ",o.topTypes.map(b=>b.label).join(" + "),"."]}):null,o.unsafeToDeepen&&r.jsx("div",{className:"rounded-xl bg-rose-500/15 border border-rose-300/40 p-3 text-sm text-rose-100",children:"Heads up: multiple red flagspace yourself or set firmer boundaries."})]}):y?r.jsxs("ul",{className:"space-y-2 text-sm leading-relaxed",children:[r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"A Friend Level: Acquaintance  Best Friend"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"A read on what theyre great at (Vault Friend, Adventurer, etc.)"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"23 tiny experiments to try with that one friend"})]})]}):f?r.jsxs("div",{className:"space-y-3",children:[f.archetypes?.main?.length?r.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-sm font-semibold",children:["Youre ",f.archetypes.main.map(b=>b.label).join(" + ")]}):null,r.jsxs("div",{className:"text-sm text-slate-200 space-y-1",children:[f.strengths?.length?r.jsxs("div",{children:["Strengths: ",f.strengths.join(", ").replaceAll("_"," ")]}):null,f.growthEdges?.length?r.jsxs("div",{children:["Growth edges: ",f.growthEdges.join(", ").replaceAll("_"," ")]}):null]}),f.stuckTransitions?.length?r.jsxs("div",{className:"text-sm text-slate-200",children:["Stuck transitions: ",f.stuckTransitions.join(", ").replaceAll("_"," ")]}):null,f.growthEdges?.includes("initiation")&&r.jsx("div",{className:"rounded-xl bg-amber-500/15 border border-amber-300/40 p-3 text-sm text-amber-50",children:"Quest: One-a-day ping  message one person daily with a specific invite or check-in."}),f.growthEdges?.includes("vulnerability")&&r.jsx("div",{className:"rounded-xl bg-amber-500/15 border border-amber-300/40 p-3 text-sm text-amber-50",children:"Quest: Fact  feeling swap  add how I feel about it to one update this week."})]}):r.jsxs("ul",{className:"space-y-2 text-sm leading-relaxed",children:[r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Your main friendship energies (Vault Friend, Group Chat Mod, etc.)"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Which skills might be blocking Close / Best Friend levels"})]}),r.jsxs("li",{className:"flex gap-2",children:[r.jsx("span",{children:""}),r.jsx("span",{children:"Tiny quests to train those exact muscles"})]})]})]})})]})]})})}const n0=`
  :root { --ink:#455a7c; --coral:#ff5656; --mist:#b5bdcb; --canvas:#f4f4f4; }
`,a0=4,Mf=280;function i0(a,i){const l=new URL(a,window.location.origin);return Object.entries(i||{}).forEach(([o,d])=>{d==null||d===""||l.searchParams.set(o,d)}),l.toString().replace(window.location.origin,"")}function s0(a){return Array.isArray(a)?a.filter(Boolean):[]}function l0(a={}){const[i,l]=w.useState([]),[o,d]=w.useState(!0),[f,h]=w.useState(null),[y,m]=w.useState(!1),[g,b]=w.useState(!1),j=w.useRef(null),S=w.useRef(null),C=typeof a.city=="string"?a.city:"",N=Number.isFinite(a.limit)?a.limit:20,E=()=>{const I=j.current;if(!I)return;const{scrollLeft:ee,scrollWidth:D,clientWidth:Y}=I;m(ee>2),b(ee+Y<D-2)},T=()=>{S.current&&S.current.abort();const I=new AbortController;S.current=I;const ee=i0("/api/carousel",{city:C||void 0,limit:N});d(!0),h(null),fetch(ee,{credentials:"include",signal:I.signal}).then(D=>D.json().catch(()=>({})).then(Y=>({ok:D.ok,json:Y}))).then(D=>{if(!D?.ok)throw new Error(D?.json?.error||"Failed to load carousel");l(s0(D?.json?.data))}).catch(D=>{D?.name!=="AbortError"&&h(D?.message||"Unable to load carousel")}).finally(()=>{d(!1),setTimeout(E,0)})};w.useEffect(()=>(T(),()=>{S.current&&S.current.abort()}),[C,N]),w.useEffect(()=>{const I=j.current;if(!I)return;E();const ee=()=>E(),D=()=>E();return I.addEventListener("scroll",ee),window.addEventListener("resize",D),()=>{I.removeEventListener("scroll",ee),window.removeEventListener("resize",D)}},[i]);const z=w.useMemo(()=>(i||[]).length>0,[i]),V=I=>{const ee=j.current;if(!ee)return;const D=I==="left"?-Mf:Mf;ee.scrollBy({left:D,behavior:"smooth"})},k=o?r.jsx(c0,{}):f?r.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-sm flex items-center justify-between",children:[r.jsx("span",{children:f}),r.jsx("button",{type:"button",onClick:T,className:"text-[var(--ink)] font-semibold text-xs underline",children:"Retry"})]}):z?r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button","aria-label":"Scroll carousel left",className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white border border-slate-200 shadow-sm rounded-full p-2 text-[var(--ink)] disabled:opacity-40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",onClick:()=>V("left"),disabled:!y,children:""}),r.jsx("button",{type:"button","aria-label":"Scroll carousel right",className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white border border-slate-200 shadow-sm rounded-full p-2 text-[var(--ink)] disabled:opacity-40 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",onClick:()=>V("right"),disabled:!g,children:""}),r.jsx("div",{className:"overflow-x-auto",ref:j,"aria-label":"Kinder Crew updates",children:r.jsxs("div",{className:"flex gap-3 pb-2 snap-x snap-mandatory","data-testid":"kinder-crew-carousel",children:[i.map(I=>r.jsx(r0,{item:I},I?.id||I?.seed_key||Math.random().toString(36))),r.jsx(o0,{})]})})]}):r.jsxs("div",{className:"flex items-center justify-between bg-white border border-dashed border-slate-200 rounded-xl p-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-700",children:"No posts yet  check back soon."}),r.jsx("p",{className:"text-xs text-slate-500",children:"Browse opportunities while your crew shares updates."})]}),r.jsx("a",{href:"/events",className:"inline-flex items-center px-3 py-2 rounded-lg text-white text-sm font-semibold hover:opacity-90",style:{backgroundColor:"var(--coral)"},"data-testid":"carousel-browse-opportunities",children:"Browse opportunities"})]});return r.jsxs("div",{className:"mb-4",children:[r.jsx("style",{children:n0}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-[var(--ink)]",children:"From your Kinder Crew this week"}),C?r.jsxs("span",{className:"text-xs text-slate-500",children:["City: ",C]}):null]}),k]})}function r0({item:a}){const i=a?.title||a?.caption||"Crew update",l=typeof a?.caption=="string"?a.caption:"",o=a?.author_name,d=a?.city,f=a?.media_url;return r.jsxs("article",{className:"snap-start shrink-0 w-64 md:w-72 h-80 md:h-80 rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden grid focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--coral)]",style:{gridTemplateRows:"176px 1fr"},tabIndex:0,"data-testid":"carousel-card","aria-label":i,children:[r.jsx("div",{className:"relative w-full bg-slate-100 overflow-hidden",style:{height:"100%"},children:f?r.jsx("img",{src:f,alt:i,className:"absolute inset-0 w-full h-full object-cover object-center block",loading:"lazy"}):r.jsx("div",{className:"w-full h-full grid place-items-center text-slate-400 text-sm",children:"No image"})}),r.jsxs("div",{className:"p-3 flex flex-col gap-2 min-h-0",children:[r.jsx("div",{className:"text-sm font-semibold text-[var(--ink)] truncate",children:i}),l?r.jsx("p",{className:"text-sm text-slate-600",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:l}):null,r.jsx("div",{className:"mt-auto",children:r.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[o?r.jsx("span",{children:o}):null,d?r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:d}):null]})})]})]})}function o0(){return r.jsxs("article",{className:"snap-start shrink-0 w-64 md:w-72 h-80 md:h-80 rounded-xl border border-dashed border-slate-300 bg-white/80 shadow-sm p-4 flex flex-col justify-between","data-testid":"carousel-browse-opportunities",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-wide text-slate-500",children:"Keep Going"}),r.jsx("h3",{className:"text-lg font-semibold text-[var(--ink)] mt-1",children:"Browse opportunities"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Join an upcoming serve and add your own post to the crew feed."})]}),r.jsx("a",{href:"/events",className:"mt-3 inline-flex items-center justify-center px-3 py-2 rounded-lg text-white text-sm font-semibold hover:opacity-90",style:{backgroundColor:"var(--coral)"},children:"View events"})]})}function c0(){return r.jsx("div",{className:"overflow-x-hidden","aria-label":"Loading crew updates",children:r.jsx("div",{className:"flex gap-3 pb-2",children:Array.from({length:a0}).map((a,i)=>r.jsxs("div",{className:"animate-pulse snap-start shrink-0 w-64 md:w-72 h-80 md:h-80 rounded-xl border border-slate-200 bg-white overflow-hidden","aria-hidden":"true",children:[r.jsx("div",{className:"w-full bg-slate-200",style:{height:"176px"}}),r.jsxs("div",{className:"p-3 space-y-2",children:[r.jsx("div",{className:"h-4 bg-slate-200 rounded"}),r.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]},i))})})}const u0=`
  :root { --ink:#455a7c; --coral:#ff5656; --mist:#b5bdcb; --canvas:#f4f4f4; }
`,d0=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Df=new Set(["accepted","checked_in","interested","waitlisted"]),Ia={cleanup:["Stewardship","Safety"],food:["Food Service","Teamwork"],outreach:["Guest Support","De-escalation"],support:["Community Support","Reliability"],default:["Community Service"]};function kf(a){if(!a)return Ia.default;const i=String(a).toLowerCase();return i.includes("clean")?Ia.cleanup:i.includes("food")?Ia.food:i.includes("outreach")?Ia.outreach:i.includes("support")?Ia.support:Ia.default}function f0(a,i,l){if(!a)return"Time TBA";const o=new Date(a),d=i?new Date(i):null;if(Number.isNaN(o.getTime()))return"Time TBA";const f={hour:"numeric",minute:"2-digit",timeZone:l||void 0},h=o.toLocaleTimeString([],f).replace(":00","");if(!d||Number.isNaN(d.getTime()))return h;const y=d.toLocaleTimeString([],f).replace(":00","");return`${h}${y}`}function h0(a,i){if(!a)return"TBD";const l=new Date(a),o={weekday:"short",timeZone:i||void 0};return l.toLocaleDateString([],o)}function m0(a){if(!a)return!1;const i=new Date(a).getTime();if(Number.isNaN(i))return!1;const l=Date.now(),o=l+10080*60*1e3;return i>=l&&i<=o}function p0(a={}){const i=Number(a.reward_pool_kind)||0,l=a.capacity!=null?Number(a.capacity):null,o=Math.max(1,l||1);return Math.floor(i/o)}function g0(a){return a?.creator_user_id?"Get Kinder-led":"Partner Org"}function y0(a){return a==="accepted"||a==="checked_in"?"text-emerald-700 bg-emerald-50 border border-emerald-200":a==="interested"||a==="waitlisted"?"text-amber-700 bg-amber-50 border border-amber-200":"text-slate-600 bg-slate-100 border border-slate-200"}function b0(a){return a==="accepted"||a==="checked_in"?"Pending Approval":a==="interested"||a==="waitlisted"?"Awaiting approval":"Not requested"}function x0(){const[a,i]=w.useState([]),[l,o]=w.useState({}),[d,f]=w.useState(!0),[h,y]=w.useState(null),[m,g]=w.useState({});w.useEffect(()=>{let N=!0;return f(!0),y(null),fetch("/api/events?limit=50").then(E=>E.ok?E.json():Promise.reject(new Error("Failed to load events"))).then(E=>{if(!N)return;const T=Array.isArray(E?.data)?E.data:[];i(T)}).catch(E=>{N&&(y(E?.message||"Unable to load events"),i([]))}).finally(()=>{N&&f(!1)}),()=>{N=!1}},[]);const b=w.useMemo(()=>(a||[]).filter(N=>N?.status==="published"&&m0(N.start_at)).sort((N,E)=>{const T=new Date(N.start_at||0).getTime(),z=new Date(E.start_at||0).getTime();return T-z}),[a]);w.useEffect(()=>{let N=!1;const E=b.slice(0,6).map(T=>T.id).filter(T=>T!=null&&!l[T]);if(E.length)return Promise.all(E.map(T=>fetch(`/api/events/${encodeURIComponent(T)}`).then(z=>z.ok?z.json():Promise.reject(new Error("Failed to load event detail"))).then(z=>({id:T,data:z?.data||null})).catch(()=>({id:T,data:null})))).then(T=>{N||o(z=>{const V={...z};return T.forEach(({id:k,data:I})=>{V[k]=I}),V})}),()=>{N=!0}},[b,l]);const j=w.useMemo(()=>{const N=b.map(z=>{const V=l[z.id]||{},k=V.viewer_rsvp_status||z.viewer_rsvp_status||null,I=z.capacity!=null?z.capacity:V.capacity,ee=V?.rsvp_counts?.accepted??z?.rsvp_counts?.accepted??0,D=I==null?!0:ee<I,Y=p0({reward_pool_kind:z.reward_pool_kind,capacity:I});return{...z,viewerStatus:k,capacity:I,accepted:ee,hasCapacity:D,perUser:Y}}),E=N.filter(z=>Df.has(z.viewerStatus)),T=N.filter(z=>!Df.has(z.viewerStatus)&&z.hasCapacity);return[...E,...T].slice(0,3)},[b,l]),S=w.useMemo(()=>{const N=j.length,E=j.reduce((z,V)=>z+(Number(V.perUser)||0),0),T=new Set;return j.forEach(z=>kf(z.category).forEach(V=>T.add(V))),{planned:N,earnable:E,skills:T.size||0}},[j]);return{loading:d,error:h,planItems:j,totals:S,setError:y,setLoading:f,refetch:()=>{},handleRsvp:async(N,E="accept")=>{if(N){g(T=>({...T,[N]:!0}));try{const T=await fetch(`/api/events/${encodeURIComponent(N)}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:E})}),z=await T.json().catch(()=>({}));if(!T.ok||!z?.ok)throw new Error(z?.error||"Unable to update RSVP");o(V=>({...V,[N]:{...V[N]||{},viewer_rsvp_status:z.data?.status||E,rsvp_counts:z.data?.rsvp_counts||V[N]?.rsvp_counts}}))}catch(T){console.error(T)}finally{g(T=>({...T,[N]:!1}))}}},rsvpLoading:m}}function v0(){const{loading:a,error:i,planItems:l,totals:o,handleRsvp:d,rsvpLoading:f}=x0(),h=w.useMemo(()=>{const m=new Date().getDay();return m===0?6:m-1},[]),y=!a&&!l.length;return r.jsxs("div",{className:"mb-4","data-testid":"weeks-plan",children:[r.jsx("style",{children:u0}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-[var(--ink)]",children:"This Week's Plan"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Your plan: help to earn amd build verified skills."})]}),r.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{display:none}.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}"}),r.jsx("div",{className:"flex items-center gap-1 sm:gap-2","data-testid":"weeks-plan-calendar",children:r.jsx("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto no-scrollbar",children:d0.map((m,g)=>r.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-[11px] sm:text-sm font-semibold shrink-0 ${g===h?"bg-[var(--coral)] text-white":"bg-slate-100 text-slate-600"}`,children:m},m))})}),r.jsx("div",{className:"grid gap-3",children:a?r.jsx(j0,{}):i?r.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 text-amber-800 px-3 py-2 text-sm flex items-center justify-between",children:[r.jsx("span",{children:i}),r.jsx("button",{type:"button",className:"text-[var(--ink)] font-semibold text-xs underline",onClick:()=>{window.location.reload()},children:"Retry"})]}):y?r.jsxs("div",{className:"rounded-lg border border-dashed border-slate-200 bg-white px-4 py-3",children:[r.jsx("p",{className:"text-sm text-slate-700",children:"No upcoming serves planned. Browse opportunities."}),r.jsx("a",{href:"/events",className:"inline-flex items-center mt-2 px-3 py-2 rounded-lg bg-[var(--ink)] text-white text-sm font-semibold hover:opacity-90",children:"Browse opportunities"})]}):l.map(m=>{const g=h0(m.start_at,m.tz),b=f0(m.start_at,m.end_at,m.tz),j=kf(m.category),S="Org Kindness:  (no ratings yet)",C=y0(m.viewerStatus),N=b0(m.viewerStatus);return r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4 shadow-sm","data-testid":"weeks-plan-row",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-sm font-semibold text-[var(--ink)]",children:[g," ",r.jsx("span",{className:"text-slate-500",children:b})]}),r.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${C}`,children:N})]}),r.jsx("div",{className:"text-sm text-slate-600",children:"After: you'll rate the opportunity + we'll rate attendance"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("h3",{className:"text-base font-semibold text-[var(--ink)]",children:m.title||"Opportunity"}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:g0(m)})]}),r.jsx("div",{className:"mt-1 text-sm text-slate-600",children:m.location_text||"Location TBA"})]}),r.jsxs("div",{className:"mt-3 grid gap-1 text-sm text-slate-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-semibold text-[var(--ink)]",children:["+",m.perUser||0," $KIND"]}),r.jsxs("span",{className:"text-xs px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:["Capacity: ",m.accepted||0,"/",m.capacity||""]})]}),r.jsxs("div",{children:["Skills: ",j.join(", ")]}),r.jsx("div",{children:S})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:m.viewerStatus==="accepted"||m.viewerStatus==="checked_in"?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg bg-[var(--ink)] text-white text-xs font-semibold hover:opacity-90",children:"Checklist"}),r.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg border border-slate-200 text-[var(--ink)] text-xs font-semibold bg-white hover:bg-slate-50",onClick:()=>{window.location=`/events#/events/${m.id}`},children:"Add to calendar"})]}):m.viewerStatus==="interested"||m.viewerStatus==="waitlisted"?r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",disabled:f[m.id],className:"px-3 py-1.5 rounded-lg bg-[var(--coral)] text-white text-xs font-semibold hover:opacity-90 disabled:opacity-60",onClick:()=>d(m.id,"accept"),children:f[m.id]?"Saving":"Request approval"}),r.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-lg border border-slate-200 text-[var(--ink)] text-xs font-semibold bg-white hover:bg-slate-50",children:"Choose backup shift"})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",disabled:f[m.id],className:"px-3 py-1.5 rounded-lg bg-[var(--ink)] text-white text-xs font-semibold hover:opacity-90 disabled:opacity-60",onClick:()=>d(m.id,"accept"),children:f[m.id]?"Joining":"Join"}),r.jsx("a",{href:`/events#/events/${m.id}`,className:"px-3 py-1.5 rounded-lg border border-slate-200 text-[var(--ink)] text-xs font-semibold bg-white hover:bg-slate-50",children:"Details"})]})})]},m.id)})}),r.jsxs("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white p-4 flex flex-wrap gap-4 text-sm text-slate-700","data-testid":"weeks-plan-totals",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-[var(--ink)]",children:o.planned})," planned"]}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-semibold text-[var(--ink)]",children:["+",o.earnable]})," $KIND earnable"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-[var(--ink)]",children:o.skills})," skills"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-[var(--ink)]",children:""})," rating trend"]})]})]})]})}function j0(){return r.jsx("div",{className:"grid gap-3",children:Array.from({length:3}).map((a,i)=>r.jsxs("div",{className:"animate-pulse rounded-lg border border-slate-200 bg-white p-4",children:[r.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"}),r.jsx("div",{className:"mt-2 h-4 bg-slate-200 rounded w-1/2"}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("div",{className:"h-3 bg-slate-200 rounded w-full"}),r.jsx("div",{className:"h-3 bg-slate-200 rounded w-5/6"}),r.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"})]})]},i))})}const S0=(a=0)=>`$${((Number(a)||0)/100).toFixed(2)}`,Rf=(a=0)=>{const i=Number(a);return Number.isFinite(i)?(Math.round(i/60*10)/10).toFixed(1):""},zf=a=>!a||typeof a!="string"?"":a.slice(0,8),w0=({row:a})=>{const i=a?.created_at?new Date(a.created_at).toLocaleString():"",l=a?.event_title||zf(a?.event_id)||"Event",o=Rf(a?.minutes_verified),d=Number(a?.credits_funded)||0,f=Math.max(0,Number(a?.credits_deficit)||0);return r.jsxs("div",{className:"receipt-row",children:[r.jsxs("div",{className:"receipt-main",children:[r.jsx("div",{className:"receipt-title",children:l}),r.jsx("div",{className:"receipt-sub",children:i})]}),r.jsxs("div",{className:"receipt-meta",children:[r.jsxs("div",{className:"receipt-pill",children:[r.jsx("span",{className:"pill-label",children:"Hours"}),r.jsx("span",{className:"pill-value",children:o})]}),r.jsxs("div",{className:"receipt-pill",children:[r.jsx("span",{className:"pill-label",children:"Credits"}),r.jsx("span",{className:"pill-value",children:d})]}),f>0&&r.jsxs("div",{className:"receipt-pill warning",children:[r.jsx("span",{className:"pill-label",children:"Pending"}),r.jsx("span",{className:"pill-value",children:f})]})]}),r.jsxs("div",{className:"receipt-ids",children:[r.jsxs("div",{className:"id-item",children:["wallet_tx: ",zf(a?.wallet_tx_id)||""]}),r.jsxs("div",{className:"id-item",children:["donation: ",a?.donation_id??""]})]}),f>0&&r.jsxs("div",{className:"receipt-deficit",children:["Funded: ",d," credits  Pending: ",f," credits (auto-attributed when donations arrive)"]})]})};function N0({donorProfile:a={}}){const[i,l]=w.useState({loading:!0,error:null,data:null}),[o,d]=w.useState({loading:!0,error:null,items:[],limit:25,offset:0,hasMore:!1,nextOffset:0}),[f,h]=w.useState({donationId:"",paymentId:"",status:null,error:null,submitting:!1}),y=async()=>{l(V=>({...V,loading:!0,error:null}));try{const V=await fetch("/api/donor/summary",{credentials:"include"}),k=await V.json().catch(()=>({}));if(!V.ok||!k?.ok)throw new Error(k?.message||k?.error||"Unable to load summary");l({loading:!1,error:null,data:k.data||null})}catch(V){l({loading:!1,error:V?.message||"Unable to load summary",data:null})}},m=async({append:V=!1,offsetOverride:k=null}={})=>{d(D=>({...D,loading:!0,error:null}));const I=k??(o.nextOffset||0),ee=o.limit||25;try{const D=await fetch(`/api/donor/receipts?limit=${encodeURIComponent(ee)}&offset=${encodeURIComponent(I)}`,{credentials:"include"}),Y=await D.json().catch(()=>({}));if(!D.ok||!Y?.ok)throw new Error(Y?.message||Y?.error||"Unable to load receipts");const J=Y.data||{},P=Array.isArray(J.receipts)?J.receipts:Array.isArray(J.items)?J.items:[],ne=Number(J.next_offset)||I+ee,re=!!J.has_more;d(me=>({...me,loading:!1,error:null,items:V?[...me.items||[],...P]:P,offset:I,nextOffset:ne,hasMore:re,limit:ee}))}catch(D){d(Y=>({...Y,loading:!1,error:D?.message||"Unable to load receipts"}))}},g=()=>{y(),m({append:!1,offsetOverride:0})};w.useEffect(()=>{y(),m({append:!1,offsetOverride:0})},[]);const b=async()=>{const V={};if(f.donationId.trim()&&(V.donation_id=Number(f.donationId.trim())),f.paymentId.trim()&&(V.square_payment_id=f.paymentId.trim()),!V.donation_id&&!V.square_payment_id){h(k=>({...k,error:"Enter a donation id or Square payment id.",status:null}));return}h(k=>({...k,submitting:!0,error:null,status:null}));try{const k=await fetch("/api/donations/claim",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(V)}),I=await k.json().catch(()=>({}));if(!k.ok||!I?.ok){const ee=I?.error||k.statusText||"claim_failed";throw new Error(ee)}h({donationId:"",paymentId:"",submitting:!1,error:null,status:"Claimed!"}),y(),m({append:!1,offsetOverride:0})}catch(k){h(I=>({...I,submitting:!1,error:k.message||"Unable to claim",status:null}))}},j=i.data||{},S=Number(j.pending_deficit_credits_total)||0,C=a.firstname||a.firstName||a.first_name||"",N=a.lastname||a.lastName||a.last_name||"",E=[C,N].filter(Boolean).join(" ").trim()||a.name||a.displayName||"Donor",T=a.email||"",z=a.picture||a.avatar||a.photo||"/images/nerdy-KAI.png";return r.jsxs("div",{className:"donor-page",children:[r.jsxs("div",{className:"donor-hero",children:[r.jsxs("div",{className:"donor-hero-intro",children:[r.jsx("h1",{className:"page-title",children:"Donor Dashboard"}),r.jsx("p",{className:"page-sub",children:"Track your giving and how it fuels volunteer impact. Volunteers stay anonymous."})]}),r.jsxs("div",{className:"donor-hero-grid",children:[r.jsx("div",{className:"hero-avatar-col",children:r.jsx("img",{src:z,alt:`Profile photo of ${E}`,className:"donor-avatar-ring rounded-circle",width:140,height:140})}),r.jsxs("div",{className:"hero-profile-col",children:[r.jsx("h2",{className:"donor-name",children:E}),T&&r.jsx("div",{className:"donor-email",children:T}),r.jsxs("div",{className:"donor-note",children:[r.jsx("i",{className:"fas fa-heart","aria-hidden":"true"})," Your giving powers verified impact."]})]}),r.jsx("div",{className:"hero-stats-col",children:r.jsxs("div",{className:"hero-stats-grid",children:[r.jsxs("div",{className:"hero-stat-item",children:[r.jsx("div",{className:"hero-stat-value",children:i.loading?"Loading":i.error?"":S0(j.donated_cents_total??j.donated_lifetime_cents)}),r.jsx("div",{className:"hero-stat-label",children:"Donated (lifetime)"})]}),r.jsxs("div",{className:"hero-stat-item",children:[r.jsx("div",{className:"hero-stat-value",children:i.loading?"Loading":i.error?"":Number(j.credits_funded_total??j.credits_funded_lifetime)||0}),r.jsx("div",{className:"hero-stat-label",children:"Funded credits"})]}),r.jsxs("div",{className:"hero-stat-item",children:[r.jsx("div",{className:"hero-stat-value",children:i.loading?"Loading":i.error?"":Rf(j.minutes_verified_total??j.minutes_funded_lifetime)}),r.jsx("div",{className:"hero-stat-label",children:"Funded hours"})]}),r.jsxs("div",{className:"hero-stat-item",children:[r.jsx("div",{className:"hero-stat-value",children:i.loading?"Loading":i.error?"":Number(j.remaining_pool_credits??j.credits_unused_balance)||0}),r.jsx("div",{className:"hero-stat-label",children:"Remaining pool credits"})]})]})})]})]}),S>0&&r.jsxs("div",{className:"info-banner",children:[r.jsx("div",{className:"info-dot"}),r.jsx("div",{children:"Some verified shifts are pending funding. New donations will be attributed automatically."}),r.jsxs("div",{className:"pill pending",children:["Pending credits: ",S]})]}),r.jsxs("div",{className:"claim-card",children:[r.jsxs("div",{children:[r.jsx("div",{className:"label",children:"Claim existing donation"}),r.jsx("div",{className:"subtext",children:"Attach a past donation to your account so it appears here."})]}),r.jsxs("div",{className:"claim-form",children:[r.jsx("input",{type:"text",placeholder:"Donation ID",value:f.donationId,onChange:V=>h(k=>({...k,donationId:V.target.value}))}),r.jsx("span",{className:"muted",children:"or"}),r.jsx("input",{type:"text",placeholder:"Square payment ID",value:f.paymentId,onChange:V=>h(k=>({...k,paymentId:V.target.value}))}),r.jsx("button",{className:"btn",type:"button",disabled:f.submitting,onClick:b,children:f.submitting?"Claiming":"Claim"})]}),f.error&&r.jsx("div",{className:"alert compact",children:f.error}),f.status&&r.jsx("div",{className:"success compact",children:f.status})]}),i.error&&r.jsxs("div",{className:"alert",children:[r.jsx("span",{children:i.error}),r.jsx("button",{type:"button",className:"btn",onClick:g,children:"Retry"})]}),r.jsxs("div",{className:"receipts-section",children:[r.jsxs("div",{className:"section-head",children:[r.jsxs("div",{children:[r.jsx("div",{className:"label",children:"Receipts"}),r.jsx("div",{className:"subtext",children:"Donation  event  funded hours (volunteers remain anonymous)."})]}),r.jsx("button",{type:"button",className:"btn secondary",onClick:()=>m({append:!1,offsetOverride:0}),disabled:o.loading,children:"Refresh"})]}),o.loading&&o.items.length===0?r.jsx("div",{className:"muted",children:"Loading receipts"}):o.error?r.jsxs("div",{className:"alert",children:[r.jsx("span",{children:o.error}),r.jsx("button",{type:"button",className:"btn",onClick:()=>m({append:!1,offsetOverride:0}),children:"Retry"})]}):o.items.length===0?r.jsx("div",{className:"muted",children:"No receipts yet."}):r.jsx("div",{className:"receipt-list",children:o.items.map(V=>r.jsx(w0,{row:V},`${V.id||V.wallet_tx_id||V.created_at}`))}),o.hasMore&&!o.loading&&r.jsx("button",{type:"button",className:"btn",onClick:()=>m({append:!0,offsetOverride:o.nextOffset}),disabled:o.loading,children:"Load more"})]}),r.jsx("style",{children:`
        .donor-page { max-width: 960px; margin: 0 auto; padding: 24px 16px 48px; }
        .page-title { margin: 0 0 4px; color: #455a7c; }
        .page-sub { margin: 0; color: #556; }
        .donor-hero { background: #fff; border: 1px solid #dfe8f5; border-radius: 18px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); padding: 20px; margin-bottom: 16px; }
        .donor-hero-intro { margin-bottom: 16px; }
        .donor-hero-grid { display: grid; gap: 20px; align-items: center; grid-template-columns: minmax(140px, 170px) minmax(200px, 1fr) minmax(280px, 360px); }
        .hero-avatar-col { text-align: center; }
        .donor-avatar-ring { border: 3px solid #455a7c; padding: 3px; object-fit: cover; background: #fff; }
        .donor-name { margin: 0 0 6px; color: #455a7c; font-size: 2rem; line-height: 1.1; font-weight: 700; }
        .donor-email { color: #556; margin-bottom: 8px; }
        .donor-note { color: #556; font-size: 0.95rem; display: flex; align-items: center; gap: 6px; }
        .donor-note i { color: #ff5656; }
        .hero-stats-grid { display: grid; grid-template-columns: repeat(2, minmax(120px, 1fr)); gap: 14px 22px; }
        .hero-stat-item { text-align: center; }
        .hero-stat-label { font-size: 12px; text-transform: uppercase; letter-spacing: 0.06em; color: #6c7a93; }
        .hero-stat-value { font-size: 2rem; font-weight: 700; color: #ff5656; line-height: 1.05; margin-bottom: 2px; }
        .label { font-size: 12px; text-transform: uppercase; letter-spacing: 0.03em; color: #6c7a93; }
        .value { font-size: 22px; font-weight: 700; color: #233048; margin-top: 4px; }
        .alert { margin: 12px 0; padding: 10px 12px; border-radius: 10px; border: 1px solid #f2c6c6; background: #fff5f5; color: #7a1f1f; display: flex; align-items: center; gap: 10px; justify-content: space-between; }
        .btn { background: #455a7c; color: #fff; border: none; border-radius: 8px; padding: 8px 12px; font-weight: 600; cursor: pointer; }
        .btn.secondary { background: #fff; color: #455a7c; border: 1px solid #c7d0e4; }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .receipts-section { margin-top: 20px; background: #fff; border: 1px solid #e6e9f2; border-radius: 12px; padding: 14px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
        .section-head { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 10px; }
        .subtext { color: #6c7a93; font-size: 13px; }
        .muted { color: #6c7a93; font-size: 14px; }
        .receipt-list { display: grid; gap: 10px; }
        .receipt-row { border: 1px solid #e6e9f2; border-radius: 10px; padding: 10px 12px; background: #f8fafc; display: grid; gap: 6px; }
        .receipt-title { font-weight: 700; color: #233048; }
        .receipt-sub { color: #6c7a93; font-size: 13px; }
        .receipt-meta { display: flex; gap: 8px; flex-wrap: wrap; }
        .receipt-pill { background: #fff; border: 1px solid #dde3f0; border-radius: 8px; padding: 6px 8px; display: inline-flex; gap: 6px; align-items: center; }
        .receipt-pill.warning { background: #fff7ec; border-color: #ffd9a8; color: #8c5a00; }
        .pill-label { color: #6c7a93; font-size: 12px; text-transform: uppercase; letter-spacing: 0.04em; }
        .pill-value { font-weight: 700; color: #233048; }
        .receipt-ids { color: #6c7a93; font-size: 12px; display: flex; gap: 10px; flex-wrap: wrap; }
        .receipt-deficit { color: #8c5a00; font-size: 13px; background: #fff7ec; border: 1px dashed #ffd9a8; border-radius: 8px; padding: 6px 8px; }
        .info-banner { display: flex; align-items: center; gap: 10px; background: #f0f4ff; border: 1px solid #c7d0e4; color: #233048; padding: 10px 12px; border-radius: 10px; margin-bottom: 12px; flex-wrap: wrap; }
        .info-dot { width: 10px; height: 10px; border-radius: 50%; background: #5b7cff; box-shadow: 0 0 0 4px rgba(91,124,255,0.12); }
        .pill.pending { background: #fff; color: #233048; border: 1px solid #c7d0e4; border-radius: 999px; padding: 4px 10px; font-size: 13px; }
        .claim-card { margin: 14px 0; padding: 12px; border: 1px solid #e6e9f2; border-radius: 12px; background: #fff; box-shadow: 0 1px 2px rgba(0,0,0,0.04); display: grid; gap: 8px; }
        .claim-form { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
        .claim-form input { padding: 8px 10px; border: 1px solid #c7d0e4; border-radius: 8px; min-width: 160px; }
        .alert.compact, .success.compact { padding: 8px 10px; border-radius: 8px; font-size: 13px; }
        .success { border: 1px solid #b7e0c1; background: #f3fbf5; color: #2f6f3b; }
        @media (max-width: 991.98px) {
          .donor-hero-grid { grid-template-columns: 1fr; text-align: center; }
          .donor-note { justify-content: center; }
          .hero-stats-grid { max-width: 460px; margin: 0 auto; }
        }
        @media (max-width: 575.98px) {
          .donor-hero { padding: 16px; }
          .donor-name { font-size: 1.6rem; }
          .hero-stats-grid { gap: 12px; }
          .hero-stat-value { font-size: 1.6rem; }
        }
      `})]})}const Of=[2e3,5e3,1e4],_0=a=>`$${((Number(a)||0)/100).toFixed(2)}`;function T0(){const[a,i]=w.useState(""),[l,o]=w.useState("general"),[d,f]=w.useState({state:"idle",message:""}),[h,y]=w.useState(Of[0]),m=async()=>{if(!a.trim()){f({state:"error",message:"Enter the Square payment ID after completing checkout."});return}f({state:"loading",message:"Confirming payment"});try{const g=await fetch("/api/donations/square/confirm",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({square_payment_id:a.trim(),pool_slug:l||"general"})}),b=await g.json().catch(()=>({}));if(!g.ok||!b?.ok)throw new Error(b?.message||b?.error||"Unable to confirm payment.");const j=b?.data?.credits_added??"?";f({state:"success",message:`Thanks! Credited ${j} Impact Credits.`})}catch(g){f({state:"error",message:g?.message||"Unable to confirm payment."})}};return r.jsxs("div",{className:"donate-page",children:[r.jsx("h1",{className:"title",children:"Donate to fuel Impact Credits"}),r.jsx("p",{className:"sub",children:"Complete your Square checkout, then paste the payment ID here to credit your account."}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"label",children:"1) Choose an amount on Square"}),r.jsx("div",{className:"pill-row",children:Of.map(g=>r.jsx("button",{type:"button",className:`pill ${h===g?"active":""}`,onClick:()=>y(g),children:_0(g)},g))}),r.jsx("p",{className:"muted",children:"Use the Donate button to open Square checkout (opens in new tab)."}),r.jsx("a",{className:"btn primary",href:"https://square.link/u/GjQpbcoi",target:"_blank",rel:"noopener noreferrer",children:"Open Square Checkout"})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"label",children:"2) Paste Square payment ID"}),r.jsx("input",{type:"text",className:"input",placeholder:"Payment ID (e.g., VZY9E... )",value:a,onChange:g=>i(g.target.value)}),r.jsx("div",{className:"label",children:"Pool"}),r.jsx("input",{type:"text",className:"input",value:l,onChange:g=>o(g.target.value||"general")}),r.jsx("button",{type:"button",className:"btn primary",onClick:m,disabled:d.state==="loading",children:d.state==="loading"?"Confirming":"Confirm Donation"}),d.message&&r.jsx("div",{className:`status ${d.state}`,children:d.message})]}),r.jsx("p",{className:"muted",children:"Tip: After confirmation, visit your Donor Dashboard to see updated totals."}),r.jsx("style",{children:`
        .donate-page { --kinder-coral: #ff5656; }
        .donate-page { max-width: 720px; margin: 0 auto; padding: 24px 16px 48px; color: #233048; }
        .title { margin: 0 0 6px; color: #455a7c; }
        .sub { margin: 0 0 18px; color: #556; }
        .card { background: #fff; border: 1px solid #e6e9f2; border-radius: 12px; padding: 14px; margin-bottom: 14px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
        .label { font-size: 13px; text-transform: uppercase; letter-spacing: 0.05em; color: #6c7a93; margin-bottom: 6px; }
        .pill-row { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px; }
        .pill { border: 1px solid #c7d0e4; background: #fff; color: #233048; border-radius: 999px; padding: 8px 12px; cursor: pointer; font-weight: 600; }
        .pill.active { background: var(--kinder-coral); color: #fff; border-color: var(--kinder-coral); }
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 6px; border: none; border-radius: 10px; padding: 10px 14px; font-weight: 700; cursor: pointer; text-decoration: none; }
        .btn.primary { background: var(--kinder-coral); color: #fff; }
        .btn.primary:hover { filter: brightness(0.96); }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .input { width: 100%; border: 1px solid #d6ddea; border-radius: 10px; padding: 10px; margin: 6px 0 10px; }
        .muted { color: #6c7a93; font-size: 13px; }
        .status { margin-top: 8px; padding: 8px 10px; border-radius: 10px; }
        .status.success { background: #e7f6ec; color: #1d6b3a; border: 1px solid #c4e3ce; }
        .status.error { background: #fff5f5; color: #7a1f1f; border: 1px solid #f2c6c6; }
        .status.loading { background: #f6f8fb; color: #455a7c; border: 1px solid #d6ddea; }
      `})]})}const ho=w.createContext({});function mo(a){const i=w.useRef(null);return i.current===null&&(i.current=a()),i.current}const po=typeof window<"u",Uf=po?w.useLayoutEffect:w.useEffect,ml=w.createContext(null);function go(a,i){a.indexOf(i)===-1&&a.push(i)}function yo(a,i){const l=a.indexOf(i);l>-1&&a.splice(l,1)}const Tn=(a,i,l)=>l>i?i:l<a?a:l;let bo=()=>{};const Cn={},Lf=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Vf(a){return typeof a=="object"&&a!==null}const Bf=a=>/^0[^.\s]+$/u.test(a);function xo(a){let i;return()=>(i===void 0&&(i=a()),i)}const Wt=a=>a,C0=(a,i)=>l=>i(a(l)),es=(...a)=>a.reduce(C0),ts=(a,i,l)=>{const o=i-a;return o===0?1:(l-a)/o};class vo{constructor(){this.subscriptions=[]}add(i){return go(this.subscriptions,i),()=>yo(this.subscriptions,i)}notify(i,l,o){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](i,l,o);else for(let f=0;f<d;f++){const h=this.subscriptions[f];h&&h(i,l,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xn=a=>a*1e3,en=a=>a/1e3;function Hf(a,i){return i?a*(1e3/i):0}const qf=(a,i,l)=>(((1-3*l+3*i)*a+(3*l-6*i))*a+3*i)*a,A0=1e-7,E0=12;function M0(a,i,l,o,d){let f,h,y=0;do h=i+(l-i)/2,f=qf(h,o,d)-a,f>0?l=h:i=h;while(Math.abs(f)>A0&&++y<E0);return h}function ns(a,i,l,o){if(a===i&&l===o)return Wt;const d=f=>M0(f,0,1,a,l);return f=>f===0||f===1?f:qf(d(f),i,o)}const Yf=a=>i=>i<=.5?a(2*i)/2:(2-a(2*(1-i)))/2,Gf=a=>i=>1-a(1-i),Ff=ns(.33,1.53,.69,.99),jo=Gf(Ff),Xf=Yf(jo),Kf=a=>(a*=2)<1?.5*jo(a):.5*(2-Math.pow(2,-10*(a-1))),So=a=>1-Math.sin(Math.acos(a)),Qf=Gf(So),Zf=Yf(So),D0=ns(.42,0,1,1),k0=ns(0,0,.58,1),Pf=ns(.42,0,.58,1),R0=a=>Array.isArray(a)&&typeof a[0]!="number",$f=a=>Array.isArray(a)&&typeof a[0]=="number",z0={linear:Wt,easeIn:D0,easeInOut:Pf,easeOut:k0,circIn:So,circInOut:Zf,circOut:Qf,backIn:jo,backInOut:Xf,backOut:Ff,anticipate:Kf},O0=a=>typeof a=="string",Jf=a=>{if($f(a)){bo(a.length===4);const[i,l,o,d]=a;return ns(i,l,o,d)}else if(O0(a))return z0[a];return a},pl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function U0(a,i){let l=new Set,o=new Set,d=!1,f=!1;const h=new WeakSet;let y={delta:0,timestamp:0,isProcessing:!1};function m(b){h.has(b)&&(g.schedule(b),a()),b(y)}const g={schedule:(b,j=!1,S=!1)=>{const N=S&&d?l:o;return j&&h.add(b),N.has(b)||N.add(b),b},cancel:b=>{o.delete(b),h.delete(b)},process:b=>{if(y=b,d){f=!0;return}d=!0,[l,o]=[o,l],l.forEach(m),l.clear(),d=!1,f&&(f=!1,g.process(b))}};return g}const L0=40;function If(a,i){let l=!1,o=!0;const d={delta:0,timestamp:0,isProcessing:!1},f=()=>l=!0,h=pl.reduce((k,I)=>(k[I]=U0(f),k),{}),{setup:y,read:m,resolveKeyframes:g,preUpdate:b,update:j,preRender:S,render:C,postRender:N}=h,E=()=>{const k=Cn.useManualTiming?d.timestamp:performance.now();l=!1,Cn.useManualTiming||(d.delta=o?1e3/60:Math.max(Math.min(k-d.timestamp,L0),1)),d.timestamp=k,d.isProcessing=!0,y.process(d),m.process(d),g.process(d),b.process(d),j.process(d),S.process(d),C.process(d),N.process(d),d.isProcessing=!1,l&&i&&(o=!1,a(E))},T=()=>{l=!0,o=!0,d.isProcessing||a(E)};return{schedule:pl.reduce((k,I)=>{const ee=h[I];return k[I]=(D,Y=!1,J=!1)=>(l||T(),ee.schedule(D,Y,J)),k},{}),cancel:k=>{for(let I=0;I<pl.length;I++)h[pl[I]].cancel(k)},state:d,steps:h}}const{schedule:Ze,cancel:$n,state:vt,steps:wo}=If(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wt,!0);let gl;function V0(){gl=void 0}const Lt={now:()=>(gl===void 0&&Lt.set(vt.isProcessing||Cn.useManualTiming?vt.timestamp:performance.now()),gl),set:a=>{gl=a,queueMicrotask(V0)}},Wf=a=>i=>typeof i=="string"&&i.startsWith(a),No=Wf("--"),B0=Wf("var(--"),_o=a=>B0(a)?H0.test(a.split("/*")[0].trim()):!1,H0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wa={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},as={...Wa,transform:a=>Tn(0,1,a)},yl={...Wa,default:1},is=a=>Math.round(a*1e5)/1e5,To=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q0(a){return a==null}const Y0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Co=(a,i)=>l=>!!(typeof l=="string"&&Y0.test(l)&&l.startsWith(a)||i&&!q0(l)&&Object.prototype.hasOwnProperty.call(l,i)),eh=(a,i,l)=>o=>{if(typeof o!="string")return o;const[d,f,h,y]=o.match(To);return{[a]:parseFloat(d),[i]:parseFloat(f),[l]:parseFloat(h),alpha:y!==void 0?parseFloat(y):1}},G0=a=>Tn(0,255,a),Ao={...Wa,transform:a=>Math.round(G0(a))},_a={test:Co("rgb","red"),parse:eh("red","green","blue"),transform:({red:a,green:i,blue:l,alpha:o=1})=>"rgba("+Ao.transform(a)+", "+Ao.transform(i)+", "+Ao.transform(l)+", "+is(as.transform(o))+")"};function F0(a){let i="",l="",o="",d="";return a.length>5?(i=a.substring(1,3),l=a.substring(3,5),o=a.substring(5,7),d=a.substring(7,9)):(i=a.substring(1,2),l=a.substring(2,3),o=a.substring(3,4),d=a.substring(4,5),i+=i,l+=l,o+=o,d+=d),{red:parseInt(i,16),green:parseInt(l,16),blue:parseInt(o,16),alpha:d?parseInt(d,16)/255:1}}const Eo={test:Co("#"),parse:F0,transform:_a.transform},ss=a=>({test:i=>typeof i=="string"&&i.endsWith(a)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${a}`}),Jn=ss("deg"),vn=ss("%"),je=ss("px"),X0=ss("vh"),K0=ss("vw"),th={...vn,parse:a=>vn.parse(a)/100,transform:a=>vn.transform(a*100)},ei={test:Co("hsl","hue"),parse:eh("hue","saturation","lightness"),transform:({hue:a,saturation:i,lightness:l,alpha:o=1})=>"hsla("+Math.round(a)+", "+vn.transform(is(i))+", "+vn.transform(is(l))+", "+is(as.transform(o))+")"},rt={test:a=>_a.test(a)||Eo.test(a)||ei.test(a),parse:a=>_a.test(a)?_a.parse(a):ei.test(a)?ei.parse(a):Eo.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?_a.transform(a):ei.transform(a),getAnimatableNone:a=>{const i=rt.parse(a);return i.alpha=0,rt.transform(i)}},Q0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z0(a){return isNaN(a)&&typeof a=="string"&&(a.match(To)?.length||0)+(a.match(Q0)?.length||0)>0}const nh="number",ah="color",P0="var",$0="var(",ih="${}",J0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ls(a){const i=a.toString(),l=[],o={color:[],number:[],var:[]},d=[];let f=0;const y=i.replace(J0,m=>(rt.test(m)?(o.color.push(f),d.push(ah),l.push(rt.parse(m))):m.startsWith($0)?(o.var.push(f),d.push(P0),l.push(m)):(o.number.push(f),d.push(nh),l.push(parseFloat(m))),++f,ih)).split(ih);return{values:l,split:y,indexes:o,types:d}}function sh(a){return ls(a).values}function lh(a){const{split:i,types:l}=ls(a),o=i.length;return d=>{let f="";for(let h=0;h<o;h++)if(f+=i[h],d[h]!==void 0){const y=l[h];y===nh?f+=is(d[h]):y===ah?f+=rt.transform(d[h]):f+=d[h]}return f}}const I0=a=>typeof a=="number"?0:rt.test(a)?rt.getAnimatableNone(a):a;function W0(a){const i=sh(a);return lh(a)(i.map(I0))}const In={test:Z0,parse:sh,createTransformer:lh,getAnimatableNone:W0};function Mo(a,i,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?a+(i-a)*6*l:l<1/2?i:l<2/3?a+(i-a)*(2/3-l)*6:a}function e1({hue:a,saturation:i,lightness:l,alpha:o}){a/=360,i/=100,l/=100;let d=0,f=0,h=0;if(!i)d=f=h=l;else{const y=l<.5?l*(1+i):l+i-l*i,m=2*l-y;d=Mo(m,y,a+1/3),f=Mo(m,y,a),h=Mo(m,y,a-1/3)}return{red:Math.round(d*255),green:Math.round(f*255),blue:Math.round(h*255),alpha:o}}function bl(a,i){return l=>l>0?i:a}const We=(a,i,l)=>a+(i-a)*l,Do=(a,i,l)=>{const o=a*a,d=l*(i*i-o)+o;return d<0?0:Math.sqrt(d)},t1=[Eo,_a,ei],n1=a=>t1.find(i=>i.test(a));function rh(a){const i=n1(a);if(!i)return!1;let l=i.parse(a);return i===ei&&(l=e1(l)),l}const oh=(a,i)=>{const l=rh(a),o=rh(i);if(!l||!o)return bl(a,i);const d={...l};return f=>(d.red=Do(l.red,o.red,f),d.green=Do(l.green,o.green,f),d.blue=Do(l.blue,o.blue,f),d.alpha=We(l.alpha,o.alpha,f),_a.transform(d))},ko=new Set(["none","hidden"]);function a1(a,i){return ko.has(a)?l=>l<=0?a:i:l=>l>=1?i:a}function i1(a,i){return l=>We(a,i,l)}function Ro(a){return typeof a=="number"?i1:typeof a=="string"?_o(a)?bl:rt.test(a)?oh:r1:Array.isArray(a)?ch:typeof a=="object"?rt.test(a)?oh:s1:bl}function ch(a,i){const l=[...a],o=l.length,d=a.map((f,h)=>Ro(f)(f,i[h]));return f=>{for(let h=0;h<o;h++)l[h]=d[h](f);return l}}function s1(a,i){const l={...a,...i},o={};for(const d in l)a[d]!==void 0&&i[d]!==void 0&&(o[d]=Ro(a[d])(a[d],i[d]));return d=>{for(const f in o)l[f]=o[f](d);return l}}function l1(a,i){const l=[],o={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const f=i.types[d],h=a.indexes[f][o[f]],y=a.values[h]??0;l[d]=y,o[f]++}return l}const r1=(a,i)=>{const l=In.createTransformer(i),o=ls(a),d=ls(i);return o.indexes.var.length===d.indexes.var.length&&o.indexes.color.length===d.indexes.color.length&&o.indexes.number.length>=d.indexes.number.length?ko.has(a)&&!d.values.length||ko.has(i)&&!o.values.length?a1(a,i):es(ch(l1(o,d),d.values),l):bl(a,i)};function uh(a,i,l){return typeof a=="number"&&typeof i=="number"&&typeof l=="number"?We(a,i,l):Ro(a)(a,i)}const o1=a=>{const i=({timestamp:l})=>a(l);return{start:(l=!0)=>Ze.update(i,l),stop:()=>$n(i),now:()=>vt.isProcessing?vt.timestamp:Lt.now()}},dh=(a,i,l=10)=>{let o="";const d=Math.max(Math.round(i/l),2);for(let f=0;f<d;f++)o+=Math.round(a(f/(d-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},xl=2e4;function zo(a){let i=0;const l=50;let o=a.next(i);for(;!o.done&&i<xl;)i+=l,o=a.next(i);return i>=xl?1/0:i}function c1(a,i=100,l){const o=l({...a,keyframes:[0,i]}),d=Math.min(zo(o),xl);return{type:"keyframes",ease:f=>o.next(d*f).value/i,duration:en(d)}}const u1=5;function fh(a,i,l){const o=Math.max(i-u1,0);return Hf(l-a(o),i-o)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oo=.001;function d1({duration:a=tt.duration,bounce:i=tt.bounce,velocity:l=tt.velocity,mass:o=tt.mass}){let d,f,h=1-i;h=Tn(tt.minDamping,tt.maxDamping,h),a=Tn(tt.minDuration,tt.maxDuration,en(a)),h<1?(d=g=>{const b=g*h,j=b*a,S=b-l,C=Uo(g,h),N=Math.exp(-j);return Oo-S/C*N},f=g=>{const j=g*h*a,S=j*l+l,C=Math.pow(h,2)*Math.pow(g,2)*a,N=Math.exp(-j),E=Uo(Math.pow(g,2),h);return(-d(g)+Oo>0?-1:1)*((S-C)*N)/E}):(d=g=>{const b=Math.exp(-g*a),j=(g-l)*a+1;return-Oo+b*j},f=g=>{const b=Math.exp(-g*a),j=(l-g)*(a*a);return b*j});const y=5/a,m=h1(d,f,y);if(a=xn(a),isNaN(m))return{stiffness:tt.stiffness,damping:tt.damping,duration:a};{const g=Math.pow(m,2)*o;return{stiffness:g,damping:h*2*Math.sqrt(o*g),duration:a}}}const f1=12;function h1(a,i,l){let o=l;for(let d=1;d<f1;d++)o=o-a(o)/i(o);return o}function Uo(a,i){return a*Math.sqrt(1-i*i)}const m1=["duration","bounce"],p1=["stiffness","damping","mass"];function hh(a,i){return i.some(l=>a[l]!==void 0)}function g1(a){let i={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...a};if(!hh(a,p1)&&hh(a,m1))if(a.visualDuration){const l=a.visualDuration,o=2*Math.PI/(l*1.2),d=o*o,f=2*Tn(.05,1,1-(a.bounce||0))*Math.sqrt(d);i={...i,mass:tt.mass,stiffness:d,damping:f}}else{const l=d1(a);i={...i,...l,mass:tt.mass},i.isResolvedFromDuration=!0}return i}function vl(a=tt.visualDuration,i=tt.bounce){const l=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:i}:a;let{restSpeed:o,restDelta:d}=l;const f=l.keyframes[0],h=l.keyframes[l.keyframes.length-1],y={done:!1,value:f},{stiffness:m,damping:g,mass:b,duration:j,velocity:S,isResolvedFromDuration:C}=g1({...l,velocity:-en(l.velocity||0)}),N=S||0,E=g/(2*Math.sqrt(m*b)),T=h-f,z=en(Math.sqrt(m/b)),V=Math.abs(T)<5;o||(o=V?tt.restSpeed.granular:tt.restSpeed.default),d||(d=V?tt.restDelta.granular:tt.restDelta.default);let k;if(E<1){const ee=Uo(z,E);k=D=>{const Y=Math.exp(-E*z*D);return h-Y*((N+E*z*T)/ee*Math.sin(ee*D)+T*Math.cos(ee*D))}}else if(E===1)k=ee=>h-Math.exp(-z*ee)*(T+(N+z*T)*ee);else{const ee=z*Math.sqrt(E*E-1);k=D=>{const Y=Math.exp(-E*z*D),J=Math.min(ee*D,300);return h-Y*((N+E*z*T)*Math.sinh(J)+ee*T*Math.cosh(J))/ee}}const I={calculatedDuration:C&&j||null,next:ee=>{const D=k(ee);if(C)y.done=ee>=j;else{let Y=ee===0?N:0;E<1&&(Y=ee===0?xn(N):fh(k,ee,D));const J=Math.abs(Y)<=o,P=Math.abs(h-D)<=d;y.done=J&&P}return y.value=y.done?h:D,y},toString:()=>{const ee=Math.min(zo(I),xl),D=dh(Y=>I.next(ee*Y).value,ee,30);return ee+"ms "+D},toTransition:()=>{}};return I}vl.applyToOptions=a=>{const i=c1(a,100,vl);return a.ease=i.ease,a.duration=xn(i.duration),a.type="keyframes",a};function Lo({keyframes:a,velocity:i=0,power:l=.8,timeConstant:o=325,bounceDamping:d=10,bounceStiffness:f=500,modifyTarget:h,min:y,max:m,restDelta:g=.5,restSpeed:b}){const j=a[0],S={done:!1,value:j},C=J=>y!==void 0&&J<y||m!==void 0&&J>m,N=J=>y===void 0?m:m===void 0||Math.abs(y-J)<Math.abs(m-J)?y:m;let E=l*i;const T=j+E,z=h===void 0?T:h(T);z!==T&&(E=z-j);const V=J=>-E*Math.exp(-J/o),k=J=>z+V(J),I=J=>{const P=V(J),ne=k(J);S.done=Math.abs(P)<=g,S.value=S.done?z:ne};let ee,D;const Y=J=>{C(S.value)&&(ee=J,D=vl({keyframes:[S.value,N(S.value)],velocity:fh(k,J,S.value),damping:d,stiffness:f,restDelta:g,restSpeed:b}))};return Y(0),{calculatedDuration:null,next:J=>{let P=!1;return!D&&ee===void 0&&(P=!0,I(J),Y(J)),ee!==void 0&&J>=ee?D.next(J-ee):(!P&&I(J),S)}}}function y1(a,i,l){const o=[],d=l||Cn.mix||uh,f=a.length-1;for(let h=0;h<f;h++){let y=d(a[h],a[h+1]);if(i){const m=Array.isArray(i)?i[h]||Wt:i;y=es(m,y)}o.push(y)}return o}function b1(a,i,{clamp:l=!0,ease:o,mixer:d}={}){const f=a.length;if(bo(f===i.length),f===1)return()=>i[0];if(f===2&&i[0]===i[1])return()=>i[1];const h=a[0]===a[1];a[0]>a[f-1]&&(a=[...a].reverse(),i=[...i].reverse());const y=y1(i,o,d),m=y.length,g=b=>{if(h&&b<a[0])return i[0];let j=0;if(m>1)for(;j<a.length-2&&!(b<a[j+1]);j++);const S=ts(a[j],a[j+1],b);return y[j](S)};return l?b=>g(Tn(a[0],a[f-1],b)):g}function x1(a,i){const l=a[a.length-1];for(let o=1;o<=i;o++){const d=ts(0,i,o);a.push(We(l,1,d))}}function v1(a){const i=[0];return x1(i,a.length-1),i}function j1(a,i){return a.map(l=>l*i)}function S1(a,i){return a.map(()=>i||Pf).splice(0,a.length-1)}function rs({duration:a=300,keyframes:i,times:l,ease:o="easeInOut"}){const d=R0(o)?o.map(Jf):Jf(o),f={done:!1,value:i[0]},h=j1(l&&l.length===i.length?l:v1(i),a),y=b1(h,i,{ease:Array.isArray(d)?d:S1(i,d)});return{calculatedDuration:a,next:m=>(f.value=y(m),f.done=m>=a,f)}}const w1=a=>a!==null;function Vo(a,{repeat:i,repeatType:l="loop"},o,d=1){const f=a.filter(w1),y=d<0||i&&l!=="loop"&&i%2===1?0:f.length-1;return!y||o===void 0?f[y]:o}const N1={decay:Lo,inertia:Lo,tween:rs,keyframes:rs,spring:vl};function mh(a){typeof a.type=="string"&&(a.type=N1[a.type])}class Bo{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,l){return this.finished.then(i,l)}}const _1=a=>a/100;class Ho extends Bo{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:l}=this.options;l&&l.updatedAt!==Lt.now()&&this.tick(Lt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;mh(i);const{type:l=rs,repeat:o=0,repeatDelay:d=0,repeatType:f,velocity:h=0}=i;let{keyframes:y}=i;const m=l||rs;m!==rs&&typeof y[0]!="number"&&(this.mixKeyframes=es(_1,uh(y[0],y[1])),y=[0,100]);const g=m({...i,keyframes:y});f==="mirror"&&(this.mirroredGenerator=m({...i,keyframes:[...y].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=zo(g));const{calculatedDuration:b}=g;this.calculatedDuration=b,this.resolvedDuration=b+d,this.totalDuration=this.resolvedDuration*(o+1)-d,this.generator=g}updateTime(i){const l=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(i,l=!1){const{generator:o,totalDuration:d,mixKeyframes:f,mirroredGenerator:h,resolvedDuration:y,calculatedDuration:m}=this;if(this.startTime===null)return o.next(0);const{delay:g=0,keyframes:b,repeat:j,repeatType:S,repeatDelay:C,type:N,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-d/this.speed,this.startTime)),l?this.currentTime=i:this.updateTime(i);const z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?z<0:z>d;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let k=this.currentTime,I=o;if(j){const J=Math.min(this.currentTime,d)/y;let P=Math.floor(J),ne=J%1;!ne&&J>=1&&(ne=1),ne===1&&P--,P=Math.min(P,j+1),!!(P%2)&&(S==="reverse"?(ne=1-ne,C&&(ne-=C/y)):S==="mirror"&&(I=h)),k=Tn(0,1,ne)*y}const ee=V?{done:!1,value:b[0]}:I.next(k);f&&(ee.value=f(ee.value));let{done:D}=ee;!V&&m!==null&&(D=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return Y&&N!==Lo&&(ee.value=Vo(b,this.options,T,this.speed)),E&&E(ee.value),Y&&this.finish(),ee}then(i,l){return this.finished.then(i,l)}get duration(){return en(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+en(i)}get time(){return en(this.currentTime)}set time(i){i=xn(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Lt.now());const l=this.playbackSpeed!==i;this.playbackSpeed=i,l&&(this.time=en(this.currentTime))}play(){if(this.isStopped)return;const{driver:i=o1,startTime:l}=this.options;this.driver||(this.driver=i(d=>this.tick(d))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=l??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),i.observe(this)}}function T1(a){for(let i=1;i<a.length;i++)a[i]??(a[i]=a[i-1])}const Ta=a=>a*180/Math.PI,qo=a=>{const i=Ta(Math.atan2(a[1],a[0]));return Yo(i)},C1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:qo,rotateZ:qo,skewX:a=>Ta(Math.atan(a[1])),skewY:a=>Ta(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Yo=a=>(a=a%360,a<0&&(a+=360),a),ph=qo,gh=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),yh=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),A1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gh,scaleY:yh,scale:a=>(gh(a)+yh(a))/2,rotateX:a=>Yo(Ta(Math.atan2(a[6],a[5]))),rotateY:a=>Yo(Ta(Math.atan2(-a[2],a[0]))),rotateZ:ph,rotate:ph,skewX:a=>Ta(Math.atan(a[4])),skewY:a=>Ta(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Go(a){return a.includes("scale")?1:0}function Fo(a,i){if(!a||a==="none")return Go(i);const l=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,d;if(l)o=A1,d=l;else{const y=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=C1,d=y}if(!d)return Go(i);const f=o[i],h=d[1].split(",").map(M1);return typeof f=="function"?f(h):h[f]}const E1=(a,i)=>{const{transform:l="none"}=getComputedStyle(a);return Fo(l,i)};function M1(a){return parseFloat(a.trim())}const ti=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ni=new Set(ti),bh=a=>a===Wa||a===je,D1=new Set(["x","y","z"]),k1=ti.filter(a=>!D1.has(a));function R1(a){const i=[];return k1.forEach(l=>{const o=a.getValue(l);o!==void 0&&(i.push([l,o.get()]),o.set(l.startsWith("scale")?1:0))}),i}const Ca={width:({x:a},{paddingLeft:i="0",paddingRight:l="0"})=>a.max-a.min-parseFloat(i)-parseFloat(l),height:({y:a},{paddingTop:i="0",paddingBottom:l="0"})=>a.max-a.min-parseFloat(i)-parseFloat(l),top:(a,{top:i})=>parseFloat(i),left:(a,{left:i})=>parseFloat(i),bottom:({y:a},{top:i})=>parseFloat(i)+(a.max-a.min),right:({x:a},{left:i})=>parseFloat(i)+(a.max-a.min),x:(a,{transform:i})=>Fo(i,"x"),y:(a,{transform:i})=>Fo(i,"y")};Ca.translateX=Ca.x,Ca.translateY=Ca.y;const Aa=new Set;let Xo=!1,Ko=!1,Qo=!1;function xh(){if(Ko){const a=Array.from(Aa).filter(o=>o.needsMeasurement),i=new Set(a.map(o=>o.element)),l=new Map;i.forEach(o=>{const d=R1(o);d.length&&(l.set(o,d),o.render())}),a.forEach(o=>o.measureInitialState()),i.forEach(o=>{o.render();const d=l.get(o);d&&d.forEach(([f,h])=>{o.getValue(f)?.set(h)})}),a.forEach(o=>o.measureEndState()),a.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Ko=!1,Xo=!1,Aa.forEach(a=>a.complete(Qo)),Aa.clear()}function vh(){Aa.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Ko=!0)})}function z1(){Qo=!0,vh(),xh(),Qo=!1}class Zo{constructor(i,l,o,d,f,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=l,this.name=o,this.motionValue=d,this.element=f,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),Xo||(Xo=!0,Ze.read(vh),Ze.resolveKeyframes(xh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:l,element:o,motionValue:d}=this;if(i[0]===null){const f=d?.get(),h=i[i.length-1];if(f!==void 0)i[0]=f;else if(o&&l){const y=o.readValue(l,h);y!=null&&(i[0]=y)}i[0]===void 0&&(i[0]=h),d&&f===void 0&&d.set(i[0])}T1(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const O1=a=>a.startsWith("--");function U1(a,i,l){O1(i)?a.style.setProperty(i,l):a.style[i]=l}const L1=xo(()=>window.ScrollTimeline!==void 0),V1={};function B1(a,i){const l=xo(a);return()=>V1[i]??l()}const jh=B1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),os=([a,i,l,o])=>`cubic-bezier(${a}, ${i}, ${l}, ${o})`,Sh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:os([0,.65,.55,1]),circOut:os([.55,0,1,.45]),backIn:os([.31,.01,.66,-.59]),backOut:os([.33,1.53,.69,.99])};function wh(a,i){if(a)return typeof a=="function"?jh()?dh(a,i):"ease-out":$f(a)?os(a):Array.isArray(a)?a.map(l=>wh(l,i)||Sh.easeOut):Sh[a]}function H1(a,i,l,{delay:o=0,duration:d=300,repeat:f=0,repeatType:h="loop",ease:y="easeOut",times:m}={},g=void 0){const b={[i]:l};m&&(b.offset=m);const j=wh(y,d);Array.isArray(j)&&(b.easing=j);const S={delay:o,duration:d,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:f+1,direction:h==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),a.animate(b,S)}function Nh(a){return typeof a=="function"&&"applyToOptions"in a}function q1({type:a,...i}){return Nh(a)&&jh()?a.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class Y1 extends Bo{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:l,name:o,keyframes:d,pseudoElement:f,allowFlatten:h=!1,finalKeyframe:y,onComplete:m}=i;this.isPseudoElement=!!f,this.allowFlatten=h,this.options=i,bo(typeof i.type!="string");const g=q1(i);this.animation=H1(l,o,d,g,f),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!f){const b=Vo(d,this.options,y,this.speed);this.updateMotionValue?this.updateMotionValue(b):U1(l,o,b),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const i=this.animation.effect?.getComputedTiming?.().duration||0;return en(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+en(i)}get time(){return en(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=xn(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:l}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,i&&L1()?(this.animation.timeline=i,Wt):l(this)}}const _h={anticipate:Kf,backInOut:Xf,circInOut:Zf};function G1(a){return a in _h}function F1(a){typeof a.ease=="string"&&G1(a.ease)&&(a.ease=_h[a.ease])}const Th=10;class X1 extends Y1{constructor(i){F1(i),mh(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:l,onUpdate:o,onComplete:d,element:f,...h}=this.options;if(!l)return;if(i!==void 0){l.set(i);return}const y=new Ho({...h,autoplay:!1}),m=xn(this.finishedTime??this.time);l.setWithVelocity(y.sample(m-Th).value,y.sample(m).value,Th),y.stop()}}const Ch=(a,i)=>i==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(In.test(a)||a==="0")&&!a.startsWith("url("));function K1(a){const i=a[0];if(a.length===1)return!0;for(let l=0;l<a.length;l++)if(a[l]!==i)return!0}function Q1(a,i,l,o){const d=a[0];if(d===null)return!1;if(i==="display"||i==="visibility")return!0;const f=a[a.length-1],h=Ch(d,i),y=Ch(f,i);return!h||!y?!1:K1(a)||(l==="spring"||Nh(l))&&o}function Po(a){a.duration=0,a.type="keyframes"}const Z1=new Set(["opacity","clipPath","filter","transform"]),P1=xo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $1(a){const{motionValue:i,name:l,repeatDelay:o,repeatType:d,damping:f,type:h}=a;if(!(i?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=i.owner.getProps();return P1()&&l&&Z1.has(l)&&(l!=="transform"||!g)&&!m&&!o&&d!=="mirror"&&f!==0&&h!=="inertia"}const J1=40;class I1 extends Bo{constructor({autoplay:i=!0,delay:l=0,type:o="keyframes",repeat:d=0,repeatDelay:f=0,repeatType:h="loop",keyframes:y,name:m,motionValue:g,element:b,...j}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Lt.now();const S={autoplay:i,delay:l,type:o,repeat:d,repeatDelay:f,repeatType:h,name:m,motionValue:g,element:b,...j},C=b?.KeyframeResolver||Zo;this.keyframeResolver=new C(y,(N,E,T)=>this.onKeyframesResolved(N,E,S,!T),m,g,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(i,l,o,d){this.keyframeResolver=void 0;const{name:f,type:h,velocity:y,delay:m,isHandoff:g,onUpdate:b}=o;this.resolvedAt=Lt.now(),Q1(i,f,h,y)||((Cn.instantAnimations||!m)&&b?.(Vo(i,o,l)),i[0]=i[i.length-1],Po(o),o.repeat=0);const S={startTime:d?this.resolvedAt?this.resolvedAt-this.createdAt>J1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...o,keyframes:i},C=!g&&$1(S)?new X1({...S,element:S.motionValue.owner.current}):new Ho(S);C.finished.then(()=>this.notifyFinished()).catch(Wt),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(i,l){return this.finished.finally(i).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),z1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const W1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ej(a){const i=W1.exec(a);if(!i)return[,];const[,l,o,d]=i;return[`--${l??o}`,d]}function Ah(a,i,l=1){const[o,d]=ej(a);if(!o)return;const f=window.getComputedStyle(i).getPropertyValue(o);if(f){const h=f.trim();return Lf(h)?parseFloat(h):h}return _o(d)?Ah(d,i,l+1):d}function $o(a,i){return a?.[i]??a?.default??a}const Eh=new Set(["width","height","top","left","right","bottom",...ti]),tj={test:a=>a==="auto",parse:a=>a},Mh=a=>i=>i.test(a),Dh=[Wa,je,vn,Jn,K0,X0,tj],kh=a=>Dh.find(Mh(a));function nj(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Bf(a):!0}const aj=new Set(["brightness","contrast","saturate","opacity"]);function ij(a){const[i,l]=a.slice(0,-1).split("(");if(i==="drop-shadow")return a;const[o]=l.match(To)||[];if(!o)return a;const d=l.replace(o,"");let f=aj.has(i)?1:0;return o!==l&&(f*=100),i+"("+f+d+")"}const sj=/\b([a-z-]*)\(.*?\)/gu,Jo={...In,getAnimatableNone:a=>{const i=a.match(sj);return i?i.map(ij).join(" "):a}},Rh={...Wa,transform:Math.round},Io={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...{rotate:Jn,rotateX:Jn,rotateY:Jn,rotateZ:Jn,scale:yl,scaleX:yl,scaleY:yl,scaleZ:yl,skew:Jn,skewX:Jn,skewY:Jn,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:as,originX:th,originY:th,originZ:je},zIndex:Rh,fillOpacity:as,strokeOpacity:as,numOctaves:Rh},lj={...Io,color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:Jo,WebkitFilter:Jo},zh=a=>lj[a];function Oh(a,i){let l=zh(a);return l!==Jo&&(l=In),l.getAnimatableNone?l.getAnimatableNone(i):void 0}const rj=new Set(["auto","none","0"]);function oj(a,i,l){let o=0,d;for(;o<a.length&&!d;){const f=a[o];typeof f=="string"&&!rj.has(f)&&ls(f).values.length&&(d=a[o]),o++}if(d&&l)for(const f of i)a[f]=Oh(l,d)}class cj extends Zo{constructor(i,l,o,d,f){super(i,l,o,d,f,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:l,name:o}=this;if(!l||!l.current)return;super.readKeyframes();for(let m=0;m<i.length;m++){let g=i[m];if(typeof g=="string"&&(g=g.trim(),_o(g))){const b=Ah(g,l.current);b!==void 0&&(i[m]=b),m===i.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Eh.has(o)||i.length!==2)return;const[d,f]=i,h=kh(d),y=kh(f);if(h!==y)if(bh(h)&&bh(y))for(let m=0;m<i.length;m++){const g=i[m];typeof g=="string"&&(i[m]=parseFloat(g))}else Ca[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:l}=this,o=[];for(let d=0;d<i.length;d++)(i[d]===null||nj(i[d]))&&o.push(d);o.length&&oj(i,o,l)}measureInitialState(){const{element:i,unresolvedKeyframes:l,name:o}=this;if(!i||!i.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[o](i.measureViewportBox(),window.getComputedStyle(i.current)),l[0]=this.measuredOrigin;const d=l[l.length-1];d!==void 0&&i.getValue(o,d).jump(d,!1)}measureEndState(){const{element:i,name:l,unresolvedKeyframes:o}=this;if(!i||!i.current)return;const d=i.getValue(l);d&&d.jump(this.measuredOrigin,!1);const f=o.length-1,h=o[f];o[f]=Ca[l](i.measureViewportBox(),window.getComputedStyle(i.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([y,m])=>{i.getValue(y).set(m)}),this.resolveNoneKeyframes()}}function uj(a,i,l){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let o=document;const d=l?.[a]??o.querySelectorAll(a);return d?Array.from(d):[]}return Array.from(a)}const Uh=(a,i)=>i&&typeof a=="number"?i.transform(a):a;function Lh(a){return Vf(a)&&"offsetHeight"in a}const Vh=30,dj=a=>!isNaN(parseFloat(a));class fj{constructor(i,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const d=Lt.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=l.owner}setCurrent(i){this.current=i,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=dj(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,l){this.events[i]||(this.events[i]=new vo);const o=this.events[i].add(l);return i==="change"?()=>{o(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,l){this.passiveEffect=i,this.stopPassiveEffect=l}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,l,o){this.set(l),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-o}jump(i,l=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>Vh)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,Vh);return Hf(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(i){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=i(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ai(a,i){return new fj(a,i)}const{schedule:Wo}=If(queueMicrotask,!1),mn={x:!1,y:!1};function Bh(){return mn.x||mn.y}function hj(a){return a==="x"||a==="y"?mn[a]?null:(mn[a]=!0,()=>{mn[a]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}function Hh(a,i){const l=uj(a),o=new AbortController,d={passive:!0,...i,signal:o.signal};return[l,d,()=>o.abort()]}function qh(a){return!(a.pointerType==="touch"||Bh())}function mj(a,i,l={}){const[o,d,f]=Hh(a,l),h=y=>{if(!qh(y))return;const{target:m}=y,g=i(m,y);if(typeof g!="function"||!m)return;const b=j=>{qh(j)&&(g(j),m.removeEventListener("pointerleave",b))};m.addEventListener("pointerleave",b,d)};return o.forEach(y=>{y.addEventListener("pointerenter",h,d)}),f}const Yh=(a,i)=>i?a===i?!0:Yh(a,i.parentElement):!1,ec=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,pj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gj(a){return pj.has(a.tagName)||a.tabIndex!==-1}const jl=new WeakSet;function Gh(a){return i=>{i.key==="Enter"&&a(i)}}function tc(a,i){a.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const yj=(a,i)=>{const l=a.currentTarget;if(!l)return;const o=Gh(()=>{if(jl.has(l))return;tc(l,"down");const d=Gh(()=>{tc(l,"up")}),f=()=>tc(l,"cancel");l.addEventListener("keyup",d,i),l.addEventListener("blur",f,i)});l.addEventListener("keydown",o,i),l.addEventListener("blur",()=>l.removeEventListener("keydown",o),i)};function Fh(a){return ec(a)&&!Bh()}function bj(a,i,l={}){const[o,d,f]=Hh(a,l),h=y=>{const m=y.currentTarget;if(!Fh(y))return;jl.add(m);const g=i(m,y),b=(C,N)=>{window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",S),jl.has(m)&&jl.delete(m),Fh(C)&&typeof g=="function"&&g(C,{success:N})},j=C=>{b(C,m===window||m===document||l.useGlobalTarget||Yh(m,C.target))},S=C=>{b(C,!1)};window.addEventListener("pointerup",j,d),window.addEventListener("pointercancel",S,d)};return o.forEach(y=>{(l.useGlobalTarget?window:y).addEventListener("pointerdown",h,d),Lh(y)&&(y.addEventListener("focus",g=>yj(g,d)),!gj(y)&&!y.hasAttribute("tabindex")&&(y.tabIndex=0))}),f}function Xh(a){return Vf(a)&&"ownerSVGElement"in a}function xj(a){return Xh(a)&&a.tagName==="svg"}const Et=a=>!!(a&&a.getVelocity),vj=[...Dh,rt,In],jj=a=>vj.find(Mh(a)),nc=w.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function Kh(a,i){if(typeof a=="function")return a(i);a!=null&&(a.current=i)}function Sj(...a){return i=>{let l=!1;const o=a.map(d=>{const f=Kh(d,i);return!l&&typeof f=="function"&&(l=!0),f});if(l)return()=>{for(let d=0;d<o.length;d++){const f=o[d];typeof f=="function"?f():Kh(a[d],null)}}}}function wj(...a){return w.useCallback(Sj(...a),a)}class Nj extends w.Component{getSnapshotBeforeUpdate(i){const l=this.props.childRef.current;if(l&&i.isPresent&&!this.props.isPresent){const o=l.offsetParent,d=Lh(o)&&o.offsetWidth||0,f=this.props.sizeRef.current;f.height=l.offsetHeight||0,f.width=l.offsetWidth||0,f.top=l.offsetTop,f.left=l.offsetLeft,f.right=d-f.width-f.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _j({children:a,isPresent:i,anchorX:l,root:o}){const d=w.useId(),f=w.useRef(null),h=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=w.useContext(nc),m=wj(f,a?.ref);return w.useInsertionEffect(()=>{const{width:g,height:b,top:j,left:S,right:C}=h.current;if(i||!f.current||!g||!b)return;const N=l==="left"?`left: ${S}`:`right: ${C}`;f.current.dataset.motionPopId=d;const E=document.createElement("style");y&&(E.nonce=y);const T=o??document.head;return T.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${N}px !important;
            top: ${j}px !important;
          }
        `),()=>{T.contains(E)&&T.removeChild(E)}},[i]),r.jsx(Nj,{isPresent:i,childRef:f,sizeRef:h,children:w.cloneElement(a,{ref:m})})}const Tj=({children:a,initial:i,isPresent:l,onExitComplete:o,custom:d,presenceAffectsLayout:f,mode:h,anchorX:y,root:m})=>{const g=mo(Cj),b=w.useId();let j=!0,S=w.useMemo(()=>(j=!1,{id:b,initial:i,isPresent:l,custom:d,onExitComplete:C=>{g.set(C,!0);for(const N of g.values())if(!N)return;o&&o()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[l,g,o]);return f&&j&&(S={...S}),w.useMemo(()=>{g.forEach((C,N)=>g.set(N,!1))},[l]),w.useEffect(()=>{!l&&!g.size&&o&&o()},[l]),h==="popLayout"&&(a=r.jsx(_j,{isPresent:l,anchorX:y,root:m,children:a})),r.jsx(ml.Provider,{value:S,children:a})};function Cj(){return new Map}function Qh(a=!0){const i=w.useContext(ml);if(i===null)return[!0,null];const{isPresent:l,onExitComplete:o,register:d}=i,f=w.useId();w.useEffect(()=>{if(a)return d(f)},[a]);const h=w.useCallback(()=>a&&o&&o(f),[f,o,a]);return!l&&o?[!1,h]:[!0]}const Sl=a=>a.key||"";function Zh(a){const i=[];return w.Children.forEach(a,l=>{w.isValidElement(l)&&i.push(l)}),i}const Aj=({children:a,custom:i,initial:l=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:f="sync",propagate:h=!1,anchorX:y="left",root:m})=>{const[g,b]=Qh(h),j=w.useMemo(()=>Zh(a),[a]),S=h&&!g?[]:j.map(Sl),C=w.useRef(!0),N=w.useRef(j),E=mo(()=>new Map),[T,z]=w.useState(j),[V,k]=w.useState(j);Uf(()=>{C.current=!1,N.current=j;for(let D=0;D<V.length;D++){const Y=Sl(V[D]);S.includes(Y)?E.delete(Y):E.get(Y)!==!0&&E.set(Y,!1)}},[V,S.length,S.join("-")]);const I=[];if(j!==T){let D=[...j];for(let Y=0;Y<V.length;Y++){const J=V[Y],P=Sl(J);S.includes(P)||(D.splice(Y,0,J),I.push(J))}return f==="wait"&&I.length&&(D=I),k(Zh(D)),z(j),null}const{forceRender:ee}=w.useContext(ho);return r.jsx(r.Fragment,{children:V.map(D=>{const Y=Sl(D),J=h&&!g?!1:j===V||S.includes(Y),P=()=>{if(E.has(Y))E.set(Y,!0);else return;let ne=!0;E.forEach(re=>{re||(ne=!1)}),ne&&(ee?.(),k(N.current),h&&b?.(),o&&o())};return r.jsx(Tj,{isPresent:J,initial:!C.current||l?void 0:!1,custom:i,presenceAffectsLayout:d,mode:f,root:m,onExitComplete:J?void 0:P,anchorX:y,children:D},Y)})})},Ph=w.createContext({strict:!1}),$h={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ii={};for(const a in $h)ii[a]={isEnabled:i=>$h[a].some(l=>!!i[l])};function Ej(a){for(const i in a)ii[i]={...ii[i],...a[i]}}const Mj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wl(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||Mj.has(a)}let Jh=a=>!wl(a);function Dj(a){typeof a=="function"&&(Jh=i=>i.startsWith("on")?!wl(i):a(i))}try{Dj(require("@emotion/is-prop-valid").default)}catch{}function kj(a,i,l){const o={};for(const d in a)d==="values"&&typeof a.values=="object"||(Jh(d)||l===!0&&wl(d)||!i&&!wl(d)||a.draggable&&d.startsWith("onDrag"))&&(o[d]=a[d]);return o}const Nl=w.createContext({});function _l(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function cs(a){return typeof a=="string"||Array.isArray(a)}const ac=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ic=["initial",...ac];function Tl(a){return _l(a.animate)||ic.some(i=>cs(a[i]))}function Ih(a){return!!(Tl(a)||a.variants)}function Rj(a,i){if(Tl(a)){const{initial:l,animate:o}=a;return{initial:l===!1||cs(l)?l:void 0,animate:cs(o)?o:void 0}}return a.inherit!==!1?i:{}}function zj(a){const{initial:i,animate:l}=Rj(a,w.useContext(Nl));return w.useMemo(()=>({initial:i,animate:l}),[Wh(i),Wh(l)])}function Wh(a){return Array.isArray(a)?a.join(" "):a}const us={};function Oj(a){for(const i in a)us[i]=a[i],No(i)&&(us[i].isCSSVariable=!0)}function em(a,{layout:i,layoutId:l}){return ni.has(a)||a.startsWith("origin")||(i||l!==void 0)&&(!!us[a]||a==="opacity")}const Uj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lj=ti.length;function Vj(a,i,l){let o="",d=!0;for(let f=0;f<Lj;f++){const h=ti[f],y=a[h];if(y===void 0)continue;let m=!0;if(typeof y=="number"?m=y===(h.startsWith("scale")?1:0):m=parseFloat(y)===0,!m||l){const g=Uh(y,Io[h]);if(!m){d=!1;const b=Uj[h]||h;o+=`${b}(${g}) `}l&&(i[h]=g)}}return o=o.trim(),l?o=l(i,d?"":o):d&&(o="none"),o}function sc(a,i,l){const{style:o,vars:d,transformOrigin:f}=a;let h=!1,y=!1;for(const m in i){const g=i[m];if(ni.has(m)){h=!0;continue}else if(No(m)){d[m]=g;continue}else{const b=Uh(g,Io[m]);m.startsWith("origin")?(y=!0,f[m]=b):o[m]=b}}if(i.transform||(h||l?o.transform=Vj(i,a.transform,l):o.transform&&(o.transform="none")),y){const{originX:m="50%",originY:g="50%",originZ:b=0}=f;o.transformOrigin=`${m} ${g} ${b}`}}const lc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tm(a,i,l){for(const o in i)!Et(i[o])&&!em(o,l)&&(a[o]=i[o])}function Bj({transformTemplate:a},i){return w.useMemo(()=>{const l=lc();return sc(l,i,a),Object.assign({},l.vars,l.style)},[i])}function Hj(a,i){const l=a.style||{},o={};return tm(o,l,a),Object.assign(o,Bj(a,i)),o}function qj(a,i){const l={},o=Hj(a,i);return a.drag&&a.dragListener!==!1&&(l.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(l.tabIndex=0),l.style=o,l}const Yj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gj={offset:"strokeDashoffset",array:"strokeDasharray"};function Fj(a,i,l=1,o=0,d=!0){a.pathLength=1;const f=d?Yj:Gj;a[f.offset]=je.transform(-o);const h=je.transform(i),y=je.transform(l);a[f.array]=`${h} ${y}`}function nm(a,{attrX:i,attrY:l,attrScale:o,pathLength:d,pathSpacing:f=1,pathOffset:h=0,...y},m,g,b){if(sc(a,y,g),m){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:j,style:S}=a;j.transform&&(S.transform=j.transform,delete j.transform),(S.transform||j.transformOrigin)&&(S.transformOrigin=j.transformOrigin??"50% 50%",delete j.transformOrigin),S.transform&&(S.transformBox=b?.transformBox??"fill-box",delete j.transformBox),i!==void 0&&(j.x=i),l!==void 0&&(j.y=l),o!==void 0&&(j.scale=o),d!==void 0&&Fj(j,d,f,h,!1)}const am=()=>({...lc(),attrs:{}}),im=a=>typeof a=="string"&&a.toLowerCase()==="svg";function Xj(a,i,l,o){const d=w.useMemo(()=>{const f=am();return nm(f,i,im(o),a.transformTemplate,a.style),{...f.attrs,style:{...f.style}}},[i]);if(a.style){const f={};tm(f,a.style,a),d.style={...f,...d.style}}return d}const Kj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rc(a){return typeof a!="string"||a.includes("-")?!1:!!(Kj.indexOf(a)>-1||/[A-Z]/u.test(a))}function Qj(a,i,l,{latestValues:o},d,f=!1){const y=(rc(a)?Xj:qj)(i,o,d,a),m=kj(i,typeof a=="string",f),g=a!==w.Fragment?{...m,...y,ref:l}:{},{children:b}=i,j=w.useMemo(()=>Et(b)?b.get():b,[b]);return w.createElement(a,{...g,children:j})}function sm(a){const i=[{},{}];return a?.values.forEach((l,o)=>{i[0][o]=l.get(),i[1][o]=l.getVelocity()}),i}function oc(a,i,l,o){if(typeof i=="function"){const[d,f]=sm(o);i=i(l!==void 0?l:a.custom,d,f)}if(typeof i=="string"&&(i=a.variants&&a.variants[i]),typeof i=="function"){const[d,f]=sm(o);i=i(l!==void 0?l:a.custom,d,f)}return i}function Cl(a){return Et(a)?a.get():a}function Zj({scrapeMotionValuesFromProps:a,createRenderState:i},l,o,d){return{latestValues:Pj(l,o,d,a),renderState:i()}}function Pj(a,i,l,o){const d={},f=o(a,{});for(const S in f)d[S]=Cl(f[S]);let{initial:h,animate:y}=a;const m=Tl(a),g=Ih(a);i&&g&&!m&&a.inherit!==!1&&(h===void 0&&(h=i.initial),y===void 0&&(y=i.animate));let b=l?l.initial===!1:!1;b=b||h===!1;const j=b?y:h;if(j&&typeof j!="boolean"&&!_l(j)){const S=Array.isArray(j)?j:[j];for(let C=0;C<S.length;C++){const N=oc(a,S[C]);if(N){const{transitionEnd:E,transition:T,...z}=N;for(const V in z){let k=z[V];if(Array.isArray(k)){const I=b?k.length-1:0;k=k[I]}k!==null&&(d[V]=k)}for(const V in E)d[V]=E[V]}}}return d}const lm=a=>(i,l)=>{const o=w.useContext(Nl),d=w.useContext(ml),f=()=>Zj(a,i,o,d);return l?f():mo(f)};function cc(a,i,l){const{style:o}=a,d={};for(const f in o)(Et(o[f])||i.style&&Et(i.style[f])||em(f,a)||l?.getValue(f)?.liveStyle!==void 0)&&(d[f]=o[f]);return d}const $j=lm({scrapeMotionValuesFromProps:cc,createRenderState:lc});function rm(a,i,l){const o=cc(a,i,l);for(const d in a)if(Et(a[d])||Et(i[d])){const f=ti.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;o[f]=a[d]}return o}const Jj=lm({scrapeMotionValuesFromProps:rm,createRenderState:am}),Ij=Symbol.for("motionComponentSymbol");function si(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function Wj(a,i,l){return w.useCallback(o=>{o&&a.onMount&&a.onMount(o),i&&(o?i.mount(o):i.unmount()),l&&(typeof l=="function"?l(o):si(l)&&(l.current=o))},[i])}const uc=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),om="data-"+uc("framerAppearId"),cm=w.createContext({});function eS(a,i,l,o,d){const{visualElement:f}=w.useContext(Nl),h=w.useContext(Ph),y=w.useContext(ml),m=w.useContext(nc).reducedMotion,g=w.useRef(null);o=o||h.renderer,!g.current&&o&&(g.current=o(a,{visualState:i,parent:f,props:l,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:m}));const b=g.current,j=w.useContext(cm);b&&!b.projection&&d&&(b.type==="html"||b.type==="svg")&&tS(g.current,l,d,j);const S=w.useRef(!1);w.useInsertionEffect(()=>{b&&S.current&&b.update(l,y)});const C=l[om],N=w.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return Uf(()=>{b&&(S.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),N.current&&b.animationState&&b.animationState.animateChanges())}),w.useEffect(()=>{b&&(!N.current&&b.animationState&&b.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),N.current=!1),b.enteringChildren=void 0)}),b}function tS(a,i,l,o){const{layoutId:d,layout:f,drag:h,dragConstraints:y,layoutScroll:m,layoutRoot:g,layoutCrossfade:b}=i;a.projection=new l(a.latestValues,i["data-framer-portal-id"]?void 0:um(a.parent)),a.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!h||y&&si(y),visualElement:a,animationType:typeof f=="string"?f:"both",initialPromotionConfig:o,crossfade:b,layoutScroll:m,layoutRoot:g})}function um(a){if(a)return a.options.allowProjection!==!1?a.projection:um(a.parent)}function dc(a,{forwardMotionProps:i=!1}={},l,o){l&&Ej(l);const d=rc(a)?Jj:$j;function f(y,m){let g;const b={...w.useContext(nc),...y,layoutId:nS(y)},{isStatic:j}=b,S=zj(y),C=d(y,j);if(!j&&po){aS();const N=iS(b);g=N.MeasureLayout,S.visualElement=eS(a,C,b,o,N.ProjectionNode)}return r.jsxs(Nl.Provider,{value:S,children:[g&&S.visualElement?r.jsx(g,{visualElement:S.visualElement,...b}):null,Qj(a,y,Wj(C,S.visualElement,m),C,j,i)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const h=w.forwardRef(f);return h[Ij]=a,h}function nS({layoutId:a}){const i=w.useContext(ho).id;return i&&a!==void 0?i+"-"+a:a}function aS(a,i){w.useContext(Ph).strict}function iS(a){const{drag:i,layout:l}=ii;if(!i&&!l)return{};const o={...i,...l};return{MeasureLayout:i?.isEnabled(a)||l?.isEnabled(a)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function sS(a,i){if(typeof Proxy>"u")return dc;const l=new Map,o=(f,h)=>dc(f,h,a,i),d=(f,h)=>o(f,h);return new Proxy(d,{get:(f,h)=>h==="create"?o:(l.has(h)||l.set(h,dc(h,void 0,a,i)),l.get(h))})}function dm({top:a,left:i,right:l,bottom:o}){return{x:{min:i,max:l},y:{min:a,max:o}}}function lS({x:a,y:i}){return{top:i.min,right:a.max,bottom:i.max,left:a.min}}function rS(a,i){if(!i)return a;const l=i({x:a.left,y:a.top}),o=i({x:a.right,y:a.bottom});return{top:l.y,left:l.x,bottom:o.y,right:o.x}}function fc(a){return a===void 0||a===1}function hc({scale:a,scaleX:i,scaleY:l}){return!fc(a)||!fc(i)||!fc(l)}function Ea(a){return hc(a)||fm(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function fm(a){return hm(a.x)||hm(a.y)}function hm(a){return a&&a!=="0%"}function Al(a,i,l){const o=a-l,d=i*o;return l+d}function mm(a,i,l,o,d){return d!==void 0&&(a=Al(a,d,o)),Al(a,l,o)+i}function mc(a,i=0,l=1,o,d){a.min=mm(a.min,i,l,o,d),a.max=mm(a.max,i,l,o,d)}function pm(a,{x:i,y:l}){mc(a.x,i.translate,i.scale,i.originPoint),mc(a.y,l.translate,l.scale,l.originPoint)}const gm=.999999999999,ym=1.0000000000001;function oS(a,i,l,o=!1){const d=l.length;if(!d)return;i.x=i.y=1;let f,h;for(let y=0;y<d;y++){f=l[y],h=f.projectionDelta;const{visualElement:m}=f.options;m&&m.props.style&&m.props.style.display==="contents"||(o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ri(a,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),h&&(i.x*=h.x.scale,i.y*=h.y.scale,pm(a,h)),o&&Ea(f.latestValues)&&ri(a,f.latestValues))}i.x<ym&&i.x>gm&&(i.x=1),i.y<ym&&i.y>gm&&(i.y=1)}function li(a,i){a.min=a.min+i,a.max=a.max+i}function bm(a,i,l,o,d=.5){const f=We(a.min,a.max,d);mc(a,i,l,f,o)}function ri(a,i){bm(a.x,i.x,i.scaleX,i.scale,i.originX),bm(a.y,i.y,i.scaleY,i.scale,i.originY)}function xm(a,i){return dm(rS(a.getBoundingClientRect(),i))}function cS(a,i,l){const o=xm(a,l),{scroll:d}=i;return d&&(li(o.x,d.offset.x),li(o.y,d.offset.y)),o}const vm=()=>({translate:0,scale:1,origin:0,originPoint:0}),oi=()=>({x:vm(),y:vm()}),jm=()=>({min:0,max:0}),it=()=>({x:jm(),y:jm()}),pc={current:null},Sm={current:!1};function uS(){if(Sm.current=!0,!!po)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),i=()=>pc.current=a.matches;a.addEventListener("change",i),i()}else pc.current=!1}const dS=new WeakMap;function fS(a,i,l){for(const o in i){const d=i[o],f=l[o];if(Et(d))a.addValue(o,d);else if(Et(f))a.addValue(o,ai(d,{owner:a}));else if(f!==d)if(a.hasValue(o)){const h=a.getValue(o);h.liveStyle===!0?h.jump(d):h.hasAnimated||h.set(d)}else{const h=a.getStaticValue(o);a.addValue(o,ai(h!==void 0?h:d,{owner:a}))}}for(const o in l)i[o]===void 0&&a.removeValue(o);return i}const wm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hS{scrapeMotionValuesFromProps(i,l,o){return{}}constructor({parent:i,props:l,presenceContext:o,reducedMotionConfig:d,blockInitialAnimation:f,visualState:h},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zo,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Lt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Ze.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=l.initial?{...m}:{},this.renderState=g,this.parent=i,this.props=l,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=d,this.options=y,this.blockInitialAnimation=!!f,this.isControllingVariants=Tl(l),this.isVariantNode=Ih(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:b,...j}=this.scrapeMotionValuesFromProps(l,{},this);for(const S in j){const C=j[S];m[S]!==void 0&&Et(C)&&C.set(m[S])}}mount(i){this.current=i,dS.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,o)=>this.bindToMotionValue(o,l)),Sm.current||uS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pc.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const l=this.features[i];l&&(l.unmount(),l.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,l){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const o=ni.has(i);o&&this.onBindTransform&&this.onBindTransform();const d=l.on("change",h=>{this.latestValues[i]=h,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,i,l)),this.valueSubscriptions.set(i,()=>{d(),f&&f(),l.owner&&l.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in ii){const l=ii[i];if(!l)continue;const{isEnabled:o,Feature:d}=l;if(!this.features[i]&&d&&o(this.props)&&(this.features[i]=new d(this)),this.features[i]){const f=this.features[i];f.isMounted?f.update():(f.mount(),f.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,l){this.latestValues[i]=l}update(i,l){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let o=0;o<wm.length;o++){const d=wm[o];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const f="on"+d,h=i[f];h&&(this.propEventSubscriptions[d]=this.on(d,h))}this.prevMotionValues=fS(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(i),()=>l.variantChildren.delete(i)}addValue(i,l){const o=this.values.get(i);l!==o&&(o&&this.removeValue(i),this.bindToMotionValue(i,l),this.values.set(i,l),this.latestValues[i]=l.get())}removeValue(i){this.values.delete(i);const l=this.valueSubscriptions.get(i);l&&(l(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,l){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&l!==void 0&&(o=ai(l===null?void 0:l,{owner:this}),this.addValue(i,o)),o}readValue(i,l){let o=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return o!=null&&(typeof o=="string"&&(Lf(o)||Bf(o))?o=parseFloat(o):!jj(o)&&In.test(l)&&(o=Oh(i,l)),this.setBaseTarget(i,Et(o)?o.get():o)),Et(o)?o.get():o}setBaseTarget(i,l){this.baseTarget[i]=l}getBaseTarget(i){const{initial:l}=this.props;let o;if(typeof l=="string"||typeof l=="object"){const f=oc(this.props,l,this.presenceContext?.custom);f&&(o=f[i])}if(l&&o!==void 0)return o;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!Et(d)?d:this.initialValues[i]!==void 0&&o===void 0?void 0:this.baseTarget[i]}on(i,l){return this.events[i]||(this.events[i]=new vo),this.events[i].add(l)}notify(i,...l){this.events[i]&&this.events[i].notify(...l)}scheduleRenderMicrotask(){Wo.render(this.render)}}class Nm extends hS{constructor(){super(...arguments),this.KeyframeResolver=cj}sortInstanceNodePosition(i,l){return i.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(i,l){return i.style?i.style[l]:void 0}removeValueFromRenderState(i,{vars:l,style:o}){delete l[i],delete o[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Et(i)&&(this.childSubscription=i.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function _m(a,{style:i,vars:l},o,d){const f=a.style;let h;for(h in i)f[h]=i[h];d?.applyProjectionStyles(f,o);for(h in l)f.setProperty(h,l[h])}function mS(a){return window.getComputedStyle(a)}class pS extends Nm{constructor(){super(...arguments),this.type="html",this.renderInstance=_m}readValueFromInstance(i,l){if(ni.has(l))return this.projection?.isProjecting?Go(l):E1(i,l);{const o=mS(i),d=(No(l)?o.getPropertyValue(l):o[l])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(i,{transformPagePoint:l}){return xm(i,l)}build(i,l,o){sc(i,l,o.transformTemplate)}scrapeMotionValuesFromProps(i,l,o){return cc(i,l,o)}}const Tm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gS(a,i,l,o){_m(a,i,void 0,o);for(const d in i.attrs)a.setAttribute(Tm.has(d)?d:uc(d),i.attrs[d])}class yS extends Nm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(i,l){return i[l]}readValueFromInstance(i,l){if(ni.has(l)){const o=zh(l);return o&&o.default||0}return l=Tm.has(l)?l:uc(l),i.getAttribute(l)}scrapeMotionValuesFromProps(i,l,o){return rm(i,l,o)}build(i,l,o){nm(i,l,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(i,l,o,d){gS(i,l,o,d)}mount(i){this.isSVGTag=im(i.tagName),super.mount(i)}}const bS=(a,i)=>rc(a)?new yS(i):new pS(i,{allowProjection:a!==w.Fragment});function ci(a,i,l){const o=a.getProps();return oc(o,i,l!==void 0?l:o.custom,a)}const gc=a=>Array.isArray(a);function xS(a,i,l){a.hasValue(i)?a.getValue(i).set(l):a.addValue(i,ai(l))}function vS(a){return gc(a)?a[a.length-1]||0:a}function jS(a,i){const l=ci(a,i);let{transitionEnd:o={},transition:d={},...f}=l||{};f={...f,...o};for(const h in f){const y=vS(f[h]);xS(a,h,y)}}function SS(a){return!!(Et(a)&&a.add)}function yc(a,i){const l=a.getValue("willChange");if(SS(l))return l.add(i);if(!l&&Cn.WillChange){const o=new Cn.WillChange("auto");a.addValue("willChange",o),o.add(i)}}function Cm(a){return a.props[om]}const wS=a=>a!==null;function NS(a,{repeat:i,repeatType:l="loop"},o){const d=a.filter(wS),f=i&&l!=="loop"&&i%2===1?0:d.length-1;return d[f]}const _S={type:"spring",stiffness:500,damping:25,restSpeed:10},TS=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),CS={type:"keyframes",duration:.8},AS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ES=(a,{keyframes:i})=>i.length>2?CS:ni.has(a)?a.startsWith("scale")?TS(i[1]):_S:AS;function MS({when:a,delay:i,delayChildren:l,staggerChildren:o,staggerDirection:d,repeat:f,repeatType:h,repeatDelay:y,from:m,elapsed:g,...b}){return!!Object.keys(b).length}const bc=(a,i,l,o={},d,f)=>h=>{const y=$o(o,a)||{},m=y.delay||o.delay||0;let{elapsed:g=0}=o;g=g-xn(m);const b={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:i.getVelocity(),...y,delay:-g,onUpdate:S=>{i.set(S),y.onUpdate&&y.onUpdate(S)},onComplete:()=>{h(),y.onComplete&&y.onComplete()},name:a,motionValue:i,element:f?void 0:d};MS(y)||Object.assign(b,ES(a,b)),b.duration&&(b.duration=xn(b.duration)),b.repeatDelay&&(b.repeatDelay=xn(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let j=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(Po(b),b.delay===0&&(j=!0)),(Cn.instantAnimations||Cn.skipAnimations)&&(j=!0,Po(b),b.delay=0),b.allowFlatten=!y.type&&!y.ease,j&&!f&&i.get()!==void 0){const S=NS(b.keyframes,y);if(S!==void 0){Ze.update(()=>{b.onUpdate(S),b.onComplete()});return}}return y.isSync?new Ho(b):new I1(b)};function DS({protectedKeys:a,needsAnimating:i},l){const o=a.hasOwnProperty(l)&&i[l]!==!0;return i[l]=!1,o}function Am(a,i,{delay:l=0,transitionOverride:o,type:d}={}){let{transition:f=a.getDefaultTransition(),transitionEnd:h,...y}=i;o&&(f=o);const m=[],g=d&&a.animationState&&a.animationState.getState()[d];for(const b in y){const j=a.getValue(b,a.latestValues[b]??null),S=y[b];if(S===void 0||g&&DS(g,b))continue;const C={delay:l,...$o(f||{},b)},N=j.get();if(N!==void 0&&!j.isAnimating&&!Array.isArray(S)&&S===N&&!C.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const z=Cm(a);if(z){const V=window.MotionHandoffAnimation(z,b,Ze);V!==null&&(C.startTime=V,E=!0)}}yc(a,b),j.start(bc(b,j,S,a.shouldReduceMotion&&Eh.has(b)?{type:!1}:C,a,E));const T=j.animation;T&&m.push(T)}return h&&Promise.all(m).then(()=>{Ze.update(()=>{h&&jS(a,h)})}),m}function Em(a,i,l,o=0,d=1){const f=Array.from(a).sort((g,b)=>g.sortNodePosition(b)).indexOf(i),h=a.size,y=(h-1)*o;return typeof l=="function"?l(f,h):d===1?f*o:y-f*o}function xc(a,i,l={}){const o=ci(a,i,l.type==="exit"?a.presenceContext?.custom:void 0);let{transition:d=a.getDefaultTransition()||{}}=o||{};l.transitionOverride&&(d=l.transitionOverride);const f=o?()=>Promise.all(Am(a,o,l)):()=>Promise.resolve(),h=a.variantChildren&&a.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:b,staggerDirection:j}=d;return kS(a,i,m,g,b,j,l)}:()=>Promise.resolve(),{when:y}=d;if(y){const[m,g]=y==="beforeChildren"?[f,h]:[h,f];return m().then(()=>g())}else return Promise.all([f(),h(l.delay)])}function kS(a,i,l=0,o=0,d=0,f=1,h){const y=[];for(const m of a.variantChildren)m.notify("AnimationStart",i),y.push(xc(m,i,{...h,delay:l+(typeof o=="function"?0:o)+Em(a.variantChildren,m,o,d,f)}).then(()=>m.notify("AnimationComplete",i)));return Promise.all(y)}function RS(a,i,l={}){a.notify("AnimationStart",i);let o;if(Array.isArray(i)){const d=i.map(f=>xc(a,f,l));o=Promise.all(d)}else if(typeof i=="string")o=xc(a,i,l);else{const d=typeof i=="function"?ci(a,i,l.custom):i;o=Promise.all(Am(a,d,l))}return o.then(()=>{a.notify("AnimationComplete",i)})}function Mm(a,i){if(!Array.isArray(i))return!1;const l=i.length;if(l!==a.length)return!1;for(let o=0;o<l;o++)if(i[o]!==a[o])return!1;return!0}const zS=ic.length;function Dm(a){if(!a)return;if(!a.isControllingVariants){const l=a.parent?Dm(a.parent)||{}:{};return a.props.initial!==void 0&&(l.initial=a.props.initial),l}const i={};for(let l=0;l<zS;l++){const o=ic[l],d=a.props[o];(cs(d)||d===!1)&&(i[o]=d)}return i}const OS=[...ac].reverse(),US=ac.length;function LS(a){return i=>Promise.all(i.map(({animation:l,options:o})=>RS(a,l,o)))}function VS(a){let i=LS(a),l=km(),o=!0;const d=m=>(g,b)=>{const j=ci(a,b,m==="exit"?a.presenceContext?.custom:void 0);if(j){const{transition:S,transitionEnd:C,...N}=j;g={...g,...N,...C}}return g};function f(m){i=m(a)}function h(m){const{props:g}=a,b=Dm(a.parent)||{},j=[],S=new Set;let C={},N=1/0;for(let T=0;T<US;T++){const z=OS[T],V=l[z],k=g[z]!==void 0?g[z]:b[z],I=cs(k),ee=z===m?V.isActive:null;ee===!1&&(N=T);let D=k===b[z]&&k!==g[z]&&I;if(D&&o&&a.manuallyAnimateOnMount&&(D=!1),V.protectedKeys={...C},!V.isActive&&ee===null||!k&&!V.prevProp||_l(k)||typeof k=="boolean")continue;const Y=BS(V.prevProp,k);let J=Y||z===m&&V.isActive&&!D&&I||T>N&&I,P=!1;const ne=Array.isArray(k)?k:[k];let re=ne.reduce(d(z),{});ee===!1&&(re={});const{prevResolvedValues:me={}}=V,ie={...me,...re},ge=Z=>{J=!0,S.has(Z)&&(P=!0,S.delete(Z)),V.needsAnimating[Z]=!0;const Q=a.getValue(Z);Q&&(Q.liveStyle=!1)};for(const Z in ie){const Q=re[Z],oe=me[Z];if(C.hasOwnProperty(Z))continue;let R=!1;gc(Q)&&gc(oe)?R=!Mm(Q,oe):R=Q!==oe,R?Q!=null?ge(Z):S.add(Z):Q!==void 0&&S.has(Z)?ge(Z):V.protectedKeys[Z]=!0}V.prevProp=k,V.prevResolvedValues=re,V.isActive&&(C={...C,...re}),o&&a.blockInitialAnimation&&(J=!1);const ue=D&&Y;J&&(!ue||P)&&j.push(...ne.map(Z=>{const Q={type:z};if(typeof Z=="string"&&o&&!ue&&a.manuallyAnimateOnMount&&a.parent){const{parent:oe}=a,R=ci(oe,Z);if(oe.enteringChildren&&R){const{delayChildren:x}=R.transition||{};Q.delay=Em(oe.enteringChildren,a,x)}}return{animation:Z,options:Q}}))}if(S.size){const T={};if(typeof g.initial!="boolean"){const z=ci(a,Array.isArray(g.initial)?g.initial[0]:g.initial);z&&z.transition&&(T.transition=z.transition)}S.forEach(z=>{const V=a.getBaseTarget(z),k=a.getValue(z);k&&(k.liveStyle=!0),T[z]=V??null}),j.push({animation:T})}let E=!!j.length;return o&&(g.initial===!1||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(E=!1),o=!1,E?i(j):Promise.resolve()}function y(m,g){if(l[m].isActive===g)return Promise.resolve();a.variantChildren?.forEach(j=>j.animationState?.setActive(m,g)),l[m].isActive=g;const b=h(m);for(const j in l)l[j].protectedKeys={};return b}return{animateChanges:h,setActive:y,setAnimateFunction:f,getState:()=>l,reset:()=>{l=km()}}}function BS(a,i){return typeof i=="string"?i!==a:Array.isArray(i)?!Mm(i,a):!1}function Ma(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function km(){return{animate:Ma(!0),whileInView:Ma(),whileHover:Ma(),whileTap:Ma(),whileDrag:Ma(),whileFocus:Ma(),exit:Ma()}}class Wn{constructor(i){this.isMounted=!1,this.node=i}update(){}}class HS extends Wn{constructor(i){super(i),i.animationState||(i.animationState=VS(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();_l(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:l}=this.node.prevProps||{};i!==l&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let qS=0;class YS extends Wn{constructor(){super(...arguments),this.id=qS++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:l}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===o)return;const d=this.node.animationState.setActive("exit",!i);l&&!i&&d.then(()=>{l(this.id)})}mount(){const{register:i,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const GS={animation:{Feature:HS},exit:{Feature:YS}};function ds(a,i,l,o={passive:!0}){return a.addEventListener(i,l,o),()=>a.removeEventListener(i,l)}function fs(a){return{point:{x:a.pageX,y:a.pageY}}}const FS=a=>i=>ec(i)&&a(i,fs(i));function hs(a,i,l,o){return ds(a,i,FS(l),o)}const Rm=1e-4,XS=1-Rm,KS=1+Rm,zm=.01,QS=0-zm,ZS=0+zm;function zt(a){return a.max-a.min}function PS(a,i,l){return Math.abs(a-i)<=l}function Om(a,i,l,o=.5){a.origin=o,a.originPoint=We(i.min,i.max,a.origin),a.scale=zt(l)/zt(i),a.translate=We(l.min,l.max,a.origin)-a.originPoint,(a.scale>=XS&&a.scale<=KS||isNaN(a.scale))&&(a.scale=1),(a.translate>=QS&&a.translate<=ZS||isNaN(a.translate))&&(a.translate=0)}function ms(a,i,l,o){Om(a.x,i.x,l.x,o?o.originX:void 0),Om(a.y,i.y,l.y,o?o.originY:void 0)}function Um(a,i,l){a.min=l.min+i.min,a.max=a.min+zt(i)}function $S(a,i,l){Um(a.x,i.x,l.x),Um(a.y,i.y,l.y)}function Lm(a,i,l){a.min=i.min-l.min,a.max=a.min+zt(i)}function ps(a,i,l){Lm(a.x,i.x,l.x),Lm(a.y,i.y,l.y)}function tn(a){return[a("x"),a("y")]}const Vm=({current:a})=>a?a.ownerDocument.defaultView:null,Bm=(a,i)=>Math.abs(a-i);function JS(a,i){const l=Bm(a.x,i.x),o=Bm(a.y,i.y);return Math.sqrt(l**2+o**2)}class Hm{constructor(i,l,{transformPagePoint:o,contextWindow:d=window,dragSnapToOrigin:f=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=jc(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,N=JS(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!N)return;const{point:E}=S,{timestamp:T}=vt;this.history.push({...E,timestamp:T});const{onStart:z,onMove:V}=this.handlers;C||(z&&z(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,S)},this.handlePointerMove=(S,C)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=vc(C,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(S,C)=>{this.end();const{onEnd:N,onSessionEnd:E,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=jc(S.type==="pointercancel"?this.lastMoveEventInfo:vc(C,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,z),E&&E(S,z)},!ec(i))return;this.dragSnapToOrigin=f,this.handlers=l,this.transformPagePoint=o,this.distanceThreshold=h,this.contextWindow=d||window;const y=fs(i),m=vc(y,this.transformPagePoint),{point:g}=m,{timestamp:b}=vt;this.history=[{...g,timestamp:b}];const{onSessionStart:j}=l;j&&j(i,jc(m,this.history)),this.removeListeners=es(hs(this.contextWindow,"pointermove",this.handlePointerMove),hs(this.contextWindow,"pointerup",this.handlePointerUp),hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),$n(this.updatePoint)}}function vc(a,i){return i?{point:i(a.point)}:a}function qm(a,i){return{x:a.x-i.x,y:a.y-i.y}}function jc({point:a},i){return{point:a,delta:qm(a,Ym(i)),offset:qm(a,IS(i)),velocity:WS(i,.1)}}function IS(a){return a[0]}function Ym(a){return a[a.length-1]}function WS(a,i){if(a.length<2)return{x:0,y:0};let l=a.length-1,o=null;const d=Ym(a);for(;l>=0&&(o=a[l],!(d.timestamp-o.timestamp>xn(i)));)l--;if(!o)return{x:0,y:0};const f=en(d.timestamp-o.timestamp);if(f===0)return{x:0,y:0};const h={x:(d.x-o.x)/f,y:(d.y-o.y)/f};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function ew(a,{min:i,max:l},o){return i!==void 0&&a<i?a=o?We(i,a,o.min):Math.max(a,i):l!==void 0&&a>l&&(a=o?We(l,a,o.max):Math.min(a,l)),a}function Gm(a,i,l){return{min:i!==void 0?a.min+i:void 0,max:l!==void 0?a.max+l-(a.max-a.min):void 0}}function tw(a,{top:i,left:l,bottom:o,right:d}){return{x:Gm(a.x,l,d),y:Gm(a.y,i,o)}}function Fm(a,i){let l=i.min-a.min,o=i.max-a.max;return i.max-i.min<a.max-a.min&&([l,o]=[o,l]),{min:l,max:o}}function nw(a,i){return{x:Fm(a.x,i.x),y:Fm(a.y,i.y)}}function aw(a,i){let l=.5;const o=zt(a),d=zt(i);return d>o?l=ts(i.min,i.max-o,a.min):o>d&&(l=ts(a.min,a.max-d,i.min)),Tn(0,1,l)}function iw(a,i){const l={};return i.min!==void 0&&(l.min=i.min-a.min),i.max!==void 0&&(l.max=i.max-a.min),l}const Sc=.35;function sw(a=Sc){return a===!1?a=0:a===!0&&(a=Sc),{x:Xm(a,"left","right"),y:Xm(a,"top","bottom")}}function Xm(a,i,l){return{min:Km(a,i),max:Km(a,l)}}function Km(a,i){return typeof a=="number"?a:a[i]||0}const lw=new WeakMap;class rw{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:l=!1,distanceThreshold:o}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const f=j=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(fs(j).point)},h=(j,S)=>{const{drag:C,dragPropagation:N,onDragStart:E}=this.getProps();if(C&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hj(C),!this.openDragLock))return;this.latestPointerEvent=j,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(z=>{let V=this.getAxisMotionValue(z).get()||0;if(vn.test(V)){const{projection:k}=this.visualElement;if(k&&k.layout){const I=k.layout.layoutBox[z];I&&(V=zt(I)*(parseFloat(V)/100))}}this.originPoint[z]=V}),E&&Ze.postRender(()=>E(j,S)),yc(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},y=(j,S)=>{this.latestPointerEvent=j,this.latestPanInfo=S;const{dragPropagation:C,dragDirectionLock:N,onDirectionLock:E,onDrag:T}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:z}=S;if(N&&this.currentDirection===null){this.currentDirection=ow(z),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",S.point,z),this.updateAxis("y",S.point,z),this.visualElement.render(),T&&T(j,S)},m=(j,S)=>{this.latestPointerEvent=j,this.latestPanInfo=S,this.stop(j,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>tn(j=>this.getAnimationState(j)==="paused"&&this.getAxisMotionValue(j).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new Hm(i,{onSessionStart:f,onStart:h,onMove:y,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:o,contextWindow:Vm(this.visualElement)})}stop(i,l){const o=i||this.latestPointerEvent,d=l||this.latestPanInfo,f=this.isDragging;if(this.cancel(),!f||!d||!o)return;const{velocity:h}=d;this.startAnimation(h);const{onDragEnd:y}=this.getProps();y&&Ze.postRender(()=>y(o,d))}cancel(){this.isDragging=!1;const{projection:i,animationState:l}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(i,l,o){const{drag:d}=this.getProps();if(!o||!El(i,d,this.currentDirection))return;const f=this.getAxisMotionValue(i);let h=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(h=ew(h,this.constraints[i],this.elastic[i])),f.set(h)}resolveConstraints(){const{dragConstraints:i,dragElastic:l}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,d=this.constraints;i&&si(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=tw(o.layoutBox,i):this.constraints=!1,this.elastic=sw(l),d!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&tn(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=iw(o.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:l}=this.getProps();if(!i||!si(i))return!1;const o=i.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const f=cS(o,d.root,this.visualElement.getTransformPagePoint());let h=nw(d.layout.layoutBox,f);if(l){const y=l(lS(h));this.hasMutatedConstraints=!!y,y&&(h=dm(y))}return h}startAnimation(i){const{drag:l,dragMomentum:o,dragElastic:d,dragTransition:f,dragSnapToOrigin:h,onDragTransitionEnd:y}=this.getProps(),m=this.constraints||{},g=tn(b=>{if(!El(b,l,this.currentDirection))return;let j=m&&m[b]||{};h&&(j={min:0,max:0});const S=d?200:1e6,C=d?40:1e7,N={type:"inertia",velocity:o?i[b]:0,bounceStiffness:S,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...f,...j};return this.startAxisValueAnimation(b,N)});return Promise.all(g).then(y)}startAxisValueAnimation(i,l){const o=this.getAxisMotionValue(i);return yc(this.visualElement,i),o.start(bc(i,o,0,l,this.visualElement,!1))}stopAnimation(){tn(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){tn(i=>this.getAxisMotionValue(i).animation?.pause())}getAnimationState(i){return this.getAxisMotionValue(i).animation?.state}getAxisMotionValue(i){const l=`_drag${i.toUpperCase()}`,o=this.visualElement.getProps(),d=o[l];return d||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){tn(l=>{const{drag:o}=this.getProps();if(!El(l,o,this.currentDirection))return;const{projection:d}=this.visualElement,f=this.getAxisMotionValue(l);if(d&&d.layout){const{min:h,max:y}=d.layout.layoutBox[l];f.set(i[l]-We(h,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:l}=this.getProps(),{projection:o}=this.visualElement;if(!si(l)||!o||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};tn(h=>{const y=this.getAxisMotionValue(h);if(y&&this.constraints!==!1){const m=y.get();d[h]=aw({min:m,max:m},this.constraints[h])}});const{transformTemplate:f}=this.visualElement.getProps();this.visualElement.current.style.transform=f?f({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),tn(h=>{if(!El(h,i,null))return;const y=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];y.set(We(m,g,d[h]))})}addListeners(){if(!this.visualElement.current)return;lw.set(this.visualElement,this);const i=this.visualElement.current,l=hs(i,"pointerdown",m=>{const{drag:g,dragListener:b=!0}=this.getProps();g&&b&&this.start(m)}),o=()=>{const{dragConstraints:m}=this.getProps();si(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,f=d.addEventListener("measure",o);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),Ze.read(o);const h=ds(window,"resize",()=>this.scalePositionWithinConstraints()),y=d.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(tn(b=>{const j=this.getAxisMotionValue(b);j&&(this.originPoint[b]+=m[b].translate,j.set(j.get()+m[b].translate))}),this.visualElement.render())}));return()=>{h(),l(),f(),y&&y()}}getProps(){const i=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:o=!1,dragPropagation:d=!1,dragConstraints:f=!1,dragElastic:h=Sc,dragMomentum:y=!0}=i;return{...i,drag:l,dragDirectionLock:o,dragPropagation:d,dragConstraints:f,dragElastic:h,dragMomentum:y}}}function El(a,i,l){return(i===!0||i===a)&&(l===null||l===a)}function ow(a,i=10){let l=null;return Math.abs(a.y)>i?l="y":Math.abs(a.x)>i&&(l="x"),l}class cw extends Wn{constructor(i){super(i),this.removeGroupControls=Wt,this.removeListeners=Wt,this.controls=new rw(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qm=a=>(i,l)=>{a&&Ze.postRender(()=>a(i,l))};class uw extends Wn{constructor(){super(...arguments),this.removePointerDownListener=Wt}onPointerDown(i){this.session=new Hm(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vm(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:l,onPan:o,onPanEnd:d}=this.node.getProps();return{onSessionStart:Qm(i),onStart:Qm(l),onMove:o,onEnd:(f,h)=>{delete this.session,d&&Ze.postRender(()=>d(f,h))}}}mount(){this.removePointerDownListener=hs(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ml={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zm(a,i){return i.max===i.min?0:a/(i.max-i.min)*100}const gs={correct:(a,i)=>{if(!i.target)return a;if(typeof a=="string")if(je.test(a))a=parseFloat(a);else return a;const l=Zm(a,i.target.x),o=Zm(a,i.target.y);return`${l}% ${o}%`}},dw={correct:(a,{treeScale:i,projectionDelta:l})=>{const o=a,d=In.parse(a);if(d.length>5)return o;const f=In.createTransformer(a),h=typeof d[0]!="number"?1:0,y=l.x.scale*i.x,m=l.y.scale*i.y;d[0+h]/=y,d[1+h]/=m;const g=We(y,m,.5);return typeof d[2+h]=="number"&&(d[2+h]/=g),typeof d[3+h]=="number"&&(d[3+h]/=g),f(d)}};let wc=!1;class fw extends w.Component{componentDidMount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:o,layoutId:d}=this.props,{projection:f}=i;Oj(hw),f&&(l.group&&l.group.add(f),o&&o.register&&d&&o.register(f),wc&&f.root.didUpdate(),f.addEventListener("animationComplete",()=>{this.safeToRemove()}),f.setOptions({...f.options,onExitComplete:()=>this.safeToRemove()})),Ml.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:l,visualElement:o,drag:d,isPresent:f}=this.props,{projection:h}=o;return h&&(h.isPresent=f,wc=!0,d||i.layoutDependency!==l||l===void 0||i.isPresent!==f?h.willUpdate():this.safeToRemove(),i.isPresent!==f&&(f?h.promote():h.relegate()||Ze.postRender(()=>{const y=h.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),Wo.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:o}=this.props,{projection:d}=i;wc=!0,d&&(d.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(d),o&&o.deregister&&o.deregister(d))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function Pm(a){const[i,l]=Qh(),o=w.useContext(ho);return r.jsx(fw,{...a,layoutGroup:o,switchLayoutGroup:w.useContext(cm),isPresent:i,safeToRemove:l})}const hw={borderRadius:{...gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gs,borderTopRightRadius:gs,borderBottomLeftRadius:gs,borderBottomRightRadius:gs,boxShadow:dw};function mw(a,i,l){const o=Et(a)?a:ai(a);return o.start(bc("",o,i,l)),o.animation}const pw=(a,i)=>a.depth-i.depth;class gw{constructor(){this.children=[],this.isDirty=!1}add(i){go(this.children,i),this.isDirty=!0}remove(i){yo(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(pw),this.isDirty=!1,this.children.forEach(i)}}function yw(a,i){const l=Lt.now(),o=({timestamp:d})=>{const f=d-l;f>=i&&($n(o),a(f-i))};return Ze.setup(o,!0),()=>$n(o)}const $m=["TopLeft","TopRight","BottomLeft","BottomRight"],bw=$m.length,Jm=a=>typeof a=="string"?parseFloat(a):a,Im=a=>typeof a=="number"||je.test(a);function xw(a,i,l,o,d,f){d?(a.opacity=We(0,l.opacity??1,vw(o)),a.opacityExit=We(i.opacity??1,0,jw(o))):f&&(a.opacity=We(i.opacity??1,l.opacity??1,o));for(let h=0;h<bw;h++){const y=`border${$m[h]}Radius`;let m=Wm(i,y),g=Wm(l,y);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Im(m)===Im(g)?(a[y]=Math.max(We(Jm(m),Jm(g),o),0),(vn.test(g)||vn.test(m))&&(a[y]+="%")):a[y]=g}(i.rotate||l.rotate)&&(a.rotate=We(i.rotate||0,l.rotate||0,o))}function Wm(a,i){return a[i]!==void 0?a[i]:a.borderRadius}const vw=ep(0,.5,Qf),jw=ep(.5,.95,Wt);function ep(a,i,l){return o=>o<a?0:o>i?1:l(ts(a,i,o))}function tp(a,i){a.min=i.min,a.max=i.max}function nn(a,i){tp(a.x,i.x),tp(a.y,i.y)}function np(a,i){a.translate=i.translate,a.scale=i.scale,a.originPoint=i.originPoint,a.origin=i.origin}function ap(a,i,l,o,d){return a-=i,a=Al(a,1/l,o),d!==void 0&&(a=Al(a,1/d,o)),a}function Sw(a,i=0,l=1,o=.5,d,f=a,h=a){if(vn.test(i)&&(i=parseFloat(i),i=We(h.min,h.max,i/100)-h.min),typeof i!="number")return;let y=We(f.min,f.max,o);a===f&&(y-=i),a.min=ap(a.min,i,l,y,d),a.max=ap(a.max,i,l,y,d)}function ip(a,i,[l,o,d],f,h){Sw(a,i[l],i[o],i[d],i.scale,f,h)}const ww=["x","scaleX","originX"],Nw=["y","scaleY","originY"];function sp(a,i,l,o){ip(a.x,i,ww,l?l.x:void 0,o?o.x:void 0),ip(a.y,i,Nw,l?l.y:void 0,o?o.y:void 0)}function lp(a){return a.translate===0&&a.scale===1}function rp(a){return lp(a.x)&&lp(a.y)}function op(a,i){return a.min===i.min&&a.max===i.max}function _w(a,i){return op(a.x,i.x)&&op(a.y,i.y)}function cp(a,i){return Math.round(a.min)===Math.round(i.min)&&Math.round(a.max)===Math.round(i.max)}function up(a,i){return cp(a.x,i.x)&&cp(a.y,i.y)}function dp(a){return zt(a.x)/zt(a.y)}function fp(a,i){return a.translate===i.translate&&a.scale===i.scale&&a.originPoint===i.originPoint}class Tw{constructor(){this.members=[]}add(i){go(this.members,i),i.scheduleRender()}remove(i){if(yo(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(i){const l=this.members.findIndex(d=>i===d);if(l===0)return!1;let o;for(let d=l;d>=0;d--){const f=this.members[d];if(f.isPresent!==!1){o=f;break}}return o?(this.promote(o),!0):!1}promote(i,l){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,l&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:d}=i.options;d===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:l,resumingFrom:o}=i;l.onExitComplete&&l.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cw(a,i,l){let o="";const d=a.x.translate/i.x,f=a.y.translate/i.y,h=l?.z||0;if((d||f||h)&&(o=`translate3d(${d}px, ${f}px, ${h}px) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),l){const{transformPerspective:g,rotate:b,rotateX:j,rotateY:S,skewX:C,skewY:N}=l;g&&(o=`perspective(${g}px) ${o}`),b&&(o+=`rotate(${b}deg) `),j&&(o+=`rotateX(${j}deg) `),S&&(o+=`rotateY(${S}deg) `),C&&(o+=`skewX(${C}deg) `),N&&(o+=`skewY(${N}deg) `)}const y=a.x.scale*i.x,m=a.y.scale*i.y;return(y!==1||m!==1)&&(o+=`scale(${y}, ${m})`),o||"none"}const Nc=["","X","Y","Z"],Aw=1e3;let Ew=0;function _c(a,i,l,o){const{latestValues:d}=i;d[a]&&(l[a]=d[a],i.setStaticValue(a,0),o&&(o[a]=0))}function hp(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:i}=a.options;if(!i)return;const l=Cm(i);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:d,layoutId:f}=a.options;window.MotionCancelOptimisedAnimation(l,"transform",Ze,!(d||f))}const{parent:o}=a;o&&!o.hasCheckedOptimisedAppear&&hp(o)}function mp({attachResizeListener:a,defaultParent:i,measureScroll:l,checkIsScrollRoot:o,resetTransform:d}){return class{constructor(h={},y=i?.()){this.id=Ew++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kw),this.nodes.forEach(Uw),this.nodes.forEach(Lw),this.nodes.forEach(Rw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new gw)}addEventListener(h,y){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new vo),this.eventHandlers.get(h).add(y)}notifyListeners(h,...y){const m=this.eventHandlers.get(h);m&&m.notify(...y)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=Xh(h)&&!xj(h),this.instance=h;const{layoutId:y,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||y)&&(this.isLayoutDirty=!0),a){let b,j=0;const S=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{j=window.innerWidth}),a(h,()=>{const C=window.innerWidth;C!==j&&(j=C,this.root.updateBlockedByResize=!0,b&&b(),b=yw(S,250),Ml.hasAnimatedSinceResize&&(Ml.hasAnimatedSinceResize=!1,this.nodes.forEach(yp)))})}y&&this.root.registerSharedNode(y,this),this.options.animate!==!1&&g&&(y||m)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:j,hasRelativeLayoutChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||Yw,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=g.getProps(),z=!this.targetLayout||!up(this.targetLayout,C),V=!j&&S;if(this.options.layoutRoot||this.resumeFrom||V||j&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...$o(N,"layout"),onPlay:E,onComplete:T};(g.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(b,V)}else j||yp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vw),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const j=this.path[b];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:y,layout:m}=this.options;if(y===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ow),this.nodes.forEach(Mw),this.nodes.forEach(Dw)):this.nodes.forEach(gp),this.clearAllSnapshots();const y=Lt.now();vt.delta=Tn(0,1e3/60,y-vt.timestamp),vt.timestamp=y,vt.isProcessing=!0,wo.update.process(vt),wo.preRender.process(vt),wo.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zw),this.sharedNodes.forEach(Bw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zt(this.snapshot.measuredBox.x)&&!zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let y=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(y=!1),y&&this.instance){const m=o(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:m,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!d)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,y=this.projectionDelta&&!rp(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,b=g!==this.prevTransformTemplateValue;h&&this.instance&&(y||Ea(this.latestValues)||b)&&(d(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const y=this.measurePageBox();let m=this.removeElementScroll(y);return h&&(m=this.removeTransform(m)),Gw(m),{animationId:this.root.animationId,measuredBox:y,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return it();const y=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fw))){const{scroll:g}=this.root;g&&(li(y.x,g.offset.x),li(y.y,g.offset.y))}return y}removeElementScroll(h){const y=it();if(nn(y,h),this.scroll?.wasRoot)return y;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:b,options:j}=g;g!==this.root&&b&&j.layoutScroll&&(b.wasRoot&&nn(y,h),li(y.x,b.offset.x),li(y.y,b.offset.y))}return y}applyTransform(h,y=!1){const m=it();nn(m,h);for(let g=0;g<this.path.length;g++){const b=this.path[g];!y&&b.options.layoutScroll&&b.scroll&&b!==b.root&&ri(m,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Ea(b.latestValues)&&ri(m,b.latestValues)}return Ea(this.latestValues)&&ri(m,this.latestValues),m}removeTransform(h){const y=it();nn(y,h);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Ea(g.latestValues))continue;hc(g.latestValues)&&g.updateSnapshot();const b=it(),j=g.measurePageBox();nn(b,j),sp(y,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,b)}return Ea(this.latestValues)&&sp(y,this.latestValues),y}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const y=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=y.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=y.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=y.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==y;if(!(h||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:j}=this.options;if(!(!this.layout||!(b||j))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),ps(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$S(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nn(this.target,this.layout.layoutBox),pm(this.target,this.targetDelta)):nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),ps(this.relativeTargetOrigin,this.target,S.target),nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hc(this.parent.latestValues)||fm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),y=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),y&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||b))return;nn(this.layoutCorrected,this.layout.layoutBox);const j=this.treeScale.x,S=this.treeScale.y;oS(this.layoutCorrected,this.treeScale,this.path,y),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=it());const{target:C}=h;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(np(this.prevProjectionDelta.x,this.projectionDelta.x),np(this.prevProjectionDelta.y,this.projectionDelta.y)),ms(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==j||this.treeScale.y!==S||!fp(this.projectionDelta.x,this.prevProjectionDelta.x)||!fp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oi(),this.projectionDelta=oi(),this.projectionDeltaWithTransform=oi()}setAnimationOrigin(h,y=!1){const m=this.snapshot,g=m?m.latestValues:{},b={...this.latestValues},j=oi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const S=it(),C=m?m.source:void 0,N=this.layout?this.layout.source:void 0,E=C!==N,T=this.getStack(),z=!T||T.members.length<=1,V=!!(E&&!z&&this.options.crossfade===!0&&!this.path.some(qw));this.animationProgress=0;let k;this.mixTargetDelta=I=>{const ee=I/1e3;bp(j.x,h.x,ee),bp(j.y,h.y,ee),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ps(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hw(this.relativeTarget,this.relativeTargetOrigin,S,ee),k&&_w(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=it()),nn(k,this.relativeTarget)),E&&(this.animationValues=b,xw(b,g,this.latestValues,ee,V,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Ml.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ai(0)),this.currentAnimation=mw(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),h.onUpdate&&h.onUpdate(y)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Aw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:y,target:m,layout:g,latestValues:b}=h;if(!(!y||!m||!g)){if(this!==h&&this.layout&&g&&wp(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||it();const j=zt(this.layout.layoutBox.x);m.x.min=h.target.x.min,m.x.max=m.x.min+j;const S=zt(this.layout.layoutBox.y);m.y.min=h.target.y.min,m.y.max=m.y.min+S}nn(y,m),ri(y,b),ms(this.projectionDeltaWithTransform,this.layoutCorrected,y,b)}}registerSharedNode(h,y){this.sharedNodes.has(h)||this.sharedNodes.set(h,new Tw),this.sharedNodes.get(h).add(y);const g=y.options.initialPromotionConfig;y.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(y):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:y,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),h&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let y=!1;const{latestValues:m}=h;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(y=!0),!y)return;const g={};m.z&&_c("z",h,g,this.animationValues);for(let b=0;b<Nc.length;b++)_c(`rotate${Nc[b]}`,h,g,this.animationValues),_c(`skew${Nc[b]}`,h,g,this.animationValues);h.render();for(const b in g)h.setStaticValue(b,g[b]),this.animationValues&&(this.animationValues[b]=g[b]);h.scheduleRender()}applyProjectionStyles(h,y){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=Cl(y?.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Cl(y?.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(h.transform=m?m({},""):"none",this.hasProjected=!1);return}h.visibility="";const b=g.animationValues||g.latestValues;this.applyTransformsToTarget();let j=Cw(this.projectionDeltaWithTransform,this.treeScale,b);m&&(j=m(b,j)),h.transform=j;const{x:S,y:C}=this.projectionDelta;h.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,g.animationValues?h.opacity=g===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=g===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const N in us){if(b[N]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:z}=us[N],V=j==="none"?b[N]:E(b[N],g);if(T){const k=T.length;for(let I=0;I<k;I++)h[T[I]]=V}else z?this.options.visualElement.renderState.vars[N]=V:h[N]=V}this.options.layoutId&&(h.pointerEvents=g===this?Cl(y?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(pp),this.root.sharedNodes.clear()}}}function Mw(a){a.updateLayout()}function Dw(a){const i=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&i&&a.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:o}=a.layout,{animationType:d}=a.options,f=i.source!==a.layout.source;d==="size"?tn(b=>{const j=f?i.measuredBox[b]:i.layoutBox[b],S=zt(j);j.min=l[b].min,j.max=j.min+S}):wp(d,i.layoutBox,l)&&tn(b=>{const j=f?i.measuredBox[b]:i.layoutBox[b],S=zt(l[b]);j.max=j.min+S,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[b].max=a.relativeTarget[b].min+S)});const h=oi();ms(h,l,i.layoutBox);const y=oi();f?ms(y,a.applyTransform(o,!0),i.measuredBox):ms(y,l,i.layoutBox);const m=!rp(h);let g=!1;if(!a.resumeFrom){const b=a.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:j,layout:S}=b;if(j&&S){const C=it();ps(C,i.layoutBox,j.layoutBox);const N=it();ps(N,l,S.layoutBox),up(C,N)||(g=!0),b.options.layoutRoot&&(a.relativeTarget=N,a.relativeTargetOrigin=C,a.relativeParent=b)}}}a.notifyListeners("didUpdate",{layout:l,snapshot:i,delta:y,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(a.isLead()){const{onExitComplete:l}=a.options;l&&l()}a.options.transition=void 0}function kw(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function Rw(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function zw(a){a.clearSnapshot()}function pp(a){a.clearMeasurements()}function gp(a){a.isLayoutDirty=!1}function Ow(a){const{visualElement:i}=a.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),a.resetTransform()}function yp(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function Uw(a){a.resolveTargetDelta()}function Lw(a){a.calcProjection()}function Vw(a){a.resetSkewAndRotation()}function Bw(a){a.removeLeadSnapshot()}function bp(a,i,l){a.translate=We(i.translate,0,l),a.scale=We(i.scale,1,l),a.origin=i.origin,a.originPoint=i.originPoint}function xp(a,i,l,o){a.min=We(i.min,l.min,o),a.max=We(i.max,l.max,o)}function Hw(a,i,l,o){xp(a.x,i.x,l.x,o),xp(a.y,i.y,l.y,o)}function qw(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const Yw={duration:.45,ease:[.4,0,.1,1]},vp=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),jp=vp("applewebkit/")&&!vp("chrome/")?Math.round:Wt;function Sp(a){a.min=jp(a.min),a.max=jp(a.max)}function Gw(a){Sp(a.x),Sp(a.y)}function wp(a,i,l){return a==="position"||a==="preserve-aspect"&&!PS(dp(i),dp(l),.2)}function Fw(a){return a!==a.root&&a.scroll?.wasRoot}const Xw=mp({attachResizeListener:(a,i)=>ds(a,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tc={current:void 0},Np=mp({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Tc.current){const a=new Xw({});a.mount(window),a.setOptions({layoutScroll:!0}),Tc.current=a}return Tc.current},resetTransform:(a,i)=>{a.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),Kw={pan:{Feature:uw},drag:{Feature:cw,ProjectionNode:Np,MeasureLayout:Pm}};function _p(a,i,l){const{props:o}=a;a.animationState&&o.whileHover&&a.animationState.setActive("whileHover",l==="Start");const d="onHover"+l,f=o[d];f&&Ze.postRender(()=>f(i,fs(i)))}class Qw extends Wn{mount(){const{current:i}=this.node;i&&(this.unmount=mj(i,(l,o)=>(_p(this.node,o,"Start"),d=>_p(this.node,d,"End"))))}unmount(){}}class Zw extends Wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=es(ds(this.node.current,"focus",()=>this.onFocus()),ds(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tp(a,i,l){const{props:o}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&o.whileTap&&a.animationState.setActive("whileTap",l==="Start");const d="onTap"+(l==="End"?"":l),f=o[d];f&&Ze.postRender(()=>f(i,fs(i)))}class Pw extends Wn{mount(){const{current:i}=this.node;i&&(this.unmount=bj(i,(l,o)=>(Tp(this.node,o,"Start"),(d,{success:f})=>Tp(this.node,d,f?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cc=new WeakMap,Ac=new WeakMap,$w=a=>{const i=Cc.get(a.target);i&&i(a)},Jw=a=>{a.forEach($w)};function Iw({root:a,...i}){const l=a||document;Ac.has(l)||Ac.set(l,{});const o=Ac.get(l),d=JSON.stringify(i);return o[d]||(o[d]=new IntersectionObserver(Jw,{root:a,...i})),o[d]}function Ww(a,i,l){const o=Iw(i);return Cc.set(a,l),o.observe(a),()=>{Cc.delete(a),o.unobserve(a)}}const eN={some:0,all:1};class tN extends Wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:l,margin:o,amount:d="some",once:f}=i,h={root:l?l.current:void 0,rootMargin:o,threshold:typeof d=="number"?d:eN[d]},y=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,f&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:b,onViewportLeave:j}=this.node.getProps(),S=g?b:j;S&&S(m)};return Ww(this.node.current,h,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:l}=this.node;["amount","margin","root"].some(nN(i,l))&&this.startObserver()}unmount(){}}function nN({viewport:a={}},{viewport:i={}}={}){return l=>a[l]!==i[l]}const aN={...GS,...{inView:{Feature:tN},tap:{Feature:Pw},focus:{Feature:Zw},hover:{Feature:Qw}},...Kw,...{layout:{ProjectionNode:Np,MeasureLayout:Pm}}},iN=sS(aN,bS),Dl="onboarding.draft",Cp="onboarding_done";function kl(a,i,l=31536e3){try{document.cookie=`${a}=${i}; Max-Age=${l}; Path=/`}catch{}}function Ec(a){if(typeof document>"u")return null;const i=document.cookie.match(new RegExp(`(?:^|; )${a}=([^;]*)`));return i?decodeURIComponent(i[1]):null}function sN(a,i,l){try{localStorage.setItem(a,JSON.stringify({v:1,answers:i,index:l,ts:Date.now()}))}catch{}}function lN(a){try{const i=localStorage.getItem(a);if(!i)return null;const l=JSON.parse(i);if(l?.v===1&&typeof l.index=="number"&&l.answers)return{answers:l.answers,index:l.index}}catch{}return null}function rN(a){try{localStorage.removeItem(a)}catch{}}function oN(){if(typeof document>"u"||document.getElementById("kai-onboarding-styles"))return;const a=`
  .kai-title { color: #ff5656; }
  .kai-footer { display: flex; align-items: center; justify-content: space-between; gap: 8px; flex-wrap: nowrap; }
  .kai-actions { margin-left: auto; display: inline-flex; align-items: center; gap: 8px; }
  .kai-onboarding * { box-sizing: border-box; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
  .kai-grid { display: grid; gap: 12px; grid-template-columns: 1fr; }
  @media (min-width: 640px) { .kai-grid { grid-template-columns: 1fr 1fr; } }

  .kai-card-option { border: 1px solid #e5e7eb; padding: 16px; border-radius: 12px; background: #fff; cursor: pointer; transition: background .15s ease, border-color .15s ease, box-shadow .15s ease; text-align: left; }
  .kai-card-option:hover { background: #f9fafb; }
  .kai-card-option.is-selected { border-color: #111827; background: #f3f4f6; box-shadow: 0 0 0 2px rgba(17,24,39,0.05) inset; }

  .kai-input { width: 100%; border: 1px solid #e5e7eb; border-radius: 12px; padding: 8px 12px; font-size: 14px; color: #455a7c; }
  .kai-input::placeholder { color: #455a7c; opacity: .9; }
  .kai-input:focus { outline: none; border-color: #111827; }

  .kai-btn { border-radius: 12px; padding: 8px 16px; font-weight: 600; font-size: 14px; line-height: 1.2; display: inline-flex; align-items: center; gap: 8px; }
  .kai-btn-primary { background: #ff5656; color: #fff; border: none; }
  .kai-btn-primary:hover { filter: brightness(0.95); }
  .kai-btn-primary:disabled { opacity: .4; cursor: not-allowed; }
  .kai-btn-outline { border: 1px solid #e5e7eb; color: #455a7c; background: #fff; }
  .kai-btn-outline:hover { background: #f9fafb; }

  .kai-range { width: 100%; }
  .kai-range::-webkit-slider-runnable-track { height: 4px; background: #e5e7eb; border-radius: 999px; }
  .kai-range::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: #ff5656; border-radius: 50%; cursor: pointer; border: 2px solid #fff; box-shadow: 0 0 0 1px rgba(0,0,0,.1); margin-top: -7px; }
  .kai-range::-moz-range-track { height: 4px; background: #e5e7eb; border-radius: 999px; }
  .kai-range::-moz-range-thumb { width: 18px; height: 18px; background: #ff5656; border: none; border-radius: 50%; cursor: pointer; }
  `,i=document.createElement("style");i.id="kai-onboarding-styles",i.textContent=a,document.head.appendChild(i)}function Rl(a,i){console.debug(`[analytics] ${a}`,i||{})}function Mc(a){try{return new URLSearchParams(window.location.search).get(a)}catch{return null}}function Ap(){try{return["localhost","127.0.0.1","::1"].includes(window.location.hostname)}catch{return!1}}function Dc(){return Mc("debug")==="1"||Ap()}function zl(a){return Array.isArray(a)?a.filter(Boolean):[]}function ui(a,i){return i?Math.max(0,Math.min(a,i-1)):0}function kc(){return[{id:"whyHere",title:"What brings you to Get Kinder today?",description:"This helps us focus on how to help you make the biggest impact.",type:"single",required:!0,options:[{id:"volunteer",label:"I want to contribute my time and skills to causes I care about"},{id:"donor",label:"I'm looking to donate and see real impact from my contributions"},{id:"organization",label:"I represent a charity/organization seeking volunteers and funding"},{id:"referred",label:"Someone referred me and I want to learn more"},{id:"unsure",label:"I am not sure yet"}]},{id:"experienceLevel",title:"How would you describe your current involvement in community impact?",description:"Where you are at in your impact journey helps use tailor suggestions for you.",type:"single",required:!0,options:[{id:"new",label:"I'm brand new to volunteering/donating"},{id:"occasional",label:"I volunteer or donate occasionally (few times a year)"},{id:"regular",label:"I'm regularly active with causes I support (monthly+)"},{id:"active",label:"I'm deeply involved across multiple organizations"},{id:"returning",label:"I used to be active but I have taken a break"}]},{id:"outcome",title:"Which causes or areas are you most passionate about?",description:"The more we know about your goals, the better we can help you achieve them.",type:"single",required:!0,options:[{id:"youth",label:"Education & Youth Development"},{id:"environment",label:"Environmental & Sustainability"},{id:"hunger",label:"Poverty & Hunger Relief"},{id:"animals",label:"Animal Welfare"},{id:"seniors",label:"Seniors & Elderly Care"},{id:"housing",label:"Community Development & Housing"},{id:"open",label:"I'm open to exploring different causes"}]},{id:"timeCommitment",title:"How many hours per week do you plan to spend on volunteering?",description:"No pressure to do a lot, we just want to help you find opportunities that works for you!",type:"single",required:!0,options:[{id:"monthly",label:"A few hours per month (flexible schedule)"},{id:"Weekly",label:"Weekly commitment (1-4 hours/week)"},{id:"ongoing",label:"Regular ongoing commitment (4+ hours/week)"},{id:"One-time",label:"One-time events or projects when they fit my schedule"},{id:"flexible",label:"My availability varies a lotI need flexible options"}]},{id:"interests",title:"What skills or interests would you like to contribute?",type:"single",required:!0,options:[{id:"work",label:"Hands-on work (building, sorting, outdoor projects)"},{id:"people",label:"Working directly with people (mentoring, teaching, helping)"},{id:"Professional",label:"Professional skills (marketing, finance, legal, tech, design)"},{id:"Administrative",label:"Administrative & organizational support"},{id:"community",label:"Advocacy & community organizing"},{id:"discovering",label:"I'm still discovering what I have to offer"}]},{id:"age",title:"How old are you?",description:"This helps us provide age-appropriate suggestions and activities. Please log in to save your answers.",type:"single",required:!0,options:[{id:"youth",label:"Under 18"},{id:"18-24",label:"18-24"},{id:"25-39",label:"25-39"},{id:"40-49",label:"40-49"},{id:"50-59",label:"50-59"},{id:"60+",label:"60+"}]}]}function Rc(a,i){const l=zl(a);if(l.length>0)return{steps:l,usingFallback:!1};const o=zl(i);return{steps:o.length>0?o:kc(),usingFallback:!0}}function cN(){const a=Mc("onboarding"),i=Mc("forceOnboarding");return a==="1"||i==="1"}function uN(a){const i=cN(),l=Ap()&&a==null;return!!(a||i||l)}function Ep(a,i){return uN(a)?!1:Ec(i)==="1"}function dN(a=Cp,i=Dl){try{document.cookie=`${a}=; Max-Age=0; Path=/`,localStorage.removeItem(i)}catch{}}function Mp({steps:a,fallbackSteps:i,forceShow:l,storageKey:o=Dl,cookieName:d=Cp,onComplete:f,onClose:h,brand:y}){w.useEffect(()=>{oN()},[]);const{steps:m,usingFallback:g}=w.useMemo(()=>Rc(a,i),[a,i]),[b,j]=w.useState(0),[S,C]=w.useState({}),[N,E]=w.useState(!1),T=m[b],z=b===m.length-1,V=g&&a==null,k=!!(l||V),[I,ee]=w.useState(!1),[D,Y]=w.useState(!1);w.useEffect(()=>{if(Ep(k,d)){ee(!0);return}const ue=lN(o);if(ue){const H=ui(ue.index,m.length);C(ue.answers),j(H)}E(!0),m.length>0&&Rl("onboarding_view",{step:m[0].id})},[k,d,o,m.length]),w.useEffect(()=>{N&&sN(o,S,b)},[S,b,N,o]);const J=w.useMemo(()=>{if(!T)return!1;const ue=S[T.id];return T.required?T.type==="text"?Array.isArray(ue)?ue.filter(Z=>typeof Z=="string"&&Z.trim().length>0).length>0:!!ue&&String(ue).trim().length>0:T.type==="range"?typeof ue=="number":T.type==="single"?typeof ue=="string"&&ue.length>0:T.type==="multi"?Array.isArray(ue)&&ue.length>0:!1:!0},[S,T]);async function P(){kl(d,"1"),rN(o),Rl("onboarding_complete",{answers:S});try{await fetch("/api/onboarding/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:S,completedAt:new Date().toISOString()})})}catch{}try{await f?.(S)}finally{Y(!0),h?.()}}async function ne(){await P();try{window.location.href="login"}catch{}}function re(){if(!T)return;if(z)return void P();const ue=ui(b+1,m.length);j(ue);const H=m[ue];Rl("onboarding_step_next",{from:T.id,to:H?.id})}function me(){if(!T)return;const ue=ui(b-1,m.length);j(ue);const H=m[ue];Rl("onboarding_step_back",{from:T.id,to:H?.id})}function ie(ue,H){C(Z=>({...Z,[ue]:H}))}const ge=({children:ue})=>r.jsx("div",{className:"fixed bottom-4 left-4 z-[60] max-w-sm rounded-lg border border-amber-300 bg-amber-50 p-3 text-amber-900 shadow",children:ue});return I?Dc()?r.jsxs(ge,{children:["Onboarding suppressed by cookie. Override by adding ",r.jsx("code",{children:"?onboarding=1"})," to the URL, or pass the ",r.jsx("code",{children:"forceShow"})," prop, or clear the ",r.jsx("code",{children:d})," cookie."]}):null:D||!N?null:T?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4 kai-onboarding",style:{position:"fixed",inset:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",padding:"16px"},children:r.jsx("div",{className:"relative w-full max-w-2xl",children:r.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-2xl",style:{background:"#fff",borderRadius:"16px",padding:"24px",boxShadow:"0 20px 50px rgba(0,0,0,0.18)"},children:[r.jsxs("header",{className:"mb-4 flex items-center gap-3",children:[r.jsx("img",{src:y?.logoUrl??"/images/logo.png",alt:"Get Kinder",style:{height:"100px",width:"150px",objectFit:"contain"},className:"rounded-sm"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-xs font-medium text-[#455a7c]",children:["Step ",b+1," of ",m.length]}),r.jsx("h2",{className:"mt-1 text-2xl font-semibold kai-title",children:T.title}),T.description&&r.jsx("p",{className:"mt-1 text-sm text-[#455a7c]",children:T.description})]})]}),r.jsx("div",{className:"min-h-[180px]",children:r.jsx(Aj,{mode:"wait",children:r.jsx(iN.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.18},children:r.jsx(fN,{step:T,value:S[T.id],onChange:ie})},T.id)})}),r.jsxs("footer",{className:"mt-6 kai-footer",children:[r.jsx("button",{onClick:me,disabled:b===0,className:"kai-btn kai-btn-outline",children:"Back"}),r.jsxs("div",{className:"kai-actions",children:[r.jsx("button",{onClick:re,disabled:!J,className:`kai-btn ${z?"kai-btn-outline":"kai-btn-primary"}`,children:z?"Finish":"Continue"}),z&&r.jsx("button",{type:"button",onClick:ne,className:"kai-btn kai-btn-primary","data-testid":"login-button",children:"Log in"})]})]})]})})}):Dc()?r.jsxs(ge,{children:["No steps resolved for ",r.jsx("code",{children:"<OnboardingCards/>"}),". Provide ",r.jsx("code",{children:"steps"})," or ",r.jsx("code",{children:"fallbackSteps"}),"."]}):null}function fN({step:a,value:i,onChange:l}){if(a.type==="single")return r.jsx("div",{className:"kai-grid grid grid-cols-1 gap-3 sm:grid-cols-2",role:"radiogroup","aria-label":a.title,children:a.options?.map(o=>{const d=i===o.id;return r.jsxs("label",{className:`kai-card-option ${d?"is-selected":""}`,children:[r.jsx("input",{type:"radio",name:a.id,value:o.id,checked:d,onChange:()=>l(a.id,o.id),className:"sr-only"}),r.jsx("div",{className:"text-sm font-medium text-[#455a7c]",children:o.label}),o.helper&&r.jsx("div",{className:"mt-1 text-xs text-[#455a7c]",children:o.helper})]},o.id)})});if(a.type==="multi"){let o=function(f){const h=new Set(d);h.has(f)?h.delete(f):h.add(f),l(a.id,Array.from(h))};const d=Array.isArray(i)?i:[];return r.jsx("div",{className:"kai-grid grid grid-cols-1 gap-3 sm:grid-cols-2",role:"group","aria-label":a.title,children:a.options?.map(f=>r.jsxs("button",{type:"button",onClick:()=>o(f.id),className:`kai-card-option ${d.includes(f.id)?"is-selected":""}`,"aria-pressed":d.includes(f.id),children:[r.jsx("div",{className:"text-sm font-medium text-[#455a7c]",children:f.label}),f.helper&&r.jsx("div",{className:"mt-1 text-xs text-[#455a7c]",children:f.helper})]},f.id))})}if(a.type==="range"){const o=typeof i=="number"?i:Math.round(((a.min??0)+(a.max??10))/2);return r.jsxs("div",{children:[r.jsx("input",{type:"range",min:a.min??0,max:a.max??10,value:o,onChange:d=>l(a.id,Number(d.target.value)),className:"kai-range w-full","aria-label":a.title}),r.jsx("div",{className:"mt-2 text-sm text-[#455a7c]",children:o})]})}if(Array.isArray(a.placeholders)&&a.placeholders.length>0){let o=function(h,y){const m=f.slice();m[h]=y,l(a.id,m)};const d=a.placeholders,f=Array.isArray(i)?i.slice(0,d.length):Array(d.length).fill("");return r.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.map((h,y)=>r.jsx("input",{type:"text",value:typeof f[y]=="string"?f[y]:"",onChange:m=>o(y,m.target.value),placeholder:h,className:"kai-input w-full","aria-label":`${a.title} ${y+1}`},`${a.id}-${y}`))})}return r.jsx("div",{children:r.jsx("input",{type:"text",value:typeof i=="string"?i:"",onChange:o=>l(a.id,o.target.value),placeholder:a.placeholder,className:"kai-input w-full","aria-label":a.title})})}if(typeof window<"u"&&Dc()){let a=function(h,y){y||console.error(`OnboardingCards test failed: ${h}`)};a("normalizeSteps handles undefined",zl(void 0).length===0),a("normalizeSteps passes through array",zl([{id:"a",title:"t",type:"text"}]).length===1),a("clampIndexForSteps returns 0 when stepsLen=0",ui(5,0)===0),a("clampIndexForSteps clamps to last index",ui(5,3)===2),a("clampIndexForSteps clamps to 0 for negative",ui(-3,3)===0);const i=Rc(void 0,void 0);a("resolveSteps falls back to default preset",i.steps.length>0&&i.usingFallback===!0);const l=Rc([{id:"x",title:"X",type:"text"}],[]);a("resolveSteps uses provided steps when present",l.steps[0].id==="x"&&l.usingFallback===!1);const o=kc(),d=o.find(h=>h.id==="interests");if(a("default interests step exists",!!d),a("interests step has options",Array.isArray(d?.options)&&(d?.options?.length||0)>=3),Array.isArray(d?.options)){const h=d.options.map(g=>g.id),y=h.some(g=>!g),m=new Set(h);a("interests option ids are non-empty",!y),a("interests option ids are unique",m.size===h.length)}a("default steps count is 6",o.length===6),a("6th step is 'age'",o[5].id==="age");const f=Ec("onboarding_done");kl("onboarding_done","1"),a("shouldSuppress is false when effective force=true",Ep(!0,"onboarding_done")===!1),kl("onboarding_done","1"),localStorage.setItem(Dl,"x"),dN(),a("resetOnboarding clears cookie",Ec("onboarding_done")===null),a("resetOnboarding clears draft",localStorage.getItem(Dl)===null),f&&kl("onboarding_done",f)}typeof window<"u"&&(window.process||(window.process={env:{NODE_ENV:"production"}}),window.global||(window.global=window));const Dp=new WeakMap;function An(a){if(!a)return null;let i=Dp.get(a);return i||(i=Bx.createRoot(a),Dp.set(a,i)),i}window.renderBestieVibesQuiz=(a,i={})=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;An(l).render(r.jsx(Qx,{...i}))},window.renderFriendQuizzesPage=(a,i={})=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;An(l).render(r.jsx(t0,{...i}))},window.renderKinderCrewCarousel=(a="#kinder-crew-carousel-root",i={})=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;An(l).render(r.jsx(Zn.StrictMode,{children:r.jsx(l0,{...i})}))},window.renderWeeksPlan=(a="#weeks-plan-root",i={})=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;An(l).render(r.jsx(Zn.StrictMode,{children:r.jsx(v0,{...i})}))},window.renderDonorDashboard=(a="#donor-dashboard-root",i={})=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;An(l).render(r.jsx(Zn.StrictMode,{children:r.jsx(N0,{...i})}))},window.renderDonatePage=(a="#donate-root",i={})=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;An(l).render(r.jsx(Zn.StrictMode,{children:r.jsx(T0,{...i})}))};function kp(){const a=document.getElementById("onboarding-root");if(!a)return;const i=kc();An(a).render(r.jsx(Mp,{steps:i,brand:{productName:"Get Kinder AI",logoUrl:"/images/logo.png"}}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{kp()},{once:!0}):kp(),window.renderOnboarding=(a="#onboarding-root",i={})=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;An(l).render(r.jsx(Mp,{...i}))};function hN(a="events-props"){const i=document.getElementById(a);if(!i)return{};try{return JSON.parse(i.textContent||"{}")}catch{return{}}}window.renderEventsApp=(a="#events-root",i)=>{const l=typeof a=="string"?document.querySelector(a):a;if(!l)return;const o=An(l),d=i&&typeof i=="object"?i:hN();o.render(r.jsx(Zn.StrictMode,{children:r.jsx(Kv,{...d})}))}})();
